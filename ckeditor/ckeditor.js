/*
Copyright (c) 2003-2011, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
$Id$
*/

(function(){if(!window.CKEDITOR)window.CKEDITOR=(function(){var p={timestamp:'B0VI4XQ',version:'3.5.1',revision:'6398',_:{},status:'unloaded',basePath:(function(){var s=window.CKEDITOR_BASEPATH||'';if(!s){var t=document.getElementsByTagName('script');for(var u=0;u<t.length;u++){var v=t[u].src.match(/(^|.*[\\\/])ckeditor(?:_basic)?(?:_source)?.js(?:\?.*)?$/i);if(v){s=v[1];break;}}}if(s.indexOf(':/')==-1)if(s.indexOf('/')===0)s=location.href.match(/^.*?:\/\/[^\/]*/)[0]+s;else s=location.href.match(/^[^\?]*\/(?:)/)[0]+s;if(!s)throw 'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return s;})(),getUrl:function(s){if(s.indexOf(':/')==-1&&s.indexOf('/')!==0)s=this.basePath+s;if(this.timestamp&&s.charAt(s.length-1)!='/'&&!/[&?]t=/.test(s))s+=(s.indexOf('?')>=0?'&':'?')+'t='+this.timestamp;return s;}},q=window.CKEDITOR_GETURL;if(q){var r=p.getUrl;p.getUrl=function(s){return q.call(p,s)||r.call(p,s);};}return p;})();var p=CKEDITOR;if(!p.event){p.event=function(){};p.event.implementOn=function(q){var r=p.event.prototype;for(var s in r){if(q[s]==undefined)q[s]=r[s];}};p.event.prototype=(function(){var q=function(s){var t=s.getPrivate&&s.getPrivate()||s._||(s._={});return t.events||(t.events={});},r=function(s){this.name=s;this.listeners=[];};r.prototype={getListenerIndex:function(s){for(var t=0,u=this.listeners;t<u.length;t++){if(u[t].fn==s)return t;}return-1;}};return{on:function(s,t,u,v,w){var x=q(this),y=x[s]||(x[s]=new r(s));if(y.getListenerIndex(t)<0){var z=y.listeners;if(!u)u=this;if(isNaN(w))w=10;var A=this,B=function(D,E,F,G){var H={name:s,sender:this,editor:D,data:E,listenerData:v,stop:F,cancel:G,removeListener:function(){A.removeListener(s,t);}};t.call(u,H);return H.data;};B.fn=t;B.priority=w;for(var C=z.length-1;C>=0;C--){if(z[C].priority<=w){z.splice(C+1,0,B);return;}}z.unshift(B);}},fire:(function(){var s=false,t=function(){s=true;},u=false,v=function(){u=true;};return function(w,x,y){var z=q(this)[w],A=s,B=u;s=u=false;if(z){var C=z.listeners;if(C.length){C=C.slice(0);for(var D=0;D<C.length;D++){var E=C[D].call(this,y,x,t,v);if(typeof E!='undefined')x=E;if(s||u)break;}}}var F=u||(typeof x=='undefined'?false:x);s=A;u=B;return F;};})(),fireOnce:function(s,t,u){var v=this.fire(s,t,u);delete q(this)[s];return v;},removeListener:function(s,t){var u=q(this)[s];if(u){var v=u.getListenerIndex(t);if(v>=0)u.listeners.splice(v,1);}},hasListeners:function(s){var t=q(this)[s];
return t&&t.listeners.length>0;}};})();}if(!p.editor){p.ELEMENT_MODE_NONE=0;p.ELEMENT_MODE_REPLACE=1;p.ELEMENT_MODE_APPENDTO=2;p.editor=function(q,r,s,t){var u=this;u._={instanceConfig:q,element:r,data:t};u.elementMode=s||0;p.event.call(u);u._init();};p.editor.replace=function(q,r){var s=q;if(typeof s!='object'){s=document.getElementById(q);if(s&&s.tagName.toLowerCase() in {style:1,script:1,base:1,link:1,meta:1,title:1})s=null;if(!s){var t=0,u=document.getElementsByName(q);while((s=u[t++])&&s.tagName.toLowerCase()!='textarea'){}}if(!s)throw '[CKEDITOR.editor.replace] The element with id or name "'+q+'" was not found.';}s.style.visibility='hidden';return new p.editor(r,s,1);};p.editor.appendTo=function(q,r,s){var t=q;if(typeof t!='object'){t=document.getElementById(q);if(!t)throw '[CKEDITOR.editor.appendTo] The element with id "'+q+'" was not found.';}return new p.editor(r,t,2,s);};p.editor.prototype={_init:function(){var q=p.editor._pending||(p.editor._pending=[]);q.push(this);},fire:function(q,r){return p.event.prototype.fire.call(this,q,r,this);},fireOnce:function(q,r){return p.event.prototype.fireOnce.call(this,q,r,this);}};p.event.implementOn(p.editor.prototype,true);}if(!p.env)p.env=(function(){var q=navigator.userAgent.toLowerCase(),r=window.opera,s={ie:/*@cc_on!@*/false,opera:!!r&&r.version,webkit:q.indexOf(' applewebkit/')>-1,air:q.indexOf(' adobeair/')>-1,mac:q.indexOf('macintosh')>-1,quirks:document.compatMode=='BackCompat',mobile:q.indexOf('mobile')>-1,isCustomDomain:function(){if(!this.ie)return false;var v=document.domain,w=window.location.hostname;return v!=w&&v!='['+w+']';}};s.gecko=navigator.product=='Gecko'&&!s.webkit&&!s.opera;var t=0;if(s.ie){t=parseFloat(q.match(/msie (\d+)/)[1]);s.ie8=!!document.documentMode;s.ie8Compat=document.documentMode==8;s.ie7Compat=t==7&&!document.documentMode||document.documentMode==7;s.ie6Compat=t<7||s.quirks;}if(s.gecko){var u=q.match(/rv:([\d\.]+)/);if(u){u=u[1].split('.');t=u[0]*10000+(u[1]||0)*100+ +(u[2]||0);}}if(s.opera)t=parseFloat(r.version());if(s.air)t=parseFloat(q.match(/ adobeair\/(\d+)/)[1]);if(s.webkit)t=parseFloat(q.match(/ applewebkit\/(\d+)/)[1]);s.version=t;s.isCompatible=!s.mobile&&(s.ie&&t>=6||s.gecko&&t>=10801||s.opera&&t>=9.5||s.air&&t>=1||s.webkit&&t>=522||false);s.cssClass='cke_browser_'+(s.ie?'ie':s.gecko?'gecko':s.opera?'opera':s.webkit?'webkit':'unknown');if(s.quirks)s.cssClass+=' cke_browser_quirks';if(s.ie){s.cssClass+=' cke_browser_ie'+(s.version<7?'6':s.version>=8?document.documentMode:'7');
if(s.quirks)s.cssClass+=' cke_browser_iequirks';}if(s.gecko&&t<10900)s.cssClass+=' cke_browser_gecko18';if(s.air)s.cssClass+=' cke_browser_air';return s;})();var q=p.env;var r=q.ie;if(p.status=='unloaded')(function(){p.event.implementOn(p);p.loadFullCore=function(){if(p.status!='basic_ready'){p.loadFullCore._load=1;return;}delete p.loadFullCore;var t=document.createElement('script');t.type='text/javascript';t.src=p.basePath+'ckeditor.js';document.getElementsByTagName('head')[0].appendChild(t);};p.loadFullCoreTimeout=0;p.replaceClass='ckeditor';p.replaceByClassEnabled=1;var s=function(t,u,v,w){if(q.isCompatible){if(p.loadFullCore)p.loadFullCore();var x=v(t,u,w);p.add(x);return x;}return null;};p.replace=function(t,u){return s(t,u,p.editor.replace);};p.appendTo=function(t,u,v){return s(t,u,p.editor.appendTo,v);};p.add=function(t){var u=this._.pending||(this._.pending=[]);u.push(t);};p.replaceAll=function(){var t=document.getElementsByTagName('textarea');for(var u=0;u<t.length;u++){var v=null,w=t[u],x=w.name;if(!w.name&&!w.id)continue;if(typeof arguments[0]=='string'){var y=new RegExp('(?:^|\\s)'+arguments[0]+'(?:$|\\s)');if(!y.test(w.className))continue;}else if(typeof arguments[0]=='function'){v={};if(arguments[0](w,v)===false)continue;}this.replace(w,v);}};(function(){var t=function(){var u=p.loadFullCore,v=p.loadFullCoreTimeout;if(p.replaceByClassEnabled)p.replaceAll(p.replaceClass);p.status='basic_ready';if(u&&u._load)u();else if(v)setTimeout(function(){if(p.loadFullCore)p.loadFullCore();},v*1000);};if(window.addEventListener)window.addEventListener('load',t,false);else if(window.attachEvent)window.attachEvent('onload',t);})();p.status='basic_loaded';})();p.dom={};var s=p.dom;(function(){var t=[];p.on('reset',function(){t=[];});p.tools={arrayCompare:function(u,v){if(!u&&!v)return true;if(!u||!v||u.length!=v.length)return false;for(var w=0;w<u.length;w++){if(u[w]!=v[w])return false;}return true;},clone:function(u){var v;if(u&&u instanceof Array){v=[];for(var w=0;w<u.length;w++)v[w]=this.clone(u[w]);return v;}if(u===null||typeof u!='object'||u instanceof String||u instanceof Number||u instanceof Boolean||u instanceof Date||u instanceof RegExp)return u;v=new u.constructor();for(var x in u){var y=u[x];v[x]=this.clone(y);}return v;},capitalize:function(u){return u.charAt(0).toUpperCase()+u.substring(1).toLowerCase();},extend:function(u){var v=arguments.length,w,x;if(typeof (w=arguments[v-1])=='boolean')v--;else if(typeof (w=arguments[v-2])=='boolean'){x=arguments[v-1];
v-=2;}for(var y=1;y<v;y++){var z=arguments[y];for(var A in z){if(w===true||u[A]==undefined)if(!x||A in x)u[A]=z[A];}}return u;},prototypedCopy:function(u){var v=function(){};v.prototype=u;return new v();},isArray:function(u){return!!u&&u instanceof Array;},isEmpty:function(u){for(var v in u){if(u.hasOwnProperty(v))return false;}return true;},cssStyleToDomStyle:(function(){var u=document.createElement('div').style,v=typeof u.cssFloat!='undefined'?'cssFloat':typeof u.styleFloat!='undefined'?'styleFloat':'float';return function(w){if(w=='float')return v;else return w.replace(/-./g,function(x){return x.substr(1).toUpperCase();});};})(),buildStyleHtml:function(u){u=[].concat(u);var v,w=[];for(var x=0;x<u.length;x++){v=u[x];if(/@import|[{}]/.test(v))w.push('<style>'+v+'</style>');else w.push('<link type="text/css" rel=stylesheet href="'+v+'">');}return w.join('');},htmlEncode:function(u){var v=function(z){var A=new s.element('span');A.setText(z);return A.getHtml();},w=v('\n').toLowerCase()=='<br>'?function(z){return v(z).replace(/<br>/gi,'\n');}:v,x=v('>')=='>'?function(z){return w(z).replace(/>/g,'&gt;');}:w,y=v('  ')=='&nbsp; '?function(z){return x(z).replace(/&nbsp;/g,' ');}:x;this.htmlEncode=y;return this.htmlEncode(u);},htmlEncodeAttr:function(u){return u.replace(/"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;');},getNextNumber:(function(){var u=0;return function(){return++u;};})(),getNextId:function(){return 'cke_'+this.getNextNumber();},override:function(u,v){return v(u);},setTimeout:function(u,v,w,x,y){if(!y)y=window;if(!w)w=y;return y.setTimeout(function(){if(x)u.apply(w,[].concat(x));else u.apply(w);},v||0);},trim:(function(){var u=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(v){return v.replace(u,'');};})(),ltrim:(function(){var u=/^[ \t\n\r]+/g;return function(v){return v.replace(u,'');};})(),rtrim:(function(){var u=/[ \t\n\r]+$/g;return function(v){return v.replace(u,'');};})(),indexOf:Array.prototype.indexOf?function(u,v){return u.indexOf(v);}:function(u,v){for(var w=0,x=u.length;w<x;w++){if(u[w]===v)return w;}return-1;},bind:function(u,v){return function(){return u.apply(v,arguments);};},createClass:function(u){var v=u.$,w=u.base,x=u.privates||u._,y=u.proto,z=u.statics;if(x){var A=v;v=function(){var E=this;var B=E._||(E._={});for(var C in x){var D=x[C];B[C]=typeof D=='function'?p.tools.bind(D,E):D;}A.apply(E,arguments);};}if(w){v.prototype=this.prototypedCopy(w.prototype);v.prototype['constructor']=v;v.prototype.base=function(){this.base=w.prototype.base;
w.apply(this,arguments);this.base=arguments.callee;};}if(y)this.extend(v.prototype,y,true);if(z)this.extend(v,z,true);return v;},addFunction:function(u,v){return t.push(function(){return u.apply(v||this,arguments);})-1;},removeFunction:function(u){t[u]=null;},callFunction:function(u){var v=t[u];return v&&v.apply(window,Array.prototype.slice.call(arguments,1));},cssLength:(function(){var u=/^\d+(?:\.\d+)?$/;return function(v){return v+(u.test(v)?'px':'');};})(),repeat:function(u,v){return new Array(v+1).join(u);},tryThese:function(){var u;for(var v=0,w=arguments.length;v<w;v++){var x=arguments[v];try{u=x();break;}catch(y){}}return u;},genKey:function(){return Array.prototype.slice.call(arguments).join('-');}};})();var t=p.tools;p.dtd=(function(){var u=t.extend,v={isindex:1,fieldset:1},w={input:1,button:1,select:1,textarea:1,label:1},x=u({a:1},w),y=u({iframe:1},x),z={hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1},A={ins:1,del:1,script:1,style:1},B=u({b:1,acronym:1,bdo:1,'var':1,'#':1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1},A),C=u({sub:1,img:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1},B),D=u({p:1},C),E=u({iframe:1},C,w),F={img:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,'#':1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,'var':1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1},G=u({a:1},E),H={tr:1},I={'#':1},J=u({param:1},F),K=u({form:1},v,y,z,D),L={li:1},M={style:1,script:1},N={base:1,link:1,meta:1,title:1},O=u(N,M),P={head:1,body:1},Q={html:1},R={address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1};return{$nonBodyContent:u(Q,P,N),$block:R,$blockLimit:{body:1,div:1,td:1,th:1,caption:1,form:1},$inline:G,$body:u({script:1,style:1},R),$cdata:{script:1,style:1},$empty:{area:1,base:1,br:1,col:1,hr:1,img:1,input:1,link:1,meta:1,param:1},$listItem:{dd:1,dt:1,li:1},$list:{ul:1,ol:1,dl:1},$nonEditable:{applet:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,script:1,textarea:1,param:1},$removeEmpty:{abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,'var':1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},html:P,head:O,style:I,script:I,body:K,base:{},link:{},meta:{},title:I,col:{},tr:{td:1,th:1},img:{},colgroup:{col:1},noscript:K,td:K,br:{},th:K,center:K,kbd:G,button:u(D,z),basefont:{},h5:G,h4:G,samp:G,h6:G,ol:L,h1:G,h3:G,option:I,h2:G,form:u(v,y,z,D),select:{optgroup:1,option:1},font:G,ins:G,menu:L,abbr:G,label:G,table:{thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1},code:G,script:I,tfoot:H,cite:G,li:K,input:{},iframe:K,strong:G,textarea:I,noframes:K,big:G,small:G,span:G,hr:{},dt:G,sub:G,optgroup:{option:1},param:{},bdo:G,'var':G,div:K,object:J,sup:G,dd:K,strike:G,area:{},dir:L,map:u({area:1,form:1,p:1},v,A,z),applet:J,dl:{dt:1,dd:1},del:G,isindex:{},fieldset:u({legend:1},F),thead:H,ul:L,acronym:G,b:G,a:E,blockquote:K,caption:G,i:G,u:G,tbody:H,s:G,address:u(y,D),tt:G,legend:G,q:G,pre:u(B,x),p:G,em:G,dfn:G};
})();var u=p.dtd;s.event=function(v){this.$=v;};s.event.prototype={getKey:function(){return this.$.keyCode||this.$.which;},getKeystroke:function(){var w=this;var v=w.getKey();if(w.$.ctrlKey||w.$.metaKey)v+=1000;if(w.$.shiftKey)v+=2000;if(w.$.altKey)v+=4000;return v;},preventDefault:function(v){var w=this.$;if(w.preventDefault)w.preventDefault();else w.returnValue=false;if(v)this.stopPropagation();},stopPropagation:function(){var v=this.$;if(v.stopPropagation)v.stopPropagation();else v.cancelBubble=true;},getTarget:function(){var v=this.$.target||this.$.srcElement;return v?new s.node(v):null;}};p.CTRL=1000;p.SHIFT=2000;p.ALT=4000;s.domObject=function(v){if(v)this.$=v;};s.domObject.prototype=(function(){var v=function(w,x){return function(y){if(typeof p!='undefined')w.fire(x,new s.event(y));};};return{getPrivate:function(){var w;if(!(w=this.getCustomData('_')))this.setCustomData('_',w={});return w;},on:function(w){var z=this;var x=z.getCustomData('_cke_nativeListeners');if(!x){x={};z.setCustomData('_cke_nativeListeners',x);}if(!x[w]){var y=x[w]=v(z,w);if(z.$.attachEvent)z.$.attachEvent('on'+w,y);else if(z.$.addEventListener)z.$.addEventListener(w,y,!!p.event.useCapture);}return p.event.prototype.on.apply(z,arguments);},removeListener:function(w){var z=this;p.event.prototype.removeListener.apply(z,arguments);if(!z.hasListeners(w)){var x=z.getCustomData('_cke_nativeListeners'),y=x&&x[w];if(y){if(z.$.detachEvent)z.$.detachEvent('on'+w,y);else if(z.$.removeEventListener)z.$.removeEventListener(w,y,false);delete x[w];}}},removeAllListeners:function(){var z=this;var w=z.getCustomData('_cke_nativeListeners');for(var x in w){var y=w[x];if(z.$.detachEvent)z.$.detachEvent('on'+x,y);else if(z.$.removeEventListener)z.$.removeEventListener(x,y,false);delete w[x];}}};})();(function(v){var w={};p.on('reset',function(){w={};});v.equals=function(x){return x&&x.$===this.$;};v.setCustomData=function(x,y){var z=this.getUniqueId(),A=w[z]||(w[z]={});A[x]=y;return this;};v.getCustomData=function(x){var y=this.$['data-cke-expando'],z=y&&w[y];return z&&z[x];};v.removeCustomData=function(x){var y=this.$['data-cke-expando'],z=y&&w[y],A=z&&z[x];if(typeof A!='undefined')delete z[x];return A||null;};v.clearCustomData=function(){this.removeAllListeners();var x=this.$['data-cke-expando'];x&&delete w[x];};v.getUniqueId=function(){return this.$['data-cke-expando']||(this.$['data-cke-expando']=t.getNextNumber());};p.event.implementOn(v);})(s.domObject.prototype);s.window=function(v){s.domObject.call(this,v);
};s.window.prototype=new s.domObject();t.extend(s.window.prototype,{focus:function(){if(q.webkit&&this.$.parent)this.$.parent.focus();this.$.focus();},getViewPaneSize:function(){var v=this.$.document,w=v.compatMode=='CSS1Compat';return{width:(w?v.documentElement.clientWidth:v.body.clientWidth)||0,height:(w?v.documentElement.clientHeight:v.body.clientHeight)||0};},getScrollPosition:function(){var v=this.$;if('pageXOffset' in v)return{x:v.pageXOffset||0,y:v.pageYOffset||0};else{var w=v.document;return{x:w.documentElement.scrollLeft||w.body.scrollLeft||0,y:w.documentElement.scrollTop||w.body.scrollTop||0};}}});s.document=function(v){s.domObject.call(this,v);};var v=s.document;v.prototype=new s.domObject();t.extend(v.prototype,{appendStyleSheet:function(w){if(this.$.createStyleSheet)this.$.createStyleSheet(w);else{var x=new s.element('link');x.setAttributes({rel:'stylesheet',type:'text/css',href:w});this.getHead().append(x);}},appendStyleText:function(w){var z=this;if(z.$.createStyleSheet){var x=z.$.createStyleSheet('');x.cssText=w;}else{var y=new s.element('style',z);y.append(new s.text(w,z));z.getHead().append(y);}},createElement:function(w,x){var y=new s.element(w,this);if(x){if(x.attributes)y.setAttributes(x.attributes);if(x.styles)y.setStyles(x.styles);}return y;},createText:function(w){return new s.text(w,this);},focus:function(){this.getWindow().focus();},getById:function(w){var x=this.$.getElementById(w);return x?new s.element(x):null;},getByAddress:function(w,x){var y=this.$.documentElement;for(var z=0;y&&z<w.length;z++){var A=w[z];if(!x){y=y.childNodes[A];continue;}var B=-1;for(var C=0;C<y.childNodes.length;C++){var D=y.childNodes[C];if(x===true&&D.nodeType==3&&D.previousSibling&&D.previousSibling.nodeType==3)continue;B++;if(B==A){y=D;break;}}}return y?new s.node(y):null;},getElementsByTag:function(w,x){if(!(r&&!(document.documentMode>8))&&x)w=x+':'+w;return new s.nodeList(this.$.getElementsByTagName(w));},getHead:function(){var w=this.$.getElementsByTagName('head')[0];if(!w)w=this.getDocumentElement().append(new s.element('head'),true);else w=new s.element(w);return(this.getHead=function(){return w;})();},getBody:function(){var w=new s.element(this.$.body);return(this.getBody=function(){return w;})();},getDocumentElement:function(){var w=new s.element(this.$.documentElement);return(this.getDocumentElement=function(){return w;})();},getWindow:function(){var w=new s.window(this.$.parentWindow||this.$.defaultView);return(this.getWindow=function(){return w;
})();},write:function(w){var x=this;x.$.open('text/html','replace');q.isCustomDomain()&&(x.$.domain=document.domain);x.$.write(w);x.$.close();}});s.node=function(w){if(w){switch(w.nodeType){case 9:return new v(w);case 1:return new s.element(w);case 3:return new s.text(w);}s.domObject.call(this,w);}return this;};s.node.prototype=new s.domObject();p.NODE_ELEMENT=1;p.NODE_DOCUMENT=9;p.NODE_TEXT=3;p.NODE_COMMENT=8;p.NODE_DOCUMENT_FRAGMENT=11;p.POSITION_IDENTICAL=0;p.POSITION_DISCONNECTED=1;p.POSITION_FOLLOWING=2;p.POSITION_PRECEDING=4;p.POSITION_IS_CONTAINED=8;p.POSITION_CONTAINS=16;t.extend(s.node.prototype,{appendTo:function(w,x){w.append(this,x);return w;},clone:function(w,x){var y=this.$.cloneNode(w),z=function(A){if(A.nodeType!=1)return;if(!x)A.removeAttribute('id',false);A.removeAttribute('data-cke-expando',false);if(w){var B=A.childNodes;for(var C=0;C<B.length;C++)z(B[C]);}};z(y);return new s.node(y);},hasPrevious:function(){return!!this.$.previousSibling;},hasNext:function(){return!!this.$.nextSibling;},insertAfter:function(w){w.$.parentNode.insertBefore(this.$,w.$.nextSibling);return w;},insertBefore:function(w){w.$.parentNode.insertBefore(this.$,w.$);return w;},insertBeforeMe:function(w){this.$.parentNode.insertBefore(w.$,this.$);return w;},getAddress:function(w){var x=[],y=this.getDocument().$.documentElement,z=this.$;while(z&&z!=y){var A=z.parentNode,B=-1;if(A){for(var C=0;C<A.childNodes.length;C++){var D=A.childNodes[C];if(w&&D.nodeType==3&&D.previousSibling&&D.previousSibling.nodeType==3)continue;B++;if(D==z)break;}x.unshift(B);}z=A;}return x;},getDocument:function(){return new v(this.$.ownerDocument||this.$.parentNode.ownerDocument);},getIndex:function(){var w=this.$,x=w.parentNode&&w.parentNode.firstChild,y=-1;while(x){y++;if(x==w)return y;x=x.nextSibling;}return-1;},getNextSourceNode:function(w,x,y){if(y&&!y.call){var z=y;y=function(C){return!C.equals(z);};}var A=!w&&this.getFirst&&this.getFirst(),B;if(!A){if(this.type==1&&y&&y(this,true)===false)return null;A=this.getNext();}while(!A&&(B=(B||this).getParent())){if(y&&y(B,true)===false)return null;A=B.getNext();}if(!A)return null;if(y&&y(A)===false)return null;if(x&&x!=A.type)return A.getNextSourceNode(false,x,y);return A;},getPreviousSourceNode:function(w,x,y){if(y&&!y.call){var z=y;y=function(C){return!C.equals(z);};}var A=!w&&this.getLast&&this.getLast(),B;if(!A){if(this.type==1&&y&&y(this,true)===false)return null;A=this.getPrevious();}while(!A&&(B=(B||this).getParent())){if(y&&y(B,true)===false)return null;
A=B.getPrevious();}if(!A)return null;if(y&&y(A)===false)return null;if(x&&A.type!=x)return A.getPreviousSourceNode(false,x,y);return A;},getPrevious:function(w){var x=this.$,y;do{x=x.previousSibling;y=x&&new s.node(x);}while(y&&w&&!w(y))return y;},getNext:function(w){var x=this.$,y;do{x=x.nextSibling;y=x&&new s.node(x);}while(y&&w&&!w(y))return y;},getParent:function(){var w=this.$.parentNode;return w&&w.nodeType==1?new s.node(w):null;},getParents:function(w){var x=this,y=[];do y[w?'push':'unshift'](x);while(x=x.getParent())return y;},getCommonAncestor:function(w){var y=this;if(w.equals(y))return y;if(w.contains&&w.contains(y))return w;var x=y.contains?y:y.getParent();do{if(x.contains(w))return x;}while(x=x.getParent())return null;},getPosition:function(w){var x=this.$,y=w.$;if(x.compareDocumentPosition)return x.compareDocumentPosition(y);if(x==y)return 0;if(this.type==1&&w.type==1){if(x.contains){if(x.contains(y))return 16+4;if(y.contains(x))return 8+2;}if('sourceIndex' in x)return x.sourceIndex<0||y.sourceIndex<0?1:x.sourceIndex<y.sourceIndex?4:2;}var z=this.getAddress(),A=w.getAddress(),B=Math.min(z.length,A.length);for(var C=0;C<=B-1;C++){if(z[C]!=A[C]){if(C<B)return z[C]<A[C]?4:2;break;}}return z.length<A.length?16+4:8+2;},getAscendant:function(w,x){var y=this.$;if(!x)y=y.parentNode;while(y){if(y.nodeName&&y.nodeName.toLowerCase()==w)return new s.node(y);y=y.parentNode;}return null;},hasAscendant:function(w,x){var y=this.$;if(!x)y=y.parentNode;while(y){if(y.nodeName&&y.nodeName.toLowerCase()==w)return true;y=y.parentNode;}return false;},move:function(w,x){w.append(this.remove(),x);},remove:function(w){var x=this.$,y=x.parentNode;if(y){if(w)for(var z;z=x.firstChild;)y.insertBefore(x.removeChild(z),x);y.removeChild(x);}return this;},replace:function(w){this.insertBefore(w);w.remove();},trim:function(){this.ltrim();this.rtrim();},ltrim:function(){var z=this;var w;while(z.getFirst&&(w=z.getFirst())){if(w.type==3){var x=t.ltrim(w.getText()),y=w.getLength();if(!x){w.remove();continue;}else if(x.length<y){w.split(y-x.length);z.$.removeChild(z.$.firstChild);}}break;}},rtrim:function(){var z=this;var w;while(z.getLast&&(w=z.getLast())){if(w.type==3){var x=t.rtrim(w.getText()),y=w.getLength();if(!x){w.remove();continue;}else if(x.length<y){w.split(x.length);z.$.lastChild.parentNode.removeChild(z.$.lastChild);}}break;}if(!r&&!q.opera){w=z.$.lastChild;if(w&&w.type==1&&w.nodeName.toLowerCase()=='br')w.parentNode.removeChild(w);}},isReadOnly:function(){var w=this;while(w){if(w.type==1){if(w.is('body')||!!w.data('cke-editable'))break;
if(w.getAttribute('contentEditable')=='false')return w;else if(w.getAttribute('contentEditable')=='true')break;}w=w.getParent();}return false;}});s.nodeList=function(w){this.$=w;};s.nodeList.prototype={count:function(){return this.$.length;},getItem:function(w){var x=this.$[w];return x?new s.node(x):null;}};s.element=function(w,x){if(typeof w=='string')w=(x?x.$:document).createElement(w);s.domObject.call(this,w);};var w=s.element;w.get=function(x){return x&&(x.$?x:new w(x));};w.prototype=new s.node();w.createFromHtml=function(x,y){var z=new w('div',y);z.setHtml(x);return z.getFirst().remove();};w.setMarker=function(x,y,z,A){var B=y.getCustomData('list_marker_id')||y.setCustomData('list_marker_id',t.getNextNumber()).getCustomData('list_marker_id'),C=y.getCustomData('list_marker_names')||y.setCustomData('list_marker_names',{}).getCustomData('list_marker_names');x[B]=y;C[z]=1;return y.setCustomData(z,A);};w.clearAllMarkers=function(x){for(var y in x)w.clearMarkers(x,x[y],1);};w.clearMarkers=function(x,y,z){var A=y.getCustomData('list_marker_names'),B=y.getCustomData('list_marker_id');for(var C in A)y.removeCustomData(C);y.removeCustomData('list_marker_names');if(z){y.removeCustomData('list_marker_id');delete x[B];}};t.extend(w.prototype,{type:1,addClass:function(x){var y=this.$.className;if(y){var z=new RegExp('(?:^|\\s)'+x+'(?:\\s|$)','');if(!z.test(y))y+=' '+x;}this.$.className=y||x;},removeClass:function(x){var y=this.getAttribute('class');if(y){var z=new RegExp('(?:^|\\s+)'+x+'(?=\\s|$)','i');if(z.test(y)){y=y.replace(z,'').replace(/^\s+/,'');if(y)this.setAttribute('class',y);else this.removeAttribute('class');}}},hasClass:function(x){var y=new RegExp('(?:^|\\s+)'+x+'(?=\\s|$)','');return y.test(this.getAttribute('class'));},append:function(x,y){var z=this;if(typeof x=='string')x=z.getDocument().createElement(x);if(y)z.$.insertBefore(x.$,z.$.firstChild);else z.$.appendChild(x.$);return x;},appendHtml:function(x){var z=this;if(!z.$.childNodes.length)z.setHtml(x);else{var y=new w('div',z.getDocument());y.setHtml(x);y.moveChildren(z);}},appendText:function(x){if(this.$.text!=undefined)this.$.text+=x;else this.append(new s.text(x));},appendBogus:function(){var z=this;var x=z.getLast();while(x&&x.type==3&&!t.rtrim(x.getText()))x=x.getPrevious();if(!x||!x.is||!x.is('br')){var y=q.opera?z.getDocument().createText(''):z.getDocument().createElement('br');q.gecko&&y.setAttribute('type','_moz');z.append(y);}},breakParent:function(x){var A=this;var y=new s.range(A.getDocument());
y.setStartAfter(A);y.setEndAfter(x);var z=y.extractContents();y.insertNode(A.remove());z.insertAfterNode(A);},contains:r||q.webkit?function(x){var y=this.$;return x.type!=1?y.contains(x.getParent().$):y!=x.$&&y.contains(x.$);}:function(x){return!!(this.$.compareDocumentPosition(x.$)&16);},focus:(function(){function x(){try{this.$.focus();}catch(y){}};return function(y){if(y)t.setTimeout(x,100,this);else x.call(this);};})(),getHtml:function(){var x=this.$.innerHTML;return r?x.replace(/<\?[^>]*>/g,''):x;},getOuterHtml:function(){var y=this;if(y.$.outerHTML)return y.$.outerHTML.replace(/<\?[^>]*>/,'');var x=y.$.ownerDocument.createElement('div');x.appendChild(y.$.cloneNode(true));return x.innerHTML;},setHtml:function(x){return this.$.innerHTML=x;},setText:function(x){w.prototype.setText=this.$.innerText!=undefined?function(y){return this.$.innerText=y;}:function(y){return this.$.textContent=y;};return this.setText(x);},getAttribute:(function(){var x=function(y){return this.$.getAttribute(y,2);};if(r&&(q.ie7Compat||q.ie6Compat))return function(y){var C=this;switch(y){case 'class':y='className';break;case 'tabindex':var z=x.call(C,y);if(z!==0&&C.$.tabIndex===0)z=null;return z;break;case 'checked':var A=C.$.attributes.getNamedItem(y),B=A.specified?A.nodeValue:C.$.checked;return B?'checked':null;case 'hspace':case 'value':return C.$[y];case 'style':return C.$.style.cssText;}return x.call(C,y);};else return x;})(),getChildren:function(){return new s.nodeList(this.$.childNodes);},getComputedStyle:r?function(x){return this.$.currentStyle[t.cssStyleToDomStyle(x)];}:function(x){return this.getWindow().$.getComputedStyle(this.$,'').getPropertyValue(x);},getDtd:function(){var x=u[this.getName()];this.getDtd=function(){return x;};return x;},getElementsByTag:v.prototype.getElementsByTag,getTabIndex:r?function(){var x=this.$.tabIndex;if(x===0&&!u.$tabIndex[this.getName()]&&parseInt(this.getAttribute('tabindex'),10)!==0)x=-1;return x;}:q.webkit?function(){var x=this.$.tabIndex;if(x==undefined){x=parseInt(this.getAttribute('tabindex'),10);if(isNaN(x))x=-1;}return x;}:function(){return this.$.tabIndex;},getText:function(){return this.$.textContent||this.$.innerText||'';},getWindow:function(){return this.getDocument().getWindow();},getId:function(){return this.$.id||null;},getNameAtt:function(){return this.$.name||null;},getName:function(){var x=this.$.nodeName.toLowerCase();if(r&&!(document.documentMode>8)){var y=this.$.scopeName;if(y!='HTML')x=y.toLowerCase()+':'+x;}return(this.getName=function(){return x;
})();},getValue:function(){return this.$.value;},getFirst:function(x){var y=this.$.firstChild,z=y&&new s.node(y);if(z&&x&&!x(z))z=z.getNext(x);return z;},getLast:function(x){var y=this.$.lastChild,z=y&&new s.node(y);if(z&&x&&!x(z))z=z.getPrevious(x);return z;},getStyle:function(x){return this.$.style[t.cssStyleToDomStyle(x)];},is:function(){var x=this.getName();for(var y=0;y<arguments.length;y++){if(arguments[y]==x)return true;}return false;},isEditable:function(){var x=this.getName(),y=!u.$nonEditable[x]&&(u[x]||u.span);return y&&y['#'];},isIdentical:function(x){if(this.getName()!=x.getName())return false;var y=this.$.attributes,z=x.$.attributes,A=y.length,B=z.length;for(var C=0;C<A;C++){var D=y[C];if(D.nodeName=='_moz_dirty')continue;if((!r||D.specified&&D.nodeName!='data-cke-expando')&&D.nodeValue!=x.getAttribute(D.nodeName))return false;}if(r)for(C=0;C<B;C++){D=z[C];if(D.specified&&D.nodeName!='data-cke-expando'&&D.nodeValue!=this.getAttribute(D.nodeName))return false;}return true;},isVisible:function(){var x=!!this.$.offsetHeight&&this.getComputedStyle('visibility')!='hidden',y,z;if(x&&(q.webkit||q.opera)){y=this.getWindow();if(!y.equals(p.document.getWindow())&&(z=y.$.frameElement))x=new w(z).isVisible();}return x;},isEmptyInlineRemoveable:function(){if(!u.$removeEmpty[this.getName()])return false;var x=this.getChildren();for(var y=0,z=x.count();y<z;y++){var A=x.getItem(y);if(A.type==1&&A.data('cke-bookmark'))continue;if(A.type==1&&!A.isEmptyInlineRemoveable()||A.type==3&&t.trim(A.getText()))return false;}return true;},hasAttributes:r&&(q.ie7Compat||q.ie6Compat)?function(){var x=this.$.attributes;for(var y=0;y<x.length;y++){var z=x[y];switch(z.nodeName){case 'class':if(this.getAttribute('class'))return true;case 'data-cke-expando':continue;default:if(z.specified)return true;}}return false;}:function(){var x=this.$.attributes,y=x.length,z={'data-cke-expando':1,_moz_dirty:1};return y>0&&(y>2||!z[x[0].nodeName]||y==2&&!z[x[1].nodeName]);},hasAttribute:function(x){var y=this.$.attributes.getNamedItem(x);return!!(y&&y.specified);},hide:function(){this.setStyle('display','none');},moveChildren:function(x,y){var z=this.$;x=x.$;if(z==x)return;var A;if(y)while(A=z.lastChild)x.insertBefore(z.removeChild(A),x.firstChild);else while(A=z.firstChild)x.appendChild(z.removeChild(A));},mergeSiblings:(function(){function x(y,z,A){if(z&&z.type==1){var B=[];while(z.data('cke-bookmark')||z.isEmptyInlineRemoveable()){B.push(z);z=A?z.getNext():z.getPrevious();if(!z||z.type!=1)return;
}if(y.isIdentical(z)){var C=A?y.getLast():y.getFirst();while(B.length)B.shift().move(y,!A);z.moveChildren(y,!A);z.remove();if(C&&C.type==1)C.mergeSiblings();}}};return function(y){var z=this;if(!(y===false||u.$removeEmpty[z.getName()]||z.is('a')))return;x(z,z.getNext(),true);x(z,z.getPrevious());};})(),show:function(){this.setStyles({display:'',visibility:''});},setAttribute:(function(){var x=function(y,z){this.$.setAttribute(y,z);return this;};if(r&&(q.ie7Compat||q.ie6Compat))return function(y,z){var A=this;if(y=='class')A.$.className=z;else if(y=='style')A.$.style.cssText=z;else if(y=='tabindex')A.$.tabIndex=z;else if(y=='checked')A.$.checked=z;else x.apply(A,arguments);return A;};else return x;})(),setAttributes:function(x){for(var y in x)this.setAttribute(y,x[y]);return this;},setValue:function(x){this.$.value=x;return this;},removeAttribute:(function(){var x=function(y){this.$.removeAttribute(y);};if(r&&(q.ie7Compat||q.ie6Compat))return function(y){if(y=='class')y='className';else if(y=='tabindex')y='tabIndex';x.call(this,y);};else return x;})(),removeAttributes:function(x){if(t.isArray(x))for(var y=0;y<x.length;y++)this.removeAttribute(x[y]);else for(var z in x)x.hasOwnProperty(z)&&this.removeAttribute(z);},removeStyle:function(x){var y=this;y.setStyle(x,'');if(y.$.style.removeAttribute)y.$.style.removeAttribute(t.cssStyleToDomStyle(x));if(!y.$.style.cssText)y.removeAttribute('style');},setStyle:function(x,y){this.$.style[t.cssStyleToDomStyle(x)]=y;return this;},setStyles:function(x){for(var y in x)this.setStyle(y,x[y]);return this;},setOpacity:function(x){if(r){x=Math.round(x*100);this.setStyle('filter',x>=100?'':'progid:DXImageTransform.Microsoft.Alpha(opacity='+x+')');}else this.setStyle('opacity',x);},unselectable:q.gecko?function(){this.$.style.MozUserSelect='none';this.on('dragstart',function(x){x.data.preventDefault();});}:q.webkit?function(){this.$.style.KhtmlUserSelect='none';this.on('dragstart',function(x){x.data.preventDefault();});}:function(){if(r||q.opera){var x=this.$,y,z=0;x.unselectable='on';while(y=x.all[z++])switch(y.tagName.toLowerCase()){case 'iframe':case 'textarea':case 'input':case 'select':break;default:y.unselectable='on';}}},getPositionedAncestor:function(){var x=this;while(x.getName()!='html'){if(x.getComputedStyle('position')!='static')return x;x=x.getParent();}return null;},getDocumentPosition:function(x){var S=this;var y=0,z=0,A=S.getDocument().getBody(),B=S.getDocument().$.compatMode=='BackCompat',C=S.getDocument();if(document.documentElement.getBoundingClientRect){var D=S.$.getBoundingClientRect(),E=C.$,F=E.documentElement,G=F.clientTop||A.$.clientTop||0,H=F.clientLeft||A.$.clientLeft||0,I=true;
if(r){var J=C.getDocumentElement().contains(S),K=C.getBody().contains(S);I=B&&K||!B&&J;}if(I){y=D.left+(!B&&F.scrollLeft||A.$.scrollLeft);y-=H;z=D.top+(!B&&F.scrollTop||A.$.scrollTop);z-=G;}}else{var L=S,M=null,N;while(L&&!(L.getName()=='body'||L.getName()=='html')){y+=L.$.offsetLeft-L.$.scrollLeft;z+=L.$.offsetTop-L.$.scrollTop;if(!L.equals(S)){y+=L.$.clientLeft||0;z+=L.$.clientTop||0;}var O=M;while(O&&!O.equals(L)){y-=O.$.scrollLeft;z-=O.$.scrollTop;O=O.getParent();}M=L;L=(N=L.$.offsetParent)?new w(N):null;}}if(x){var P=S.getWindow(),Q=x.getWindow();if(!P.equals(Q)&&P.$.frameElement){var R=new w(P.$.frameElement).getDocumentPosition(x);y+=R.x;z+=R.y;}}if(!document.documentElement.getBoundingClientRect)if(q.gecko&&!B){y+=S.$.clientLeft?1:0;z+=S.$.clientTop?1:0;}return{x:y,y:z};},scrollIntoView:function(x){var D=this;var y=D.getWindow(),z=y.getViewPaneSize().height,A=z*-1;if(x)A+=z;else{A+=D.$.offsetHeight||0;A+=parseInt(D.getComputedStyle('marginBottom')||0,10)||0;}var B=D.getDocumentPosition();A+=B.y;A=A<0?0:A;var C=y.getScrollPosition().y;if(A>C||A<C-z)y.$.scrollTo(0,A);},setState:function(x){var y=this;switch(x){case 1:y.addClass('cke_on');y.removeClass('cke_off');y.removeClass('cke_disabled');break;case 0:y.addClass('cke_disabled');y.removeClass('cke_off');y.removeClass('cke_on');break;default:y.addClass('cke_off');y.removeClass('cke_on');y.removeClass('cke_disabled');break;}},getFrameDocument:function(){var x=this.$;try{x.contentWindow.document;}catch(y){x.src=x.src;if(r&&q.version<7)window.showModalDialog('javascript:document.write("<script>window.setTimeout(function(){window.close();},50);</script>")');}return x&&new v(x.contentWindow.document);},copyAttributes:function(x,y){var E=this;var z=E.$.attributes;y=y||{};for(var A=0;A<z.length;A++){var B=z[A],C=B.nodeName.toLowerCase(),D;if(C in y)continue;if(C=='checked'&&(D=E.getAttribute(C)))x.setAttribute(C,D);else if(B.specified||r&&B.nodeValue&&C=='value'){D=E.getAttribute(C);if(D===null)D=B.nodeValue;x.setAttribute(C,D);}}if(E.$.style.cssText!=='')x.$.style.cssText=E.$.style.cssText;},renameNode:function(x){var A=this;if(A.getName()==x)return;var y=A.getDocument(),z=new w(x,y);A.copyAttributes(z);A.moveChildren(z);A.getParent()&&A.$.parentNode.replaceChild(z.$,A.$);z.$['data-cke-expando']=A.$['data-cke-expando'];A.$=z.$;},getChild:function(x){var y=this.$;if(!x.slice)y=y.childNodes[x];else while(x.length>0&&y)y=y.childNodes[x.shift()];return y?new s.node(y):null;},getChildCount:function(){return this.$.childNodes.length;
},disableContextMenu:function(){this.on('contextmenu',function(x){if(!x.data.getTarget().hasClass('cke_enable_context_menu'))x.data.preventDefault();});},getDirection:function(x){return x?this.getComputedStyle('direction'):this.getStyle('direction')||this.getAttribute('dir');},data:function(x,y){x='data-'+x;if(y===undefined)return this.getAttribute(x);else if(y===false)this.removeAttribute(x);else this.setAttribute(x,y);return null;}});(function(){var x={width:['border-left-width','border-right-width','padding-left','padding-right'],height:['border-top-width','border-bottom-width','padding-top','padding-bottom']};function y(z){var A=0;for(var B=0,C=x[z].length;B<C;B++)A+=parseInt(this.getComputedStyle(x[z][B])||0,10)||0;return A;};w.prototype.setSize=function(z,A,B){if(typeof A=='number'){if(B&&!(r&&q.quirks))A-=y.call(this,z);this.setStyle(z,A+'px');}};w.prototype.getSize=function(z,A){var B=Math.max(this.$['offset'+t.capitalize(z)],this.$['client'+t.capitalize(z)])||0;if(A)B-=y.call(this,z);return B;};})();p.command=function(x,y){this.uiItems=[];this.exec=function(z){if(this.state==0)return false;if(this.editorFocus)x.focus();return y.exec.call(this,x,z)!==false;};t.extend(this,y,{modes:{wysiwyg:1},editorFocus:1,state:2});p.event.call(this);};p.command.prototype={enable:function(){var x=this;if(x.state==0)x.setState(!x.preserveState||typeof x.previousState=='undefined'?2:x.previousState);},disable:function(){this.setState(0);},setState:function(x){var y=this;if(y.state==x)return false;y.previousState=y.state;y.state=x;y.fire('state');return true;},toggleState:function(){var x=this;if(x.state==2)x.setState(1);else if(x.state==1)x.setState(2);}};p.event.implementOn(p.command.prototype,true);p.ENTER_P=1;p.ENTER_BR=2;p.ENTER_DIV=3;p.config={customConfig:'config.js',autoUpdateElement:true,baseHref:'',contentsCss:p.basePath+'contents.css',contentsLangDirection:'ui',contentsLanguage:'',language:'',defaultLanguage:'en',enterMode:1,forceEnterMode:false,shiftEnterMode:2,corePlugins:'',docType:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',bodyId:'',bodyClass:'',fullPage:false,height:200,plugins:'about,a11yhelp,basicstyles,bidi,blockquote,button,clipboard,colorbutton,colordialog,contextmenu,dialogadvtab,div,elementspath,enterkey,entities,filebrowser,find,flash,font,format,forms,horizontalrule,htmldataprocessor,iframe,image,indent,justify,keystrokes,link,list,liststyle,maximize,newpage,pagebreak,pastefromword,pastetext,popup,preview,print,removeformat,resize,save,scayt,smiley,showblocks,showborders,sourcearea,stylescombo,table,tabletools,specialchar,tab,templates,toolbar,undo,wysiwygarea,wsc',extraPlugins:'bwikidataprocessor',removePlugins:'htmldataprocessor',protectedSource:[],tabIndex:0,theme:'default',skin:'kama',width:'',baseFloatZIndex:10000};
var x=p.config;p.focusManager=function(y){if(y.focusManager)return y.focusManager;this.hasFocus=false;this._={editor:y};return this;};p.focusManager.prototype={focus:function(){var z=this;if(z._.timer)clearTimeout(z._.timer);if(!z.hasFocus){if(p.currentInstance)p.currentInstance.focusManager.forceBlur();var y=z._.editor;y.container.getChild(1).addClass('cke_focus');z.hasFocus=true;y.fire('focus');}},blur:function(){var y=this;if(y._.timer)clearTimeout(y._.timer);y._.timer=setTimeout(function(){delete y._.timer;y.forceBlur();},100);},forceBlur:function(){if(this.hasFocus){var y=this._.editor;y.container.getChild(1).removeClass('cke_focus');this.hasFocus=false;y.fire('blur');}}};(function(){var y={};p.lang={languages:{en:1},load:function(z,A,B){if(!z||!p.lang.languages[z])z=this.detect(A,z);if(!this[z])p.scriptLoader.load(p.getUrl('lang/'+z+'.js'),function(){B(z,this[z]);},this);else B(z,this[z]);},detect:function(z,A){var B=this.languages;A=A||navigator.userLanguage||navigator.language;var C=A.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),D=C[1],E=C[2];if(B[D+'-'+E])D=D+'-'+E;else if(!B[D])D=null;p.lang.detect=D?function(){return D;}:function(F){return F;};return D||z;}};})();p.scriptLoader=(function(){var y={},z={};return{load:function(A,B,C,D){var E=typeof A=='string';if(E)A=[A];if(!C)C=p;var F=A.length,G=[],H=[],I=function(N){if(B)if(E)B.call(C,N);else B.call(C,G,H);};if(F===0){I(true);return;}var J=function(N,O){(O?G:H).push(N);if(--F<=0){D&&p.document.getDocumentElement().removeStyle('cursor');I(O);}},K=function(N,O){y[N]=1;var P=z[N];delete z[N];for(var Q=0;Q<P.length;Q++)P[Q](N,O);},L=function(N){if(y[N]){J(N,true);return;}var O=z[N]||(z[N]=[]);O.push(J);if(O.length>1)return;var P=new w('script');P.setAttributes({type:'text/javascript',src:N});if(B)if(r)P.$.onreadystatechange=function(){if(P.$.readyState=='loaded'||P.$.readyState=='complete'){P.$.onreadystatechange=null;K(N,true);}};else{P.$.onload=function(){setTimeout(function(){K(N,true);},0);};P.$.onerror=function(){K(N,false);};}P.appendTo(p.document.getHead());};D&&p.document.getDocumentElement().setStyle('cursor','wait');for(var M=0;M<F;M++)L(A[M]);}};})();p.resourceManager=function(y,z){var A=this;A.basePath=y;A.fileName=z;A.registered={};A.loaded={};A.externals={};A._={waitingList:{}};};p.resourceManager.prototype={add:function(y,z){if(this.registered[y])throw '[CKEDITOR.resourceManager.add] The resource name "'+y+'" is already registered.';p.fire(y+t.capitalize(this.fileName)+'Ready',this.registered[y]=z||{});
},get:function(y){return this.registered[y]||null;},getPath:function(y){var z=this.externals[y];return p.getUrl(z&&z.dir||this.basePath+y+'/');},getFilePath:function(y){var z=this.externals[y];return p.getUrl(this.getPath(y)+(z&&typeof z.file=='string'?z.file:this.fileName+'.js'));},addExternal:function(y,z,A){y=y.split(',');for(var B=0;B<y.length;B++){var C=y[B];this.externals[C]={dir:z,file:A};}},load:function(y,z,A){if(!t.isArray(y))y=y?[y]:[];var B=this.loaded,C=this.registered,D=[],E={},F={};for(var G=0;G<y.length;G++){var H=y[G];if(!H)continue;if(!B[H]&&!C[H]){var I=this.getFilePath(H);D.push(I);if(!(I in E))E[I]=[];E[I].push(H);}else F[H]=this.get(H);}p.scriptLoader.load(D,function(J,K){if(K.length)throw '[CKEDITOR.resourceManager.load] Resource name "'+E[K[0]].join(',')+'" was not found at "'+K[0]+'".';for(var L=0;L<J.length;L++){var M=E[J[L]];for(var N=0;N<M.length;N++){var O=M[N];F[O]=this.get(O);B[O]=1;}}z.call(A,F);},this);}};p.plugins=new p.resourceManager('plugins/','plugin');var y=p.plugins;y.load=t.override(y.load,function(z){return function(A,B,C){var D={},E=function(F){z.call(this,F,function(G){t.extend(D,G);var H=[];for(var I in G){var J=G[I],K=J&&J.requires;if(K)for(var L=0;L<K.length;L++){if(!D[K[L]])H.push(K[L]);}}if(H.length)E.call(this,H);else{for(I in D){J=D[I];if(J.onLoad&&!J.onLoad._called){J.onLoad();J.onLoad._called=1;}}if(B)B.call(C||window,D);}},this);};E.call(this,A);};});y.setLang=function(z,A,B){var C=this.get(z),D=C.lang||(C.lang={});D[A]=B;};p.skins=(function(){var z={},A={},B=function(C,D,E,F){var G=z[D];if(!C.skin){C.skin=G;if(G.init)G.init(C);}var H=function(Q){for(var R=0;R<Q.length;R++)Q[R]=p.getUrl(A[D]+Q[R]);};function I(Q,R){return Q.replace(/url\s*\(([\s'"]*)(.*?)([\s"']*)\)/g,function(S,T,U,V){if(/^\/|^\w?:/.test(U))return S;else return 'url('+R+T+U+V+')';});};E=G[E];var J=!E||!!E._isLoaded;if(J)F&&F();else{var K=E._pending||(E._pending=[]);K.push(F);if(K.length>1)return;var L=!E.css||!E.css.length,M=!E.js||!E.js.length,N=function(){if(L&&M){E._isLoaded=1;for(var Q=0;Q<K.length;Q++){if(K[Q])K[Q]();}}};if(!L){var O=E.css;if(t.isArray(O)){H(O);for(var P=0;P<O.length;P++)p.document.appendStyleSheet(O[P]);}else{O=I(O,p.getUrl(A[D]));p.document.appendStyleText(O);}E.css=O;L=1;}if(!M){H(E.js);p.scriptLoader.load(E.js,function(){M=1;N();});}N();}};return{add:function(C,D){z[C]=D;D.skinPath=A[C]||(A[C]=p.getUrl('skins/'+C+'/'));},load:function(C,D,E){var F=C.skinName,G=C.skinPath;if(z[F])B(C,F,D,E);else{A[F]=G;p.scriptLoader.load(p.getUrl(G+'skin.js'),function(){B(C,F,D,E);
});}}};})();p.themes=new p.resourceManager('themes/','theme');p.ui=function(z){if(z.ui)return z.ui;this._={handlers:{},items:{},editor:z};return this;};var z=p.ui;z.prototype={add:function(A,B,C){this._.items[A]={type:B,command:C.command||null,args:Array.prototype.slice.call(arguments,2)};},create:function(A){var F=this;var B=F._.items[A],C=B&&F._.handlers[B.type],D=B&&B.command&&F._.editor.getCommand(B.command),E=C&&C.create.apply(F,B.args);if(D)D.uiItems.push(E);return E;},addHandler:function(A,B){this._.handlers[A]=B;}};p.event.implementOn(z);(function(){var A=0,B=function(){var M='editor'+ ++A;return p.instances&&p.instances[M]?B():M;},C={},D=function(M){var N=M.config.customConfig;if(!N)return false;N=p.getUrl(N);var O=C[N]||(C[N]={});if(O.fn){O.fn.call(M,M.config);if(p.getUrl(M.config.customConfig)==N||!D(M))M.fireOnce('customConfigLoaded');}else p.scriptLoader.load(N,function(){if(p.editorConfig)O.fn=p.editorConfig;else O.fn=function(){};D(M);});return true;},E=function(M,N){M.on('customConfigLoaded',function(){if(N){if(N.on)for(var O in N.on)M.on(O,N.on[O]);t.extend(M.config,N,true);delete M.config.on;}F(M);});if(N&&N.customConfig!=undefined)M.config.customConfig=N.customConfig;if(!D(M))M.fireOnce('customConfigLoaded');},F=function(M){var N=M.config.skin.split(','),O=N[0],P=p.getUrl(N[1]||'skins/'+O+'/');M.skinName=O;M.skinPath=P;M.skinClass='cke_skin_'+O;M.tabIndex=M.config.tabIndex||M.element.getAttribute('tabindex')||0;M.fireOnce('configLoaded');I(M);},G=function(M){p.lang.load(M.config.language,M.config.defaultLanguage,function(N,O){M.langCode=N;M.lang=t.prototypedCopy(O);if(q.gecko&&q.version<10900&&M.lang.dir=='rtl')M.lang.dir='ltr';var P=M.config;P.contentsLangDirection=='ui'&&(P.contentsLangDirection=M.lang.dir);H(M);});},H=function(M){var N=M.config,O=N.plugins,P=N.extraPlugins,Q=N.removePlugins;if(P){var R=new RegExp('(?:^|,)(?:'+P.replace(/\s*,\s*/g,'|')+')(?=,|$)','g');O=O.replace(R,'');O+=','+P;}if(Q){R=new RegExp('(?:^|,)(?:'+Q.replace(/\s*,\s*/g,'|')+')(?=,|$)','g');O=O.replace(R,'');}q.air&&(O+=',adobeair');y.load(O.split(','),function(S){var T=[],U=[],V=[];M.plugins=S;for(var W in S){var X=S[W],Y=X.lang,Z=y.getPath(W),aa=null;X.path=Z;if(Y){aa=t.indexOf(Y,M.langCode)>=0?M.langCode:Y[0];if(!X.lang[aa])V.push(p.getUrl(Z+'lang/'+aa+'.js'));else{t.extend(M.lang,X.lang[aa]);aa=null;}}U.push(aa);T.push(X);}p.scriptLoader.load(V,function(){var ab=['beforeInit','init','afterInit'];for(var ac=0;ac<ab.length;ac++)for(var ad=0;ad<T.length;ad++){var ae=T[ad];
if(ac===0&&U[ad]&&ae.lang)t.extend(M.lang,ae.lang[U[ad]]);if(ae[ab[ac]])ae[ab[ac]](M);}M.fire('pluginsLoaded');J(M);});});},I=function(M){p.skins.load(M,'editor',function(){G(M);});},J=function(M){var N=M.config.theme;p.themes.load(N,function(){var O=M.theme=p.themes.get(N);O.path=p.themes.getPath(N);O.build(M);if(M.config.autoUpdateElement)K(M);});},K=function(M){var N=M.element;if(M.elementMode==1&&N.is('textarea')){var O=N.$.form&&new w(N.$.form);if(O){function P(){M.updateElement();};O.on('submit',P);if(!O.$.submit.nodeName&&!O.$.submit.length)O.$.submit=t.override(O.$.submit,function(Q){return function(){M.updateElement();if(Q.apply)Q.apply(this,arguments);else Q();};});M.on('destroy',function(){O.removeListener('submit',P);});}}};function L(){var M,N=this._.commands,O=this.mode;for(var P in N){M=N[P];M[M.startDisabled?'disable':M.modes[O]?'enable':'disable']();}};p.editor.prototype._init=function(){var O=this;var M=w.get(O._.element),N=O._.instanceConfig;delete O._.element;delete O._.instanceConfig;O._.commands={};O._.styles=[];O.element=M;O.name=M&&O.elementMode==1&&(M.getId()||M.getNameAtt())||B();if(O.name in p.instances)throw '[CKEDITOR.editor] The instance "'+O.name+'" already exists.';O.id=t.getNextId();O.config=t.prototypedCopy(x);O.ui=new z(O);O.focusManager=new p.focusManager(O);p.fire('instanceCreated',null,O);O.on('mode',L,null,null,1);E(O,N);};})();t.extend(p.editor.prototype,{addCommand:function(A,B){return this._.commands[A]=new p.command(this,B);},addCss:function(A){this._.styles.push(A);},destroy:function(A){var B=this;if(!A)B.updateElement();B.theme&&B.theme.destroy(B);B.fire('destroy');p.remove(B);p.fire('instanceDestroyed',null,B);},execCommand:function(A,B){var C=this.getCommand(A),D={name:A,commandData:B,command:C};if(C&&C.state!=0)if(this.fire('beforeCommandExec',D)!==true){D.returnValue=C.exec(D.commandData);if(!C.async&&this.fire('afterCommandExec',D)!==true)return D.returnValue;}return false;},getCommand:function(A){return this._.commands[A];},getData:function(){var C=this;C.fire('beforeGetData');var A=C._.data;if(typeof A!='string'){var B=C.element;if(B&&C.elementMode==1)A=B.is('textarea')?B.getValue():B.getHtml();else A='';}A={dataValue:A};C.fire('getData',A);return A.dataValue;},getSnapshot:function(){var A=this.fire('getSnapshot');if(typeof A!='string'){var B=this.element;if(B&&this.elementMode==1)A=B.is('textarea')?B.getValue():B.getHtml();}return A;},loadSnapshot:function(A){this.fire('loadSnapshot',A);},setData:function(A,B){if(B)this.on('dataReady',function(D){D.removeListener();
B.call(D.editor);});var C={dataValue:A};this.fire('setData',C);this._.data=C.dataValue;this.fire('afterSetData',C);},insertHtml:function(A){this.fire('insertHtml',A);},insertText:function(A){this.fire('insertText',A);},insertElement:function(A){this.fire('insertElement',A);},checkDirty:function(){return this.mayBeDirty&&this._.previousValue!==this.getSnapshot();},resetDirty:function(){if(this.mayBeDirty)this._.previousValue=this.getSnapshot();},updateElement:function(){var C=this;var A=C.element;if(A&&C.elementMode==1){var B=C.getData();if(C.config.htmlEncodeOutput)B=t.htmlEncode(B);if(A.is('textarea'))A.setValue(B);else A.setHtml(B);}}});p.on('loaded',function(){var A=p.editor._pending;if(A){delete p.editor._pending;for(var B=0;B<A.length;B++)A[B]._init();}});p.htmlParser=function(){this._={htmlPartsRegex:new RegExp("<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)-->)|(?:([^\\s>]+)\\s*((?:(?:[^\"'>]+)|(?:\"[^\"]*\")|(?:'[^']*'))*)\\/?>))",'g')};};(function(){var A=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,B={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};p.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(C){var P=this;var D,E,F=0,G;while(D=P._.htmlPartsRegex.exec(C)){var H=D.index;if(H>F){var I=C.substring(F,H);if(G)G.push(I);else P.onText(I);}F=P._.htmlPartsRegex.lastIndex;if(E=D[1]){E=E.toLowerCase();if(G&&u.$cdata[E]){P.onCDATA(G.join(''));G=null;}if(!G){P.onTagClose(E);continue;}}if(G){G.push(D[0]);continue;}if(E=D[3]){E=E.toLowerCase();if(/="/.test(E))continue;var J={},K,L=D[4],M=!!(L&&L.charAt(L.length-1)=='/');if(L)while(K=A.exec(L)){var N=K[1].toLowerCase(),O=K[2]||K[3]||K[4]||'';if(!O&&B[N])J[N]=N;else J[N]=O;}P.onTagOpen(E,J,M);if(!G&&u.$cdata[E])G=[];continue;}if(E=D[2])P.onComment(E);}if(C.length>F)P.onText(C.substring(F,C.length));}};})();p.htmlParser.comment=function(A){this.value=A;this._={isBlockLike:false};};p.htmlParser.comment.prototype={type:8,writeHtml:function(A,B){var C=this.value;if(B){if(!(C=B.onComment(C,this)))return;if(typeof C!='string'){C.parent=this.parent;C.writeHtml(A,B);return;}}A.comment(C);}};(function(){var A=/[\t\r\n ]{2,}|[\t\r\n]/g;p.htmlParser.text=function(B){this.value=B;this._={isBlockLike:false};};p.htmlParser.text.prototype={type:3,writeHtml:function(B,C){var D=this.value;if(C&&!(D=C.onText(D,this)))return;
B.text(D);}};})();(function(){p.htmlParser.cdata=function(A){this.value=A;};p.htmlParser.cdata.prototype={type:3,writeHtml:function(A){A.write(this.value);}};})();p.htmlParser.fragment=function(){this.children=[];this.parent=null;this._={isBlockLike:true,hasInlineStarted:false};};(function(){var A={colgroup:1,dd:1,dt:1,li:1,option:1,p:1,td:1,tfoot:1,th:1,thead:1,tr:1},B=t.extend({table:1,ul:1,ol:1,dl:1},u.table,u.ul,u.ol,u.dl),C=u.$list,D=u.$listItem;p.htmlParser.fragment.fromHtml=function(E,F){var G=new p.htmlParser(),H=[],I=new p.htmlParser.fragment(),J=[],K=[],L=I,M=false,N;function O(T){var U;if(J.length>0)for(var V=0;V<J.length;V++){var W=J[V],X=W.name,Y=u[X],Z=L.name&&u[L.name];if((!Z||Z[X])&&(!T||!Y||Y[T]||!u[T])){if(!U){P();U=1;}W=W.clone();W.parent=L;L=W;J.splice(V,1);V--;}}};function P(T){while(K.length-(T||0)>0)L.add(K.shift());};function Q(T,U,V){U=U||L||I;if(F&&!U.type){var W,X;if(T.attributes&&(X=T.attributes['data-cke-real-element-type']))W=X;else W=T.name;if(W&&W in u.$inline){var Y=L;L=U;G.onTagOpen(F,{});U=L;if(V)L=Y;}}if(T._.isBlockLike&&T.name!='pre'){var Z=T.children.length,aa=T.children[Z-1],ab;if(aa&&aa.type==3)if(!(ab=t.rtrim(aa.value)))T.children.length=Z-1;else aa.value=ab;}U.add(T);if(T.returnPoint){L=T.returnPoint;delete T.returnPoint;}};G.onTagOpen=function(T,U,V){var W=new p.htmlParser.element(T,U);if(W.isUnknown&&V)W.isEmpty=true;if(u.$removeEmpty[T]){J.push(W);return;}else if(T=='pre')M=true;else if(T=='br'&&M){L.add(new p.htmlParser.text('\n'));return;}if(T=='br'){K.push(W);return;}var X=L.name,Y=X&&(u[X]||(L._.isBlockLike?u.div:u.span));if(Y&&!W.isUnknown&&!L.isUnknown&&!Y[T]){var Z=false,aa;if(T in C&&X in C){var ab=L.children,ac=ab[ab.length-1];if(!(ac&&ac.name in D))Q(ac=new p.htmlParser.element('li'),L);N=L,aa=ac;}else if(T==X)Q(L,L.parent);else if(T in u.$listItem){G.onTagOpen('ul',{});aa=L;Z=true;}else{if(B[X]){if(!N)N=L;}else{Q(L,L.parent,true);if(!A[X])J.unshift(L);}Z=true;}if(aa)L=aa;else L=L.returnPoint||L.parent;if(Z){G.onTagOpen.apply(this,arguments);return;}}O(T);P();W.parent=L;W.returnPoint=N;N=0;if(W.isEmpty)Q(W);else L=W;};G.onTagClose=function(T){for(var U=J.length-1;U>=0;U--){if(T==J[U].name){J.splice(U,1);return;}}var V=[],W=[],X=L;while(X.type&&X.name!=T){if(!X._.isBlockLike)W.unshift(X);V.push(X);X=X.parent;}if(X.type){for(U=0;U<V.length;U++){var Y=V[U];Q(Y,Y.parent);}L=X;if(L.name=='pre')M=false;if(X._.isBlockLike)P();Q(X,X.parent);if(X==L)L=L.parent;J=J.concat(W);}if(T=='body')F=false;};G.onText=function(T){if(!L._.hasInlineStarted&&!M){T=t.ltrim(T);
if(T.length===0)return;}P();O();if(F&&(!L.type||L.name=='body')&&t.trim(T))this.onTagOpen(F,{});if(!M)T=T.replace(/[\t\r\n ]{2,}|[\t\r\n]/g,' ');L.add(new p.htmlParser.text(T));};G.onCDATA=function(T){L.add(new p.htmlParser.cdata(T));};G.onComment=function(T){P();O();L.add(new p.htmlParser.comment(T));};G.parse(E);P(!r&&1);while(L.type){var R=L.parent,S=L;if(F&&(!R.type||R.name=='body')&&!u.$body[S.name]){L=R;G.onTagOpen(F,{});R=L;}R.add(S);L=R;}return I;};p.htmlParser.fragment.prototype={add:function(E){var H=this;var F=H.children.length,G=F>0&&H.children[F-1]||null;if(G){if(E._.isBlockLike&&G.type==3){G.value=t.rtrim(G.value);if(G.value.length===0){H.children.pop();H.add(E);return;}}G.next=E;}E.previous=G;E.parent=H;H.children.push(E);H._.hasInlineStarted=E.type==3||E.type==1&&!E._.isBlockLike;},writeHtml:function(E,F){var G;this.filterChildren=function(){var H=new p.htmlParser.basicWriter();this.writeChildrenHtml.call(this,H,F,true);var I=H.getHtml();this.children=new p.htmlParser.fragment.fromHtml(I).children;G=1;};!this.name&&F&&F.onFragment(this);this.writeChildrenHtml(E,G?null:F);},writeChildrenHtml:function(E,F){for(var G=0;G<this.children.length;G++)this.children[G].writeHtml(E,F);}};})();p.htmlParser.element=function(A,B){var H=this;H.name=A;H.attributes=B||(B={});H.children=[];var C=B['data-cke-real-element-type']||A,D=C.match(/^cke:(.*)/);D&&(C=D[1]);var E=u,F=!!(E.$nonBodyContent[C]||E.$block[C]||E.$listItem[C]||E.$tableContent[C]||E.$nonEditable[C]||C=='br'),G=!!E.$empty[A];H.isEmpty=G;H.isUnknown=!E[A];H._={isBlockLike:F,hasInlineStarted:G||!F};};(function(){var A=function(B,C){B=B[0];C=C[0];return B<C?-1:B>C?1:0;};p.htmlParser.element.prototype={type:1,add:p.htmlParser.fragment.prototype.add,clone:function(){return new p.htmlParser.element(this.name,this.attributes);},writeHtml:function(B,C){var D=this.attributes,E=this,F=E.name,G,H,I,J;E.filterChildren=function(){if(!J){var O=new p.htmlParser.basicWriter();p.htmlParser.fragment.prototype.writeChildrenHtml.call(E,O,C);E.children=new p.htmlParser.fragment.fromHtml(O.getHtml()).children;J=1;}};if(C){for(;;){if(!(F=C.onElementName(F)))return;E.name=F;if(!(E=C.onElement(E)))return;E.parent=this.parent;if(E.name==F)break;if(E.type!=1){E.writeHtml(B,C);return;}F=E.name;if(!F){this.writeChildrenHtml.call(E,B,J?null:C);return;}}D=E.attributes;}B.openTag(F,D);var K=[];for(var L=0;L<2;L++)for(G in D){H=G;I=D[G];if(L==1)K.push([G,I]);else if(C){for(;;){if(!(H=C.onAttributeName(G))){delete D[G];break;}else if(H!=G){delete D[G];
G=H;continue;}else break;}if(H)if((I=C.onAttribute(E,H,I))===false)delete D[H];else D[H]=I;}}if(B.sortAttributes)K.sort(A);var M=K.length;for(L=0;L<M;L++){var N=K[L];B.attribute(N[0],N[1]);}B.openTagClose(F,E.isEmpty);if(!E.isEmpty){this.writeChildrenHtml.call(E,B,J?null:C);B.closeTag(F);}},writeChildrenHtml:function(B,C){p.htmlParser.fragment.prototype.writeChildrenHtml.apply(this,arguments);}};})();(function(){p.htmlParser.filter=t.createClass({$:function(F){this._={elementNames:[],attributeNames:[],elements:{$length:0},attributes:{$length:0}};if(F)this.addRules(F,10);},proto:{addRules:function(F,G){var H=this;if(typeof G!='number')G=10;B(H._.elementNames,F.elementNames,G);B(H._.attributeNames,F.attributeNames,G);C(H._.elements,F.elements,G);C(H._.attributes,F.attributes,G);H._.text=D(H._.text,F.text,G)||H._.text;H._.comment=D(H._.comment,F.comment,G)||H._.comment;H._.root=D(H._.root,F.root,G)||H._.root;},onElementName:function(F){return A(F,this._.elementNames);},onAttributeName:function(F){return A(F,this._.attributeNames);},onText:function(F){var G=this._.text;return G?G.filter(F):F;},onComment:function(F,G){var H=this._.comment;return H?H.filter(F,G):F;},onFragment:function(F){var G=this._.root;return G?G.filter(F):F;},onElement:function(F){var K=this;var G=[K._.elements['^'],K._.elements[F.name],K._.elements.$],H,I;for(var J=0;J<3;J++){H=G[J];if(H){I=H.filter(F,K);if(I===false)return null;if(I&&I!=F)return K.onNode(I);if(F.parent&&!F.name)break;}}return F;},onNode:function(F){var G=F.type;return G==1?this.onElement(F):G==3?new p.htmlParser.text(this.onText(F.value)):G==8?new p.htmlParser.comment(this.onComment(F.value)):null;},onAttribute:function(F,G,H){var I=this._.attributes[G];if(I){var J=I.filter(H,F,this);if(J===false)return false;if(typeof J!='undefined')return J;}return H;}}});function A(F,G){for(var H=0;F&&H<G.length;H++){var I=G[H];F=F.replace(I[0],I[1]);}return F;};function B(F,G,H){if(typeof G=='function')G=[G];var I,J,K=F.length,L=G&&G.length;if(L){for(I=0;I<K&&F[I].pri<H;I++){}for(J=L-1;J>=0;J--){var M=G[J];if(M){M.pri=H;F.splice(I,0,M);}}}};function C(F,G,H){if(G)for(var I in G){var J=F[I];F[I]=D(J,G[I],H);if(!J)F.$length++;}};function D(F,G,H){if(G){G.pri=H;if(F){if(!F.splice){if(F.pri>H)F=[G,F];else F=[F,G];F.filter=E;}else B(F,G,H);return F;}else{G.filter=G;return G;}}};function E(F){var G=F.type||F instanceof p.htmlParser.fragment;for(var H=0;H<this.length;H++){if(G)var I=F.type,J=F.name;var K=this[H],L=K.apply(window,arguments);if(L===false)return L;
if(G){if(L&&(L.name!=J||L.type!=I))return L;}else if(typeof L!='string')return L;L!=undefined&&(F=L);}return F;};})();p.htmlParser.basicWriter=t.createClass({$:function(){this._={output:[]};},proto:{openTag:function(A,B){this._.output.push('<',A);},openTagClose:function(A,B){if(B)this._.output.push(' />');else this._.output.push('>');},attribute:function(A,B){if(typeof B=='string')B=t.htmlEncodeAttr(B);this._.output.push(' ',A,'="',B,'"');},closeTag:function(A){this._.output.push('</',A,'>');},text:function(A){this._.output.push(A);},comment:function(A){this._.output.push('<!--',A,'-->');},write:function(A){this._.output.push(A);},reset:function(){this._.output=[];this._.indent=false;},getHtml:function(A){var B=this._.output.join('');if(A)this.reset();return B;}}});delete p.loadFullCore;p.instances={};p.document=new v(document);p.add=function(A){p.instances[A.name]=A;A.on('focus',function(){if(p.currentInstance!=A){p.currentInstance=A;p.fire('currentInstance');}});A.on('blur',function(){if(p.currentInstance==A){p.currentInstance=null;p.fire('currentInstance');}});};p.remove=function(A){delete p.instances[A.name];};p.on('instanceDestroyed',function(){if(t.isEmpty(this.instances))p.fire('reset');});p.TRISTATE_ON=1;p.TRISTATE_OFF=2;p.TRISTATE_DISABLED=0;s.comment=t.createClass({base:s.node,$:function(A,B){if(typeof A=='string')A=(B?B.$:document).createComment(A);this.base(A);},proto:{type:8,getOuterHtml:function(){return '<!--'+this.$.nodeValue+'-->';}}});(function(){var A={address:1,blockquote:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,li:1,dt:1,dd:1,legend:1},B={body:1,div:1,table:1,tbody:1,tr:1,td:1,th:1,caption:1,form:1,fieldset:1},C=function(D){var E=D.getChildren();for(var F=0,G=E.count();F<G;F++){var H=E.getItem(F);if(H.type==1&&u.$block[H.getName()])return true;}return false;};s.elementPath=function(D){var J=this;var E=null,F=null,G=[],H=D;while(H){if(H.type==1){if(!J.lastElement)J.lastElement=H;var I=H.getName();if(r&&H.$.scopeName!='HTML')I=H.$.scopeName.toLowerCase()+':'+I;if(!F){if(!E&&A[I])E=H;if(B[I])if(!E&&I=='div'&&!C(H))E=H;else F=H;}G.push(H);if(I=='body')break;}H=H.getParent();}J.block=E;J.blockLimit=F;J.elements=G;};})();s.elementPath.prototype={compare:function(A){var B=this.elements,C=A&&A.elements;if(!C||B.length!=C.length)return false;for(var D=0;D<B.length;D++){if(!B[D].equals(C[D]))return false;}return true;},contains:function(A){var B=this.elements;for(var C=0;C<B.length;C++){if(B[C].getName() in A)return B[C];}return null;}};s.text=function(A,B){if(typeof A=='string')A=(B?B.$:document).createTextNode(A);
this.$=A;};s.text.prototype=new s.node();t.extend(s.text.prototype,{type:3,getLength:function(){return this.$.nodeValue.length;},getText:function(){return this.$.nodeValue;},split:function(A){var F=this;if(r&&A==F.getLength()){var B=F.getDocument().createText('');B.insertAfter(F);return B;}var C=F.getDocument(),D=new s.text(F.$.splitText(A),C);if(q.ie8){var E=new s.text('',C);E.insertAfter(D);E.remove();}return D;},substring:function(A,B){if(typeof B!='number')return this.$.nodeValue.substr(A);else return this.$.nodeValue.substring(A,B);}});s.documentFragment=function(A){A=A||p.document;this.$=A.$.createDocumentFragment();};t.extend(s.documentFragment.prototype,w.prototype,{type:11,insertAfterNode:function(A){A=A.$;A.parentNode.insertBefore(this.$,A.nextSibling);}},true,{append:1,appendBogus:1,getFirst:1,getLast:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1});(function(){function A(H,I){if(this._.end)return null;var J,K=this.range,L,M=this.guard,N=this.type,O=H?'getPreviousSourceNode':'getNextSourceNode';if(!this._.start){this._.start=1;K.trim();if(K.collapsed){this.end();return null;}}if(!H&&!this._.guardLTR){var P=K.endContainer,Q=P.getChild(K.endOffset);this._.guardLTR=function(U,V){return(!V||!P.equals(U))&&(!Q||!U.equals(Q))&&(U.type!=1||!V||U.getName()!='body');};}if(H&&!this._.guardRTL){var R=K.startContainer,S=K.startOffset>0&&R.getChild(K.startOffset-1);this._.guardRTL=function(U,V){return(!V||!R.equals(U))&&(!S||!U.equals(S))&&(U.type!=1||!V||U.getName()!='body');};}var T=H?this._.guardRTL:this._.guardLTR;if(M)L=function(U,V){if(T(U,V)===false)return false;return M(U,V);};else L=T;if(this.current)J=this.current[O](false,N,L);else if(H){J=K.endContainer;if(K.endOffset>0){J=J.getChild(K.endOffset-1);if(L(J)===false)J=null;}else J=L(J,true)===false?null:J.getPreviousSourceNode(true,N,L);}else{J=K.startContainer;J=J.getChild(K.startOffset);if(J){if(L(J)===false)J=null;}else J=L(K.startContainer,true)===false?null:K.startContainer.getNextSourceNode(true,N,L);}while(J&&!this._.end){this.current=J;if(!this.evaluator||this.evaluator(J)!==false){if(!I)return J;}else if(I&&this.evaluator)return false;J=J[O](false,N,L);}this.end();return this.current=null;};function B(H){var I,J=null;while(I=A.call(this,H))J=I;return J;};s.walker=t.createClass({$:function(H){this.range=H;this._={};},proto:{end:function(){this._.end=1;},next:function(){return A.call(this);
},previous:function(){return A.call(this,1);},checkForward:function(){return A.call(this,0,1)!==false;},checkBackward:function(){return A.call(this,1,1)!==false;},lastForward:function(){return B.call(this);},lastBackward:function(){return B.call(this,1);},reset:function(){delete this.current;this._={};}}});var C={block:1,'list-item':1,table:1,'table-row-group':1,'table-header-group':1,'table-footer-group':1,'table-row':1,'table-column-group':1,'table-column':1,'table-cell':1,'table-caption':1};w.prototype.isBlockBoundary=function(H){var I=t.extend({},u.$block,H||{});return this.getComputedStyle('float')=='none'&&C[this.getComputedStyle('display')]||I[this.getName()];};s.walker.blockBoundary=function(H){return function(I,J){return!(I.type==1&&I.isBlockBoundary(H));};};s.walker.listItemBoundary=function(){return this.blockBoundary({br:1});};s.walker.bookmark=function(H,I){function J(K){return K&&K.getName&&K.getName()=='span'&&K.data('cke-bookmark');};return function(K){var L,M;L=K&&!K.getName&&(M=K.getParent())&&J(M);L=H?L:L||J(K);return!!(I^L);};};s.walker.whitespaces=function(H){return function(I){var J=I&&I.type==3&&!t.trim(I.getText());return!!(H^J);};};s.walker.invisible=function(H){var I=s.walker.whitespaces();return function(J){var K=I(J)||J.is&&!J.$.offsetHeight;return!!(H^K);};};s.walker.nodeType=function(H,I){return function(J){return!!(I^J.type==H);};};var D=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,E=s.walker.whitespaces(),F=s.walker.bookmark(),G=function(H){return F(H)||E(H)||H.type==1&&H.getName() in u.$inline&&!(H.getName() in u.$empty);};w.prototype.getBogus=function(){var H=this;do H=H.getPreviousSourceNode();while(G(H))if(H&&(!r?H.is&&H.is('br'):H.getText&&D.test(H.getText())))return H;return false;};})();s.range=function(A){var B=this;B.startContainer=null;B.startOffset=null;B.endContainer=null;B.endOffset=null;B.collapsed=true;B.document=A;};(function(){var A=function(I){I.collapsed=I.startContainer&&I.endContainer&&I.startContainer.equals(I.endContainer)&&I.startOffset==I.endOffset;},B=function(I,J,K,L){I.optimizeBookmark();var M=I.startContainer,N=I.endContainer,O=I.startOffset,P=I.endOffset,Q,R;if(N.type==3)N=N.split(P);else if(N.getChildCount()>0)if(P>=N.getChildCount()){N=N.append(I.document.createText(''));R=true;}else N=N.getChild(P);if(M.type==3){M.split(O);if(M.equals(N))N=M.getNext();}else if(!O){M=M.getFirst().insertBeforeMe(I.document.createText(''));Q=true;}else if(O>=M.getChildCount()){M=M.append(I.document.createText(''));Q=true;}else M=M.getChild(O).getPrevious();
var S=M.getParents(),T=N.getParents(),U,V,W;for(U=0;U<S.length;U++){V=S[U];W=T[U];if(!V.equals(W))break;}var X=K,Y,Z,aa,ab;for(var ac=U;ac<S.length;ac++){Y=S[ac];if(X&&!Y.equals(M))Z=X.append(Y.clone());aa=Y.getNext();while(aa){if(aa.equals(T[ac])||aa.equals(N))break;ab=aa.getNext();if(J==2)X.append(aa.clone(true));else{aa.remove();if(J==1)X.append(aa);}aa=ab;}if(X)X=Z;}X=K;for(var ad=U;ad<T.length;ad++){Y=T[ad];if(J>0&&!Y.equals(N))Z=X.append(Y.clone());if(!S[ad]||Y.$.parentNode!=S[ad].$.parentNode){aa=Y.getPrevious();while(aa){if(aa.equals(S[ad])||aa.equals(M))break;ab=aa.getPrevious();if(J==2)X.$.insertBefore(aa.$.cloneNode(true),X.$.firstChild);else{aa.remove();if(J==1)X.$.insertBefore(aa.$,X.$.firstChild);}aa=ab;}}if(X)X=Z;}if(J==2){var ae=I.startContainer;if(ae.type==3){ae.$.data+=ae.$.nextSibling.data;ae.$.parentNode.removeChild(ae.$.nextSibling);}var af=I.endContainer;if(af.type==3&&af.$.nextSibling){af.$.data+=af.$.nextSibling.data;af.$.parentNode.removeChild(af.$.nextSibling);}}else{if(V&&W&&(M.$.parentNode!=V.$.parentNode||N.$.parentNode!=W.$.parentNode)){var ag=W.getIndex();if(Q&&W.$.parentNode==M.$.parentNode)ag--;if(L&&V.type==1){var ah=w.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',I.document);ah.insertAfter(V);V.mergeSiblings(false);I.moveToBookmark({startNode:ah});}else I.setStart(W.getParent(),ag);}I.collapse(true);}if(Q)M.remove();if(R&&N.$.parentNode)N.remove();},C={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,'var':1};function D(I){var J=false,K=s.walker.bookmark(true);return function(L){if(K(L))return true;if(L.type==3){if(t.trim(L.getText()).length)return false;}else if(L.type==1)if(!C[L.getName()])if(!I&&!r&&L.getName()=='br'&&!J)J=true;else return false;return true;};};function E(I){return I.type!=3&&I.getName() in u.$removeEmpty||!t.trim(I.getText())||!!I.getParent().data('cke-bookmark');};var F=new s.walker.whitespaces(),G=new s.walker.bookmark();function H(I){return!F(I)&&!G(I);};s.range.prototype={clone:function(){var J=this;var I=new s.range(J.document);I.startContainer=J.startContainer;I.startOffset=J.startOffset;I.endContainer=J.endContainer;I.endOffset=J.endOffset;I.collapsed=J.collapsed;return I;},collapse:function(I){var J=this;if(I){J.endContainer=J.startContainer;J.endOffset=J.startOffset;}else{J.startContainer=J.endContainer;J.startOffset=J.endOffset;}J.collapsed=true;},cloneContents:function(){var I=new s.documentFragment(this.document);
if(!this.collapsed)B(this,2,I);return I;},deleteContents:function(I){if(this.collapsed)return;B(this,0,null,I);},extractContents:function(I){var J=new s.documentFragment(this.document);if(!this.collapsed)B(this,1,J,I);return J;},createBookmark:function(I){var O=this;var J,K,L,M,N=O.collapsed;J=O.document.createElement('span');J.data('cke-bookmark',1);J.setStyle('display','none');J.setHtml('&nbsp;');if(I){L='cke_bm_'+t.getNextNumber();J.setAttribute('id',L+'S');}if(!N){K=J.clone();K.setHtml('&nbsp;');if(I)K.setAttribute('id',L+'E');M=O.clone();M.collapse();M.insertNode(K);}M=O.clone();M.collapse(true);M.insertNode(J);if(K){O.setStartAfter(J);O.setEndBefore(K);}else O.moveToPosition(J,4);return{startNode:I?L+'S':J,endNode:I?L+'E':K,serializable:I,collapsed:N};},createBookmark2:function(I){var Q=this;var J=Q.startContainer,K=Q.endContainer,L=Q.startOffset,M=Q.endOffset,N=Q.collapsed,O,P;if(!J||!K)return{start:0,end:0};if(I){if(J.type==1){O=J.getChild(L);if(O&&O.type==3&&L>0&&O.getPrevious().type==3){J=O;L=0;}}while(J.type==3&&(P=J.getPrevious())&&P.type==3){J=P;L+=P.getLength();}if(!N){if(K.type==1){O=K.getChild(M);if(O&&O.type==3&&M>0&&O.getPrevious().type==3){K=O;M=0;}}while(K.type==3&&(P=K.getPrevious())&&P.type==3){K=P;M+=P.getLength();}}}return{start:J.getAddress(I),end:N?null:K.getAddress(I),startOffset:L,endOffset:M,normalized:I,collapsed:N,is2:true};},moveToBookmark:function(I){var Q=this;if(I.is2){var J=Q.document.getByAddress(I.start,I.normalized),K=I.startOffset,L=I.end&&Q.document.getByAddress(I.end,I.normalized),M=I.endOffset;Q.setStart(J,K);if(L)Q.setEnd(L,M);else Q.collapse(true);}else{var N=I.serializable,O=N?Q.document.getById(I.startNode):I.startNode,P=N?Q.document.getById(I.endNode):I.endNode;Q.setStartBefore(O);O.remove();if(P){Q.setEndBefore(P);P.remove();}else Q.collapse(true);}},getBoundaryNodes:function(){var N=this;var I=N.startContainer,J=N.endContainer,K=N.startOffset,L=N.endOffset,M;if(I.type==1){M=I.getChildCount();if(M>K)I=I.getChild(K);else if(M<1)I=I.getPreviousSourceNode();else{I=I.$;while(I.lastChild)I=I.lastChild;I=new s.node(I);I=I.getNextSourceNode()||I;}}if(J.type==1){M=J.getChildCount();if(M>L)J=J.getChild(L).getPreviousSourceNode(true);else if(M<1)J=J.getPreviousSourceNode();else{J=J.$;while(J.lastChild)J=J.lastChild;J=new s.node(J);}}if(I.getPosition(J)&2)I=J;return{startNode:I,endNode:J};},getCommonAncestor:function(I,J){var N=this;var K=N.startContainer,L=N.endContainer,M;if(K.equals(L)){if(I&&K.type==1&&N.startOffset==N.endOffset-1)M=K.getChild(N.startOffset);
else M=K;}else M=K.getCommonAncestor(L);return J&&!M.is?M.getParent():M;},optimize:function(){var K=this;var I=K.startContainer,J=K.startOffset;if(I.type!=1)if(!J)K.setStartBefore(I);else if(J>=I.getLength())K.setStartAfter(I);I=K.endContainer;J=K.endOffset;if(I.type!=1)if(!J)K.setEndBefore(I);else if(J>=I.getLength())K.setEndAfter(I);},optimizeBookmark:function(){var K=this;var I=K.startContainer,J=K.endContainer;if(I.is&&I.is('span')&&I.data('cke-bookmark'))K.setStartAt(I,3);if(J&&J.is&&J.is('span')&&J.data('cke-bookmark'))K.setEndAt(J,4);},trim:function(I,J){var Q=this;var K=Q.startContainer,L=Q.startOffset,M=Q.collapsed;if((!I||M)&&K&&K.type==3){if(!L){L=K.getIndex();K=K.getParent();}else if(L>=K.getLength()){L=K.getIndex()+1;K=K.getParent();}else{var N=K.split(L);L=K.getIndex()+1;K=K.getParent();if(Q.startContainer.equals(Q.endContainer))Q.setEnd(N,Q.endOffset-Q.startOffset);else if(K.equals(Q.endContainer))Q.endOffset+=1;}Q.setStart(K,L);if(M){Q.collapse(true);return;}}var O=Q.endContainer,P=Q.endOffset;if(!(J||M)&&O&&O.type==3){if(!P){P=O.getIndex();O=O.getParent();}else if(P>=O.getLength()){P=O.getIndex()+1;O=O.getParent();}else{O.split(P);P=O.getIndex()+1;O=O.getParent();}Q.setEnd(O,P);}},enlarge:function(I,J){switch(I){case 1:if(this.collapsed)return;var K=this.getCommonAncestor(),L=this.document.getBody(),M,N,O,P,Q,R=false,S,T,U=this.startContainer,V=this.startOffset;if(U.type==3){if(V){U=!t.trim(U.substring(0,V)).length&&U;R=!!U;}if(U)if(!(P=U.getPrevious()))O=U.getParent();}else{if(V)P=U.getChild(V-1)||U.getLast();if(!P)O=U;}while(O||P){if(O&&!P){if(!Q&&O.equals(K))Q=true;if(!L.contains(O))break;if(!R||O.getComputedStyle('display')!='inline'){R=false;if(Q)M=O;else this.setStartBefore(O);}P=O.getPrevious();}while(P){S=false;if(P.type==3){T=P.getText();if(/[^\s\ufeff]/.test(T))P=null;S=/[\s\ufeff]$/.test(T);}else if((P.$.offsetWidth>0||J&&P.is('br'))&&!P.data('cke-bookmark'))if(R&&u.$removeEmpty[P.getName()]){T=P.getText();if(/[^\s\ufeff]/.test(T))P=null;else{var W=P.$.all||P.$.getElementsByTagName('*');for(var X=0,Y;Y=W[X++];){if(!u.$removeEmpty[Y.nodeName.toLowerCase()]){P=null;break;}}}if(P)S=!!T.length;}else P=null;if(S)if(R){if(Q)M=O;else if(O)this.setStartBefore(O);}else R=true;if(P){var Z=P.getPrevious();if(!O&&!Z){O=P;P=null;break;}P=Z;}else O=null;}if(O)O=O.getParent();}U=this.endContainer;V=this.endOffset;O=P=null;Q=R=false;if(U.type==3){U=!t.trim(U.substring(V)).length&&U;R=!(U&&U.getLength());if(U)if(!(P=U.getNext()))O=U.getParent();}else{P=U.getChild(V);
if(!P)O=U;}while(O||P){if(O&&!P){if(!Q&&O.equals(K))Q=true;if(!L.contains(O))break;if(!R||O.getComputedStyle('display')!='inline'){R=false;if(Q)N=O;else if(O)this.setEndAfter(O);}P=O.getNext();}while(P){S=false;if(P.type==3){T=P.getText();if(/[^\s\ufeff]/.test(T))P=null;S=/^[\s\ufeff]/.test(T);}else if((P.$.offsetWidth>0||J&&P.is('br'))&&!P.data('cke-bookmark'))if(R&&u.$removeEmpty[P.getName()]){T=P.getText();if(/[^\s\ufeff]/.test(T))P=null;else{W=P.$.all||P.$.getElementsByTagName('*');for(X=0;Y=W[X++];){if(!u.$removeEmpty[Y.nodeName.toLowerCase()]){P=null;break;}}}if(P)S=!!T.length;}else P=null;if(S)if(R)if(Q)N=O;else this.setEndAfter(O);if(P){Z=P.getNext();if(!O&&!Z){O=P;P=null;break;}P=Z;}else O=null;}if(O)O=O.getParent();}if(M&&N){K=M.contains(N)?N:M;this.setStartBefore(K);this.setEndAfter(K);}break;case 2:case 3:var aa=new s.range(this.document);L=this.document.getBody();aa.setStartAt(L,1);aa.setEnd(this.startContainer,this.startOffset);var ab=new s.walker(aa),ac,ad,ae=s.walker.blockBoundary(I==3?{br:1}:null),af=function(ah){var ai=ae(ah);if(!ai)ac=ah;return ai;},ag=function(ah){var ai=af(ah);if(!ai&&ah.is&&ah.is('br'))ad=ah;return ai;};ab.guard=af;O=ab.lastBackward();ac=ac||L;this.setStartAt(ac,!ac.is('br')&&(!O&&this.checkStartOfBlock()||O&&ac.contains(O))?1:4);aa=this.clone();aa.collapse();aa.setEndAt(L,2);ab=new s.walker(aa);ab.guard=I==3?ag:af;ac=null;O=ab.lastForward();ac=ac||L;this.setEndAt(ac,!O&&this.checkEndOfBlock()||O&&ac.contains(O)?2:3);if(ad)this.setEndAfter(ad);}},shrink:function(I,J){if(!this.collapsed){I=I||2;var K=this.clone(),L=this.startContainer,M=this.endContainer,N=this.startOffset,O=this.endOffset,P=this.collapsed,Q=1,R=1;if(L&&L.type==3)if(!N)K.setStartBefore(L);else if(N>=L.getLength())K.setStartAfter(L);else{K.setStartBefore(L);Q=0;}if(M&&M.type==3)if(!O)K.setEndBefore(M);else if(O>=M.getLength())K.setEndAfter(M);else{K.setEndAfter(M);R=0;}var S=new s.walker(K),T=s.walker.bookmark();S.evaluator=function(X){return X.type==(I==1?1:3);};var U;S.guard=function(X,Y){if(T(X))return true;if(I==1&&X.type==3)return false;if(Y&&X.equals(U))return false;if(!Y&&X.type==1)U=X;return true;};if(Q){var V=S[I==1?'lastForward':'next']();V&&this.setStartAt(V,J?1:3);}if(R){S.reset();var W=S[I==1?'lastBackward':'previous']();W&&this.setEndAt(W,J?2:4);}return!!(Q||R);}},insertNode:function(I){var M=this;M.optimizeBookmark();M.trim(false,true);var J=M.startContainer,K=M.startOffset,L=J.getChild(K);if(L)I.insertBefore(L);else J.append(I);if(I.getParent().equals(M.endContainer))M.endOffset++;
M.setStartBefore(I);},moveToPosition:function(I,J){this.setStartAt(I,J);this.collapse(true);},selectNodeContents:function(I){this.setStart(I,0);this.setEnd(I,I.type==3?I.getLength():I.getChildCount());},setStart:function(I,J){var K=this;if(I.type==1&&u.$empty[I.getName()])J=I.getIndex(),I=I.getParent();K.startContainer=I;K.startOffset=J;if(!K.endContainer){K.endContainer=I;K.endOffset=J;}A(K);},setEnd:function(I,J){var K=this;if(I.type==1&&u.$empty[I.getName()])J=I.getIndex()+1,I=I.getParent();K.endContainer=I;K.endOffset=J;if(!K.startContainer){K.startContainer=I;K.startOffset=J;}A(K);},setStartAfter:function(I){this.setStart(I.getParent(),I.getIndex()+1);},setStartBefore:function(I){this.setStart(I.getParent(),I.getIndex());},setEndAfter:function(I){this.setEnd(I.getParent(),I.getIndex()+1);},setEndBefore:function(I){this.setEnd(I.getParent(),I.getIndex());},setStartAt:function(I,J){var K=this;switch(J){case 1:K.setStart(I,0);break;case 2:if(I.type==3)K.setStart(I,I.getLength());else K.setStart(I,I.getChildCount());break;case 3:K.setStartBefore(I);break;case 4:K.setStartAfter(I);}A(K);},setEndAt:function(I,J){var K=this;switch(J){case 1:K.setEnd(I,0);break;case 2:if(I.type==3)K.setEnd(I,I.getLength());else K.setEnd(I,I.getChildCount());break;case 3:K.setEndBefore(I);break;case 4:K.setEndAfter(I);}A(K);},fixBlock:function(I,J){var M=this;var K=M.createBookmark(),L=M.document.createElement(J);M.collapse(I);M.enlarge(2);M.extractContents().appendTo(L);L.trim();if(!r)L.appendBogus();M.insertNode(L);M.moveToBookmark(K);return L;},splitBlock:function(I){var S=this;var J=new s.elementPath(S.startContainer),K=new s.elementPath(S.endContainer),L=J.blockLimit,M=K.blockLimit,N=J.block,O=K.block,P=null;if(!L.equals(M))return null;if(I!='br'){if(!N){N=S.fixBlock(true,I);O=new s.elementPath(S.endContainer).block;}if(!O)O=S.fixBlock(false,I);}var Q=N&&S.checkStartOfBlock(),R=O&&S.checkEndOfBlock();S.deleteContents();if(N&&N.equals(O))if(R){P=new s.elementPath(S.startContainer);S.moveToPosition(O,4);O=null;}else if(Q){P=new s.elementPath(S.startContainer);S.moveToPosition(N,3);N=null;}else{O=S.splitElement(N);if(!r&&!N.is('ul','ol'))N.appendBogus();}return{previousBlock:N,nextBlock:O,wasStartOfBlock:Q,wasEndOfBlock:R,elementPath:P};},splitElement:function(I){var L=this;if(!L.collapsed)return null;L.setEndAt(I,2);var J=L.extractContents(),K=I.clone(false);J.appendTo(K);K.insertAfter(I);L.moveToPosition(I,4);return K;},checkBoundaryOfElement:function(I,J){var K=J==1,L=this.clone();
L.collapse(K);L[K?'setStartAt':'setEndAt'](I,K?1:2);var M=new s.walker(L);M.evaluator=E;return M[K?'checkBackward':'checkForward']();},checkStartOfBlock:function(){var O=this;var I=O.startContainer,J=O.startOffset;if(J&&I.type==3){var K=t.ltrim(I.substring(0,J));if(K.length)return false;}O.trim();var L=new s.elementPath(O.startContainer),M=O.clone();M.collapse(true);M.setStartAt(L.block||L.blockLimit,1);var N=new s.walker(M);N.evaluator=D(true);return N.checkBackward();},checkEndOfBlock:function(){var O=this;var I=O.endContainer,J=O.endOffset;if(I.type==3){var K=t.rtrim(I.substring(J));if(K.length)return false;}O.trim();var L=new s.elementPath(O.endContainer),M=O.clone();M.collapse(false);M.setEndAt(L.block||L.blockLimit,2);var N=new s.walker(M);N.evaluator=D(false);return N.checkForward();},checkReadOnly:(function(){function I(J,K){while(J){if(J.type==1)if(J.getAttribute('contentEditable')=='false'&&!J.data('cke-editable'))return 0;else if(J.is('body')||J.getAttribute('contentEditable')=='true'&&(J.contains(K)||J.equals(K)))break;J=J.getParent();}return 1;};return function(){var J=this.startContainer,K=this.endContainer;return!(I(J,K)&&I(K,J));};})(),moveToElementEditablePosition:function(I,J){var K;if(u.$empty[I.getName()])return false;while(I&&I.type==1){K=I.isEditable();if(K)this.moveToPosition(I,J?2:1);else if(u.$inline[I.getName()]){this.moveToPosition(I,J?4:3);return true;}if(u.$empty[I.getName()])I=I[J?'getPrevious':'getNext'](H);else I=I[J?'getLast':'getFirst'](H);if(I&&I.type==3){this.moveToPosition(I,J?4:3);return true;}}return K;},moveToElementEditStart:function(I){return this.moveToElementEditablePosition(I);},moveToElementEditEnd:function(I){return this.moveToElementEditablePosition(I,true);},getEnclosedNode:function(){var I=this.clone();I.optimize();if(I.startContainer.type!=1||I.endContainer.type!=1)return null;var J=new s.walker(I),K=s.walker.bookmark(true),L=s.walker.whitespaces(true),M=function(O){return L(O)&&K(O);};I.evaluator=M;var N=J.next();J.reset();return N&&N.equals(J.previous())?N:null;},getTouchedStartNode:function(){var I=this.startContainer;if(this.collapsed||I.type!=1)return I;return I.getChild(this.startOffset)||I;},getTouchedEndNode:function(){var I=this.endContainer;if(this.collapsed||I.type!=1)return I;return I.getChild(this.endOffset-1)||I;}};})();p.POSITION_AFTER_START=1;p.POSITION_BEFORE_END=2;p.POSITION_BEFORE_START=3;p.POSITION_AFTER_END=4;p.ENLARGE_ELEMENT=1;p.ENLARGE_BLOCK_CONTENTS=2;p.ENLARGE_LIST_ITEM_CONTENTS=3;
p.START=1;p.END=2;p.STARTEND=3;p.SHRINK_ELEMENT=1;p.SHRINK_TEXT=2;(function(){s.rangeList=function(C){if(C instanceof s.rangeList)return C;if(!C)C=[];else if(C instanceof s.range)C=[C];return t.extend(C,A);};var A={createIterator:function(){var C=this,D=s.walker.bookmark(),E=function(H){return!(H.is&&H.is('tr'));},F=[],G;return{getNextRange:function(H){G=G==undefined?0:G+1;var I=C[G];if(I&&C.length>1){if(!G)for(var J=C.length-1;J>=0;J--)F.unshift(C[J].createBookmark(true));if(H){var K=0;while(C[G+K+1]){var L=I.document,M=0,N=L.getById(F[K].endNode),O=L.getById(F[K+1].startNode),P;while(1){P=N.getNextSourceNode(false);if(!O.equals(P)){if(D(P)||P.type==1&&P.isBlockBoundary()){N=P;continue;}}else M=1;break;}if(!M)break;K++;}}I.moveToBookmark(F.shift());while(K--){P=C[++G];P.moveToBookmark(F.shift());I.setEnd(P.endContainer,P.endOffset);}}return I;}};},createBookmarks:function(C){var H=this;var D=[],E;for(var F=0;F<H.length;F++){D.push(E=H[F].createBookmark(C,true));for(var G=F+1;G<H.length;G++){H[G]=B(E,H[G]);H[G]=B(E,H[G],true);}}return D;},createBookmarks2:function(C){var D=[];for(var E=0;E<this.length;E++)D.push(this[E].createBookmark2(C));return D;},moveToBookmarks:function(C){for(var D=0;D<this.length;D++)this[D].moveToBookmark(C[D]);}};function B(C,D,E){var F=C.serializable,G=D[E?'endContainer':'startContainer'],H=E?'endOffset':'startOffset',I=F?D.document.getById(C.startNode):C.startNode,J=F?D.document.getById(C.endNode):C.endNode;if(G.equals(I.getPrevious())){D.startOffset=D.startOffset-G.getLength()-J.getPrevious().getLength();G=J.getNext();}else if(G.equals(J.getPrevious())){D.startOffset=D.startOffset-G.getLength();G=J.getNext();}G.equals(I.getParent())&&D[H]++;G.equals(J.getParent())&&D[H]++;D[E?'endContainer':'startContainer']=G;return D;};})();(function(){if(q.webkit){q.hc=false;return;}var A=r&&q.version<7,B=r&&q.version==7,C=A?p.basePath+'images/spacer.gif':B?'about:blank':'data:image/png;base64,',D=w.createFromHtml('<div style="width:0px;height:0px;position:absolute;left:-10000px;background-image:url('+C+')"></div>',p.document);D.appendTo(p.document.getHead());try{q.hc=D.getComputedStyle('background-image')=='none';}catch(E){q.hc=false;}if(q.hc)q.cssClass+=' cke_hc';D.remove();})();y.load(x.corePlugins.split(','),function(){p.status='loaded';p.fire('loaded');var A=p._.pending;if(A){delete p._.pending;for(var B=0;B<A.length;B++)p.add(A[B]);}});if(r)try{document.execCommand('BackgroundImageCache',false,true);}catch(A){}p.skins.add('kama',(function(){var B='cke_ui_color';
return{editor:{css:['editor.css']},dialog:{css:['dialog.css']},templates:{css:['templates.css']},margins:[0,0,0,0],init:function(C){if(C.config.width&&!isNaN(C.config.width))C.config.width-=12;var D=[],E=/\$color/g,F='/* UI Color Support */.cke_skin_kama .cke_menuitem .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_label,.cke_skin_kama .cke_menuitem a:focus .cke_label,.cke_skin_kama .cke_menuitem a:active .cke_label{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_label{\tbackground-color: transparent !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuseparator{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover,.cke_skin_kama .cke_menuitem a:focus,.cke_skin_kama .cke_menuitem a:active{\tbackground-color: $color !important;}';if(q.webkit){F=F.split('}').slice(0,-1);for(var G=0;G<F.length;G++)F[G]=F[G].split('{');}function H(K){var L=K.getById(B);if(!L){L=K.getHead().append('style');L.setAttribute('id',B);L.setAttribute('type','text/css');}return L;};function I(K,L,M){var N,O,P;for(var Q=0;Q<K.length;Q++){if(q.webkit)for(O=0;O<L.length;O++){P=L[O][1];for(N=0;N<M.length;N++)P=P.replace(M[N][0],M[N][1]);K[Q].$.sheet.addRule(L[O][0],P);}else{P=L;for(N=0;N<M.length;N++)P=P.replace(M[N][0],M[N][1]);if(r)K[Q].$.styleSheet.cssText+=P;else K[Q].$.innerHTML+=P;}}};var J=/\$color/g;t.extend(C,{uiColor:null,getUiColor:function(){return this.uiColor;},setUiColor:function(K){var L,M=H(p.document),N='.'+C.id,O=[N+' .cke_wrapper',N+'_dialog .cke_dialog_contents',N+'_dialog a.cke_dialog_tab',N+'_dialog .cke_dialog_footer'].join(','),P='background-color: $color !important;';if(q.webkit)L=[[O,P]];
else L=O+'{'+P+'}';return(this.setUiColor=function(Q){var R=[[J,Q]];C.uiColor=Q;I([M],L,R);I(D,F,R);})(K);}});C.on('menuShow',function(K){var L=K.data[0],M=L.element.getElementsByTag('iframe').getItem(0).getFrameDocument();if(!M.getById('cke_ui_color')){var N=H(M);D.push(N);var O=C.getUiColor();if(O)I([N],F,[[J,O]]);}});if(C.config.uiColor)C.setUiColor(C.config.uiColor);}};})());(function(){p.dialog?B():p.on('dialogPluginReady',B);function B(){p.dialog.on('resize',function(C){var D=C.data,E=D.width,F=D.height,G=D.dialog,H=G.parts.contents;if(D.skin!='kama')return;H.setStyles({width:E+'px',height:F+'px'});});};})();p.lang.en={dir:'ltr',editorTitle:'Rich text editor, %1, press ALT 0 for help.',toolbar:'Toolbar',editor:'Rich Text Editor',source:'Wiki',newPage:'New Page',save:'Save',preview:'Preview',cut:'Cut',copy:'Copy',paste:'Paste',print:'Print',underline:'Underline',bold:'Bold',italic:'Italic',selectAll:'Select All',removeFormat:'Remove Format',strike:'Strike Through',subscript:'Subscript',superscript:'Superscript',horizontalrule:'Insert Horizontal Line',pagebreak:'Insert Page Break for Printing',pagebreakAlt:'Page Break',unlink:'Unlink',undo:'Undo',redo:'Redo',common:{browseServer:'Browse Server',url:'URL',protocol:'Protocol',upload:'Upload',uploadSubmit:'Send it to the Server',image:'Image',flash:'Flash',form:'Form',checkbox:'Checkbox',radio:'Radio Button',textField:'Text Field',textarea:'Textarea',hiddenField:'Hidden Field',button:'Button',select:'Selection Field',imageButton:'Image Button',notSet:'<not set>',id:'Id',name:'Name',langDir:'Language Direction',langDirLtr:'Left to Right (LTR)',langDirRtl:'Right to Left (RTL)',langCode:'Language Code',longDescr:'Long Description URL',cssClass:'Stylesheet Classes',advisoryTitle:'Advisory Title',cssStyle:'Style',ok:'OK',cancel:'Cancel',close:'Close',preview:'Preview',generalTab:'General',advancedTab:'Advanced',validateNumberFailed:'This value is not a number.',confirmNewPage:'Any unsaved changes to this content will be lost. Are you sure you want to load new page?',confirmCancel:'Some of the options have been changed. Are you sure to close the dialog?',options:'Options',target:'Target',targetNew:'New Window (_blank)',targetTop:'Topmost Window (_top)',targetSelf:'Same Window (_self)',targetParent:'Parent Window (_parent)',langDirLTR:'Left to Right (LTR)',langDirRTL:'Right to Left (RTL)',styles:'Style',cssClasses:'Stylesheet Classes',width:'Width',height:'Height',align:'Alignment',alignLeft:'Left',alignRight:'Right',alignCenter:'Center',alignTop:'Top',alignMiddle:'Middle',alignBottom:'Bottom',invalidHeight:'Height must be a number.',invalidWidth:'Width must be a number.',unavailable:'%1<span class="cke_accessibility">, unavailable</span>'},contextmenu:{options:'Context Menu Options'},specialChar:{toolbar:'Insert Special Character',title:'Select Special Character',options:'Special Character Options'},link:{toolbar:'Link',other:'<other>',menu:'Edit Link',title:'Link',info:'Link Info',target:'Target',upload:'Upload',advanced:'Advanced',type:'Link Type',toUrl:'URL',toAnchor:'Link to anchor in the text',toEmail:'E-mail',targetFrame:'<frame>',targetPopup:'<popup window>',targetFrameName:'Target Frame Name',targetPopupName:'Popup Window Name',popupFeatures:'Popup Window Features',popupResizable:'Resizable',popupStatusBar:'Status Bar',popupLocationBar:'Location Bar',popupToolbar:'Toolbar',popupMenuBar:'Menu Bar',popupFullScreen:'Full Screen (IE)',popupScrollBars:'Scroll Bars',popupDependent:'Dependent (Netscape)',popupLeft:'Left Position',popupTop:'Top Position',id:'Id',langDir:'Language Direction',langDirLTR:'Left to Right (LTR)',langDirRTL:'Right to Left (RTL)',acccessKey:'Access Key',name:'Name',langCode:'Language Code',tabIndex:'Tab Index',advisoryTitle:'Advisory Title',advisoryContentType:'Advisory Content Type',cssClasses:'Stylesheet Classes',charset:'Linked Resource Charset',styles:'Style',selectAnchor:'Select an Anchor',anchorName:'By Anchor Name',anchorId:'By Element Id',emailAddress:'E-Mail Address',emailSubject:'Message Subject',emailBody:'Message Body',noAnchors:'(No anchors available in the document)',noUrl:'Please type the link URL',noEmail:'Please type the e-mail address'},anchor:{toolbar:'Anchor',menu:'Edit Anchor',title:'Anchor Properties',name:'Anchor Name',errorName:'Please type the anchor name'},list:{numberedTitle:'Numbered List Properties',bulletedTitle:'Bulleted List Properties',type:'Type',start:'Start',validateStartNumber:'List start number must be a whole number.',circle:'Circle',disc:'Disc',square:'Square',none:'None',notset:'<not set>',armenian:'Armenian numbering',georgian:'Georgian numbering (an, ban, gan, etc.)',lowerRoman:'Lower Roman (i, ii, iii, iv, v, etc.)',upperRoman:'Upper Roman (I, II, III, IV, V, etc.)',lowerAlpha:'Lower Alpha (a, b, c, d, e, etc.)',upperAlpha:'Upper Alpha (A, B, C, D, E, etc.)',lowerGreek:'Lower Greek (alpha, beta, gamma, etc.)',decimal:'Decimal (1, 2, 3, etc.)',decimalLeadingZero:'Decimal leading zero (01, 02, 03, etc.)'},findAndReplace:{title:'Find and Replace',find:'Find',replace:'Replace',findWhat:'Find what:',replaceWith:'Replace with:',notFoundMsg:'The specified text was not found.',matchCase:'Match case',matchWord:'Match whole word',matchCyclic:'Match cyclic',replaceAll:'Replace All',replaceSuccessMsg:'%1 occurrence(s) replaced.'},table:{toolbar:'Table',title:'Table Properties',menu:'Table Properties',deleteTable:'Delete Table',rows:'Rows',columns:'Columns',border:'Border size',widthPx:'pixels',widthPc:'percent',widthUnit:'width unit',cellSpace:'Cell spacing',cellPad:'Cell padding',caption:'Caption',summary:'Summary',headers:'Headers',headersNone:'None',headersColumn:'First column',headersRow:'First Row',headersBoth:'Both',invalidRows:'Number of rows must be a number greater than 0.',invalidCols:'Number of columns must be a number greater than 0.',invalidBorder:'Border size must be a number.',invalidWidth:'Table width must be a number.',invalidHeight:'Table height must be a number.',invalidCellSpacing:'Cell spacing must be a number.',invalidCellPadding:'Cell padding must be a number.',cell:{menu:'Cell',insertBefore:'Insert Cell Before',insertAfter:'Insert Cell After',deleteCell:'Delete Cells',merge:'Merge Cells',mergeRight:'Merge Right',mergeDown:'Merge Down',splitHorizontal:'Split Cell Horizontally',splitVertical:'Split Cell Vertically',title:'Cell Properties',cellType:'Cell Type',rowSpan:'Rows Span',colSpan:'Columns Span',wordWrap:'Word Wrap',hAlign:'Horizontal Alignment',vAlign:'Vertical Alignment',alignBaseline:'Baseline',bgColor:'Background Color',borderColor:'Border Color',data:'Data',header:'Header',yes:'Yes',no:'No',invalidWidth:'Cell width must be a number.',invalidHeight:'Cell height must be a number.',invalidRowSpan:'Rows span must be a whole number.',invalidColSpan:'Columns span must be a whole number.',chooseColor:'Choose'},row:{menu:'Row',insertBefore:'Insert Row Before',insertAfter:'Insert Row After',deleteRow:'Delete Rows'},column:{menu:'Column',insertBefore:'Insert Column Before',insertAfter:'Insert Column After',deleteColumn:'Delete Columns'}},button:{title:'Button Properties',text:'Text (Value)',type:'Type',typeBtn:'Button',typeSbm:'Submit',typeRst:'Reset'},checkboxAndRadio:{checkboxTitle:'Checkbox Properties',radioTitle:'Radio Button Properties',value:'Value',selected:'Selected'},form:{title:'Form Properties',menu:'Form Properties',action:'Action',method:'Method',encoding:'Encoding'},select:{title:'Selection Field Properties',selectInfo:'Select Info',opAvail:'Available Options',value:'Value',size:'Size',lines:'lines',chkMulti:'Allow multiple selections',opText:'Text',opValue:'Value',btnAdd:'Add',btnModify:'Modify',btnUp:'Up',btnDown:'Down',btnSetValue:'Set as selected value',btnDelete:'Delete'},textarea:{title:'Textarea Properties',cols:'Columns',rows:'Rows'},textfield:{title:'Text Field Properties',name:'Name',value:'Value',charWidth:'Character Width',maxChars:'Maximum Characters',type:'Type',typeText:'Text',typePass:'Password'},hidden:{title:'Hidden Field Properties',name:'Name',value:'Value'},image:{title:'Image Properties',titleButton:'Image Button Properties',menu:'Image Properties',infoTab:'Image Info',btnUpload:'Send it to the Server',upload:'Upload',alt:'Alternative Text',lockRatio:'Lock Ratio',unlockRatio:'Unlock Ratio',resetSize:'Reset Size',border:'Border',hSpace:'HSpace',vSpace:'VSpace',alertUrl:'Please type the image URL',linkTab:'Link',button2Img:'Do you want to transform the selected image button on a simple image?',img2Button:'Do you want to transform the selected image on a image button?',urlMissing:'Image source URL is missing.',validateBorder:'Border must be a whole number.',validateHSpace:'HSpace must be a whole number.',validateVSpace:'VSpace must be a whole number.'},flash:{properties:'Flash Properties',propertiesTab:'Properties',title:'Flash Properties',chkPlay:'Auto Play',chkLoop:'Loop',chkMenu:'Enable Flash Menu',chkFull:'Allow Fullscreen',scale:'Scale',scaleAll:'Show all',scaleNoBorder:'No Border',scaleFit:'Exact Fit',access:'Script Access',accessAlways:'Always',accessSameDomain:'Same domain',accessNever:'Never',alignAbsBottom:'Abs Bottom',alignAbsMiddle:'Abs Middle',alignBaseline:'Baseline',alignTextTop:'Text Top',quality:'Quality',qualityBest:'Best',qualityHigh:'High',qualityAutoHigh:'Auto High',qualityMedium:'Medium',qualityAutoLow:'Auto Low',qualityLow:'Low',windowModeWindow:'Window',windowModeOpaque:'Opaque',windowModeTransparent:'Transparent',windowMode:'Window mode',flashvars:'Variables for Flash',bgcolor:'Background color',hSpace:'HSpace',vSpace:'VSpace',validateSrc:'URL must not be empty.',validateHSpace:'HSpace must be a number.',validateVSpace:'VSpace must be a number.'},spellCheck:{toolbar:'Check Spelling',title:'Spell Check',notAvailable:'Sorry, but service is unavailable now.',errorLoading:'Error loading application service host: %s.',notInDic:'Not in dictionary',changeTo:'Change to',btnIgnore:'Ignore',btnIgnoreAll:'Ignore All',btnReplace:'Replace',btnReplaceAll:'Replace All',btnUndo:'Undo',noSuggestions:'- No suggestions -',progress:'Spell check in progress...',noMispell:'Spell check complete: No misspellings found',noChanges:'Spell check complete: No words changed',oneChange:'Spell check complete: One word changed',manyChanges:'Spell check complete: %1 words changed',ieSpellDownload:'Spell checker not installed. Do you want to download it now?'},smiley:{toolbar:'Smiley',title:'Insert a Smiley',options:'Smiley Options'},elementsPath:{eleLabel:'Elements path',eleTitle:'%1 element'},numberedlist:'Insert/Remove Numbered List',bulletedlist:'Insert/Remove Bulleted List',indent:'Increase Indent',outdent:'Decrease Indent',justify:{left:'Align Left',center:'Center',right:'Align Right',block:'Justify'},blockquote:'Block Quote',clipboard:{title:'Paste',cutError:"Your browser security settings don't permit the editor to automatically execute cutting operations. Please use the keyboard for that (Ctrl/Cmd+X).",copyError:"Your browser security settings don't permit the editor to automatically execute copying operations. Please use the keyboard for that (Ctrl/Cmd+C).",pasteMsg:'Please paste inside the following box using the keyboard (<strong>Ctrl/Cmd+V</strong>) and hit OK',securityMsg:'Because of your browser security settings, the editor is not able to access your clipboard data directly. You are required to paste it again in this window.',pasteArea:'Paste Area'},pastefromword:{confirmCleanup:'The text you want to paste seems to be copied from Word. Do you want to clean it before pasting?',toolbar:'Paste from Word',title:'Paste from Word',error:'It was not possible to clean up the pasted data due to an internal error'},pasteText:{button:'Paste as plain text',title:'Paste as Plain Text'},templates:{button:'Templates',title:'Content Templates',options:'Template Options',insertOption:'Replace actual contents',selectPromptMsg:'Please select the template to open in the editor',emptyListMsg:'(No templates defined)'},showBlocks:'Show Blocks',stylesCombo:{label:'Styles',panelTitle:'Formatting Styles',panelTitle1:'Block Styles',panelTitle2:'Inline Styles',panelTitle3:'Object Styles'},format:{label:'Format',panelTitle:'Paragraph Format',tag_p:'Normal',tag_pre:'Formatted',tag_address:'Address',tag_h1:'Heading 1',tag_h2:'Heading 2',tag_h3:'Heading 3',tag_h4:'Heading 4',tag_h5:'Heading 5',tag_h6:'Heading 6',tag_div:'Normal (DIV)'},div:{title:'Create Div Container',toolbar:'Create Div Container',cssClassInputLabel:'Stylesheet Classes',styleSelectLabel:'Style',IdInputLabel:'Id',languageCodeInputLabel:' Language Code',inlineStyleInputLabel:'Inline Style',advisoryTitleInputLabel:'Advisory Title',langDirLabel:'Language Direction',langDirLTRLabel:'Left to Right (LTR)',langDirRTLLabel:'Right to Left (RTL)',edit:'Edit Div',remove:'Remove Div'},iframe:{title:'IFrame Properties',toolbar:'IFrame',noUrl:'Please type the iframe URL',scrolling:'Enable scrollbars',border:'Show frame border'},font:{label:'Font',voiceLabel:'Font',panelTitle:'Font Name'},fontSize:{label:'Size',voiceLabel:'Font Size',panelTitle:'Font Size'},colorButton:{textColorTitle:'Text Color',bgColorTitle:'Background Color',panelTitle:'Colors',auto:'Automatic',more:'More Colors...'},colors:{'000':'Black',800000:'Maroon','8B4513':'Saddle Brown','2F4F4F':'Dark Slate Gray','008080':'Teal','000080':'Navy','4B0082':'Indigo',696969:'Dark Gray',B22222:'Fire Brick',A52A2A:'Brown',DAA520:'Golden Rod','006400':'Dark Green','40E0D0':'Turquoise','0000CD':'Medium Blue',800080:'Purple',808080:'Gray',F00:'Red',FF8C00:'Dark Orange',FFD700:'Gold','008000':'Green','0FF':'Cyan','00F':'Blue',EE82EE:'Violet',A9A9A9:'Dim Gray',FFA07A:'Light Salmon',FFA500:'Orange',FFFF00:'Yellow','00FF00':'Lime',AFEEEE:'Pale Turquoise',ADD8E6:'Light Blue',DDA0DD:'Plum',D3D3D3:'Light Grey',FFF0F5:'Lavender Blush',FAEBD7:'Antique White',FFFFE0:'Light Yellow',F0FFF0:'Honeydew',F0FFFF:'Azure',F0F8FF:'Alice Blue',E6E6FA:'Lavender',FFF:'White'},scayt:{title:'Spell Check As You Type',opera_title:'Not supported by Opera',enable:'Enable SCAYT',disable:'Disable SCAYT',about:'About SCAYT',toggle:'Toggle SCAYT',options:'Options',langs:'Languages',moreSuggestions:'More suggestions',ignore:'Ignore',ignoreAll:'Ignore All',addWord:'Add Word',emptyDic:'Dictionary name should not be empty.',optionsTab:'Options',allCaps:'Ignore All-Caps Words',ignoreDomainNames:'Ignore Domain Names',mixedCase:'Ignore Words with Mixed Case',mixedWithDigits:'Ignore Words with Numbers',languagesTab:'Languages',dictionariesTab:'Dictionaries',dic_field_name:'Dictionary name',dic_create:'Create',dic_restore:'Restore',dic_delete:'Delete',dic_rename:'Rename',dic_info:'Initially the User Dictionary is stored in a Cookie. However, Cookies are limited in size. When the User Dictionary grows to a point where it cannot be stored in a Cookie, then the dictionary may be stored on our server. To store your personal dictionary on our server you should specify a name for your dictionary. If you already have a stored dictionary, please type its name and click the Restore button.',aboutTab:'About'},about:{title:'About CKEditor',dlgTitle:'About CKEditor',moreInfo:'For licensing information please visit our web site:',copy:'Copyright &copy; $1. All rights reserved.'},maximize:'Maximize',minimize:'Minimize',fakeobjects:{anchor:'Anchor',flash:'Flash Animation',iframe:'IFrame',hiddenfield:'Hidden Field',unknown:'Unknown Object'},resize:'Drag to resize',colordialog:{title:'Select color',options:'Color Options',highlight:'Highlight',selected:'Selected Color',clear:'Clear'},toolbarCollapse:'Collapse Toolbar',toolbarExpand:'Expand Toolbar',bidi:{ltr:'Text direction from left to right',rtl:'Text direction from right to left'}};
y.add('about',{requires:['dialog'],init:function(B){var C=B.addCommand('about',new p.dialogCommand('about'));C.modes={wysiwyg:1,source:1};C.canUndo=false;B.ui.addButton('About',{label:B.lang.about.title,command:'about'});p.dialog.add('about',this.path+'dialogs/about.js');}});(function(){var B='a11yhelp',C='a11yHelp';y.add(B,{availableLangs:{en:1,he:1},init:function(D){var E=this;D.addCommand(C,{exec:function(){var F=D.langCode;F=E.availableLangs[F]?F:'en';p.scriptLoader.load(p.getUrl(E.path+'lang/'+F+'.js'),function(){t.extend(D.lang,E.lang[F]);D.openDialog(C);});},modes:{wysiwyg:1,source:1},canUndo:false});p.dialog.add(C,this.path+'dialogs/a11yhelp.js');}});})();y.add('basicstyles',{requires:['styles','button'],init:function(B){var C=function(F,G,H,I){var J=new p.style(I);B.attachStyleStateChange(J,function(K){B.getCommand(H).setState(K);});B.addCommand(H,new p.styleCommand(J));B.ui.addButton(F,{label:G,command:H});},D=B.config,E=B.lang;C('Bold',E.bold,'bold',D.coreStyles_bold);C('Italic',E.italic,'italic',D.coreStyles_italic);C('Underline',E.underline,'underline',D.coreStyles_underline);C('Strike',E.strike,'strike',D.coreStyles_strike);C('Subscript',E.subscript,'subscript',D.coreStyles_subscript);C('Superscript',E.superscript,'superscript',D.coreStyles_superscript);}});x.coreStyles_bold={element:'strong',overrides:'b'};x.coreStyles_italic={element:'em',overrides:'i'};x.coreStyles_underline={element:'u'};x.coreStyles_strike={element:'strike'};x.coreStyles_subscript={element:'sub'};x.coreStyles_superscript={element:'sup'};(function(){var B={table:1,ul:1,ol:1,blockquote:1,div:1},C={},D={};t.extend(C,B,{tr:1,p:1,div:1,li:1});t.extend(D,C,{td:1});function E(L){F(L);G(L);};function F(L){var M=L.editor,N=L.data.path,O=M.config.useComputedState,P;O=O===undefined||O;if(!O)P=H(N.lastElement);P=P||N.block||N.blockLimit;P.is('body')&&(P=M.getSelection().getRanges()[0].getEnclosedNode());if(!P)return;var Q=O?P.getComputedStyle('direction'):P.getStyle('direction')||P.getAttribute('dir');M.getCommand('bidirtl').setState(Q=='rtl'?1:2);M.getCommand('bidiltr').setState(Q=='ltr'?1:2);};function G(L){var M=L.editor,N=M.container.getChild(1),O=L.data.path.block||L.data.path.blockLimit;if(O&&M.lang.dir!=O.getComputedStyle('direction'))N.addClass('cke_mixed_dir_content');else N.removeClass('cke_mixed_dir_content');};function H(L){while(L&&!(L.getName() in D||L.is('body'))){var M=L.getParent();if(!M)break;L=M;}return L;};function I(L,M,N,O){w.setMarker(O,L,'bidi_processed',1);var P=L;
while((P=P.getParent())&&!P.is('body')){if(P.getCustomData('bidi_processed')){L.removeStyle('direction');L.removeAttribute('dir');return null;}}var Q='useComputedState' in N.config?N.config.useComputedState:1,R=Q?L.getComputedStyle('direction'):L.getStyle('direction')||L.hasAttribute('dir');if(R==M)return null;var S=Q?R:L.getComputedStyle('direction');L.removeStyle('direction');if(Q){L.removeAttribute('dir');if(M!=L.getComputedStyle('direction'))L.setAttribute('dir',M);}else L.setAttribute('dir',M);if(M!=S)N.fire('dirChanged',{node:L,dir:M});N.forceNextSelectionCheck();return null;};function J(L,M,N){var O=L.getCommonAncestor(false,true);L=L.clone();L.enlarge(N==2?3:2);if(L.checkBoundaryOfElement(O,1)&&L.checkBoundaryOfElement(O,2)){var P;while(O&&O.type==1&&(P=O.getParent())&&P.getChildCount()==1&&!(O.getName() in M))O=P;return O.type==1&&O.getName() in M&&O;}};function K(L){return function(M){var N=M.getSelection(),O=M.config.enterMode,P=N.getRanges();if(P&&P.length){var Q={},R=N.createBookmarks(),S=P.createIterator(),T,U=0;while(T=S.getNextRange(1)){var V=T.getEnclosedNode();if(!V||V&&!(V.type==1&&V.getName() in C))V=J(T,B,O);if(V&&!V.isReadOnly())I(V,L,M,Q);var W,X,Y=new s.walker(T),Z=R[U].startNode,aa=R[U++].endNode;Y.evaluator=function(ab){return!!(ab.type==1&&ab.getName() in B&&!(ab.getName()==(O==1?'p':'div')&&ab.getParent().type==1&&ab.getParent().getName()=='blockquote')&&ab.getPosition(Z)&2&&(ab.getPosition(aa)&4+16)==4);};while(X=Y.next())I(X,L,M,Q);W=T.createIterator();W.enlargeBr=O!=2;while(X=W.getNextParagraph(O==1?'p':'div'))!X.isReadOnly()&&I(X,L,M,Q);}w.clearAllMarkers(Q);M.forceNextSelectionCheck();N.selectBookmarks(R);M.focus();}};};y.add('bidi',{requires:['styles','button'],init:function(L){var M=function(O,P,Q,R){L.addCommand(Q,new p.command(L,{exec:R}));L.ui.addButton(O,{label:P,command:Q});},N=L.lang.bidi;M('BidiLtr',N.ltr,'bidiltr',K('ltr'));M('BidiRtl',N.rtl,'bidirtl',K('rtl'));L.on('selectionChange',E);}});})();(function(){function B(F,G){var H=G.block||G.blockLimit;if(!H||H.getName()=='body')return 2;if(H.getAscendant('blockquote',true))return 1;return 2;};function C(F){var G=F.editor,H=G.getCommand('blockquote');H.state=B(G,F.data.path);H.fire('state');};function D(F){for(var G=0,H=F.getChildCount(),I;G<H&&(I=F.getChild(G));G++){if(I.type==1&&I.isBlockBoundary())return false;}return true;};var E={exec:function(F){var G=F.getCommand('blockquote').state,H=F.getSelection(),I=H&&H.getRanges(true)[0];if(!I)return;var J=H.createBookmarks();
if(r){var K=J[0].startNode,L=J[0].endNode,M;if(K&&K.getParent().getName()=='blockquote'){M=K;while(M=M.getNext()){if(M.type==1&&M.isBlockBoundary()){K.move(M,true);break;}}}if(L&&L.getParent().getName()=='blockquote'){M=L;while(M=M.getPrevious()){if(M.type==1&&M.isBlockBoundary()){L.move(M);break;}}}}var N=I.createIterator(),O;N.enlargeBr=F.config.enterMode!=2;if(G==2){var P=[];while(O=N.getNextParagraph())P.push(O);if(P.length<1){var Q=F.document.createElement(F.config.enterMode==1?'p':'div'),R=J.shift();I.insertNode(Q);Q.append(new s.text('\ufeff',F.document));I.moveToBookmark(R);I.selectNodeContents(Q);I.collapse(true);R=I.createBookmark();P.push(Q);J.unshift(R);}var S=P[0].getParent(),T=[];for(var U=0;U<P.length;U++){O=P[U];S=S.getCommonAncestor(O.getParent());}var V={table:1,tbody:1,tr:1,ol:1,ul:1};while(V[S.getName()])S=S.getParent();var W=null;while(P.length>0){O=P.shift();while(!O.getParent().equals(S))O=O.getParent();if(!O.equals(W))T.push(O);W=O;}while(T.length>0){O=T.shift();if(O.getName()=='blockquote'){var X=new s.documentFragment(F.document);while(O.getFirst()){X.append(O.getFirst().remove());P.push(X.getLast());}X.replace(O);}else P.push(O);}var Y=F.document.createElement('blockquote');Y.insertBefore(P[0]);while(P.length>0){O=P.shift();Y.append(O);}}else if(G==1){var Z=[],aa={};while(O=N.getNextParagraph()){var ab=null,ac=null;while(O.getParent()){if(O.getParent().getName()=='blockquote'){ab=O.getParent();ac=O;break;}O=O.getParent();}if(ab&&ac&&!ac.getCustomData('blockquote_moveout')){Z.push(ac);w.setMarker(aa,ac,'blockquote_moveout',true);}}w.clearAllMarkers(aa);var ad=[],ae=[];aa={};while(Z.length>0){var af=Z.shift();Y=af.getParent();if(!af.getPrevious())af.remove().insertBefore(Y);else if(!af.getNext())af.remove().insertAfter(Y);else{af.breakParent(af.getParent());ae.push(af.getNext());}if(!Y.getCustomData('blockquote_processed')){ae.push(Y);w.setMarker(aa,Y,'blockquote_processed',true);}ad.push(af);}w.clearAllMarkers(aa);for(U=ae.length-1;U>=0;U--){Y=ae[U];if(D(Y))Y.remove();}if(F.config.enterMode==2){var ag=true;while(ad.length){af=ad.shift();if(af.getName()=='div'){X=new s.documentFragment(F.document);var ah=ag&&af.getPrevious()&&!(af.getPrevious().type==1&&af.getPrevious().isBlockBoundary());if(ah)X.append(F.document.createElement('br'));var ai=af.getNext()&&!(af.getNext().type==1&&af.getNext().isBlockBoundary());while(af.getFirst())af.getFirst().remove().appendTo(X);if(ai)X.append(F.document.createElement('br'));X.replace(af);ag=false;
}}}}H.selectBookmarks(J);F.focus();}};y.add('blockquote',{init:function(F){F.addCommand('blockquote',E);F.ui.addButton('Blockquote',{label:F.lang.blockquote,command:'blockquote'});F.on('selectionChange',C);},requires:['domiterator']});})();y.add('button',{beforeInit:function(B){B.ui.addHandler(1,z.button.handler);}});p.UI_BUTTON=1;z.button=function(B){t.extend(this,B,{title:B.label,className:B.className||B.command&&'cke_button_'+B.command||'',click:B.click||(function(C){C.execCommand(B.command);})});this._={};};z.button.handler={create:function(B){return new z.button(B);}};z.button._={instances:[],keydown:function(B,C){var D=z.button._.instances[B];if(D.onkey){C=new s.event(C);return D.onkey(D,C.getKeystroke())!==false;}},focus:function(B,C){var D=z.button._.instances[B],E;if(D.onfocus)E=D.onfocus(D,new s.event(C))!==false;if(q.gecko&&q.version<10900)C.preventBubble();return E;}};(function(){var B=t.addFunction(z.button._.keydown,z.button._),C=t.addFunction(z.button._.focus,z.button._);z.button.prototype={canGroup:true,render:function(D,E){var F=q,G=this._.id=t.getNextId(),H='',I=this.command,J,K;this._.editor=D;var L={id:G,button:this,editor:D,focus:function(){var O=p.document.getById(G);O.focus();},execute:function(){this.button.click(D);}};L.clickFn=J=t.addFunction(L.execute,L);L.index=K=z.button._.instances.push(L)-1;if(this.modes){var M={};D.on('beforeModeUnload',function(){M[D.mode]=this._.state;},this);D.on('mode',function(){var O=D.mode;this.setState(this.modes[O]?M[O]!=undefined?M[O]:2:0);},this);}else if(I){I=D.getCommand(I);if(I){I.on('state',function(){this.setState(I.state);},this);H+='cke_'+(I.state==1?'on':I.state==0?'disabled':'off');}}if(!I)H+='cke_off';if(this.className)H+=' '+this.className;E.push('<span class="cke_button'+(this.icon&&this.icon.indexOf('.png')==-1?' cke_noalphafix':'')+'">','<a id="',G,'" class="',H,'"',F.gecko&&F.version>=10900&&!F.hc?'':'" href="javascript:void(\''+(this.title||'').replace("'",'')+"')\"",' title="',this.title,'" tabindex="-1" hidefocus="true" role="button" aria-labelledby="'+G+'_label"'+(this.hasArrow?' aria-haspopup="true"':''));if(F.opera||F.gecko&&F.mac)E.push(' onkeypress="return false;"');if(F.gecko)E.push(' onblur="this.style.cssText = this.style.cssText;"');E.push(' onkeydown="return CKEDITOR.tools.callFunction(',B,', ',K,', event);" onfocus="return CKEDITOR.tools.callFunction(',C,', ',K,', event);" onclick="CKEDITOR.tools.callFunction(',J,', this); return false;"><span class="cke_icon"');if(this.icon){var N=(this.iconOffset||0)*-16;
E.push(' style="background-image:url(',p.getUrl(this.icon),');background-position:0 '+N+'px;"');}E.push('>&nbsp;</span><span id="',G,'_label" class="cke_label">',this.label,'</span>');if(this.hasArrow)E.push('<span class="cke_buttonarrow">'+(q.hc?'&#9660;':'&nbsp;')+'</span>');E.push('</a>','</span>');if(this.onRender)this.onRender();return L;},setState:function(D){if(this._.state==D)return false;this._.state=D;var E=p.document.getById(this._.id);if(E){E.setState(D);D==0?E.setAttribute('aria-disabled',true):E.removeAttribute('aria-disabled');D==1?E.setAttribute('aria-pressed',true):E.removeAttribute('aria-pressed');return true;}else return false;}};})();z.prototype.addButton=function(B,C){this.add(B,1,C);};p.on('reset',function(){z.button._.instances=[];});var a='$id$';function b(B,C,D,E){var F='',G=null;for(var H=0;H<B.length;H++){var I=B.charAt(H),J=H<B.length-1?B.charAt(H+1):0;if(I==C){if(G==null){if(H==0||B.charAt(H-1)==' '||B.charAt(H-1)=='\t')G='';else F+=I;}else if(J==0||J=='\t'||J==' '){F+=D+G+E;G=null;}else G+=' ';}else if(G==null)F+=I;else G+=I;}if(G!=null)F+=G;return F;};function c(B){return B.replace(/^\s*|\s*$/g,'');};function d(B){var C='',D='',E;if(B.match(/^\s*@a\s/)||!B.match(/\s\^\w+/))C=B;else{while((E=(' '+B).search(/\s\^\w+/))>=0){C+='\n'+c(B.substr(0,E));arg=B.substr(E).match(/^\^\w+/)[0];B=B.substr(E+arg.length);C+="\n<a href='"+arg+"'>"+c(arg.replace(/^[\s^]*|\s*$/g,'').replace(/[_^]/g,' '))+'</a>';if(!B.match(/^[\w\s]/)){C+=B.charAt(0);B=B.substr(1);}B=c(B);}C+='\n'+c(B);}return C;};function e(B){var C=B.replace(/src\s*=\s*("|"|'|')?\^([^""''\s]*)("|"|'|')?/,"src='/site/bp/$2?bwiki=^$2'");return C;};function f(B){var C=B;C=c(C.replace(/</g,'&lt;'));C=b(C,'*','<strong>','</strong>');C=b(C,'_','<em>','</em>');C=d(C);return C;};var g={hr:true,br:true,img:true};function h(B,C){if(C.match(/^\s*@\S+/)){directive=C.replace(/^\s*@/,'');var D=directive;directive=directive.replace(/^(\S+).*/,'$1');var E=directive.indexOf('.'),F='';D=D.substr(directive.length);if(E>0){F=" class='"+directive.substr(E+1)+"'";directive=directive.substr(0,E).toLowerCase();}var G=D.match(/^\s*(\w+=([\"\'][^\"\']*[\"\']|\S*)\s*)+/),H=G==null?'':G[0];D=D.substr(H.length);D=c(f(D));if(directive=='img')H=e(H);H=c(H);if(H.length)H=' '+H;if(g[directive])B.html+='\n<'+directive+F+H+'/>';else if(directive[0]=='/')B.html+='\n<'+directive+'>';else{B.html+='\n<'+directive+F+H+'>';if(c(D).length)B.html+=c(D)+'</'+directive+'>';}}else B.html+='\n'+c(f(C));};function i(B){var C=B,D={html:''};
B=B.replace(/\r/g,'');while(B.length>0){var E=B.indexOf('\n'),F;if(E<0){F=B;B='';}else{F=B.substr(0,E);B=B.substr(E+1);}if(c(F).length==0&&D.html.length)D.html+='\n<br/>\n<br/>';else h(D,F);}return D.html;};var j={strike:'del'};function k(B){B=B.replace(/src=('|'|"|")\/site\/bp\/.*?bwiki=/,'src=$1');return B;};function l(B){if(document=='unit-test')return B;var C=document.createElement('DIV');C.innerHTML=B;if(C.innerText!==undefined)return C.innerText;return C.textContent;};function m(B,C,D){B.bwiki+=C+l(D.replace(/^\s+/,' ').replace(/\s*$/,''));};function n(B){var C=++B.cur;while(B.cur<B.html.length&&B.html.charAt(B.cur)!=' '&&B.html.charAt(B.cur)!='\t'&&B.html.charAt(B.cur)!='/'&&B.html.charAt(B.cur)!='>')B.cur++;var D=B.html.substr(C,B.cur-C),E=j[D]?j[D]:D;while(B.cur<B.html.length&&B.html.substr(B.cur,2)!='/>'&&B.html.charAt(B.cur)!='>')B.cur++;var F='',G='';if(B.cur<B.html.length){F=B.html.substr(C+D.length,B.cur-C-D.length);var H=F.match(/class=[\'\"][^\'\"]*[\'\"]/);if(H!=null){G='.'+H[0].substr(6).replace(/[\'\"]/g,'');F=F.replace(H[0],'');}}if(B.html.charAt(B.cur)=='/'){B.cur+=2;if(E=='img')F=k(F);B.bwiki+='\n@'+D+G+F;}else{if(B.cur<B.html.length)B.cur++;var I='',J=0,K=false;while(B.cur<B.html.length){var L=' ';while(B.cur<B.html.length&&B.html.charAt(B.cur)!='<'){var M;if(B.html.substr(B.cur,6)=='&nbsp;'){B.cur+=6;M=' ';}else M=B.html.charAt(B.cur++);if(M=='\n'||M==' '||M=='\t'){I+=L;L='';}else{I+=M;L=' ';}}if(B.html.charAt(B.cur+1)!='/'){if(!K){B.bwiki+='\n@'+E+G+F;K=true;}if(!I.match(/^\s*$/))m(B,'\n',I);I='';n(B);J++;}else{if(I.match(/^\s*$/)){if(J==0)B.bwiki+='\n@'+E+G+F+'\n@/'+E;}else if(J==0){B.bwiki+='\n@'+E+G+F;m(B,' ',I);}else m(B,'\n',I);break;}}if(B.cur<B.html.length){B.cur+=2;while(B.cur<B.html.length&&B.html.charAt(B.cur)!='>')B.cur++;B.cur++;if(J>0)B.bwiki+='\n@/'+E;}}};function o(B){var C={bwiki:'',html:B.replace(/<!--.*?-->/g,''),cur:0};C.html=C.html.replace(/^(\s*<p>\s*\&nbsp;<\/p>)+/,'');while(C.cur<C.html.length){while(C.cur<C.html.length&&C.html.charAt(C.cur)!='<')C.cur++;if(C.cur<C.html.length){var D=n(C);if(D)C.bwiki+=D;}}C.bwiki=C.bwiki.replace(/^\s*|\s*$/g,'');return C.bwiki;};(function(){var B=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,C='{cke_protected}';function D(ag){var ah=ag.children.length,ai=ag.children[ah-1];while(ai&&ai.type==3&&!t.trim(ai.value))ai=ag.children[--ah];return ai;};function E(ag,ah){var ai=ag.children,aj=D(ag);if(aj){if((ah||!r)&&aj.type==1&&aj.name=='br')ai.pop();if(aj.type==3&&B.test(aj.value))ai.pop();}};function F(ag,ah,ai){if(!ah&&(!ai||typeof ai=='function'&&ai(ag)===false))return false;
if(ah&&r&&(document.documentMode>7||ag.name in u.tr||ag.name in u.$listItem))return false;var aj=D(ag);return!aj||aj&&(aj.type==1&&aj.name=='br'||ag.name=='form'&&aj.name=='input');};function G(ag,ah){return function(ai){E(ai,!ag);if(F(ai,!ag,ah))if(ag||r)ai.add(new p.htmlParser.text('\xa0'));else ai.add(new p.htmlParser.element('br',{}));};};var H=u,I=t.extend({},H.$block,H.$listItem,H.$tableContent);for(var J in I){if(!('br' in H[J]))delete I[J];}delete I.pre;var K={elements:{a:function(ag){var ah=ag.attributes;if(ah&&ah['data-cke-saved-name'])ah['class']=(ah['class']?ah['class']+' ':'')+'cke_anchor';}},attributeNames:[[/^on/,'data-cke-pa-on']]},L={elements:{}};for(J in I)L.elements[J]=G();var M={elementNames:[[/^cke:/,''],[/^\?xml:namespace$/,'']],attributeNames:[[/^data-cke-(saved|pa)-/,''],[/^data-cke-.*/,''],['hidefocus','']],elements:{$:function(ag){var ah=ag.attributes;if(ah){if(ah['data-cke-temp'])return false;var ai=['name','href','src'],aj;for(var ak=0;ak<ai.length;ak++){aj='data-cke-saved-'+ai[ak];aj in ah&&delete ah[ai[ak]];}}return ag;},embed:function(ag){var ah=ag.parent;if(ah&&ah.name=='object'){var ai=ah.attributes.width,aj=ah.attributes.height;ai&&(ag.attributes.width=ai);aj&&(ag.attributes.height=aj);}},param:function(ag){ag.children=[];ag.isEmpty=true;return ag;},a:function(ag){if(!(ag.children.length||ag.attributes.name||ag.attributes['data-cke-saved-name']))return false;},span:function(ag){if(ag.attributes['class']=='Apple-style-span')delete ag.name;},pre:function(ag){r&&E(ag);},html:function(ag){delete ag.attributes.contenteditable;delete ag.attributes['class'];},body:function(ag){delete ag.attributes.spellcheck;delete ag.attributes.contenteditable;},style:function(ag){var ah=ag.children[0];ah&&ah.value&&(ah.value=t.trim(ah.value));if(!ag.attributes.type)ag.attributes.type='text/css';},title:function(ag){var ah=ag.children[0];ah&&(ah.value=ag.attributes['data-cke-title']||'');}},attributes:{'class':function(ag,ah){return t.ltrim(ag.replace(/(?:^|\s+)cke_[^\s]*/g,''))||false;}},comment:function(ag){if(ag.substr(0,C.length)==C){if(ag.substr(C.length,3)=='{C}')ag=ag.substr(C.length+3);else ag=ag.substr(C.length);return new p.htmlParser.cdata(decodeURIComponent(ag));}return ag;}};if(r)M.attributes.style=function(ag,ah){return ag.replace(/(^|;)([^\:]+)/g,function(ai){return ai.toLowerCase();});};function N(ag){var ah=ag.attributes;if(ah.contenteditable!='false')ah['data-cke-editable']=ah.contenteditable?'true':1;ah.contenteditable='false';
};function O(ag){var ah=ag.attributes;switch(ah['data-cke-editable']){case 'true':ah.contenteditable='true';break;case '1':delete ah.contenteditable;break;}};for(J in {input:1,textarea:1}){K.elements[J]=N;M.elements[J]=O;}var P=/<(a|area|img|input)\b([^>]*)>/gi,Q=/\b(href|src|name)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,R=/(?:<style(?=[ >])[^>]*>[\s\S]*<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,S=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,T=/(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,U=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,V=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi;function W(ag){return ag.replace(P,function(ah,ai,aj){return '<'+ai+aj.replace(Q,function(ak,al){if(aj.indexOf('data-cke-saved-'+al)==-1)return ' data-cke-saved-'+ak+' '+ak;return ak;})+'>';});};function X(ag){return ag.replace(R,function(ah){return '<cke:encoded>'+encodeURIComponent(ah)+'</cke:encoded>';});};function Y(ag){return ag.replace(S,function(ah,ai){return decodeURIComponent(ai);});};function Z(ag){return ag.replace(T,'$1cke:$2');};function aa(ag){return ag.replace(U,'$1$2');};function ab(ag){return ag.replace(V,'<cke:$1$2></cke:$1>');};function ac(ag){return ag.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,'$1$2$2');};function ad(ag){return ag.replace(/<!--(?!{cke_protected})[\s\S]+?-->/g,function(ah){return '<!--'+C+'{C}'+encodeURIComponent(ah).replace(/--/g,'%2D%2D')+'-->';});};function ae(ag){return ag.replace(/<!--\{cke_protected\}\{C\}([\s\S]+?)-->/g,function(ah,ai){return decodeURIComponent(ai);});};function af(ag,ah){var ai=[],aj=/<\!--\{cke_temp(comment)?\}(\d*?)-->/g,ak=[/<script[\s\S]*?<\/script>/gi,/<noscript[\s\S]*?<\/noscript>/gi].concat(ah);ag=ag.replace(/<!--[\s\S]*?-->/g,function(am){return '<!--{cke_tempcomment}'+(ai.push(am)-1)+'-->';});for(var al=0;al<ak.length;al++)ag=ag.replace(ak[al],function(am){am=am.replace(aj,function(an,ao,ap){return ai[ap];});return '<!--{cke_temp}'+(ai.push(am)-1)+'-->';});ag=ag.replace(aj,function(am,an,ao){return '<!--'+C+(an?'{C}':'')+encodeURIComponent(ai[ao]).replace(/--/g,'%2D%2D')+'-->';});return ag;};y.add('bwikidataprocessor',{requires:['htmlwriter'],init:function(ag){var ah=ag.dataProcessor=new p.htmlDataProcessor(ag);ah.writer.forceSimpleAmpersand=ag.config.forceSimpleAmpersand;ah.dataFilter.addRules(K);ah.dataFilter.addRules(L);ah.htmlFilter.addRules(M);var ai={elements:{}};for(J in I)ai.elements[J]=G(true,ag.config.fillEmptyBlocks);ah.htmlFilter.addRules(ai);},onLoad:function(){!('fillEmptyBlocks' in x)&&(x.fillEmptyBlocks=1);
}});p.htmlDataProcessor=function(ag){var ah=this;ah.editor=ag;ah.writer=new p.htmlWriter();ah.dataFilter=new p.htmlParser.filter();ah.htmlFilter=new p.htmlParser.filter();};p.htmlDataProcessor.prototype={toHtml:function(ag,ah){if(ah)ag=i(ag);ag=af(ag,this.editor.config.protectedSource);ag=W(ag);ag=X(ag);ag=Z(ag);ag=ab(ag);ag=ac(ag);var ai=new w('div');ai.setHtml('a'+ag);ag=ai.getHtml().substr(1);ag=aa(ag);ag=Y(ag);ag=ae(ag);var aj=p.htmlParser.fragment.fromHtml(ag,ah),ak=new p.htmlParser.basicWriter();aj.writeHtml(ak,this.dataFilter);ag=ak.getHtml(true);ag=ad(ag);return ag;},toDataFormat:function(ag,ah){var ai=this.writer,aj=p.htmlParser.fragment.fromHtml(ag,ah);ai.reset();aj.writeHtml(ai,this.htmlFilter);var ag=ai.getHtml(true),ak=o(ag);return ak;}};})();(function(){var B=function(M,N){var O=M.document,P=O.getBody(),Q=0,R=function(){Q=1;};P.on(N,R);(q.version>7?O.$:O.$.selection.createRange()).execCommand(N);P.removeListener(N,R);return Q;},C=r?function(M,N){return B(M,N);}:function(M,N){try{return M.document.$.execCommand(N,false,null);}catch(O){return false;}},D=function(M){var N=this;N.type=M;N.canUndo=N.type=='cut';N.startDisabled=true;};D.prototype={exec:function(M,N){this.type=='cut'&&H(M);var O=C(M,this.type);if(!O)alert(M.lang.clipboard[this.type+'Error']);return O;}};var E={canUndo:false,exec:r?function(M){M.focus();if(!M.document.getBody().fire('beforepaste')&&!B(M,'paste')){M.fire('pasteDialog');return false;}}:function(M){try{if(!M.document.getBody().fire('beforepaste')&&!M.document.$.execCommand('Paste',false,null))throw 0;}catch(N){setTimeout(function(){M.fire('pasteDialog');},0);return false;}}},F=function(M){if(this.mode!='wysiwyg')return;switch(M.data.keyCode){case 1000+86:case 2000+45:var N=this.document.getBody();if(!r&&N.fire('beforepaste'))M.cancel();else if(q.opera||q.gecko&&q.version<10900)N.fire('paste');return;case 1000+88:case 2000+46:var O=this;this.fire('saveSnapshot');setTimeout(function(){O.fire('saveSnapshot');},0);}};function G(M,N,O){var P=this.document;if(P.getById('cke_pastebin'))return;if(N=='text'&&M.data&&M.data.$.clipboardData){var Q=M.data.$.clipboardData.getData('text/plain');if(Q){M.data.preventDefault();O(Q);return;}}var R=this.getSelection(),S=new s.range(P),T=new w(N=='text'?'textarea':q.webkit?'body':'div',P);T.setAttribute('id','cke_pastebin');q.webkit&&T.append(P.createText('\xa0'));P.getBody().append(T);T.setStyles({position:'absolute',top:R.getStartElement().getDocumentPosition().y+'px',width:'1px',height:'1px',overflow:'hidden'});
T.setStyle(this.config.contentsLangDirection=='ltr'?'left':'right','-1000px');var U=R.createBookmarks();if(N=='text'){if(r){var V=P.getBody().$.createTextRange();V.moveToElementText(T.$);V.execCommand('Paste');M.data.preventDefault();}else T.$.focus();}else{S.setStartAt(T,1);S.setEndAt(T,2);S.select(true);}var W=this;window.setTimeout(function(){N=='text'&&q.gecko&&W.focusGrabber.focus();T.remove();var X;T=q.webkit&&(X=T.getFirst())&&X.is&&X.hasClass('Apple-style-span')?X:T;R.selectBookmarks(U);O(T['get'+(N=='text'?'Value':'Html')]());},0);};function H(M){if(!r||q.quirks)return;var N=M.getSelection(),O;if(N.getType()==3&&(O=N.getSelectedElement())){var P=N.getRanges()[0],Q=M.document.createText('');Q.insertBefore(O);P.setStartBefore(Q);P.setEndAfter(O);N.selectRanges([P]);setTimeout(function(){if(O.getParent()){Q.remove();N.selectElement(O);}},0);}};var I;function J(M,N){r&&(I=1);var O=N.document.$.queryCommandEnabled(M)?2:0;I=0;return O;};var K;function L(){var N=this;if(N.mode!='wysiwyg')return;N.getCommand('cut').setState(K?0:J('Cut',N));N.getCommand('copy').setState(J('Copy',N));var M=K?0:q.webkit?2:J('Paste',N);N.fire('pasteState',M);};y.add('clipboard',{requires:['dialog','bwikidataprocessor'],init:function(M){M.on('paste',function(P){var Q=P.data;if(Q.html)M.insertHtml(Q.html);else if(Q.text)M.insertText(Q.text);},null,null,1000);M.on('pasteDialog',function(P){setTimeout(function(){M.openDialog('paste');},0);});M.on('pasteState',function(P){M.getCommand('paste').setState(P.data);});function N(P,Q,R,S){var T=M.lang[Q];M.addCommand(Q,R);M.ui.addButton(P,{label:T,command:Q});if(M.addMenuItems)M.addMenuItem(Q,{label:T,command:Q,group:'clipboard',order:S});};N('Cut','cut',new D('cut'),1);N('Copy','copy',new D('copy'),4);N('Paste','paste',E,8);p.dialog.add('paste',p.getUrl(this.path+'dialogs/paste.js'));M.on('key',F,M);var O=M.config.forcePasteAsPlainText?'text':'html';M.on('contentDom',function(){var P=M.document.getBody();P.on(O=='text'&&r||q.webkit?'paste':'beforepaste',function(Q){if(I)return;G.call(M,Q,O,function(R){if(!R)return;var S={};S[O]=R;M.fire('paste',S);});});P.on('beforecut',function(){!I&&H(M);});P.on('mouseup',function(){setTimeout(function(){L.call(M);},0);},M);P.on('keyup',L,M);});M.on('selectionChange',function(P){K=P.data.selection.getRanges()[0].checkReadOnly();L.call(M);});if(M.contextMenu)M.contextMenu.addListener(function(P,Q){var R=Q.getRanges()[0].checkReadOnly();return{cut:!R&&J('Cut',M),copy:J('Copy',M),paste:!R&&(q.webkit?2:J('Paste',M))};
});}});})();y.add('colorbutton',{requires:['panelbutton','floatpanel','styles'],init:function(B){var C=B.config,D=B.lang.colorButton,E;if(!q.hc){F('TextColor','fore',D.textColorTitle);F('BGColor','back',D.bgColorTitle);}function F(I,J,K){var L=t.getNextId()+'_colorBox';B.ui.add(I,4,{label:K,title:K,className:'cke_button_'+I.toLowerCase(),modes:{wysiwyg:1},panel:{css:B.skin.editor.css,attributes:{role:'listbox','aria-label':D.panelTitle}},onBlock:function(M,N){N.autoSize=true;N.element.addClass('cke_colorblock');N.element.setHtml(G(M,J,L));N.element.getDocument().getBody().setStyle('overflow','hidden');z.fire('ready',this);var O=N.keys,P=B.lang.dir=='rtl';O[P?37:39]='next';O[40]='next';O[9]='next';O[P?39:37]='prev';O[38]='prev';O[2000+9]='prev';O[32]='click';},onOpen:function(){var M=B.getSelection(),N=M&&M.getStartElement(),O=new s.elementPath(N),P;N=O.block||O.blockLimit;do P=N&&N.getComputedStyle(J=='back'?'background-color':'color')||'transparent';while(J=='back'&&P=='transparent'&&N&&(N=N.getParent()))if(!P||P=='transparent')P='#ffffff';this._.panel._.iframe.getFrameDocument().getById(L).setStyle('background-color',P);}});};function G(I,J,K){var L=[],M=C.colorButton_colors.split(','),N=M.length+(C.colorButton_enableMore?2:1),O=t.addFunction(function(U,V){if(U=='?'){var W=arguments.callee;function X(Z){this.removeListener('ok',X);this.removeListener('cancel',X);Z.name=='ok'&&W(this.getContentElement('picker','selectedColor').getValue(),V);};B.openDialog('colordialog',function(){this.on('ok',X);this.on('cancel',X);});return;}B.focus();I.hide();B.fire('saveSnapshot');new p.style(C['colorButton_'+V+'Style'],{color:'inherit'}).remove(B.document);if(U){var Y=C['colorButton_'+V+'Style'];Y.childRule=V=='back'?function(Z){return H(Z);}:function(Z){return Z.getName()!='a'||H(Z);};new p.style(Y,{color:U}).apply(B.document);}B.fire('saveSnapshot');});L.push('<a class="cke_colorauto" _cke_focus=1 hidefocus=true title="',D.auto,'" onclick="CKEDITOR.tools.callFunction(',O,",null,'",J,"');return false;\" href=\"javascript:void('",D.auto,'\')" role="option" aria-posinset="1" aria-setsize="',N,'"><table role="presentation" cellspacing=0 cellpadding=0 width="100%"><tr><td><span class="cke_colorbox" id="',K,'"></span></td><td colspan=7 align=center>',D.auto,'</td></tr></table></a><table role="presentation" cellspacing=0 cellpadding=0 width="100%">');for(var P=0;P<M.length;P++){if(P%8===0)L.push('</tr><tr>');var Q=M[P].split('/'),R=Q[0],S=Q[1]||R;if(!Q[1])R='#'+R.replace(/^(.)(.)(.)$/,'$1$1$2$2$3$3');
var T=B.lang.colors[S]||S;L.push('<td><a class="cke_colorbox" _cke_focus=1 hidefocus=true title="',T,'" onclick="CKEDITOR.tools.callFunction(',O,",'",R,"','",J,"'); return false;\" href=\"javascript:void('",T,'\')" role="option" aria-posinset="',P+2,'" aria-setsize="',N,'"><span class="cke_colorbox" style="background-color:#',S,'"></span></a></td>');}if(C.colorButton_enableMore===undefined||C.colorButton_enableMore)L.push('</tr><tr><td colspan=8 align=center><a class="cke_colormore" _cke_focus=1 hidefocus=true title="',D.more,'" onclick="CKEDITOR.tools.callFunction(',O,",'?','",J,"');return false;\" href=\"javascript:void('",D.more,"')\"",' role="option" aria-posinset="',N,'" aria-setsize="',N,'">',D.more,'</a></td>');L.push('</tr></table>');return L.join('');};function H(I){return I.getAttribute('contentEditable')=='false'||I.getAttribute('data-nostyle');};}});x.colorButton_colors='000,800000,8B4513,2F4F4F,008080,000080,4B0082,696969,B22222,A52A2A,DAA520,006400,40E0D0,0000CD,800080,808080,F00,FF8C00,FFD700,008000,0FF,00F,EE82EE,A9A9A9,FFA07A,FFA500,FFFF00,00FF00,AFEEEE,ADD8E6,DDA0DD,D3D3D3,FFF0F5,FAEBD7,FFFFE0,F0FFF0,F0FFFF,F0F8FF,E6E6FA,FFF';x.colorButton_foreStyle={element:'span',styles:{color:'#(color)'},overrides:[{element:'font',attributes:{color:null}}]};x.colorButton_backStyle={element:'span',styles:{'background-color':'#(color)'}};(function(){y.colordialog={init:function(B){B.addCommand('colordialog',new p.dialogCommand('colordialog'));p.dialog.add('colordialog',this.path+'dialogs/colordialog.js');}};y.add('colordialog',y.colordialog);})();y.add('contextmenu',{requires:['menu'],onLoad:function(){y.contextMenu=t.createClass({base:p.menu,$:function(B){this.base.call(this,B,{panel:{className:B.skinClass+' cke_contextmenu',attributes:{'aria-label':B.lang.contextmenu.options}}});},proto:{addTarget:function(B,C){if(q.opera&&!('oncontextmenu' in document.body)){var D;B.on('mousedown',function(H){H=H.data;if(H.$.button!=2){if(H.getKeystroke()==1000+1)B.fire('contextmenu',H);return;}if(C&&(q.mac?H.$.metaKey:H.$.ctrlKey))return;var I=H.getTarget();if(!D){var J=I.getDocument();D=J.createElement('input');D.$.type='button';J.getBody().append(D);}D.setAttribute('style','position:absolute;top:'+(H.$.clientY-2)+'px;left:'+(H.$.clientX-2)+'px;width:5px;height:5px;opacity:0.01');});B.on('mouseup',function(H){if(D){D.remove();D=undefined;B.fire('contextmenu',H.data);}});}B.on('contextmenu',function(H){var I=H.data;if(C&&(q.webkit?E:q.mac?I.$.metaKey:I.$.ctrlKey))return;
I.preventDefault();var J=I.getTarget().getDocument().getDocumentElement(),K=I.$.clientX,L=I.$.clientY;t.setTimeout(function(){this.open(J,null,K,L);},0,this);},this);if(q.opera)B.on('keypress',function(H){var I=H.data;if(I.$.keyCode===0)I.preventDefault();});if(q.webkit){var E,F=function(H){E=q.mac?H.data.$.metaKey:H.data.$.ctrlKey;},G=function(){E=0;};B.on('keydown',F);B.on('keyup',G);B.on('contextmenu',G);}},open:function(B,C,D,E){this.editor.focus();B=B||p.document.getDocumentElement();this.show(B,C,D,E);}}});},beforeInit:function(B){B.contextMenu=new y.contextMenu(B);B.addCommand('contextMenu',{exec:function(){B.contextMenu.open(B.document.getBody());}});}});(function(){function B(D){var E=this.att,F=D&&D.hasAttribute(E)&&D.getAttribute(E)||'';if(F!==undefined)this.setValue(F);};function C(){var D;for(var E=0;E<arguments.length;E++){if(arguments[E] instanceof w){D=arguments[E];break;}}if(D){var F=this.att,G=this.getValue();if(F=='dir'){var H=D.getAttribute(F);if(H!=G&&D.getParent())this._.dialog._.editor.fire('dirChanged',{node:D,dir:G||D.getDirection(1)});}if(G)D.setAttribute(F,G);else D.removeAttribute(F,G);}};y.add('dialogadvtab',{createAdvancedTab:function(D,E){if(!E)E={id:1,dir:1,classes:1,styles:1};var F=D.lang.common,G={id:'advanced',label:F.advancedTab,title:F.advancedTab,elements:[{type:'vbox',padding:1,children:[]}]},H=[];if(E.id||E.dir){if(E.id)H.push({id:'advId',att:'id',type:'text',label:F.id,setup:B,commit:C});if(E.dir)H.push({id:'advLangDir',att:'dir',type:'select',label:F.langDir,'default':'',style:'width:100%',items:[[F.notSet,''],[F.langDirLTR,'ltr'],[F.langDirRTL,'rtl']],setup:B,commit:C});G.elements[0].children.push({type:'hbox',widths:['50%','50%'],children:[].concat(H)});}if(E.styles||E.classes){H=[];if(E.styles)H.push({id:'advStyles',att:'style',type:'text',label:F.styles,'default':'',getStyle:function(I,J){var K=this.getValue().match(new RegExp(I+'\\s*:s*([^;]*)','i'));return K?K[1]:J;},updateStyle:function(I,J){var K=this.getValue();if(K)K=K.replace(new RegExp('\\s*'+I+'s*:[^;]*(?:$|;s*)','i'),'').replace(/^[;\s]+/,'').replace(/\s+$/,'');if(J){K&&!/;\s*$/.test(K)&&(K+='; ');K+=I+': '+J;}this.setValue(K,1);},setup:B,commit:C});if(E.classes)H.push({type:'hbox',widths:['45%','55%'],children:[{id:'advCSSClasses',att:'class',type:'text',label:F.cssClasses,'default':'',setup:B,commit:C}]});G.elements[0].children.push({type:'hbox',widths:['50%','50%'],children:[].concat(H)});}return G;}});})();(function(){y.add('div',{requires:['editingblock','domiterator','styles'],init:function(B){var C=B.lang.div;
B.addCommand('creatediv',new p.dialogCommand('creatediv'));B.addCommand('editdiv',new p.dialogCommand('editdiv'));B.addCommand('removediv',{exec:function(D){var E=D.getSelection(),F=E&&E.getRanges(),G,H=E.createBookmarks(),I,J=[];function K(M){var N=new s.elementPath(M),O=N.blockLimit,P=O.is('div')&&O;if(P&&!P.data('cke-div-added')){J.push(P);P.data('cke-div-added');}};for(var L=0;L<F.length;L++){G=F[L];if(G.collapsed)K(E.getStartElement());else{I=new s.walker(G);I.evaluator=K;I.lastForward();}}for(L=0;L<J.length;L++)J[L].remove(true);E.selectBookmarks(H);}});B.ui.addButton('CreateDiv',{label:C.toolbar,command:'creatediv'});if(B.addMenuItems){B.addMenuItems({editdiv:{label:C.edit,command:'editdiv',group:'div',order:1},removediv:{label:C.remove,command:'removediv',group:'div',order:5}});if(B.contextMenu)B.contextMenu.addListener(function(D,E){if(!D||D.isReadOnly())return null;var F=new s.elementPath(D),G=F.blockLimit;if(G&&G.getAscendant('div',true))return{editdiv:2,removediv:2};return null;});}p.dialog.add('creatediv',this.path+'dialogs/div.js');p.dialog.add('editdiv',this.path+'dialogs/div.js');}});})();(function(){var B={toolbarFocus:{exec:function(D){var E=D._.elementsPath.idBase,F=p.document.getById(E+'0');F&&F.focus(r||q.air);}}},C='<span class="cke_empty">&nbsp;</span>';y.add('elementspath',{requires:['selection'],init:function(D){var E='cke_path_'+D.name,F,G=function(){if(!F)F=p.document.getById(E);return F;},H='cke_elementspath_'+t.getNextNumber()+'_';D._.elementsPath={idBase:H,filters:[]};D.on('themeSpace',function(L){if(L.data.space=='bottom')L.data.html+='<span id="'+E+'_label" class="cke_voice_label">'+D.lang.elementsPath.eleLabel+'</span>'+'<div id="'+E+'" class="cke_path" role="group" aria-labelledby="'+E+'_label">'+C+'</div>';});function I(L){D.focus();var M=D._.elementsPath.list[L];if(M.is('body')){var N=new s.range(D.document);N.selectNodeContents(M);N.select();}else D.getSelection().selectElement(M);};var J=t.addFunction(I),K=t.addFunction(function(L,M){var N=D._.elementsPath.idBase,O;M=new s.event(M);var P=D.lang.dir=='rtl';switch(M.getKeystroke()){case P?39:37:case 9:O=p.document.getById(N+(L+1));if(!O)O=p.document.getById(N+'0');O.focus();return false;case P?37:39:case 2000+9:O=p.document.getById(N+(L-1));if(!O)O=p.document.getById(N+(D._.elementsPath.list.length-1));O.focus();return false;case 27:D.focus();return false;case 13:case 32:I(L);return false;}return true;});D.on('selectionChange',function(L){var M=q,N=L.data.selection,O=N.getStartElement(),P=[],Q=L.editor,R=Q._.elementsPath.list=[],S=Q._.elementsPath.filters;
while(O){var T=0;for(var U=0;U<S.length;U++){if(S[U](O)===false){T=1;break;}}if(!T){var V=R.push(O)-1,W;if(O.data('cke-real-element-type'))W=O.data('cke-real-element-type');else W=O.getName();var X='';if(M.opera||M.gecko&&M.mac)X+=' onkeypress="return false;"';if(M.gecko)X+=' onblur="this.style.cssText = this.style.cssText;"';var Y=Q.lang.elementsPath.eleTitle.replace(/%1/,W);P.unshift('<a id="',H,V,'" href="javascript:void(\'',W,'\')" tabindex="-1" title="',Y,'"'+(q.gecko&&q.version<10900?' onfocus="event.preventBubble();"':'')+' hidefocus="true" '+' onkeydown="return CKEDITOR.tools.callFunction(',K,',',V,', event );"'+X,' onclick="CKEDITOR.tools.callFunction('+J,',',V,'); return false;"',' role="button" aria-labelledby="'+H+V+'_label">',W,'<span id="',H,V,'_label" class="cke_label">'+Y+'</span>','</a>');}if(W=='body')break;O=O.getParent();}var Z=G();Z.setHtml(P.join('')+C);Q.fire('elementsPathUpdate',{space:Z});});D.on('contentDomUnload',function(){F&&F.setHtml(C);});D.addCommand('elementsPathFocus',B.toolbarFocus);}});})();(function(){y.add('enterkey',{requires:['keystrokes','indent'],init:function(I){var J=I.specialKeys;J[13]=G;J[2000+13]=F;}});y.enterkey={enterBlock:function(I,J,K,L){K=K||H(I);if(!K)return;var M=K.document;if(K.checkStartOfBlock()&&K.checkEndOfBlock()){var N=new s.elementPath(K.startContainer),O=N.block;if(O&&(O.is('li')||O.getParent().is('li'))){I.execCommand('outdent');return;}}var P=J==3?'div':'p',Q=K.splitBlock(P);if(!Q)return;var R=Q.previousBlock,S=Q.nextBlock,T=Q.wasStartOfBlock,U=Q.wasEndOfBlock,V;if(S){V=S.getParent();if(V.is('li')){S.breakParent(V);S.move(S.getNext(),1);}}else if(R&&(V=R.getParent())&&V.is('li')){R.breakParent(V);K.moveToElementEditStart(R.getNext());R.move(R.getPrevious());}if(!T&&!U){if(S.is('li')&&(V=S.getFirst(s.walker.invisible(true)))&&V.is&&V.is('ul','ol'))(r?M.createText('\xa0'):M.createElement('br')).insertBefore(V);if(S)K.moveToElementEditStart(S);}else{var W,X;if(R){if(R.is('li')||!E.test(R.getName()))W=R.clone();}else if(S)W=S.clone();if(!W){W=M.createElement(P);if(R&&(X=R.getDirection()))W.setAttribute('dir',X);}else if(L&&!W.is('li'))W.renameNode(P);var Y=Q.elementPath;if(Y)for(var Z=0,aa=Y.elements.length;Z<aa;Z++){var ab=Y.elements[Z];if(ab.equals(Y.block)||ab.equals(Y.blockLimit))break;if(u.$removeEmpty[ab.getName()]){ab=ab.clone();W.moveChildren(ab);W.append(ab);}}if(!r)W.appendBogus();K.insertNode(W);if(r&&T&&(!U||!R.getChildCount())){K.moveToElementEditStart(U?R:W);K.select();}K.moveToElementEditStart(T&&!U?S:W);
}if(!r)if(S){var ac=M.createElement('span');ac.setHtml('&nbsp;');K.insertNode(ac);ac.scrollIntoView();K.deleteContents();}else W.scrollIntoView();K.select();},enterBr:function(I,J,K,L){K=K||H(I);if(!K)return;var M=K.document,N=J==3?'div':'p',O=K.checkEndOfBlock(),P=new s.elementPath(I.getSelection().getStartElement()),Q=P.block,R=Q&&P.block.getName(),S=false;if(!L&&R=='li'){D(I,J,K,L);return;}if(!L&&O&&E.test(R)){var T,U;if(U=Q.getDirection()){T=M.createElement('div');T.setAttribute('dir',U);T.insertAfter(Q);K.setStart(T,0);}else{M.createElement('br').insertAfter(Q);if(q.gecko)M.createText('').insertAfter(Q);K.setStartAt(Q.getNext(),r?3:1);}}else{var V;S=R=='pre';if(S&&!q.gecko)V=M.createText(r?'\r':'\n');else V=M.createElement('br');K.deleteContents();K.insertNode(V);if(!r)M.createText('\ufeff').insertAfter(V);if(O&&!r)V.getParent().appendBogus();if(!r)V.getNext().$.nodeValue='';if(r)K.setStartAt(V,4);else K.setStartAt(V.getNext(),1);if(!r){var W=null;if(!q.gecko){W=M.createElement('span');W.setHtml('&nbsp;');}else W=M.createElement('br');W.insertBefore(V.getNext());W.scrollIntoView();W.remove();}}K.collapse(true);K.select(S);}};var B=y.enterkey,C=B.enterBr,D=B.enterBlock,E=/^h[1-6]$/;function F(I){if(I.mode!='wysiwyg')return false;if(I.getSelection().getStartElement().hasAscendant('pre',true)){setTimeout(function(){D(I,I.config.enterMode,null,true);},0);return true;}else return G(I,I.config.shiftEnterMode,1);};function G(I,J,K){K=I.config.forceEnterMode||K;if(I.mode!='wysiwyg')return false;if(!J)J=I.config.enterMode;setTimeout(function(){I.fire('saveSnapshot');if(J==2||I.getSelection().getStartElement().hasAscendant('pre',1))C(I,J,null,K);else D(I,J,null,K);},0);return true;};function H(I){var J=I.getSelection().getRanges(true);for(var K=J.length-1;K>0;K--)J[K].deleteContents();return J[0];};})();(function(){var B='nbsp,gt,lt',C='quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro',D='Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml',E='Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv';
function F(G,H){var I={},J=[],K={nbsp:'\xa0',shy:'­',gt:'>',lt:'<'};G=G.replace(/\b(nbsp|shy|gt|lt|amp)(?:,|$)/g,function(P,Q){var R=H?'&'+Q+';':K[Q],S=H?K[Q]:'&'+Q+';';I[R]=S;J.push(R);return '';});if(!H&&G){G=G.split(',');var L=document.createElement('div'),M;L.innerHTML='&'+G.join(';&')+';';M=L.innerHTML;L=null;for(var N=0;N<M.length;N++){var O=M.charAt(N);I[O]='&'+G[N]+';';J.push(O);}}I.regex=J.join(H?'|':'');return I;};y.add('entities',{afterInit:function(G){var H=G.config,I=G.dataProcessor,J=I&&I.htmlFilter;if(J){var K=B;if(H.entities){K+=','+C;if(H.entities_latin)K+=','+D;if(H.entities_greek)K+=','+E;if(H.entities_additional)K+=','+H.entities_additional;}var L=F(K),M='['+L.regex+']';delete L.regex;if(H.entities&&H.entities_processNumerical)M='[^ -~]|'+M;M=new RegExp(M,'g');function N(R){return H.entities_processNumerical=='force'||!L[R]?'&#'+R.charCodeAt(0)+';':L[R];};var O=F([B,'shy'].join(','),true),P=new RegExp(O.regex,'g');function Q(R){return O[R];};J.addRules({text:function(R){return R.replace(P,Q).replace(M,N);}});}}});})();x.entities=true;x.entities_latin=true;x.entities_greek=true;x.entities_additional='#39';(function(){function B(K,L){var M=[];if(!L)return K;else for(var N in L)M.push(N+'='+encodeURIComponent(L[N]));return K+(K.indexOf('?')!=-1?'&':'?')+M.join('&');};function C(K){K+='';var L=K.charAt(0).toUpperCase();return L+K.substr(1);};function D(K){var R=this;var L=R.getDialog(),M=L.getParentEditor();M._.filebrowserSe=R;var N=M.config['filebrowser'+C(L.getName())+'WindowWidth']||M.config.filebrowserWindowWidth||'80%',O=M.config['filebrowser'+C(L.getName())+'WindowHeight']||M.config.filebrowserWindowHeight||'70%',P=R.filebrowser.params||{};P.CKEditor=M.name;P.CKEditorFuncNum=M._.filebrowserFn;if(!P.langCode)P.langCode=M.langCode;var Q=B(R.filebrowser.url,P);M.popup(Q,N,O,M.config.fileBrowserWindowFeatures);};function E(K){var N=this;var L=N.getDialog(),M=L.getParentEditor();M._.filebrowserSe=N;if(!L.getContentElement(N['for'][0],N['for'][1]).getInputElement().$.value)return false;if(!L.getContentElement(N['for'][0],N['for'][1]).getAction())return false;return true;};function F(K,L,M){var N=M.params||{};N.CKEditor=K.name;N.CKEditorFuncNum=K._.filebrowserFn;if(!N.langCode)N.langCode=K.langCode;L.action=B(M.url,N);L.filebrowser=M;};function G(K,L,M,N){var O,P;for(var Q in N){O=N[Q];if(O.type=='hbox'||O.type=='vbox')G(K,L,M,O.children);if(!O.filebrowser)continue;if(typeof O.filebrowser=='string'){var R={action:O.type=='fileButton'?'QuickUpload':'Browse',target:O.filebrowser};
O.filebrowser=R;}if(O.filebrowser.action=='Browse'){var S=O.filebrowser.url;if(S===undefined){S=K.config['filebrowser'+C(L)+'BrowseUrl'];if(S===undefined)S=K.config.filebrowserBrowseUrl;}if(S){O.onClick=D;O.filebrowser.url=S;O.hidden=false;}}else if(O.filebrowser.action=='QuickUpload'&&O['for']){S=O.filebrowser.url;if(S===undefined){S=K.config['filebrowser'+C(L)+'UploadUrl'];if(S===undefined)S=K.config.filebrowserUploadUrl;}if(S){var T=O.onClick;O.onClick=function(U){var V=U.sender;if(T&&T.call(V,U)===false)return false;return E.call(V,U);};O.filebrowser.url=S;O.hidden=false;F(K,M.getContents(O['for'][0]).get(O['for'][1]),O.filebrowser);}}}};function H(K,L){var M=L.getDialog(),N=L.filebrowser.target||null;K=K.replace(/#/g,'%23');if(N){var O=N.split(':'),P=M.getContentElement(O[0],O[1]);if(P){P.setValue(K);M.selectPage(O[0]);}}};function I(K,L,M){if(M.indexOf(';')!==-1){var N=M.split(';');for(var O=0;O<N.length;O++){if(I(K,L,N[O]))return true;}return false;}var P=K.getContents(L).get(M).filebrowser;return P&&P.url;};function J(K,L){var P=this;var M=P._.filebrowserSe.getDialog(),N=P._.filebrowserSe['for'],O=P._.filebrowserSe.filebrowser.onSelect;if(N)M.getContentElement(N[0],N[1]).reset();if(typeof L=='function'&&L.call(P._.filebrowserSe)===false)return;if(O&&O.call(P._.filebrowserSe,K,L)===false)return;if(typeof L=='string'&&L)alert(L);if(K)H(K,P._.filebrowserSe);};y.add('filebrowser',{init:function(K,L){K._.filebrowserFn=t.addFunction(J,K);K.on('destroy',function(){t.removeFunction(this._.filebrowserFn);});}});p.on('dialogDefinition',function(K){var L=K.data.definition,M;for(var N in L.contents){if(M=L.contents[N]){G(K.editor,K.data.name,L,M.elements);if(M.hidden&&M.filebrowser)M.hidden=!I(L,M.id,M.filebrowser);}}});})();y.add('find',{init:function(B){var C=y.find;B.ui.addButton('Find',{label:B.lang.findAndReplace.find,command:'find'});var D=B.addCommand('find',new p.dialogCommand('find'));D.canUndo=false;B.ui.addButton('Replace',{label:B.lang.findAndReplace.replace,command:'replace'});var E=B.addCommand('replace',new p.dialogCommand('replace'));E.canUndo=false;p.dialog.add('find',this.path+'dialogs/find.js');p.dialog.add('replace',this.path+'dialogs/find.js');},requires:['styles']});x.find_highlight={element:'span',styles:{'background-color':'#004',color:'#fff'}};(function(){var B=/\.swf(?:$|\?)/i,C=t.cssLength;function D(F){var G=F.attributes;return G.type=='application/x-shockwave-flash'||B.test(G.src||'');};function E(F,G){var H=F.createFakeParserElement(G,'cke_flash','flash',true),I=H.attributes.style||'',J=G.attributes.width,K=G.attributes.height;
if(typeof J!='undefined')I=H.attributes.style=I+'width:'+C(J)+';';if(typeof K!='undefined')I=H.attributes.style=I+'height:'+C(K)+';';return H;};y.add('flash',{init:function(F){F.addCommand('flash',new p.dialogCommand('flash'));F.ui.addButton('Flash',{label:F.lang.common.flash,command:'flash'});p.dialog.add('flash',this.path+'dialogs/flash.js');F.addCss('img.cke_flash{background-image: url('+p.getUrl(this.path+'images/placeholder.png')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 80px;'+'height: 80px;'+'}');if(F.addMenuItems)F.addMenuItems({flash:{label:F.lang.flash.properties,command:'flash',group:'flash'}});F.on('doubleclick',function(G){var H=G.data.element;if(H.is('img')&&H.data('cke-real-element-type')=='flash')G.data.dialog='flash';});if(F.contextMenu)F.contextMenu.addListener(function(G,H){if(G&&G.is('img')&&!G.isReadOnly()&&G.data('cke-real-element-type')=='flash')return{flash:2};});},afterInit:function(F){var G=F.dataProcessor,H=G&&G.dataFilter;if(H)H.addRules({elements:{'cke:object':function(I){var J=I.attributes,K=J.classid&&String(J.classid).toLowerCase();if(!K){for(var L=0;L<I.children.length;L++){if(I.children[L].name=='cke:embed'){if(!D(I.children[L]))return null;return E(F,I);}}return null;}return E(F,I);},'cke:embed':function(I){if(!D(I))return null;return E(F,I);}}},5);},requires:['fakeobjects']});})();t.extend(x,{flashEmbedTagOnly:false,flashAddEmbedTag:true,flashConvertOnEdit:false});(function(){function B(C,D,E,F,G,H,I){var J=C.config,K=G.split(';'),L=[],M={};for(var N=0;N<K.length;N++){var O=K[N];if(O){O=O.split('/');var P={},Q=K[N]=O[0];P[E]=L[N]=O[1]||Q;M[Q]=new p.style(I,P);M[Q]._.definition.name=Q;}else K.splice(N--,1);}C.ui.addRichCombo(D,{label:F.label,title:F.panelTitle,className:'cke_'+(E=='size'?'fontSize':'font'),panel:{css:C.skin.editor.css.concat(J.contentsCss),multiSelect:false,attributes:{'aria-label':F.panelTitle}},init:function(){this.startGroup(F.panelTitle);for(var R=0;R<K.length;R++){var S=K[R];this.add(S,M[S].buildPreview(),S);}},onClick:function(R){C.focus();C.fire('saveSnapshot');var S=M[R];if(this.getValue()==R)S.remove(C.document);else S.apply(C.document);C.fire('saveSnapshot');},onRender:function(){C.on('selectionChange',function(R){var S=this.getValue(),T=R.data.path,U=T.elements;for(var V=0,W;V<U.length;V++){W=U[V];for(var X in M){if(M[X].checkElementRemovable(W,true)){if(X!=S)this.setValue(X);return;}}}this.setValue('',H);},this);}});};y.add('font',{requires:['richcombo','styles'],init:function(C){var D=C.config;
B(C,'Font','family',C.lang.font,D.font_names,D.font_defaultLabel,D.font_style);B(C,'FontSize','size',C.lang.fontSize,D.fontSize_sizes,D.fontSize_defaultLabel,D.fontSize_style);}});})();x.font_names='Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif';x.font_defaultLabel='';x.font_style={element:'span',styles:{'font-family':'#(family)'},overrides:[{element:'font',attributes:{face:null}}]};x.fontSize_sizes='8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px';x.fontSize_defaultLabel='';x.fontSize_style={element:'span',styles:{'font-size':'#(size)'},overrides:[{element:'font',attributes:{size:null}}]};y.add('format',{requires:['richcombo','styles'],init:function(B){var C=B.config,D=B.lang.format,E=C.format_tags.split(';'),F={};for(var G=0;G<E.length;G++){var H=E[G];F[H]=new p.style(C['format_'+H]);F[H]._.enterMode=B.config.enterMode;}B.ui.addRichCombo('Format',{label:D.label,title:D.panelTitle,className:'cke_format',panel:{css:B.skin.editor.css.concat(C.contentsCss),multiSelect:false,attributes:{'aria-label':D.panelTitle}},init:function(){this.startGroup(D.panelTitle);for(var I in F){var J=D['tag_'+I];this.add(I,'<'+I+'>'+J+'</'+I+'>',J);}},onClick:function(I){B.focus();B.fire('saveSnapshot');var J=F[I],K=new s.elementPath(B.getSelection().getStartElement());J[J.checkActive(K)?'remove':'apply'](B.document);setTimeout(function(){B.fire('saveSnapshot');},0);},onRender:function(){B.on('selectionChange',function(I){var J=this.getValue(),K=I.data.path;for(var L in F){if(F[L].checkActive(K)){if(L!=J)this.setValue(L,B.lang.format['tag_'+L]);return;}}this.setValue('');},this);}});}});x.format_tags='p;h1;h2;h3;h4;h5;h6;pre;address;div';x.format_p={element:'p'};x.format_div={element:'div'};x.format_pre={element:'pre'};x.format_address={element:'address'};x.format_h1={element:'h1'};x.format_h2={element:'h2'};x.format_h3={element:'h3'};x.format_h4={element:'h4'};x.format_h5={element:'h5'};x.format_h6={element:'h6'};y.add('forms',{init:function(B){var C=B.lang;B.addCss('form{border: 1px dotted #FF0000;padding: 2px;}\n');B.addCss('img.cke_hidden{background-image: url('+p.getUrl(this.path+'images/hiddenfield.gif')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 16px !important;'+'height: 16px !important;'+'}');
var D=function(F,G,H){B.addCommand(G,new p.dialogCommand(G));B.ui.addButton(F,{label:C.common[F.charAt(0).toLowerCase()+F.slice(1)],command:G});p.dialog.add(G,H);},E=this.path+'dialogs/';D('Form','form',E+'form.js');D('Checkbox','checkbox',E+'checkbox.js');D('Radio','radio',E+'radio.js');D('TextField','textfield',E+'textfield.js');D('Textarea','textarea',E+'textarea.js');D('Select','select',E+'select.js');D('Button','button',E+'button.js');D('ImageButton','imagebutton',y.getPath('image')+'dialogs/image.js');D('HiddenField','hiddenfield',E+'hiddenfield.js');if(B.addMenuItems)B.addMenuItems({form:{label:C.form.menu,command:'form',group:'form'},checkbox:{label:C.checkboxAndRadio.checkboxTitle,command:'checkbox',group:'checkbox'},radio:{label:C.checkboxAndRadio.radioTitle,command:'radio',group:'radio'},textfield:{label:C.textfield.title,command:'textfield',group:'textfield'},hiddenfield:{label:C.hidden.title,command:'hiddenfield',group:'hiddenfield'},imagebutton:{label:C.image.titleButton,command:'imagebutton',group:'imagebutton'},button:{label:C.button.title,command:'button',group:'button'},select:{label:C.select.title,command:'select',group:'select'},textarea:{label:C.textarea.title,command:'textarea',group:'textarea'}});if(B.contextMenu){B.contextMenu.addListener(function(F){if(F&&F.hasAscendant('form',true)&&!F.isReadOnly())return{form:2};});B.contextMenu.addListener(function(F){if(F&&!F.isReadOnly()){var G=F.getName();if(G=='select')return{select:2};if(G=='textarea')return{textarea:2};if(G=='input')switch(F.getAttribute('type')){case 'button':case 'submit':case 'reset':return{button:2};case 'checkbox':return{checkbox:2};case 'radio':return{radio:2};case 'image':return{imagebutton:2};default:return{textfield:2};}if(G=='img'&&F.data('cke-real-element-type')=='hiddenfield')return{hiddenfield:2};}});}B.on('doubleclick',function(F){var G=F.data.element;if(G.is('form'))F.data.dialog='form';else if(G.is('select'))F.data.dialog='select';else if(G.is('textarea'))F.data.dialog='textarea';else if(G.is('img')&&G.data('cke-real-element-type')=='hiddenfield')F.data.dialog='hiddenfield';else if(G.is('input'))switch(G.getAttribute('type')){case 'button':case 'submit':case 'reset':F.data.dialog='button';break;case 'checkbox':F.data.dialog='checkbox';break;case 'radio':F.data.dialog='radio';break;case 'image':F.data.dialog='imagebutton';break;default:F.data.dialog='textfield';break;}});},afterInit:function(B){var C=B.dataProcessor,D=C&&C.htmlFilter,E=C&&C.dataFilter;if(r)D&&D.addRules({elements:{input:function(F){var G=F.attributes,H=G.type;
if(!H)G.type='text';if(H=='checkbox'||H=='radio')G.value=='on'&&delete G.value;}}});if(E)E.addRules({elements:{input:function(F){if(F.attributes.type=='hidden')return B.createFakeParserElement(F,'cke_hidden','hiddenfield');}}});},requires:['image','fakeobjects']});if(r)w.prototype.hasAttribute=function(B){var E=this;var C=E.$.attributes.getNamedItem(B);if(E.getName()=='input')switch(B){case 'class':return E.$.className.length>0;case 'checked':return!!E.$.checked;case 'value':var D=E.getAttribute('type');return D=='checkbox'||D=='radio'?E.$.value!='on':E.$.value;}return!!(C&&C.specified);};(function(){var B={canUndo:false,exec:function(D){D.insertElement(D.document.createElement('hr'));}},C='horizontalrule';y.add(C,{init:function(D){D.addCommand(C,B);D.ui.addButton('HorizontalRule',{label:D.lang.horizontalrule,command:C});}});})();(function(){function B(C,D){var E=C.createFakeParserElement(D,'cke_iframe','iframe',true),F=E.attributes.style||'',G=D.attributes.width,H=D.attributes.height;if(typeof G!='undefined')F+='width:'+t.cssLength(G)+';';if(typeof H!='undefined')F+='height:'+t.cssLength(H)+';';E.attributes.style=F;return E;};y.add('iframe',{requires:['dialog','fakeobjects'],init:function(C){var D='iframe',E=C.lang.iframe;p.dialog.add(D,this.path+'dialogs/iframe.js');C.addCommand(D,new p.dialogCommand(D));C.addCss('img.cke_iframe{background-image: url('+p.getUrl(this.path+'images/placeholder.png')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 80px;'+'height: 80px;'+'}');C.ui.addButton('Iframe',{label:E.toolbar,command:D});C.on('doubleclick',function(F){var G=F.data.element;if(G.is('img')&&G.data('cke-real-element-type')=='iframe')F.data.dialog='iframe';});if(C.addMenuItems)C.addMenuItems({iframe:{label:E.title,command:'iframe',group:'image'}});if(C.contextMenu)C.contextMenu.addListener(function(F,G){if(F&&F.is('img')&&F.data('cke-real-element-type')=='iframe')return{iframe:2};});},afterInit:function(C){var D=C.dataProcessor,E=D&&D.dataFilter;if(E)E.addRules({elements:{iframe:function(F){return B(C,F);}}});}});})();y.add('image',{init:function(B){var C='image';p.dialog.add(C,this.path+'dialogs/image.js');B.addCommand(C,new p.dialogCommand(C));B.ui.addButton('Image',{label:B.lang.common.image,command:C});B.on('doubleclick',function(D){var E=D.data.element;if(E.is('img')&&!E.data('cke-realelement'))D.data.dialog='image';});if(B.addMenuItems)B.addMenuItems({image:{label:B.lang.image.menu,command:'image',group:'image'}});
if(B.contextMenu)B.contextMenu.addListener(function(D,E){if(!D||!D.is('img')||D.data('cke-realelement')||D.isReadOnly())return null;return{image:2};});}});x.image_removeLinkByEmptyURL=true;(function(){var B={ol:1,ul:1},C=s.walker.whitespaces(true),D=s.walker.bookmark(false,true);function E(I){var R=this;var J=I.editor,K=I.data.path,L=K&&K.contains(B);if(L)return R.setState(2);if(!R.useIndentClasses&&R.name=='indent')return R.setState(2);var M=I.data.path,N=M.block||M.blockLimit;if(!N)return R.setState(0);if(R.useIndentClasses){var O=N.$.className.match(R.classNameRegex),P=0;if(O){O=O[1];P=R.indentClassMap[O];}if(R.name=='outdent'&&!P||R.name=='indent'&&P==J.config.indentClasses.length)return R.setState(0);return R.setState(2);}else{var Q=parseInt(N.getStyle(G(N)),10);if(isNaN(Q))Q=0;if(Q<=0)return R.setState(0);return R.setState(2);}};function F(I,J){var L=this;L.name=J;L.useIndentClasses=I.config.indentClasses&&I.config.indentClasses.length>0;if(L.useIndentClasses){L.classNameRegex=new RegExp('(?:^|\\s+)('+I.config.indentClasses.join('|')+')(?=$|\\s)');L.indentClassMap={};for(var K=0;K<I.config.indentClasses.length;K++)L.indentClassMap[I.config.indentClasses[K]]=K+1;}L.startDisabled=J=='outdent';};function G(I,J){return(J||I.getComputedStyle('direction'))=='ltr'?'margin-left':'margin-right';};function H(I){return I.type=1&&I.is('li');};F.prototype={exec:function(I){var J=this,K={};function L(ab){var ac=R.startContainer,ad=R.endContainer;while(ac&&!ac.getParent().equals(ab))ac=ac.getParent();while(ad&&!ad.getParent().equals(ab))ad=ad.getParent();if(!ac||!ad)return;var ae=ac,af=[],ag=false;while(!ag){if(ae.equals(ad))ag=true;af.push(ae);ae=ae.getNext();}if(af.length<1)return;var ah=ab.getParents(true);for(var ai=0;ai<ah.length;ai++){if(ah[ai].getName&&B[ah[ai].getName()]){ab=ah[ai];break;}}var aj=J.name=='indent'?1:-1,ak=af[0],al=af[af.length-1],am=y.list.listToArray(ab,K),an=am[al.getCustomData('listarray_index')].indent;for(ai=ak.getCustomData('listarray_index');ai<=al.getCustomData('listarray_index');ai++){am[ai].indent+=aj;var ao=am[ai].parent;am[ai].parent=new w(ao.getName(),ao.getDocument());}for(ai=al.getCustomData('listarray_index')+1;ai<am.length&&am[ai].indent>an;ai++)am[ai].indent+=aj;var ap=y.list.arrayToList(am,K,null,I.config.enterMode,ab.getDirection());if(J.name=='outdent'){var aq;if((aq=ab.getParent())&&aq.is('li')){var ar=ap.listNode.getChildren(),as=[],at=ar.count(),au;for(ai=at-1;ai>=0;ai--){if((au=ar.getItem(ai))&&au.is&&au.is('li'))as.push(au);
}}}if(ap)ap.listNode.replace(ab);if(as&&as.length)for(ai=0;ai<as.length;ai++){var av=as[ai],aw=av;while((aw=aw.getNext())&&aw.is&&aw.getName() in B){if(r&&!av.getFirst(function(ax){return C(ax)&&D(ax);}))av.append(R.document.createText('\xa0'));av.append(aw);}av.insertAfter(aq);}};function M(){var ab=R.createIterator(),ac=I.config.enterMode;ab.enforceRealBlocks=true;ab.enlargeBr=ac!=2;var ad;while(ad=ab.getNextParagraph(ac==1?'p':'div'))N(ad);};function N(ab,ac){if(ab.getCustomData('indent_processed'))return false;if(J.useIndentClasses){var ad=ab.$.className.match(J.classNameRegex),ae=0;if(ad){ad=ad[1];ae=J.indentClassMap[ad];}if(J.name=='outdent')ae--;else ae++;if(ae<0)return false;ae=Math.min(ae,I.config.indentClasses.length);ae=Math.max(ae,0);ab.$.className=t.ltrim(ab.$.className.replace(J.classNameRegex,''));if(ae>0)ab.addClass(I.config.indentClasses[ae-1]);}else{var af=G(ab,ac),ag=parseInt(ab.getStyle(af),10);if(isNaN(ag))ag=0;var ah=I.config.indentOffset||40;ag+=(J.name=='indent'?1:-1)*ah;if(ag<0)return false;ag=Math.max(ag,0);ag=Math.ceil(ag/ah)*ah;ab.setStyle(af,ag?ag+(I.config.indentUnit||'px'):'');if(ab.getAttribute('style')==='')ab.removeAttribute('style');}w.setMarker(K,ab,'indent_processed',1);return true;};var O=I.getSelection(),P=O.createBookmarks(1),Q=O&&O.getRanges(1),R,S=Q.createIterator();while(R=S.getNextRange()){var T=R.getCommonAncestor(),U=T;while(U&&!(U.type==1&&B[U.getName()]))U=U.getParent();if(!U){var V=R.getEnclosedNode();if(V&&V.type==1&&V.getName() in B){R.setStartAt(V,1);R.setEndAt(V,2);U=V;}}if(U&&R.startContainer.type==1&&R.startContainer.getName() in B){var W=new s.walker(R);W.evaluator=H;R.startContainer=W.next();}if(U&&R.endContainer.type==1&&R.endContainer.getName() in B){W=new s.walker(R);W.evaluator=H;R.endContainer=W.previous();}if(U){var X=U.getFirst(H),Y=!!X.getNext(H),Z=R.startContainer,aa=X.equals(Z)||X.contains(Z);if(!(aa&&(J.name=='indent'||J.useIndentClasses||parseInt(U.getStyle(G(U)),10))&&N(U,!Y&&X.getDirection())))L(U);}else M();}w.clearAllMarkers(K);I.forceNextSelectionCheck();O.selectBookmarks(P);}};y.add('indent',{init:function(I){var J=I.addCommand('indent',new F(I,'indent')),K=I.addCommand('outdent',new F(I,'outdent'));I.ui.addButton('Indent',{label:I.lang.indent,command:'indent'});I.ui.addButton('Outdent',{label:I.lang.outdent,command:'outdent'});I.on('selectionChange',t.bind(E,J));I.on('selectionChange',t.bind(E,K));if(q.ie6Compat||q.ie7Compat)I.addCss('ul,ol{\tmargin-left: 0px;\tpadding-left: 40px;}');
I.on('dirChanged',function(L){var M=new s.range(I.document);M.setStartBefore(L.data.node);M.setEndAfter(L.data.node);var N=new s.walker(M),O;while(O=N.next()){if(O.type==1){if(!O.equals(L.data.node)&&O.getDirection()){M.setStartAfter(O);N=new s.walker(M);continue;}var P=I.config.indentClasses;if(P){var Q=L.data.dir=='ltr'?['_rtl','']:['','_rtl'];for(var R=0;R<P.length;R++){if(O.hasClass(P[R]+Q[0])){O.removeClass(P[R]+Q[0]);O.addClass(P[R]+Q[1]);}}}var S=O.getStyle('margin-right'),T=O.getStyle('margin-left');S?O.setStyle('margin-left',S):O.removeStyle('margin-left');T?O.setStyle('margin-right',T):O.removeStyle('margin-right');}}});},requires:['domiterator','list']});})();(function(){function B(G,H){var I=H.block||H.blockLimit;if(!I||I.getName()=='body')return 2;return C(I,G.config.useComputedState)==this.value?1:2;};function C(G,H){H=H===undefined||H;var I;if(H)I=G.getComputedStyle('text-align');else{while(!G.hasAttribute||!(G.hasAttribute('align')||G.getStyle('text-align'))){var J=G.getParent();if(!J)break;G=J;}I=G.getStyle('text-align')||G.getAttribute('align')||'';}I&&(I=I.replace(/-moz-|-webkit-|start|auto/i,''));!I&&H&&(I=G.getComputedStyle('direction')=='rtl'?'right':'left');return I;};function D(G){var H=G.editor.getCommand(this.name);H.state=B.call(this,G.editor,G.data.path);H.fire('state');};function E(G,H,I){var K=this;K.name=H;K.value=I;var J=G.config.justifyClasses;if(J){switch(I){case 'left':K.cssClassName=J[0];break;case 'center':K.cssClassName=J[1];break;case 'right':K.cssClassName=J[2];break;case 'justify':K.cssClassName=J[3];break;}K.cssClassRegex=new RegExp('(?:^|\\s+)(?:'+J.join('|')+')(?=$|\\s)');}};function F(G){var H=G.editor,I=new s.range(H.document);I.setStartBefore(G.data.node);I.setEndAfter(G.data.node);var J=new s.walker(I),K;while(K=J.next()){if(K.type==1){if(!K.equals(G.data.node)&&K.getDirection()){I.setStartAfter(K);J=new s.walker(I);continue;}var L=H.config.justifyClasses;if(L)if(K.hasClass(L[0])){K.removeClass(L[0]);K.addClass(L[2]);}else if(K.hasClass(L[2])){K.removeClass(L[2]);K.addClass(L[0]);}var M='text-align',N=K.getStyle(M);if(N=='left')K.setStyle(M,'right');else if(N=='right')K.setStyle(M,'left');}}};E.prototype={exec:function(G){var S=this;var H=G.getSelection(),I=G.config.enterMode;if(!H)return;var J=H.createBookmarks(),K=H.getRanges(true),L=S.cssClassName,M,N,O=G.config.useComputedState;O=O===undefined||O;for(var P=K.length-1;P>=0;P--){M=K[P].createIterator();M.enlargeBr=I!=2;while(N=M.getNextParagraph(I==1?'p':'div')){N.removeAttribute('align');
N.removeStyle('text-align');var Q=L&&(N.$.className=t.ltrim(N.$.className.replace(S.cssClassRegex,''))),R=S.state==2&&(!O||C(N,true)!=S.value);if(L){if(R)N.addClass(L);else if(!Q)N.removeAttribute('class');}else if(R)N.setStyle('text-align',S.value);}}G.focus();G.forceNextSelectionCheck();H.selectBookmarks(J);}};y.add('justify',{init:function(G){var H=new E(G,'justifyleft','left'),I=new E(G,'justifycenter','center'),J=new E(G,'justifyright','right'),K=new E(G,'justifyblock','justify');G.addCommand('justifyleft',H);G.addCommand('justifycenter',I);G.addCommand('justifyright',J);G.addCommand('justifyblock',K);G.ui.addButton('JustifyLeft',{label:G.lang.justify.left,command:'justifyleft'});G.ui.addButton('JustifyCenter',{label:G.lang.justify.center,command:'justifycenter'});G.ui.addButton('JustifyRight',{label:G.lang.justify.right,command:'justifyright'});G.ui.addButton('JustifyBlock',{label:G.lang.justify.block,command:'justifyblock'});G.on('selectionChange',t.bind(D,H));G.on('selectionChange',t.bind(D,J));G.on('selectionChange',t.bind(D,I));G.on('selectionChange',t.bind(D,K));G.on('dirChanged',F);},requires:['domiterator']});})();y.add('keystrokes',{beforeInit:function(B){B.keystrokeHandler=new p.keystrokeHandler(B);B.specialKeys={};},init:function(B){var C=B.config.keystrokes,D=B.config.blockedKeystrokes,E=B.keystrokeHandler.keystrokes,F=B.keystrokeHandler.blockedKeystrokes;for(var G=0;G<C.length;G++)E[C[G][0]]=C[G][1];for(G=0;G<D.length;G++)F[D[G]]=1;}});p.keystrokeHandler=function(B){var C=this;if(B.keystrokeHandler)return B.keystrokeHandler;C.keystrokes={};C.blockedKeystrokes={};C._={editor:B};return C;};(function(){var B,C=function(E){E=E.data;var F=E.getKeystroke(),G=this.keystrokes[F],H=this._.editor;B=H.fire('key',{keyCode:F})===true;if(!B){if(G){var I={from:'keystrokeHandler'};B=H.execCommand(G,I)!==false;}if(!B){var J=H.specialKeys[F];B=J&&J(H)===true;if(!B)B=!!this.blockedKeystrokes[F];}}if(B)E.preventDefault(true);return!B;},D=function(E){if(B){B=false;E.data.preventDefault(true);}};p.keystrokeHandler.prototype={attach:function(E){E.on('keydown',C,this);if(q.opera||q.gecko&&q.mac)E.on('keypress',D,this);}};})();x.blockedKeystrokes=[1000+66,1000+73,1000+85];x.keystrokes=[[4000+121,'toolbarFocus'],[4000+122,'elementsPathFocus'],[2000+121,'contextMenu'],[1000+2000+121,'contextMenu'],[1000+90,'undo'],[1000+89,'redo'],[1000+2000+90,'redo'],[1000+76,'link'],[1000+66,'bold'],[1000+73,'italic'],[1000+85,'underline'],[4000+109,'toolbarCollapse'],[4000+48,'a11yHelp']];
y.add('link',{init:function(B){B.addCommand('link',new p.dialogCommand('link'));B.addCommand('anchor',new p.dialogCommand('anchor'));B.addCommand('unlink',new p.unlinkCommand());B.ui.addButton('Link',{label:B.lang.link.toolbar,command:'link'});B.ui.addButton('Unlink',{label:B.lang.unlink,command:'unlink'});B.ui.addButton('Anchor',{label:B.lang.anchor.toolbar,command:'anchor'});p.dialog.add('link',this.path+'dialogs/link.js');p.dialog.add('anchor',this.path+'dialogs/anchor.js');var C=B.lang.dir=='rtl'?'right':'left';B.addCss('img.cke_anchor{background-image: url('+p.getUrl(this.path+'images/anchor.gif')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 18px !important;'+'height: 18px !important;'+'}\n'+'a.cke_anchor'+'{'+'background-image: url('+p.getUrl(this.path+'images/anchor.gif')+');'+'background-position: '+C+' center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'padding-'+C+': 18px;'+'}');B.on('selectionChange',function(D){var E=B.getCommand('unlink'),F=D.data.path.lastElement&&D.data.path.lastElement.getAscendant('a',true);if(F&&F.getName()=='a'&&F.getAttribute('href'))E.setState(2);else E.setState(0);});B.on('doubleclick',function(D){var E=y.link.getSelectedLink(B)||D.data.element;if(!E.isReadOnly())if(E.is('a'))D.data.dialog=E.getAttribute('name')&&!E.getAttribute('href')?'anchor':'link';else if(E.is('img')&&E.data('cke-real-element-type')=='anchor')D.data.dialog='anchor';});if(B.addMenuItems)B.addMenuItems({anchor:{label:B.lang.anchor.menu,command:'anchor',group:'anchor'},link:{label:B.lang.link.menu,command:'link',group:'link',order:1},unlink:{label:B.lang.unlink,command:'unlink',group:'link',order:5}});if(B.contextMenu)B.contextMenu.addListener(function(D,E){if(!D||D.isReadOnly())return null;var F=D.is('img')&&D.data('cke-real-element-type')=='anchor';if(!F){if(!(D=y.link.getSelectedLink(B)))return null;F=D.getAttribute('name')&&!D.getAttribute('href');}return F?{anchor:2}:{link:2,unlink:2};});},afterInit:function(B){var C=B.dataProcessor,D=C&&C.dataFilter;if(D)D.addRules({elements:{a:function(E){var F=E.attributes;if(F.name&&!F.href)return B.createFakeParserElement(E,'cke_anchor','anchor');}}});},requires:['fakeobjects']});y.link={getSelectedLink:function(B){try{var C=B.getSelection();if(C.getType()==3){var D=C.getSelectedElement();if(D.is('a'))return D;}var E=C.getRanges(true)[0];E.shrink(2);var F=E.getCommonAncestor();return F.getAscendant('a',true);}catch(G){return null;
}}};p.unlinkCommand=function(){};p.unlinkCommand.prototype={exec:function(B){var C=B.getSelection(),D=C.createBookmarks(),E=C.getRanges(),F,G;for(var H=0;H<E.length;H++){F=E[H].getCommonAncestor(true);G=F.getAscendant('a',true);if(!G)continue;E[H].selectNodeContents(G);}C.selectRanges(E);B.document.$.execCommand('unlink',false,null);C.selectBookmarks(D);},startDisabled:true};t.extend(x,{linkShowAdvancedTab:true,linkShowTargetTab:true});(function(){var B={ol:1,ul:1},C=/^[\n\r\t ]*$/,D=s.walker.whitespaces(),E=s.walker.bookmark(),F=function(T){return!(D(T)||E(T));};y.list={listToArray:function(T,U,V,W,X){if(!B[T.getName()])return[];if(!W)W=0;if(!V)V=[];for(var Y=0,Z=T.getChildCount();Y<Z;Y++){var aa=T.getChild(Y);if(aa.$.nodeName.toLowerCase()!='li')continue;var ab={parent:T,indent:W,element:aa,contents:[]};if(!X){ab.grandparent=T.getParent();if(ab.grandparent&&ab.grandparent.$.nodeName.toLowerCase()=='li')ab.grandparent=ab.grandparent.getParent();}else ab.grandparent=X;if(U)w.setMarker(U,aa,'listarray_index',V.length);V.push(ab);for(var ac=0,ad=aa.getChildCount(),ae;ac<ad;ac++){ae=aa.getChild(ac);if(ae.type==1&&B[ae.getName()])y.list.listToArray(ae,U,V,W+1,ab.grandparent);else ab.contents.push(ae);}}return V;},arrayToList:function(T,U,V,W,X){if(!V)V=0;if(!T||T.length<V+1)return null;var Y=T[V].parent.getDocument(),Z=new s.documentFragment(Y),aa=null,ab=V,ac=Math.max(T[V].indent,0),ad=null,ae=W==1?'p':'div';while(1){var af=T[ab];if(af.indent==ac){if(!aa||T[ab].parent.getName()!=aa.getName()){aa=T[ab].parent.clone(false,1);X&&aa.setAttribute('dir',X);Z.append(aa);}ad=aa.append(af.element.clone(0,1));for(var ag=0;ag<af.contents.length;ag++)ad.append(af.contents[ag].clone(1,1));ab++;}else if(af.indent==Math.max(ac,0)+1){var ah=y.list.arrayToList(T,null,ab,W);if(!ad.getChildCount()&&r&&!(Y.$.documentMode>7))ad.append(Y.createText('\xa0'));ad.append(ah.listNode);ab=ah.nextIndex;}else if(af.indent==-1&&!V&&af.grandparent){ad;if(B[af.grandparent.getName()])ad=af.element.clone(false,true);else if(X||af.element.hasAttributes()||W!=2){ad=Y.createElement(ae);af.element.copyAttributes(ad,{type:1,value:1});var ai=af.element.getDirection()||X;ai&&ad.setAttribute('dir',ai);if(!X&&W==2&&!ad.hasAttributes())ad=new s.documentFragment(Y);}else ad=new s.documentFragment(Y);for(ag=0;ag<af.contents.length;ag++)ad.append(af.contents[ag].clone(1,1));if(ad.type==11&&ab!=T.length-1){var aj=ad.getLast();if(aj&&aj.type==1&&aj.getAttribute('type')=='_moz')aj.remove();if(!(aj=ad.getLast(F)&&aj.type==1&&aj.getName() in u.$block))ad.append(Y.createElement('br'));
}if(ad.type==1&&ad.getName()==ae&&ad.$.firstChild){ad.trim();var ak=ad.getFirst();if(ak.type==1&&ak.isBlockBoundary()){var al=new s.documentFragment(Y);ad.moveChildren(al);ad=al;}}var am=ad.$.nodeName.toLowerCase();if(!r&&(am=='div'||am=='p'))ad.appendBogus();Z.append(ad);aa=null;ab++;}else return null;if(T.length<=ab||Math.max(T[ab].indent,0)<ac)break;}if(U){var an=Z.getFirst();while(an){if(an.type==1)w.clearMarkers(U,an);an=an.getNextSourceNode();}}return{listNode:Z,nextIndex:ab};}};function G(T){var U=T.data.path,V=U.blockLimit,W=U.elements,X,Y;for(Y=0;Y<W.length&&(X=W[Y])&&!X.equals(V);Y++){if(B[W[Y].getName()])return this.setState(this.type==W[Y].getName()?1:2);}return this.setState(2);};function H(T,U,V,W){var X=y.list.listToArray(U.root,V),Y=[];for(var Z=0;Z<U.contents.length;Z++){var aa=U.contents[Z];aa=aa.getAscendant('li',true);if(!aa||aa.getCustomData('list_item_processed'))continue;Y.push(aa);w.setMarker(V,aa,'list_item_processed',true);}var ab=U.root,ac=ab.getDocument().createElement(this.type);ab.copyAttributes(ac,{start:1,type:1});ac.removeStyle('list-style-type');for(Z=0;Z<Y.length;Z++){var ad=Y[Z].getCustomData('listarray_index');X[ad].parent=ac;}var ae=y.list.arrayToList(X,V,null,T.config.enterMode),af,ag=ae.listNode.getChildCount();for(Z=0;Z<ag&&(af=ae.listNode.getChild(Z));Z++){if(af.getName()==this.type)W.push(af);}ae.listNode.replace(U.root);};var I=/^h[1-6]$/;function J(T,U,V){var W=U.contents,X=U.root.getDocument(),Y=[];if(W.length==1&&W[0].equals(U.root)){var Z=X.createElement('div');W[0].moveChildren&&W[0].moveChildren(Z);W[0].append(Z);W[0]=Z;}var aa=U.contents[0].getParent();for(var ab=0;ab<W.length;ab++)aa=aa.getCommonAncestor(W[ab].getParent());var ac=T.config.useComputedState,ad,ae;ac=ac===undefined||ac;for(ab=0;ab<W.length;ab++){var af=W[ab],ag;while(ag=af.getParent()){if(ag.equals(aa)){Y.push(af);if(!ae&&af.getDirection())ae=1;var ah=af.getDirection(ac);if(ad!==null)if(ad&&ad!=ah)ad=null;else ad=ah;break;}af=ag;}}if(Y.length<1)return;var ai=Y[Y.length-1].getNext(),aj=X.createElement(this.type);V.push(aj);var ak,al;while(Y.length){ak=Y.shift();al=X.createElement('li');if(ak.is('pre')||I.test(ak.getName()))ak.appendTo(al);else{if(ad&&ak.getDirection()){ak.removeStyle('direction');ak.removeAttribute('dir');}ak.copyAttributes(al);ak.moveChildren(al);ak.remove();}al.appendTo(aj);}if(ad&&ae)aj.setAttribute('dir',ad);if(ai)aj.insertBefore(ai);else aj.appendTo(aa);};function K(T,U,V){var W=y.list.listToArray(U.root,V),X=[];for(var Y=0;
Y<U.contents.length;Y++){var Z=U.contents[Y];Z=Z.getAscendant('li',true);if(!Z||Z.getCustomData('list_item_processed'))continue;X.push(Z);w.setMarker(V,Z,'list_item_processed',true);}var aa=null;for(Y=0;Y<X.length;Y++){var ab=X[Y].getCustomData('listarray_index');W[ab].indent=-1;aa=ab;}for(Y=aa+1;Y<W.length;Y++){if(W[Y].indent>W[Y-1].indent+1){var ac=W[Y-1].indent+1-W[Y].indent,ad=W[Y].indent;while(W[Y]&&W[Y].indent>=ad){W[Y].indent+=ac;Y++;}Y--;}}var ae=y.list.arrayToList(W,V,null,T.config.enterMode,U.root.getAttribute('dir')),af=ae.listNode,ag,ah;function ai(aj){if((ag=af[aj?'getFirst':'getLast']())&&!(ag.is&&ag.isBlockBoundary())&&(ah=U.root[aj?'getPrevious':'getNext'](s.walker.whitespaces(true)))&&!(ah.is&&ah.isBlockBoundary({br:1})))T.document.createElement('br')[aj?'insertBefore':'insertAfter'](ag);};ai(true);ai();af.replace(U.root);};function L(T,U){this.name=T;this.type=U;};L.prototype={exec:function(T){T.focus();var U=T.document,V=T.getSelection(),W=V&&V.getRanges(true);if(!W||W.length<1)return;if(this.state==2){var X=U.getBody();X.trim();if(!X.getFirst()){var Y=U.createElement(T.config.enterMode==1?'p':T.config.enterMode==3?'div':'br');Y.appendTo(X);W=new s.rangeList([new s.range(U)]);if(Y.is('br')){W[0].setStartBefore(Y);W[0].setEndAfter(Y);}else W[0].selectNodeContents(Y);V.selectRanges(W);}else{var Z=W.length==1&&W[0],aa=Z&&Z.getEnclosedNode();if(aa&&aa.is&&this.type==aa.getName())this.setState(1);}}var ab=V.createBookmarks(true),ac=[],ad={},ae=W.createIterator(),af=0;while((Z=ae.getNextRange())&&++af){var ag=Z.getBoundaryNodes(),ah=ag.startNode,ai=ag.endNode;if(ah.type==1&&ah.getName()=='td')Z.setStartAt(ag.startNode,1);if(ai.type==1&&ai.getName()=='td')Z.setEndAt(ag.endNode,2);var aj=Z.createIterator(),ak;aj.forceBrBreak=this.state==2;while(ak=aj.getNextParagraph()){if(ak.getCustomData('list_block'))continue;else w.setMarker(ad,ak,'list_block',1);var al=new s.elementPath(ak),am=al.elements,an=am.length,ao=null,ap=0,aq=al.blockLimit,ar;for(var as=an-1;as>=0&&(ar=am[as]);as--){if(B[ar.getName()]&&aq.contains(ar)){aq.removeCustomData('list_group_object_'+af);var at=ar.getCustomData('list_group_object');if(at)at.contents.push(ak);else{at={root:ar,contents:[ak]};ac.push(at);w.setMarker(ad,ar,'list_group_object',at);}ap=1;break;}}if(ap)continue;var au=aq;if(au.getCustomData('list_group_object_'+af))au.getCustomData('list_group_object_'+af).contents.push(ak);else{at={root:au,contents:[ak]};w.setMarker(ad,au,'list_group_object_'+af,at);ac.push(at);}}}var av=[];
while(ac.length>0){at=ac.shift();if(this.state==2){if(B[at.root.getName()])H.call(this,T,at,ad,av);else J.call(this,T,at,av);}else if(this.state==1&&B[at.root.getName()])K.call(this,T,at,ad);}for(as=0;as<av.length;as++){ao=av[as];var aw,ax=this;(aw=function(ay){var az=ao[ay?'getPrevious':'getNext'](s.walker.whitespaces(true));if(az&&az.getName&&az.getName()==ax.type){az.remove();az.moveChildren(ao,ay);}})();aw(1);}w.clearAllMarkers(ad);V.selectBookmarks(ab);T.focus();}};var M=u,N=/[\t\r\n ]*(?:&nbsp;|\xa0)$/;function O(T,U){var V,W=T.children,X=W.length;for(var Y=0;Y<X;Y++){V=W[Y];if(V.name&&V.name in U)return Y;}return X;};function P(T){return function(U){var V=U.children,W=O(U,M.$list),X=V[W],Y=X&&X.previous,Z;if(Y&&(Y.name&&Y.name=='br'||Y.value&&(Z=Y.value.match(N)))){var aa=Y;if(!(Z&&Z.index)&&aa==V[0])V[0]=T||r?new p.htmlParser.text('\xa0'):new p.htmlParser.element('br',{});else if(aa.name=='br')V.splice(W-1,1);else aa.value=aa.value.replace(N,'');}};};var Q={elements:{}};for(var R in M.$listItem)Q.elements[R]=P();var S={elements:{}};for(R in M.$listItem)S.elements[R]=P(true);y.add('list',{init:function(T){var U=T.addCommand('numberedlist',new L('numberedlist','ol')),V=T.addCommand('bulletedlist',new L('bulletedlist','ul'));T.ui.addButton('NumberedList',{label:T.lang.numberedlist,command:'numberedlist'});T.ui.addButton('BulletedList',{label:T.lang.bulletedlist,command:'bulletedlist'});T.on('selectionChange',t.bind(G,U));T.on('selectionChange',t.bind(G,V));},afterInit:function(T){var U=T.dataProcessor;if(U){U.dataFilter.addRules(Q);U.htmlFilter.addRules(S);}},requires:['domiterator']});})();(function(){y.liststyle={requires:['dialog'],init:function(B){B.addCommand('numberedListStyle',new p.dialogCommand('numberedListStyle'));p.dialog.add('numberedListStyle',this.path+'dialogs/liststyle.js');B.addCommand('bulletedListStyle',new p.dialogCommand('bulletedListStyle'));p.dialog.add('bulletedListStyle',this.path+'dialogs/liststyle.js');if(B.addMenuItems){B.addMenuGroup('list',108);B.addMenuItems({numberedlist:{label:B.lang.list.numberedTitle,group:'list',command:'numberedListStyle'},bulletedlist:{label:B.lang.list.bulletedTitle,group:'list',command:'bulletedListStyle'}});}if(B.contextMenu)B.contextMenu.addListener(function(C,D){if(!C||C.isReadOnly())return null;while(C){var E=C.getName();if(E=='ol')return{numberedlist:2};else if(E=='ul')return{bulletedlist:2};C=C.getParent();}return null;});}};y.add('liststyle',y.liststyle);})();(function(){function B(H){if(!H||H.type!=1||H.getName()!='form')return[];
var I=[],J=['style','className'];for(var K=0;K<J.length;K++){var L=J[K],M=H.$.elements.namedItem(L);if(M){var N=new w(M);I.push([N,N.nextSibling]);N.remove();}}return I;};function C(H,I){if(!H||H.type!=1||H.getName()!='form')return;if(I.length>0)for(var J=I.length-1;J>=0;J--){var K=I[J][0],L=I[J][1];if(L)K.insertBefore(L);else K.appendTo(H);}};function D(H,I){var J=B(H),K={},L=H.$;if(!I){K['class']=L.className||'';L.className='';}K.inline=L.style.cssText||'';if(!I)L.style.cssText='position: static; overflow: visible';C(J);return K;};function E(H,I){var J=B(H),K=H.$;if('class' in I)K.className=I['class'];if('inline' in I)K.style.cssText=I.inline;C(J);};function F(H){var I=p.instances;for(var J in I){var K=I[J];if(K.mode=='wysiwyg'){var L=K.document.getBody();L.setAttribute('contentEditable',false);L.setAttribute('contentEditable',true);}}if(H.focusManager.hasFocus){H.toolbox.focus();H.focus();}};function G(H){if(!r||q.version>6)return null;var I=w.createFromHtml('<iframe frameborder="0" tabindex="-1" src="javascript:void((function(){document.open();'+(q.isCustomDomain()?"document.domain='"+this.getDocument().$.domain+"';":'')+'document.close();'+'})())"'+' style="display:block;position:absolute;z-index:-1;'+'progid:DXImageTransform.Microsoft.Alpha(opacity=0);'+'"></iframe>');return H.append(I,true);};y.add('maximize',{init:function(H){var I=H.lang,J=p.document,K=J.getWindow(),L,M,N,O;function P(){var R=K.getViewPaneSize();O&&O.setStyles({width:R.width+'px',height:R.height+'px'});H.resize(R.width,R.height,null,true);};var Q=2;H.addCommand('maximize',{modes:{wysiwyg:1,source:1},editorFocus:false,exec:function(){var R=H.container.getChild(1),S=H.getThemeSpace('contents');if(H.mode=='wysiwyg'){var T=H.getSelection();L=T&&T.getRanges();M=K.getScrollPosition();}else{var U=H.textarea.$;L=!r&&[U.selectionStart,U.selectionEnd];M=[U.scrollLeft,U.scrollTop];}if(this.state==2){K.on('resize',P);N=K.getScrollPosition();var V=H.container;while(V=V.getParent()){V.setCustomData('maximize_saved_styles',D(V));V.setStyle('z-index',H.config.baseFloatZIndex-1);}S.setCustomData('maximize_saved_styles',D(S,true));R.setCustomData('maximize_saved_styles',D(R,true));var W={overflow:q.webkit?'':'hidden',width:0,height:0};J.getDocumentElement().setStyles(W);!q.gecko&&J.getDocumentElement().setStyle('position','fixed');J.getBody().setStyles(W);r?setTimeout(function(){K.$.scrollTo(0,0);},0):K.$.scrollTo(0,0);R.setStyle('position','absolute');R.$.offsetLeft;R.setStyles({'z-index':H.config.baseFloatZIndex-1,left:'0px',top:'0px'});
O=G(R);R.addClass('cke_maximized');P();var X=R.getDocumentPosition();R.setStyles({left:-1*X.x+'px',top:-1*X.y+'px'});q.gecko&&F(H);}else if(this.state==1){K.removeListener('resize',P);var Y=[S,R];for(var Z=0;Z<Y.length;Z++){E(Y[Z],Y[Z].getCustomData('maximize_saved_styles'));Y[Z].removeCustomData('maximize_saved_styles');}V=H.container;while(V=V.getParent()){E(V,V.getCustomData('maximize_saved_styles'));V.removeCustomData('maximize_saved_styles');}r?setTimeout(function(){K.$.scrollTo(N.x,N.y);},0):K.$.scrollTo(N.x,N.y);R.removeClass('cke_maximized');if(q.webkit){R.setStyle('display','inline');setTimeout(function(){R.setStyle('display','block');},0);}if(O){O.remove();O=null;}H.fire('resize');}this.toggleState();var aa=this.uiItems[0];if(aa){var ab=this.state==2?I.maximize:I.minimize,ac=H.element.getDocument().getById(aa._.id);ac.getChild(1).setHtml(ab);ac.setAttribute('title',ab);ac.setAttribute('href','javascript:void("'+ab+'");');}if(H.mode=='wysiwyg'){if(L){q.gecko&&F(H);H.getSelection().selectRanges(L);var ad=H.getSelection().getStartElement();ad&&ad.scrollIntoView(true);}else K.$.scrollTo(M.x,M.y);}else{if(L){U.selectionStart=L[0];U.selectionEnd=L[1];}U.scrollLeft=M[0];U.scrollTop=M[1];}L=M=null;Q=this.state;},canUndo:false});H.ui.addButton('Maximize',{label:I.maximize,command:'maximize'});H.on('mode',function(){var R=H.getCommand('maximize');R.setState(R.state==0?0:Q);},null,null,100);}});})();y.add('newpage',{init:function(B){B.addCommand('newpage',{modes:{wysiwyg:1,source:1},exec:function(C){var D=this;C.setData(C.config.newpage_html||'',function(){setTimeout(function(){C.fire('afterCommandExec',{name:D.name,command:D});},200);});C.focus();},async:true});B.ui.addButton('NewPage',{label:B.lang.newPage,command:'newpage'});}});y.add('pagebreak',{init:function(B){B.addCommand('pagebreak',y.pagebreakCmd);B.ui.addButton('PageBreak',{label:B.lang.pagebreak,command:'pagebreak'});B.addCss('img.cke_pagebreak{background-image: url('+p.getUrl(this.path+'images/pagebreak.gif')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'clear: both;'+'display: block;'+'float: none;'+'width:100% !important; _width:99.9% !important;'+'border-top: #999999 1px dotted;'+'border-bottom: #999999 1px dotted;'+'height: 5px !important;'+'page-break-after: always;'+'}');},afterInit:function(B){var C=B.dataProcessor,D=C&&C.dataFilter;if(D)D.addRules({elements:{div:function(E){var F=E.attributes,G=F&&F.style,H=G&&E.children.length==1&&E.children[0],I=H&&H.name=='span'&&H.attributes.style;
if(I&&/page-break-after\s*:\s*always/i.test(G)&&/display\s*:\s*none/i.test(I)){var J=B.createFakeParserElement(E,'cke_pagebreak','div'),K=B.lang.pagebreakAlt;J.attributes.alt=K;J.attributes['aria-label']=K;return J;}}}});},requires:['fakeobjects']});y.pagebreakCmd={exec:function(B){var C=B.lang.pagebreakAlt,D=w.createFromHtml('<div style="page-break-after: always;"><span style="display: none;">&nbsp;</span></div>');D=B.createFakeElement(D,'cke_pagebreak','div');D.setAttributes({alt:C,'aria-label':C,title:C});var E=B.getSelection().getRanges(true);B.fire('saveSnapshot');for(var F,G=E.length-1;G>=0;G--){F=E[G];if(G<E.length-1)D=D.clone(true);F.splitBlock('p');F.insertNode(D);if(G==E.length-1){F.moveToPosition(D,4);F.select();}var H=D.getPrevious();if(H&&u[H.getName()].div)D.move(H);}B.fire('saveSnapshot');}};(function(){y.add('pastefromword',{init:function(B){var C=0,D=function(){setTimeout(function(){C=0;},0);};B.addCommand('pastefromword',{canUndo:false,exec:function(){C=1;if(B.execCommand('paste')===false)B.on('dialogHide',function(E){E.removeListener();D();});else D();}});B.ui.addButton('PasteFromWord',{label:B.lang.pastefromword.toolbar,command:'pastefromword'});B.on('pasteState',function(E){B.getCommand('pastefromword').setState(E.data);});B.on('paste',function(E){var F=E.data,G;if((G=F.html)&&(C||/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/.test(G))){var H=this.loadFilterRules(function(){if(H)B.fire('paste',F);else if(!B.config.pasteFromWordPromptCleanup||C||confirm(B.lang.pastefromword.confirmCleanup))F.html=p.cleanWord(G,B);});H&&E.cancel();}},this);},loadFilterRules:function(B){var C=p.cleanWord;if(C)B();else{var D=p.getUrl(x.pasteFromWordCleanupFile||this.path+'filter/default.js');p.scriptLoader.load(D,B,null,true);}return!C;},requires:['clipboard']});})();(function(){var B={exec:function(C){var D=t.tryThese(function(){var E=window.clipboardData.getData('Text');if(!E)throw 0;return E;});if(!D){C.openDialog('pastetext');return false;}else C.fire('paste',{text:D});return true;}};y.add('pastetext',{init:function(C){var D='pastetext',E=C.addCommand(D,B);C.ui.addButton('PasteText',{label:C.lang.pasteText.button,command:D});p.dialog.add(D,p.getUrl(this.path+'dialogs/pastetext.js'));if(C.config.forcePasteAsPlainText)C.on('beforeCommandExec',function(F){if(F.data.name=='paste'){C.execCommand('pastetext');F.cancel();}},null,null,0);C.on('pasteState',function(F){C.getCommand('pastetext').setState(F.data);});},requires:['clipboard']});})();y.add('popup');
t.extend(p.editor.prototype,{popup:function(B,C,D,E){C=C||'80%';D=D||'70%';if(typeof C=='string'&&C.length>1&&C.substr(C.length-1,1)=='%')C=parseInt(window.screen.width*parseInt(C,10)/100,10);if(typeof D=='string'&&D.length>1&&D.substr(D.length-1,1)=='%')D=parseInt(window.screen.height*parseInt(D,10)/100,10);if(C<640)C=640;if(D<420)D=420;var F=parseInt((window.screen.height-D)/2,10),G=parseInt((window.screen.width-C)/2,10);E=(E||'location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes')+',width='+C+',height='+D+',top='+F+',left='+G;var H=window.open('',null,E,true);if(!H)return false;try{H.moveTo(G,F);H.resizeTo(C,D);H.focus();H.location.href=B;}catch(I){H=window.open(B,null,E,true);}return true;}});(function(){var B={modes:{wysiwyg:1,source:1},canUndo:false,exec:function(D){var E,F=D.config,G=F.baseHref?'<base href="'+F.baseHref+'"/>':'',H=q.isCustomDomain();if(F.fullPage)E=D.getData().replace(/<head>/,'$&'+G).replace(/[^>]*(?=<\/title>)/,'$& &mdash; '+D.lang.preview);else{var I='<body ',J=D.document&&D.document.getBody();if(J){if(J.getAttribute('id'))I+='id="'+J.getAttribute('id')+'" ';if(J.getAttribute('class'))I+='class="'+J.getAttribute('class')+'" ';}I+='>';E=D.config.docType+'<html dir="'+D.config.contentsLangDirection+'">'+'<head>'+G+'<title>'+D.lang.preview+'</title>'+t.buildStyleHtml(D.config.contentsCss)+'</head>'+I+D.getData()+'</body></html>';}var K=640,L=420,M=80;try{var N=window.screen;K=Math.round(N.width*0.8);L=Math.round(N.height*0.7);M=Math.round(N.width*0.1);}catch(Q){}var O='';if(H){window._cke_htmlToLoad=E;O='javascript:void( (function(){document.open();document.domain="'+document.domain+'";'+'document.write( window.opener._cke_htmlToLoad );'+'document.close();'+'window.opener._cke_htmlToLoad = null;'+'})() )';}var P=window.open(O,null,'toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width='+K+',height='+L+',left='+M);if(!H){P.document.open();P.document.write(E);P.document.close();}}},C='preview';y.add(C,{init:function(D){D.addCommand(C,B);D.ui.addButton('Preview',{label:D.lang.preview,command:C});}});})();y.add('print',{init:function(B){var C='print',D=B.addCommand(C,y.print);B.ui.addButton('Print',{label:B.lang.print,command:C});}});y.print={exec:function(B){if(q.opera)return;else if(q.gecko)B.window.$.print();else B.document.$.execCommand('Print');},canUndo:false,modes:{wysiwyg:!q.opera}};y.add('removeformat',{requires:['selection'],init:function(B){B.addCommand('removeFormat',y.removeformat.commands.removeformat);
B.ui.addButton('RemoveFormat',{label:B.lang.removeFormat,command:'removeFormat'});B._.removeFormat={filters:[]};}});y.removeformat={commands:{removeformat:{exec:function(B){var C=B._.removeFormatRegex||(B._.removeFormatRegex=new RegExp('^(?:'+B.config.removeFormatTags.replace(/,/g,'|')+')$','i')),D=B._.removeAttributes||(B._.removeAttributes=B.config.removeFormatAttributes.split(',')),E=y.removeformat.filter,F=B.getSelection().getRanges(1),G=F.createIterator(),H;while(H=G.getNextRange()){if(!H.collapsed)H.enlarge(1);var I=H.createBookmark(),J=I.startNode,K=I.endNode,L,M=function(O){var P=new s.elementPath(O),Q=P.elements;for(var R=1,S;S=Q[R];R++){if(S.equals(P.block)||S.equals(P.blockLimit))break;if(C.test(S.getName())&&E(B,S))O.breakParent(S);}};M(J);if(K){M(K);L=J.getNextSourceNode(true,1);while(L){if(L.equals(K))break;var N=L.getNextSourceNode(false,1);if(!(L.getName()=='img'&&L.data('cke-realelement'))&&E(B,L))if(C.test(L.getName()))L.remove(1);else{L.removeAttributes(D);B.fire('removeFormatCleanup',L);}L=N;}}H.moveToBookmark(I);}B.getSelection().selectRanges(F);}}},filter:function(B,C){var D=B._.removeFormat.filters;for(var E=0;E<D.length;E++){if(D[E](C)===false)return false;}return true;}};p.editor.prototype.addRemoveFormatFilter=function(B){this._.removeFormat.filters.push(B);};x.removeFormatTags='b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var';x.removeFormatAttributes='class,style,lang,width,height,align,hspace,valign';y.add('resize',{init:function(B){var C=B.config;!C.resize_dir&&(C.resize_dir='both');C.resize_maxWidth==undefined&&(C.resize_maxWidth=3000);C.resize_maxHeight==undefined&&(C.resize_maxHeight=3000);C.resize_minWidth==undefined&&(C.resize_minWidth=750);C.resize_minHeight==undefined&&(C.resize_minHeight=250);if(C.resize_enabled!==false){var D=null,E,F,G=(C.resize_dir=='both'||C.resize_dir=='horizontal')&&C.resize_minWidth!=C.resize_maxWidth,H=(C.resize_dir=='both'||C.resize_dir=='vertical')&&C.resize_minHeight!=C.resize_maxHeight;function I(L){var M=L.data.$.screenX-E.x,N=L.data.$.screenY-E.y,O=F.width,P=F.height,Q=O+M*(B.lang.dir=='rtl'?-1:1),R=P+N;if(G)O=Math.max(C.resize_minWidth,Math.min(Q,C.resize_maxWidth));if(H)P=Math.max(C.resize_minHeight,Math.min(R,C.resize_maxHeight));B.resize(O,P);};function J(L){p.document.removeListener('mousemove',I);p.document.removeListener('mouseup',J);if(B.document){B.document.removeListener('mousemove',I);B.document.removeListener('mouseup',J);}};var K=t.addFunction(function(L){if(!D)D=B.getResizable();
F={width:D.$.offsetWidth||0,height:D.$.offsetHeight||0};E={x:L.screenX,y:L.screenY};C.resize_minWidth>F.width&&(C.resize_minWidth=F.width);C.resize_minHeight>F.height&&(C.resize_minHeight=F.height);p.document.on('mousemove',I);p.document.on('mouseup',J);if(B.document){B.document.on('mousemove',I);B.document.on('mouseup',J);}});B.on('destroy',function(){t.removeFunction(K);});B.on('themeSpace',function(L){if(L.data.space=='bottom'){var M='';if(G&&!H)M=' cke_resizer_horizontal';if(!G&&H)M=' cke_resizer_vertical';L.data.html+='<div class="cke_resizer'+M+'"'+' title="'+t.htmlEncode(B.lang.resize)+'"'+' onmousedown="CKEDITOR.tools.callFunction('+K+', event)"'+'></div>';}},B,null,100);}}});(function(){var B={modes:{wysiwyg:1,source:1},exec:function(D){var E=D.element.$.form;if(E)try{E.submit();}catch(F){if(E.submit.click)E.submit.click();}}},C='save';y.add(C,{init:function(D){var E=D.addCommand(C,B);E.modes={wysiwyg:!!D.element.$.form};D.ui.addButton('Save',{label:D.lang.save,command:C});}});})();(function(){var B='scaytcheck',C='';function D(I,J){var K=0,L;for(L in J){if(J[L]==I){K=1;break;}}return K;};var E=function(){var I=this,J=function(){var N=I.config,O={};O.srcNodeRef=I.document.getWindow().$.frameElement;O.assocApp='CKEDITOR.'+p.version+'@'+p.revision;O.customerid=N.scayt_customerid||'1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2';O.customDictionaryIds=N.scayt_customDictionaryIds||'';O.userDictionaryName=N.scayt_userDictionaryName||'';O.sLang=N.scayt_sLang||'en_US';O.onLoad=function(){if(!(r&&q.version<8))this.addStyle(this.selectorCss(),'padding-bottom: 2px !important;');if(I.focusManager.hasFocus&&!F.isControlRestored(I))this.focus();};O.onBeforeChange=function(){if(F.getScayt(I)&&!I.checkDirty())setTimeout(function(){I.resetDirty();},0);};var P=window.scayt_custom_params;if(typeof P=='object')for(var Q in P)O[Q]=P[Q];if(F.getControlId(I))O.id=F.getControlId(I);var R=new window.scayt(O);R.afterMarkupRemove.push(function(Y){new w(Y,R.document).mergeSiblings();});var S=F.instances[I.name];if(S){R.sLang=S.sLang;R.option(S.option());R.paused=S.paused;}F.instances[I.name]=R;var T='scaytButton',U=window.scayt.uiTags,V=[];for(var W=0,X=4;W<X;W++)V.push(U[W]&&F.uiTabs[W]);F.uiTabs=V;try{R.setDisabled(F.isPaused(I)===false);}catch(Y){}I.fire('showScaytState');};I.on('contentDom',J);I.on('contentDomUnload',function(){var N=p.document.getElementsByTag('script'),O=/^dojoIoScript(\d+)$/i,P=/^https?:\/\/svc\.spellchecker\.net\/spellcheck\/script\/ssrv\.cgi/i;
for(var Q=0;Q<N.count();Q++){var R=N.getItem(Q),S=R.getId(),T=R.getAttribute('src');if(S&&T&&S.match(O)&&T.match(P))R.remove();}});I.on('beforeCommandExec',function(N){if((N.data.name=='source'||N.data.name=='newpage')&&I.mode=='wysiwyg'){var O=F.getScayt(I);if(O){F.setPaused(I,!O.disabled);F.setControlId(I,O.id);O.destroy(true);delete F.instances[I.name];}}else if(N.data.name=='source'&&I.mode=='source')F.markControlRestore(I);});I.on('afterCommandExec',function(N){if(!F.isScaytEnabled(I))return;if(I.mode=='wysiwyg'&&(N.data.name=='undo'||N.data.name=='redo'))window.setTimeout(function(){F.getScayt(I).refresh();},10);});I.on('destroy',function(N){var O=N.editor,P=F.getScayt(O);if(!P)return;delete F.instances[O.name];F.setControlId(O,P.id);P.destroy(true);});I.on('afterSetData',function(){if(F.isScaytEnabled(I))window.setTimeout(function(){var N=F.getScayt(I);N&&N.refresh();},10);});I.on('insertElement',function(){var N=F.getScayt(I);if(F.isScaytEnabled(I)){if(r)I.getSelection().unlock(true);window.setTimeout(function(){N.focus();N.refresh();},10);}},this,null,50);I.on('insertHtml',function(){var N=F.getScayt(I);if(F.isScaytEnabled(I)){if(r)I.getSelection().unlock(true);window.setTimeout(function(){N.focus();N.refresh();},10);}},this,null,50);I.on('scaytDialog',function(N){N.data.djConfig=window.djConfig;N.data.scayt_control=F.getScayt(I);N.data.tab=C;N.data.scayt=window.scayt;});var K=I.dataProcessor,L=K&&K.htmlFilter;if(L)L.addRules({elements:{span:function(N){if(N.attributes['data-scayt_word']&&N.attributes['data-scaytid']){delete N.name;return N;}}}});var M=y.undo.Image.prototype;M.equals=t.override(M.equals,function(N){return function(O){var T=this;var P=T.contents,Q=O.contents,R=F.getScayt(T.editor);if(R&&F.isScaytReady(T.editor)){T.contents=R.reset(P)||'';O.contents=R.reset(Q)||'';}var S=N.apply(T,arguments);T.contents=P;O.contents=Q;return S;};});if(I.document)J();};y.scayt={engineLoaded:false,instances:{},controlInfo:{},setControlInfo:function(I,J){if(I&&I.name&&typeof this.controlInfo[I.name]!='object')this.controlInfo[I.name]={};for(var K in J)this.controlInfo[I.name][K]=J[K];},isControlRestored:function(I){if(I&&I.name&&this.controlInfo[I.name])return this.controlInfo[I.name].restored;return false;},markControlRestore:function(I){this.setControlInfo(I,{restored:true});},setControlId:function(I,J){this.setControlInfo(I,{id:J});},getControlId:function(I){if(I&&I.name&&this.controlInfo[I.name]&&this.controlInfo[I.name].id)return this.controlInfo[I.name].id;
return null;},setPaused:function(I,J){this.setControlInfo(I,{paused:J});},isPaused:function(I){if(I&&I.name&&this.controlInfo[I.name])return this.controlInfo[I.name].paused;return undefined;},getScayt:function(I){return this.instances[I.name];},isScaytReady:function(I){return this.engineLoaded===true&&'undefined'!==typeof window.scayt&&this.getScayt(I);},isScaytEnabled:function(I){var J=this.getScayt(I);return J?J.disabled===false:false;},loadEngine:function(I){if(q.gecko&&q.version<10900||q.opera||q.air)return I.fire('showScaytState');if(this.engineLoaded===true)return E.apply(I);else if(this.engineLoaded==-1)return p.on('scaytReady',function(){E.apply(I);});p.on('scaytReady',E,I);p.on('scaytReady',function(){this.engineLoaded=true;},this,null,0);this.engineLoaded=-1;var J=document.location.protocol;J=J.search(/https?:/)!=-1?J:'http:';var K='svc.spellchecker.net/scayt26/loader__base.js',L=I.config.scayt_srcUrl||J+'//'+K,M=F.parseUrl(L).path+'/';if(window.scayt==undefined){p._djScaytConfig={baseUrl:M,addOnLoad:[function(){p.fireOnce('scaytReady');}],isDebug:false};p.document.getHead().append(p.document.createElement('script',{attributes:{type:'text/javascript',async:'true',src:L}}));}else p.fireOnce('scaytReady');return null;},parseUrl:function(I){var J;if(I.match&&(J=I.match(/(.*)[\/\\](.*?\.\w+)$/)))return{path:J[1],file:J[2]};else return I;}};var F=y.scayt,G=function(I,J,K,L,M,N,O){I.addCommand(L,M);I.addMenuItem(L,{label:K,command:L,group:N,order:O});},H={preserveState:true,editorFocus:false,canUndo:false,exec:function(I){if(F.isScaytReady(I)){var J=F.isScaytEnabled(I);this.setState(J?2:1);var K=F.getScayt(I);K.focus();K.setDisabled(J);}else if(!I.config.scayt_autoStartup&&F.engineLoaded>=0){this.setState(0);F.loadEngine(I);}}};y.add('scayt',{requires:['menubutton'],beforeInit:function(I){var J=I.config.scayt_contextMenuItemsOrder||'suggest|moresuggest|control',K='';J=J.split('|');if(J&&J.length)for(var L=0;L<J.length;L++)K+='scayt_'+J[L]+(J.length!=parseInt(L,10)+1?',':'');I.config.menu_groups=K+','+I.config.menu_groups;},init:function(I){var J={},K={},L=I.addCommand(B,H);p.dialog.add(B,p.getUrl(this.path+'dialogs/options.js'));var M=I.config.scayt_uiTabs||'1,1,1',N=[];M=M.split(',');for(var O=0,P=3;O<P;O++){var Q=parseInt(M[O]||'1',10);N.push(Q);}var R='scaytButton';I.addMenuGroup(R);var S={},T=I.lang.scayt;S.scaytToggle={label:T.enable,command:B,group:R};if(N[0]==1)S.scaytOptions={label:T.options,group:R,onClick:function(){C='options';I.openDialog(B);
}};if(N[1]==1)S.scaytLangs={label:T.langs,group:R,onClick:function(){C='langs';I.openDialog(B);}};if(N[2]==1)S.scaytDict={label:T.dictionariesTab,group:R,onClick:function(){C='dictionaries';I.openDialog(B);}};S.scaytAbout={label:I.lang.scayt.about,group:R,onClick:function(){C='about';I.openDialog(B);}};N[3]=1;F.uiTabs=N;I.addMenuItems(S);I.ui.add('Scayt',5,{label:T.title,title:q.opera?T.opera_title:T.title,className:'cke_button_scayt',modes:{wysiwyg:1},onRender:function(){L.on('state',function(){this.setState(L.state);},this);},onMenu:function(){var V=F.isScaytEnabled(I);I.getMenuItem('scaytToggle').label=T[V?'disable':'enable'];return{scaytToggle:2,scaytOptions:V&&F.uiTabs[0]?2:0,scaytLangs:V&&F.uiTabs[1]?2:0,scaytDict:V&&F.uiTabs[2]?2:0,scaytAbout:V&&F.uiTabs[3]?2:0};}});if(I.contextMenu&&I.addMenuItems)I.contextMenu.addListener(function(V,W){if(!F.isScaytEnabled(I)||W.getRanges()[0].checkReadOnly())return null;var X=F.getScayt(I),Y=X.getScaytNode();if(!Y)return null;var Z=X.getWord(Y);if(!Z)return null;var aa=X.getLang(),ab={},ac=window.scayt.getSuggestion(Z,aa);if(!ac||!ac.length)return null;for(O in J){delete I._.menuItems[O];delete I._.commands[O];}for(O in K){delete I._.menuItems[O];delete I._.commands[O];}J={};K={};var ad=I.config.scayt_moreSuggestions||'on',ae=false,af=I.config.scayt_maxSuggestions;typeof af!='number'&&(af=5);!af&&(af=ac.length);var ag=I.config.scayt_contextCommands||'all';ag=ag.split('|');for(var ah=0,ai=ac.length;ah<ai;ah+=1){var aj='scayt_suggestion_'+ac[ah].replace(' ','_'),ak=(function(ao,ap){return{exec:function(){X.replace(ao,ap);}};})(Y,ac[ah]);if(ah<af){G(I,'button_'+aj,ac[ah],aj,ak,'scayt_suggest',ah+1);ab[aj]=2;K[aj]=2;}else if(ad=='on'){G(I,'button_'+aj,ac[ah],aj,ak,'scayt_moresuggest',ah+1);J[aj]=2;ae=true;}}if(ae){I.addMenuItem('scayt_moresuggest',{label:T.moreSuggestions,group:'scayt_moresuggest',order:10,getItems:function(){return J;}});K.scayt_moresuggest=2;}if(D('all',ag)||D('ignore',ag)){var al={exec:function(){X.ignore(Y);}};G(I,'ignore',T.ignore,'scayt_ignore',al,'scayt_control',1);K.scayt_ignore=2;}if(D('all',ag)||D('ignoreall',ag)){var am={exec:function(){X.ignoreAll(Y);}};G(I,'ignore_all',T.ignoreAll,'scayt_ignore_all',am,'scayt_control',2);K.scayt_ignore_all=2;}if(D('all',ag)||D('add',ag)){var an={exec:function(){window.scayt.addWordToUserDictionary(Y);}};G(I,'add_word',T.addWord,'scayt_add_word',an,'scayt_control',3);K.scayt_add_word=2;}if(X.fireOnContextMenu)X.fireOnContextMenu(I);return K;});var U=function(){I.removeListener('showScaytState',U);
if(!q.opera&&!q.air)L.setState(F.isScaytEnabled(I)?1:2);else L.setState(0);};I.on('showScaytState',U);if(q.opera||q.air)I.on('instanceReady',function(){U();});if(I.config.scayt_autoStartup)I.on('instanceReady',function(){F.loadEngine(I);});},afterInit:function(I){var J,K=function(L){if(L.hasAttribute('data-scaytid'))return false;};if(I._.elementsPath&&(J=I._.elementsPath.filters))J.push(K);I.addRemoveFormatFilter&&I.addRemoveFormatFilter(K);}});})();y.add('smiley',{requires:['dialog'],init:function(B){B.config.smiley_path=B.config.smiley_path||this.path+'images/';B.addCommand('smiley',new p.dialogCommand('smiley'));B.ui.addButton('Smiley',{label:B.lang.smiley.toolbar,command:'smiley'});p.dialog.add('smiley',this.path+'dialogs/smiley.js');}});x.smiley_images=['regular_smile.gif','sad_smile.gif','wink_smile.gif','teeth_smile.gif','confused_smile.gif','tounge_smile.gif','embaressed_smile.gif','omg_smile.gif','whatchutalkingabout_smile.gif','angry_smile.gif','angel_smile.gif','shades_smile.gif','devil_smile.gif','cry_smile.gif','lightbulb.gif','thumbs_down.gif','thumbs_up.gif','heart.gif','broken_heart.gif','kiss.gif','envelope.gif'];x.smiley_descriptions=['smiley','sad','wink','laugh','frown','cheeky','blush','surprise','indecision','angry','angel','cool','devil','crying','enlightened','no','yes','heart','broken heart','kiss','mail'];(function(){var B='.%2 p,.%2 div,.%2 pre,.%2 address,.%2 blockquote,.%2 h1,.%2 h2,.%2 h3,.%2 h4,.%2 h5,.%2 h6{background-repeat: no-repeat;background-position: top %3;border: 1px dotted gray;padding-top: 8px;padding-%3: 8px;}.%2 p{%1p.png);}.%2 div{%1div.png);}.%2 pre{%1pre.png);}.%2 address{%1address.png);}.%2 blockquote{%1blockquote.png);}.%2 h1{%1h1.png);}.%2 h2{%1h2.png);}.%2 h3{%1h3.png);}.%2 h4{%1h4.png);}.%2 h5{%1h5.png);}.%2 h6{%1h6.png);}',C=/%1/g,D=/%2/g,E=/%3/g,F={preserveState:true,editorFocus:false,exec:function(G){this.toggleState();this.refresh(G);},refresh:function(G){var H=this.state==1?'addClass':'removeClass';G.document.getBody()[H]('cke_show_blocks');}};y.add('showblocks',{requires:['wysiwygarea'],init:function(G){var H=G.addCommand('showblocks',F);H.canUndo=false;if(G.config.startupOutlineBlocks)H.setState(1);G.addCss(B.replace(C,'background-image: url('+p.getUrl(this.path)+'images/block_').replace(D,'cke_show_blocks ').replace(E,G.lang.dir=='rtl'?'right':'left'));G.ui.addButton('ShowBlocks',{label:G.lang.showBlocks,command:'showblocks'});G.on('mode',function(){if(H.state!=0)H.refresh(G);});G.on('contentDom',function(){if(H.state!=0)H.refresh(G);
});}});})();(function(){var B='cke_show_border',C,D=(q.ie6Compat?['.%1 table.%2,','.%1 table.%2 td, .%1 table.%2 th,','{','border : #d3d3d3 1px dotted','}']:['.%1 table.%2,','.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,','.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,','.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,','.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th','{','border : #d3d3d3 1px dotted','}']).join('');C=D.replace(/%2/g,B).replace(/%1/g,'cke_show_borders ');var E={preserveState:true,editorFocus:false,exec:function(F){this.toggleState();this.refresh(F);},refresh:function(F){var G=this.state==1?'addClass':'removeClass';F.document.getBody()[G]('cke_show_borders');}};y.add('showborders',{requires:['wysiwygarea'],modes:{wysiwyg:1},init:function(F){var G=F.addCommand('showborders',E);G.canUndo=false;if(F.config.startupShowBorders!==false)G.setState(1);F.addCss(C);F.on('mode',function(){if(G.state!=0)G.refresh(F);},null,null,100);F.on('contentDom',function(){if(G.state!=0)G.refresh(F);});F.on('removeFormatCleanup',function(H){var I=H.data;if(F.getCommand('showborders').state==1&&I.is('table')&&(!I.hasAttribute('border')||parseInt(I.getAttribute('border'),10)<=0))I.addClass(B);});},afterInit:function(F){var G=F.dataProcessor,H=G&&G.dataFilter,I=G&&G.htmlFilter;if(H)H.addRules({elements:{table:function(J){var K=J.attributes,L=K['class'],M=parseInt(K.border,10);if(!M||M<=0)K['class']=(L||'')+' '+B;}}});if(I)I.addRules({elements:{table:function(J){var K=J.attributes,L=K['class'];L&&(K['class']=L.replace(B,'').replace(/\s{2}/,' ').replace(/^\s+|\s+$/,''));}}});}});p.on('dialogDefinition',function(F){var G=F.data.name;if(G=='table'||G=='tableProperties'){var H=F.data.definition,I=H.getContents('info'),J=I.get('txtBorder'),K=J.commit;J.commit=t.override(K,function(N){return function(O,P){N.apply(this,arguments);var Q=parseInt(this.getValue(),10);P[!Q||Q<=0?'addClass':'removeClass'](B);};});var L=H.getContents('advanced'),M=L&&L.get('advCSSClasses');if(M){M.setup=t.override(M.setup,function(N){return function(){N.apply(this,arguments);this.setValue(this.getValue().replace(/cke_show_border/,''));};});M.commit=t.override(M.commit,function(N){return function(O,P){N.apply(this,arguments);if(!parseInt(P.getAttribute('border'),10))P.addClass('cke_show_border');};});}}});})();y.add('sourcearea',{requires:['editingblock'],init:function(B){var C=y.sourcearea,D=p.document.getWindow();B.on('editingBlockReady',function(){var E,F;
B.addMode('source',{load:function(G,H){if(r&&q.version<8)G.setStyle('position','relative');B.textarea=E=new w('textarea');E.setAttributes({dir:'ltr',tabIndex:q.webkit?-1:B.tabIndex,role:'textbox','aria-label':B.lang.editorTitle.replace('%1',B.name)});E.addClass('cke_source');E.addClass('cke_enable_context_menu');var I={width:q.ie7Compat?'99%':'100%',height:'100%',resize:'none',outline:'none','text-align':'left'};if(r){F=function(){E.hide();E.setStyle('height',G.$.clientHeight+'px');E.setStyle('width',G.$.clientWidth+'px');E.show();};B.on('resize',F);D.on('resize',F);setTimeout(F,0);}G.setHtml('');G.append(E);E.setStyles(I);B.fire('ariaWidget',E);E.on('blur',function(){B.focusManager.blur();});E.on('focus',function(){B.focusManager.focus();});B.mayBeDirty=true;this.loadData(H);var J=B.keystrokeHandler;if(J)J.attach(E);setTimeout(function(){B.mode='source';B.fire('mode');},q.gecko||q.webkit?100:0);},loadData:function(G){E.setValue(G);B.fire('dataReady');},getData:function(){return E.getValue();},getSnapshotData:function(){return E.getValue();},unload:function(G){E.clearCustomData();B.textarea=E=null;if(F){B.removeListener('resize',F);D.removeListener('resize',F);}if(r&&q.version<8)G.removeStyle('position');},focus:function(){E.focus();}});});B.addCommand('source',C.commands.source);if(B.ui.addButton)B.ui.addButton('Source',{label:B.lang.source,command:'source'});B.on('mode',function(){B.getCommand('source').setState(B.mode=='source'?1:2);});}});y.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:false,exec:function(B){if(B.mode=='wysiwyg')B.fire('saveSnapshot');B.getCommand('source').setState(0);B.setMode(B.mode=='source'?'wysiwyg':'source');},canUndo:false}}};(function(){y.add('stylescombo',{requires:['richcombo','styles'],init:function(C){var D=C.config,E=C.lang.stylesCombo,F={},G=[];function H(I){C.getStylesSet(function(J){if(!G.length){var K,L;for(var M=0,N=J.length;M<N;M++){var O=J[M];L=O.name;K=F[L]=new p.style(O);K._name=L;K._.enterMode=D.enterMode;G.push(K);}G.sort(B);}I&&I();});};C.ui.addRichCombo('Styles',{label:E.label,title:E.panelTitle,className:'cke_styles',panel:{css:C.skin.editor.css.concat(D.contentsCss),multiSelect:true,attributes:{'aria-label':E.panelTitle}},init:function(){var I=this;H(function(){var J,K,L;for(var M=0,N=G.length;M<N;M++){J=G[M];K=J._name;var O=J.type;if(O!=L){I.startGroup(E['panelTitle'+String(O)]);L=O;}I.add(K,J.type==3?K:J.buildPreview(),K);}I.commit();I.onOpen();});},onClick:function(I){C.focus();C.fire('saveSnapshot');
var J=F[I],K=C.getSelection(),L=new s.elementPath(K.getStartElement());J[J.checkActive(L)?'remove':'apply'](C.document);C.fire('saveSnapshot');},onRender:function(){C.on('selectionChange',function(I){var J=this.getValue(),K=I.data.path,L=K.elements;for(var M=0,N=L.length,O;M<N;M++){O=L[M];for(var P in F){if(F[P].checkElementRemovable(O,true)){if(P!=J)this.setValue(P);return;}}}this.setValue('');},this);},onOpen:function(){var P=this;if(r||q.webkit)C.focus();var I=C.getSelection(),J=I.getSelectedElement(),K=new s.elementPath(J||I.getStartElement()),L=[0,0,0,0];P.showAll();P.unmarkAll();for(var M in F){var N=F[M],O=N.type;if(N.checkActive(K))P.mark(M);else if(O==3&&!N.checkApplicable(K)){P.hideItem(M);L[O]--;}L[O]++;}if(!L[1])P.hideGroup(E['panelTitle'+String(1)]);if(!L[2])P.hideGroup(E['panelTitle'+String(2)]);if(!L[3])P.hideGroup(E['panelTitle'+String(3)]);}});C.on('instanceReady',function(){H();});}});function B(C,D){var E=C.type,F=D.type;return E==F?0:E==3?-1:F==3?1:F==1?1:-1;};})();y.add('table',{init:function(B){var C=y.table,D=B.lang.table;B.addCommand('table',new p.dialogCommand('table'));B.addCommand('tableProperties',new p.dialogCommand('tableProperties'));B.ui.addButton('Table',{label:D.toolbar,command:'table'});p.dialog.add('table',this.path+'dialogs/table.js');p.dialog.add('tableProperties',this.path+'dialogs/table.js');if(B.addMenuItems)B.addMenuItems({table:{label:D.menu,command:'tableProperties',group:'table',order:5},tabledelete:{label:D.deleteTable,command:'tableDelete',group:'table',order:1}});B.on('doubleclick',function(E){var F=E.data.element;if(F.is('table'))E.data.dialog='tableProperties';});if(B.contextMenu)B.contextMenu.addListener(function(E,F){if(!E||E.isReadOnly())return null;var G=E.hasAscendant('table',1);if(G)return{tabledelete:2,table:2};return null;});}});(function(){var B=/^(?:td|th)$/;function C(V){var W=V.createBookmarks(),X=V.getRanges(),Y=[],Z={};function aa(ai){if(Y.length>0)return;if(ai.type==1&&B.test(ai.getName())&&!ai.getCustomData('selected_cell')){w.setMarker(Z,ai,'selected_cell',true);Y.push(ai);}};for(var ab=0;ab<X.length;ab++){var ac=X[ab];if(ac.collapsed){var ad=ac.getCommonAncestor(),ae=ad.getAscendant('td',true)||ad.getAscendant('th',true);if(ae)Y.push(ae);}else{var af=new s.walker(ac),ag;af.guard=aa;while(ag=af.next()){var ah=ag.getParent();if(ah&&B.test(ah.getName())&&!ah.getCustomData('selected_cell')){w.setMarker(Z,ah,'selected_cell',true);Y.push(ah);}}}}w.clearAllMarkers(Z);V.selectBookmarks(W);return Y;
};function D(V){var W=0,X=V.length-1,Y={},Z,aa,ab;while(Z=V[W++])w.setMarker(Y,Z,'delete_cell',true);W=0;while(Z=V[W++]){if((aa=Z.getPrevious())&&!aa.getCustomData('delete_cell')||(aa=Z.getNext())&&!aa.getCustomData('delete_cell')){w.clearAllMarkers(Y);return aa;}}w.clearAllMarkers(Y);ab=V[0].getParent();if(ab=ab.getPrevious())return ab.getLast();ab=V[X].getParent();if(ab=ab.getNext())return ab.getChild(0);return null;};function E(V,W){var X=C(V),Y=X[0],Z=Y.getAscendant('table'),aa=Y.getDocument(),ab=X[0].getParent(),ac=ab.$.rowIndex,ad=X[X.length-1],ae=ad.getParent().$.rowIndex+ad.$.rowSpan-1,af=new w(Z.$.rows[ae]),ag=W?ac:ae,ah=W?ab:af,ai=t.buildTableMap(Z),aj=ai[ag],ak=W?ai[ag-1]:ai[ag+1],al=ai[0].length,am=aa.createElement('tr');for(var an=0;an<al;an++){var ao;if(aj[an].rowSpan>1&&ak&&aj[an]==ak[an]){ao=aj[an];ao.rowSpan+=1;}else{ao=new w(aj[an]).clone();ao.removeAttribute('rowSpan');!r&&ao.appendBogus();am.append(ao);ao=ao.$;}an+=ao.colSpan-1;}W?am.insertBefore(ah):am.insertAfter(ah);};function F(V){if(V instanceof s.selection){var W=C(V),X=W[0],Y=X.getAscendant('table'),Z=t.buildTableMap(Y),aa=W[0].getParent(),ab=aa.$.rowIndex,ac=W[W.length-1],ad=ac.getParent().$.rowIndex+ac.$.rowSpan-1,ae=[];for(var af=ab;af<=ad;af++){var ag=Z[af],ah=new w(Y.$.rows[af]);for(var ai=0;ai<ag.length;ai++){var aj=new w(ag[ai]),ak=aj.getParent().$.rowIndex;if(aj.$.rowSpan==1)aj.remove();else{aj.$.rowSpan-=1;if(ak==af){var al=Z[af+1];al[ai-1]?aj.insertAfter(new w(al[ai-1])):new w(Y.$.rows[af+1]).append(aj,1);}}ai+=aj.$.colSpan-1;}ae.push(ah);}var am=Y.$.rows,an=new w(am[ab]||am[ab-1]||Y.$.parentNode);for(af=ae.length;af>=0;af--)F(ae[af]);return an;}else if(V instanceof w){Y=V.getAscendant('table');if(Y.$.rows.length==1)Y.remove();else V.remove();}return null;};function G(V,W){var X=V.getParent(),Y=X.$.cells,Z=0;for(var aa=0;aa<Y.length;aa++){var ab=Y[aa];Z+=W?1:ab.colSpan;if(ab==V.$)break;}return Z-1;};function H(V,W){var X=W?Infinity:0;for(var Y=0;Y<V.length;Y++){var Z=G(V[Y],W);if(W?Z<X:Z>X)X=Z;}return X;};function I(V,W){var X=C(V),Y=X[0],Z=Y.getAscendant('table'),aa=H(X,1),ab=H(X),ac=W?aa:ab,ad=t.buildTableMap(Z),ae=[],af=[],ag=ad.length;for(var ah=0;ah<ag;ah++){ae.push(ad[ah][ac]);var ai=W?ad[ah][ac-1]:ad[ah][ac+1];ai&&af.push(ai);}for(ah=0;ah<ag;ah++){var aj;if(ae[ah].colSpan>1&&af.length&&af[ah]==ae[ah]){aj=ae[ah];aj.colSpan+=1;}else{aj=new w(ae[ah]).clone();aj.removeAttribute('colSpan');!r&&aj.appendBogus();aj[W?'insertBefore':'insertAfter'].call(aj,new w(ae[ah]));aj=aj.$;
}ah+=aj.rowSpan-1;}};function J(V){var W=C(V),X=W[0],Y=W[W.length-1],Z=X.getAscendant('table'),aa=t.buildTableMap(Z),ab,ac,ad=[];for(var ae=0,af=aa.length;ae<af;ae++)for(var ag=0,ah=aa[ae].length;ag<ah;ag++){if(aa[ae][ag]==X.$)ab=ag;if(aa[ae][ag]==Y.$)ac=ag;}for(ae=ab;ae<=ac;ae++)for(ag=0;ag<aa.length;ag++){var ai=aa[ag],aj=new w(Z.$.rows[ag]),ak=new w(ai[ae]);if(ak.$.colSpan==1)ak.remove();else ak.$.colSpan-=1;ag+=ak.$.rowSpan-1;if(!aj.$.cells.length)ad.push(aj);}var al=Z.$.rows[0]&&Z.$.rows[0].cells,am=new w(al[ab]||(ab?al[ab-1]:Z.$.parentNode));if(ad.length==af)Z.remove();return am;};function K(V){var W=[],X=V[0]&&V[0].getAscendant('table'),Y,Z,aa,ab;for(Y=0,Z=V.length;Y<Z;Y++)W.push(V[Y].$.cellIndex);W.sort();for(Y=1,Z=W.length;Y<Z;Y++){if(W[Y]-W[Y-1]>1){aa=W[Y-1]+1;break;}}if(!aa)aa=W[0]>0?W[0]-1:W[W.length-1]+1;var ac=X.$.rows;for(Y=0,Z=ac.length;Y<Z;Y++){ab=ac[Y].cells[aa];if(ab)break;}return ab?new w(ab):X.getPrevious();};function L(V,W){var X=V.getStartElement(),Y=X.getAscendant('td',1)||X.getAscendant('th',1);if(!Y)return;var Z=Y.clone();if(!r)Z.appendBogus();if(W)Z.insertBefore(Y);else Z.insertAfter(Y);};function M(V){if(V instanceof s.selection){var W=C(V),X=W[0]&&W[0].getAscendant('table'),Y=D(W);for(var Z=W.length-1;Z>=0;Z--)M(W[Z]);if(Y)O(Y,true);else if(X)X.remove();}else if(V instanceof w){var aa=V.getParent();if(aa.getChildCount()==1)aa.remove();else V.remove();}};function N(V){var W=V.getBogus();W&&W.remove();V.trim();};function O(V,W){var X=new s.range(V.getDocument());if(!X['moveToElementEdit'+(W?'End':'Start')](V)){X.selectNodeContents(V);X.collapse(W?false:true);}X.select(true);};function P(V,W,X){var Y=V[W];if(typeof X=='undefined')return Y;for(var Z=0;Y&&Z<Y.length;Z++){if(X.is&&Y[Z]==X.$)return Z;else if(Z==X)return new w(Y[Z]);}return X.is?-1:null;};function Q(V,W,X){var Y=[];for(var Z=0;Z<V.length;Z++){var aa=V[Z];if(typeof X=='undefined')Y.push(aa[W]);else if(X.is&&aa[W]==X.$)return Z;else if(Z==X)return new w(aa[W]);}return typeof X=='undefined'?Y:X.is?-1:null;};function R(V,W,X){var Y=C(V),Z;if((W?Y.length!=1:Y.length<2)||(Z=V.getCommonAncestor())&&Z.type==1&&Z.is('table'))return false;var aa,ab=Y[0],ac=ab.getAscendant('table'),ad=t.buildTableMap(ac),ae=ad.length,af=ad[0].length,ag=ab.getParent().$.rowIndex,ah=P(ad,ag,ab);if(W){var ai;try{var aj=parseInt(ab.getAttribute('rowspan'),10)||1,ak=parseInt(ab.getAttribute('colspan'),10)||1;ai=ad[W=='up'?ag-aj:W=='down'?ag+aj:ag][W=='left'?ah-ak:W=='right'?ah+ak:ah];}catch(aC){return false;
}if(!ai||ab.$==ai)return false;Y[W=='up'||W=='left'?'unshift':'push'](new w(ai));}var al=ab.getDocument(),am=ag,an=0,ao=0,ap=!X&&new s.documentFragment(al),aq=0;for(var ar=0;ar<Y.length;ar++){aa=Y[ar];var as=aa.getParent(),at=aa.getFirst(),au=aa.$.colSpan,av=aa.$.rowSpan,aw=as.$.rowIndex,ax=P(ad,aw,aa);aq+=au*av;ao=Math.max(ao,ax-ah+au);an=Math.max(an,aw-ag+av);if(!X){if(N(aa),aa.getChildren().count()){if(aw!=am&&at&&!(at.isBlockBoundary&&at.isBlockBoundary({br:1}))){var ay=ap.getLast(s.walker.whitespaces(true));if(ay&&!(ay.is&&ay.is('br')))ap.append('br');}aa.moveChildren(ap);}ar?aa.remove():aa.setHtml('');}am=aw;}if(!X){ap.moveChildren(ab);if(!r)ab.appendBogus();if(ao>=af)ab.removeAttribute('rowSpan');else ab.$.rowSpan=an;if(an>=ae)ab.removeAttribute('colSpan');else ab.$.colSpan=ao;var az=new s.nodeList(ac.$.rows),aA=az.count();for(ar=aA-1;ar>=0;ar--){var aB=az.getItem(ar);if(!aB.$.cells.length){aB.remove();aA++;continue;}}return ab;}else return an*ao==aq;};function S(V,W){var X=C(V);if(X.length>1)return false;else if(W)return true;var Y=X[0],Z=Y.getParent(),aa=Z.getAscendant('table'),ab=t.buildTableMap(aa),ac=Z.$.rowIndex,ad=P(ab,ac,Y),ae=Y.$.rowSpan,af,ag,ah,ai;if(ae>1){ag=Math.ceil(ae/2);ah=Math.floor(ae/2);ai=ac+ag;var aj=new w(aa.$.rows[ai]),ak=P(ab,ai),al;af=Y.clone();for(var am=0;am<ak.length;am++){al=ak[am];if(al.parentNode==aj.$&&am>ad){af.insertBefore(new w(al));break;}else al=null;}if(!al)aj.append(af,true);}else{ah=ag=1;aj=Z.clone();aj.insertAfter(Z);aj.append(af=Y.clone());var an=P(ab,ac);for(var ao=0;ao<an.length;ao++)an[ao].rowSpan++;}if(!r)af.appendBogus();Y.$.rowSpan=ag;af.$.rowSpan=ah;if(ag==1)Y.removeAttribute('rowSpan');if(ah==1)af.removeAttribute('rowSpan');return af;};function T(V,W){var X=C(V);if(X.length>1)return false;else if(W)return true;var Y=X[0],Z=Y.getParent(),aa=Z.getAscendant('table'),ab=t.buildTableMap(aa),ac=Z.$.rowIndex,ad=P(ab,ac,Y),ae=Y.$.colSpan,af,ag,ah;if(ae>1){ag=Math.ceil(ae/2);ah=Math.floor(ae/2);}else{ah=ag=1;var ai=Q(ab,ad);for(var aj=0;aj<ai.length;aj++)ai[aj].colSpan++;}af=Y.clone();af.insertAfter(Y);if(!r)af.appendBogus();Y.$.colSpan=ag;af.$.colSpan=ah;if(ag==1)Y.removeAttribute('colSpan');if(ah==1)af.removeAttribute('colSpan');return af;};var U={thead:1,tbody:1,tfoot:1,td:1,tr:1,th:1};y.tabletools={init:function(V){var W=V.lang.table;V.addCommand('cellProperties',new p.dialogCommand('cellProperties'));p.dialog.add('cellProperties',this.path+'dialogs/tableCell.js');V.addCommand('tableDelete',{exec:function(X){var Y=X.getSelection(),Z=Y&&Y.getStartElement(),aa=Z&&Z.getAscendant('table',1);
if(!aa)return;Y.selectElement(aa);var ab=Y.getRanges()[0];ab.collapse();Y.selectRanges([ab]);var ac=aa.getParent();if(ac.getChildCount()==1&&!ac.is('body','td','th'))ac.remove();else aa.remove();}});V.addCommand('rowDelete',{exec:function(X){var Y=X.getSelection();O(F(Y));}});V.addCommand('rowInsertBefore',{exec:function(X){var Y=X.getSelection();E(Y,true);}});V.addCommand('rowInsertAfter',{exec:function(X){var Y=X.getSelection();E(Y);}});V.addCommand('columnDelete',{exec:function(X){var Y=X.getSelection(),Z=J(Y);Z&&O(Z,true);}});V.addCommand('columnInsertBefore',{exec:function(X){var Y=X.getSelection();I(Y,true);}});V.addCommand('columnInsertAfter',{exec:function(X){var Y=X.getSelection();I(Y);}});V.addCommand('cellDelete',{exec:function(X){var Y=X.getSelection();M(Y);}});V.addCommand('cellMerge',{exec:function(X){O(R(X.getSelection()),true);}});V.addCommand('cellMergeRight',{exec:function(X){O(R(X.getSelection(),'right'),true);}});V.addCommand('cellMergeDown',{exec:function(X){O(R(X.getSelection(),'down'),true);}});V.addCommand('cellVerticalSplit',{exec:function(X){O(S(X.getSelection()));}});V.addCommand('cellHorizontalSplit',{exec:function(X){O(T(X.getSelection()));}});V.addCommand('cellInsertBefore',{exec:function(X){var Y=X.getSelection();L(Y,true);}});V.addCommand('cellInsertAfter',{exec:function(X){var Y=X.getSelection();L(Y);}});if(V.addMenuItems)V.addMenuItems({tablecell:{label:W.cell.menu,group:'tablecell',order:1,getItems:function(){var X=V.getSelection(),Y=C(X);return{tablecell_insertBefore:2,tablecell_insertAfter:2,tablecell_delete:2,tablecell_merge:R(X,null,true)?2:0,tablecell_merge_right:R(X,'right',true)?2:0,tablecell_merge_down:R(X,'down',true)?2:0,tablecell_split_vertical:S(X,true)?2:0,tablecell_split_horizontal:T(X,true)?2:0,tablecell_properties:Y.length>0?2:0};}},tablecell_insertBefore:{label:W.cell.insertBefore,group:'tablecell',command:'cellInsertBefore',order:5},tablecell_insertAfter:{label:W.cell.insertAfter,group:'tablecell',command:'cellInsertAfter',order:10},tablecell_delete:{label:W.cell.deleteCell,group:'tablecell',command:'cellDelete',order:15},tablecell_merge:{label:W.cell.merge,group:'tablecell',command:'cellMerge',order:16},tablecell_merge_right:{label:W.cell.mergeRight,group:'tablecell',command:'cellMergeRight',order:17},tablecell_merge_down:{label:W.cell.mergeDown,group:'tablecell',command:'cellMergeDown',order:18},tablecell_split_horizontal:{label:W.cell.splitHorizontal,group:'tablecell',command:'cellHorizontalSplit',order:19},tablecell_split_vertical:{label:W.cell.splitVertical,group:'tablecell',command:'cellVerticalSplit',order:20},tablecell_properties:{label:W.cell.title,group:'tablecellproperties',command:'cellProperties',order:21},tablerow:{label:W.row.menu,group:'tablerow',order:1,getItems:function(){return{tablerow_insertBefore:2,tablerow_insertAfter:2,tablerow_delete:2};
}},tablerow_insertBefore:{label:W.row.insertBefore,group:'tablerow',command:'rowInsertBefore',order:5},tablerow_insertAfter:{label:W.row.insertAfter,group:'tablerow',command:'rowInsertAfter',order:10},tablerow_delete:{label:W.row.deleteRow,group:'tablerow',command:'rowDelete',order:15},tablecolumn:{label:W.column.menu,group:'tablecolumn',order:1,getItems:function(){return{tablecolumn_insertBefore:2,tablecolumn_insertAfter:2,tablecolumn_delete:2};}},tablecolumn_insertBefore:{label:W.column.insertBefore,group:'tablecolumn',command:'columnInsertBefore',order:5},tablecolumn_insertAfter:{label:W.column.insertAfter,group:'tablecolumn',command:'columnInsertAfter',order:10},tablecolumn_delete:{label:W.column.deleteColumn,group:'tablecolumn',command:'columnDelete',order:15}});if(V.contextMenu)V.contextMenu.addListener(function(X,Y){if(!X||X.isReadOnly())return null;while(X){if(X.getName() in U)return{tablecell:2,tablerow:2,tablecolumn:2};X=X.getParent();}return null;});},getSelectedCells:C};y.add('tabletools',y.tabletools);})();t.buildTableMap=function(B){var C=B.$.rows,D=-1,E=[];for(var F=0;F<C.length;F++){D++;!E[D]&&(E[D]=[]);var G=-1;for(var H=0;H<C[F].cells.length;H++){var I=C[F].cells[H];G++;while(E[D][G])G++;var J=isNaN(I.colSpan)?1:I.colSpan,K=isNaN(I.rowSpan)?1:I.rowSpan;for(var L=0;L<K;L++){if(!E[D+L])E[D+L]=[];for(var M=0;M<J;M++)E[D+L][G+M]=C[F].cells[H];}G+=J-1;}}return E;};y.add('specialchar',{availableLangs:{en:1},init:function(B){var C='specialchar',D=this;p.dialog.add(C,this.path+'dialogs/specialchar.js');B.addCommand(C,{exec:function(){var E=B.langCode;E=D.availableLangs[E]?E:'en';p.scriptLoader.load(p.getUrl(D.path+'lang/'+E+'.js'),function(){t.extend(B.lang.specialChar,D.lang[E]);B.openDialog(C);});},modes:{wysiwyg:1},canUndo:false});B.ui.addButton('SpecialChar',{label:B.lang.specialChar.toolbar,command:C});}});x.specialChars=['!','&quot;','#','$','%','&amp;',"'",'(',')','*','+','-','.','/','0','1','2','3','4','5','6','7','8','9',':',';','&lt;','=','&gt;','?','@','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','[',']','^','_','`','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','{','|','}','~','&euro;','&lsquo;','&rsquo;','&ldquo;','&rdquo;','&ndash;','&mdash;','&iexcl;','&cent;','&pound;','&curren;','&yen;','&brvbar;','&sect;','&uml;','&copy;','&ordf;','&laquo;','&not;','&reg;','&macr;','&deg;','&','&sup2;','&sup3;','&acute;','&micro;','&para;','&middot;','&cedil;','&sup1;','&ordm;','&','&frac14;','&frac12;','&frac34;','&iquest;','&Agrave;','&Aacute;','&Acirc;','&Atilde;','&Auml;','&Aring;','&AElig;','&Ccedil;','&Egrave;','&Eacute;','&Ecirc;','&Euml;','&Igrave;','&Iacute;','&Icirc;','&Iuml;','&ETH;','&Ntilde;','&Ograve;','&Oacute;','&Ocirc;','&Otilde;','&Ouml;','&times;','&Oslash;','&Ugrave;','&Uacute;','&Ucirc;','&Uuml;','&Yacute;','&THORN;','&szlig;','&agrave;','&aacute;','&acirc;','&atilde;','&auml;','&aring;','&aelig;','&ccedil;','&egrave;','&eacute;','&ecirc;','&euml;','&igrave;','&iacute;','&icirc;','&iuml;','&eth;','&ntilde;','&ograve;','&oacute;','&ocirc;','&otilde;','&ouml;','&divide;','&oslash;','&ugrave;','&uacute;','&ucirc;','&uuml;','&uuml;','&yacute;','&thorn;','&yuml;','&OElig;','&oelig;','&#372;','&#374','&#373','&#375;','&sbquo;','&#8219;','&bdquo;','&hellip;','&trade;','&#9658;','&bull;','&rarr;','&rArr;','&hArr;','&diams;','&asymp;'];
(function(){var B={editorFocus:false,modes:{wysiwyg:1,source:1}},C={exec:function(F){F.container.focusNext(true,F.tabIndex);}},D={exec:function(F){F.container.focusPrevious(true,F.tabIndex);}};function E(F){return{editorFocus:false,canUndo:false,modes:{wysiwyg:1},exec:function(G){if(G.focusManager.hasFocus){var H=G.getSelection(),I=H.getCommonAncestor(),J;if(J=I.getAscendant('td',true)||I.getAscendant('th',true)){var K=new s.range(G.document),L=t.tryThese(function(){var S=J.getParent(),T=S.$.cells[J.$.cellIndex+(F?-1:1)];T.parentNode.parentNode;return T;},function(){var S=J.getParent(),T=S.getAscendant('table'),U=T.$.rows[S.$.rowIndex+(F?-1:1)];return U.cells[F?U.cells.length-1:0];});if(!(L||F)){var M=J.getAscendant('table').$,N=J.getParent().$.cells,O=new w(M.insertRow(-1),G.document);for(var P=0,Q=N.length;P<Q;P++){var R=O.append(new w(N[P],G.document).clone(false,false));!r&&R.appendBogus();}K.moveToElementEditStart(O);}else if(L){L=new w(L);K.moveToElementEditStart(L);if(!(K.checkStartOfBlock()&&K.checkEndOfBlock()))K.selectNodeContents(L);}else return true;K.select(true);return true;}}return false;}};};y.add('tab',{requires:['keystrokes'],init:function(F){var G=F.config.enableTabKeyTools!==false,H=F.config.tabSpaces||0,I='';while(H--)I+='\xa0';if(I)F.on('key',function(J){if(J.data.keyCode==9){F.insertHtml(I);J.cancel();}});if(G)F.on('key',function(J){if(J.data.keyCode==9&&F.execCommand('selectNextCell')||J.data.keyCode==2000+9&&F.execCommand('selectPreviousCell'))J.cancel();});if(q.webkit||q.gecko)F.on('key',function(J){var K=J.data.keyCode;if(K==9&&!I){J.cancel();F.execCommand('blur');}if(K==2000+9){F.execCommand('blurBack');J.cancel();}});F.addCommand('blur',t.extend(C,B));F.addCommand('blurBack',t.extend(D,B));F.addCommand('selectNextCell',E());F.addCommand('selectPreviousCell',E(true));}});})();w.prototype.focusNext=function(B,C){var L=this;var D=L.$,E=C===undefined?L.getTabIndex():C,F,G,H,I,J,K;if(E<=0){J=L.getNextSourceNode(B,1);while(J){if(J.isVisible()&&J.getTabIndex()===0){H=J;break;}J=J.getNextSourceNode(false,1);}}else{J=L.getDocument().getBody().getFirst();while(J=J.getNextSourceNode(false,1)){if(!F)if(!G&&J.equals(L)){G=true;if(B){if(!(J=J.getNextSourceNode(true,1)))break;F=1;}}else if(G&&!L.contains(J))F=1;if(!J.isVisible()||(K=J.getTabIndex())<0)continue;if(F&&K==E){H=J;break;}if(K>E&&(!H||!I||K<I)){H=J;I=K;}else if(!H&&K===0){H=J;I=K;}}}if(H)H.focus();};w.prototype.focusPrevious=function(B,C){var L=this;var D=L.$,E=C===undefined?L.getTabIndex():C,F,G,H,I=0,J,K=L.getDocument().getBody().getLast();
while(K=K.getPreviousSourceNode(false,1)){if(!F)if(!G&&K.equals(L)){G=true;if(B){if(!(K=K.getPreviousSourceNode(true,1)))break;F=1;}}else if(G&&!L.contains(K))F=1;if(!K.isVisible()||(J=K.getTabIndex())<0)continue;if(E<=0){if(F&&J===0){H=K;break;}if(J>I){H=K;I=J;}}else{if(F&&J==E){H=K;break;}if(J<E&&(!H||J>I)){H=K;I=J;}}}if(H)H.focus();};(function(){y.add('templates',{requires:['dialog'],init:function(D){p.dialog.add('templates',p.getUrl(this.path+'dialogs/templates.js'));D.addCommand('templates',new p.dialogCommand('templates'));D.ui.addButton('Templates',{label:D.lang.templates.button,command:'templates'});}});var B={},C={};p.addTemplates=function(D,E){B[D]=E;};p.getTemplates=function(D){return B[D];};p.loadTemplates=function(D,E){var F=[];for(var G=0,H=D.length;G<H;G++){if(!C[D[G]]){F.push(D[G]);C[D[G]]=1;}}if(F.length)p.scriptLoader.load(F,E);else setTimeout(E,0);};})();x.templates_files=[p.getUrl('plugins/templates/templates/default.js')];x.templates_replaceContent=true;(function(){var B=function(){this.toolbars=[];this.focusCommandExecuted=false;};B.prototype.focus=function(){for(var D=0,E;E=this.toolbars[D++];)for(var F=0,G;G=E.items[F++];){if(G.focus){G.focus();return;}}};var C={toolbarFocus:{modes:{wysiwyg:1,source:1},exec:function(D){if(D.toolbox){D.toolbox.focusCommandExecuted=true;if(r||q.air)setTimeout(function(){D.toolbox.focus();},100);else D.toolbox.focus();}}}};y.add('toolbar',{init:function(D){var E=function(F,G){var H,I,J,K=D.lang.dir=='rtl';switch(G){case K?37:39:case 9:do{H=F.next;if(!H){I=F.toolbar.next;J=I&&I.items.length;while(J===0){I=I.next;J=I&&I.items.length;}if(I)H=I.items[0];}F=H;}while(F&&!F.focus)if(F)F.focus();else D.toolbox.focus();return false;case K?39:37:case 2000+9:do{H=F.previous;if(!H){I=F.toolbar.previous;J=I&&I.items.length;while(J===0){I=I.previous;J=I&&I.items.length;}if(I)H=I.items[J-1];}F=H;}while(F&&!F.focus)if(F)F.focus();else{var L=D.toolbox.toolbars[D.toolbox.toolbars.length-1].items;L[L.length-1].focus();}return false;case 27:D.focus();return false;case 13:case 32:F.execute();return false;}return true;};D.on('themeSpace',function(F){if(F.data.space==D.config.toolbarLocation){D.toolbox=new B();var G=t.getNextId(),H=['<div class="cke_toolbox" role="toolbar" aria-labelledby="',G,'" onmousedown="return false;"'],I=D.config.toolbarStartupExpanded!==false,J;H.push(I?'>':' style="display:none">');H.push('<span id="',G,'" class="cke_voice_label">',D.lang.toolbar,'</span>');var K=D.toolbox.toolbars,L=D.config.toolbar instanceof Array?D.config.toolbar:D.config['toolbar_'+D.config.toolbar];
for(var M=0;M<L.length;M++){var N=L[M];if(!N)continue;var O=t.getNextId(),P={id:O,items:[]};if(J){H.push('</div>');J=0;}if(N==='/'){H.push('<div class="cke_break"></div>');continue;}H.push('<span id="',O,'" class="cke_toolbar" role="presentation"><span class="cke_toolbar_start"></span>');var Q=K.push(P)-1;if(Q>0){P.previous=K[Q-1];P.previous.next=P;}for(var R=0;R<N.length;R++){var S,T=N[R];if(T=='-')S=z.separator;else S=D.ui.create(T);if(S){if(S.canGroup){if(!J){H.push('<span class="cke_toolgroup" role="presentation">');J=1;}}else if(J){H.push('</span>');J=0;}var U=S.render(D,H);Q=P.items.push(U)-1;if(Q>0){U.previous=P.items[Q-1];U.previous.next=U;}U.toolbar=P;U.onkey=E;U.onfocus=function(){if(!D.toolbox.focusCommandExecuted)D.focus();};}}if(J){H.push('</span>');J=0;}H.push('<span class="cke_toolbar_end"></span></span>');}H.push('</div>');if(D.config.toolbarCanCollapse){var V=t.addFunction(function(){D.execCommand('toolbarCollapse');});D.on('destroy',function(){t.removeFunction(V);});var W=t.getNextId();D.addCommand('toolbarCollapse',{exec:function(X){var Y=p.document.getById(W),Z=Y.getPrevious(),aa=X.getThemeSpace('contents'),ab=Z.getParent(),ac=parseInt(aa.$.style.height,10),ad=ab.$.offsetHeight,ae=!Z.isVisible();if(!ae){Z.hide();Y.addClass('cke_toolbox_collapser_min');Y.setAttribute('title',X.lang.toolbarExpand);}else{Z.show();Y.removeClass('cke_toolbox_collapser_min');Y.setAttribute('title',X.lang.toolbarCollapse);}Y.getFirst().setText(ae?'▲':'◀');var af=ab.$.offsetHeight-ad;aa.setStyle('height',ac-af+'px');X.fire('resize');},modes:{wysiwyg:1,source:1}});H.push('<a title="'+(I?D.lang.toolbarCollapse:D.lang.toolbarExpand)+'" id="'+W+'" tabIndex="-1" class="cke_toolbox_collapser');if(!I)H.push(' cke_toolbox_collapser_min');H.push('" onclick="CKEDITOR.tools.callFunction('+V+')">','<span>&#9650;</span>','</a>');}F.data.html+=H.join('');}});D.on('destroy',function(){var F,G=0,H,I,J;F=this.toolbox.toolbars;for(;G<F.length;G++){I=F[G].items;for(H=0;H<I.length;H++){J=I[H];if(J.clickFn)t.removeFunction(J.clickFn);if(J.keyDownFn)t.removeFunction(J.keyDownFn);if(J.index)z.button._.instances[J.index]=null;}}});D.addCommand('toolbarFocus',C.toolbarFocus);}});})();z.separator={render:function(B,C){C.push('<span class="cke_separator" role="separator"></span>');return{};}};x.toolbarLocation='top';x.toolbar_Basic=[['Bold','Italic','-','NumberedList','BulletedList','-','Link','Unlink','-','About']];x.toolbar_Full=[['Source','-','Save','NewPage','Preview','-','Templates'],['Cut','Copy','Paste','PasteText','PasteFromWord','-','Print','SpellChecker','Scayt'],['Undo','Redo','-','Find','Replace','-','SelectAll','RemoveFormat'],['Form','Checkbox','Radio','TextField','Textarea','Select','Button','ImageButton','HiddenField'],'/',['Bold','Italic','Underline','Strike','-','Subscript','Superscript'],['NumberedList','BulletedList','-','Outdent','Indent','Blockquote','CreateDiv'],['JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock'],['BidiLtr','BidiRtl'],['Link','Unlink','Anchor'],['Image','Flash','Table','HorizontalRule','Smiley','SpecialChar','PageBreak','Iframe'],'/',['Styles','Format','Font','FontSize'],['TextColor','BGColor'],['Maximize','ShowBlocks','-','About']];
x.toolbar='Full';x.toolbarCanCollapse=true;(function(){y.add('undo',{requires:['selection','wysiwygarea'],init:function(H){var I=new D(H),J=H.addCommand('undo',{exec:function(){if(I.undo()){H.selectionChange();this.fire('afterUndo');}},state:0,canUndo:false}),K=H.addCommand('redo',{exec:function(){if(I.redo()){H.selectionChange();this.fire('afterRedo');}},state:0,canUndo:false});I.onChange=function(){J.setState(I.undoable()?2:0);K.setState(I.redoable()?2:0);};function L(M){if(I.enabled&&M.data.command.canUndo!==false)I.save();};H.on('beforeCommandExec',L);H.on('afterCommandExec',L);H.on('saveSnapshot',function(){I.save();});H.on('contentDom',function(){H.document.on('keydown',function(M){if(!M.data.$.ctrlKey&&!M.data.$.metaKey)I.type(M);});});H.on('beforeModeUnload',function(){H.mode=='wysiwyg'&&I.save(true);});H.on('mode',function(){I.enabled=H.mode=='wysiwyg';I.onChange();});H.ui.addButton('Undo',{label:H.lang.undo,command:'undo'});H.ui.addButton('Redo',{label:H.lang.redo,command:'redo'});H.resetUndo=function(){I.reset();H.fire('saveSnapshot');};H.on('updateSnapshot',function(){if(I.currentImage&&new B(H).equals(I.currentImage))setTimeout(function(){I.update();},0);});}});y.undo={};var B=y.undo.Image=function(H){this.editor=H;var I=H.getSnapshot(),J=I&&H.getSelection();r&&I&&(I=I.replace(/\s+data-cke-expando=".*?"/g,''));this.contents=I;this.bookmarks=J&&J.createBookmarks2(true);},C=/\b(?:href|src|name)="[^"]*?"/gi;B.prototype={equals:function(H,I){var J=this.contents,K=H.contents;if(r&&(q.ie7Compat||q.ie6Compat)){J=J.replace(C,'');K=K.replace(C,'');}if(J!=K)return false;if(I)return true;var L=this.bookmarks,M=H.bookmarks;if(L||M){if(!L||!M||L.length!=M.length)return false;for(var N=0;N<L.length;N++){var O=L[N],P=M[N];if(O.startOffset!=P.startOffset||O.endOffset!=P.endOffset||!t.arrayCompare(O.start,P.start)||!t.arrayCompare(O.end,P.end))return false;}}return true;}};function D(H){this.editor=H;this.reset();};var E={8:1,46:1},F={16:1,17:1,18:1},G={37:1,38:1,39:1,40:1};D.prototype={type:function(H){var I=H&&H.data.getKey(),J=I in F,K=I in E,L=this.lastKeystroke in E,M=K&&I==this.lastKeystroke,N=I in G,O=this.lastKeystroke in G,P=!K&&!N,Q=K&&!M,R=!(J||this.typing)||P&&(L||O);if(R||Q){var S=new B(this.editor);t.setTimeout(function(){var U=this;var T=U.editor.getSnapshot();if(r)T=T.replace(/\s+data-cke-expando=".*?"/g,'');if(S.contents!=T){U.typing=true;if(!U.save(false,S,false))U.snapshots.splice(U.index+1,U.snapshots.length-U.index-1);U.hasUndo=true;U.hasRedo=false;
U.typesCount=1;U.modifiersCount=1;U.onChange();}},0,this);}this.lastKeystroke=I;if(K){this.typesCount=0;this.modifiersCount++;if(this.modifiersCount>25){this.save(false,null,false);this.modifiersCount=1;}}else if(!N){this.modifiersCount=0;this.typesCount++;if(this.typesCount>25){this.save(false,null,false);this.typesCount=1;}}},reset:function(){var H=this;H.lastKeystroke=0;H.snapshots=[];H.index=-1;H.limit=H.editor.config.undoStackSize||20;H.currentImage=null;H.hasUndo=false;H.hasRedo=false;H.resetType();},resetType:function(){var H=this;H.typing=false;delete H.lastKeystroke;H.typesCount=0;H.modifiersCount=0;},fireChange:function(){var H=this;H.hasUndo=!!H.getNextImage(true);H.hasRedo=!!H.getNextImage(false);H.resetType();H.onChange();},save:function(H,I,J){var L=this;var K=L.snapshots;if(!I)I=new B(L.editor);if(I.contents===false)return false;if(L.currentImage&&I.equals(L.currentImage,H))return false;K.splice(L.index+1,K.length-L.index-1);if(K.length==L.limit)K.shift();L.index=K.push(I)-1;L.currentImage=I;if(J!==false)L.fireChange();return true;},restoreImage:function(H){var J=this;J.editor.loadSnapshot(H.contents);if(H.bookmarks)J.editor.getSelection().selectBookmarks(H.bookmarks);else if(r){var I=J.editor.document.getBody().$.createTextRange();I.collapse(true);I.select();}J.index=H.index;J.update();J.fireChange();},getNextImage:function(H){var M=this;var I=M.snapshots,J=M.currentImage,K,L;if(J)if(H)for(L=M.index-1;L>=0;L--){K=I[L];if(!J.equals(K,true)){K.index=L;return K;}}else for(L=M.index+1;L<I.length;L++){K=I[L];if(!J.equals(K,true)){K.index=L;return K;}}return null;},redoable:function(){return this.enabled&&this.hasRedo;},undoable:function(){return this.enabled&&this.hasUndo;},undo:function(){var I=this;if(I.undoable()){I.save(true);var H=I.getNextImage(true);if(H)return I.restoreImage(H),true;}return false;},redo:function(){var I=this;if(I.redoable()){I.save(true);if(I.redoable()){var H=I.getNextImage(false);if(H)return I.restoreImage(H),true;}}return false;},update:function(){var H=this;H.snapshots.splice(H.index,1,H.currentImage=new B(H.editor));}};})();(function(){var B={table:1,pre:1},C=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,D=s.walker.whitespaces(true);function E(S){return S.getName() in B||S.isBlockBoundary()&&u.$empty[S.getName()];};function F(S){return function(T){if(this.mode=='wysiwyg'){this.focus();this.fire('saveSnapshot');S.call(this,T.data);t.setTimeout(function(){this.fire('saveSnapshot');
},0,this);}};};function G(S){var Y=this;if(Y.dataProcessor)S=Y.dataProcessor.toHtml(S);var T=Y.getSelection(),U=T.getRanges()[0];if(U.checkReadOnly())return;if(r){var V=T.isLocked;if(V)T.unlock();var W=T.getNative();if(W.type=='Control')W.clear();else if(T.getType()==2){U=T.getRanges()[0];var X=U&&U.endContainer;if(X&&X.type==1&&X.getAttribute('contenteditable')=='false'&&U.checkBoundaryOfElement(X,2)){U.setEndAfter(U.endContainer);U.deleteContents();}}try{W.createRange().pasteHTML(S);}catch(Z){}if(V)Y.getSelection().lock();}else Y.document.$.execCommand('inserthtml',false,S);if(q.webkit){T=Y.getSelection();T.scrollIntoView();}};function H(S){var T=this.getSelection(),U=T.getStartElement().hasAscendant('pre',true)?2:this.config.enterMode,V=U==2,W=t.htmlEncode(S.replace(/\r\n|\r/g,'\n'));W=W.replace(/^[ \t]+|[ \t]+$/g,function(ac,ad,ae){if(ac.length==1)return '&nbsp;';else if(!ad)return t.repeat('&nbsp;',ac.length-1)+' ';else return ' '+t.repeat('&nbsp;',ac.length-1);});W=W.replace(/[ \t]{2,}/g,function(ac){return t.repeat('&nbsp;',ac.length-1)+' ';});var X=U==1?'p':'div';if(!V)W=W.replace(/(\n{2})([\s\S]*?)(?:$|\1)/g,function(ac,ad,ae){return '<'+X+'>'+ae+'</'+X+'>';});W=W.replace(/\n/g,'<br>');if(!(V||r))W=W.replace(new RegExp('<br>(?=</'+X+'>)'),function(ac){return t.repeat(ac,2);});if(q.gecko||q.webkit){var Y=new s.elementPath(T.getStartElement()),Z=[];for(var aa=0;aa<Y.elements.length;aa++){var ab=Y.elements[aa].getName();if(ab in u.$inline)Z.unshift(Y.elements[aa].getOuterHtml().match(/^<.*?>/));else if(ab in u.$block)break;}W=Z.join('')+W;}G.call(this,W);};function I(S){var T=this.getSelection(),U=T.getRanges(),V=S.getName(),W=u.$block[V],X=T.isLocked;if(X)T.unlock();var Y,Z,aa,ab;for(var ac=U.length-1;ac>=0;ac--){Y=U[ac];if(!Y.checkReadOnly()){Y.deleteContents(1);Z=!ac&&S||S.clone(1);var ad,ae;if(W)while((ad=Y.getCommonAncestor(0,1))&&(ae=u[ad.getName()])&&!(ae&&ae[V])){if(ad.getName() in u.span)Y.splitElement(ad);else if(Y.checkStartOfBlock()&&Y.checkEndOfBlock()){Y.setStartBefore(ad);Y.collapse(true);ad.remove();}else Y.splitBlock();}Y.insertNode(Z);if(!aa)aa=Z;}}if(aa){Y.moveToPosition(aa,4);if(W){var af=aa.getNext(D),ag=af&&af.type==1&&af.getName();if(ag&&u.$block[ag]&&u[ag]['#'])Y.moveToElementEditStart(af);}}T.selectRanges([Y]);if(X)this.getSelection().lock();};function J(S){if(!S.checkDirty())setTimeout(function(){S.resetDirty();},0);};var K=s.walker.whitespaces(true),L=s.walker.bookmark(false,true);function M(S){return K(S)&&L(S);};function N(S){return S.type==3&&t.trim(S.getText()).match(/^(?:&nbsp;|\xa0)$/);
};function O(S){if(S.isLocked){S.unlock();setTimeout(function(){S.lock();},0);}};function P(S){return S.getOuterHtml().match(C);};K=s.walker.whitespaces(true);function Q(S){var T=S.window,U=S.document,V=S.document.getBody(),W=V.getChildren().count();if(!W||W==1&&V.getFirst().hasAttribute('_moz_editor_bogus_node')){J(S);var X=S.element.getDocument(),Y=X.getDocumentElement(),Z=Y.$.scrollTop,aa=Y.$.scrollLeft,ab=U.$.createEvent('KeyEvents');ab.initKeyEvent('keypress',true,true,T.$,false,false,false,false,0,32);U.$.dispatchEvent(ab);if(Z!=Y.$.scrollTop||aa!=Y.$.scrollLeft)X.getWindow().$.scrollTo(aa,Z);W&&V.getFirst().remove();U.getBody().appendBogus();var ac=new s.range(U);ac.setStartAt(V,1);ac.select();}};function R(S){var T=S.editor,U=S.data.path,V=U.blockLimit,W=S.data.selection,X=W.getRanges()[0],Y=T.document.getBody(),Z=T.config.enterMode;if(q.gecko){Q(T);var aa=U.block||U.blockLimit;if(aa&&!aa.getBogus()){T.fire('updateSnapshot');J(T);aa.appendBogus();}}if(Z!=2&&X.collapsed&&V.getName()=='body'&&!U.block){T.fire('updateSnapshot');J(T);r&&O(W);var ab=X.fixBlock(true,T.config.enterMode==3?'div':'p');if(r){var ac=ab.getFirst(M);ac&&N(ac)&&ac.remove();}if(P(ab)){var ad=ab.getNext(K);if(ad&&ad.type==1&&!E(ad)){X.moveToElementEditStart(ad);ab.remove();}else{ad=ab.getPrevious(K);if(ad&&ad.type==1&&!E(ad)){X.moveToElementEditEnd(ad);ab.remove();}}}X.select();if(!r){T.forceNextSelectionCheck();T.selectionChange();}}var ae=new s.range(T.document),af=new s.walker(ae);ae.selectNodeContents(Y);af.evaluator=function(ah){return ah.type==1&&ah.getName() in B;};af.guard=function(ah,ai){return!(ah.type==3&&K(ah)||ai);};if(af.previous()){T.fire('updateSnapshot');J(T);r&&O(W);var ag;if(Z!=2)ag=Y.append(new w(Z==1?'p':'div'));else ag=Y;if(!r)ag.appendBogus();}};y.add('wysiwygarea',{requires:['editingblock'],init:function(S){var T=S.config.enterMode!=2?S.config.enterMode==3?'div':'p':false,U=S.lang.editorTitle.replace('%1',S.name),V;S.on('editingBlockReady',function(){var ab,ac,ad,ae,af,ag,ah=q.isCustomDomain(),ai=function(al){if(ac)ac.remove();var am='document.open();'+(ah?'document.domain="'+document.domain+'";':'')+'document.close();';am=q.air?'javascript:void(0)':r?'javascript:void(function(){'+encodeURIComponent(am)+'}())':'';ac=w.createFromHtml('<iframe style="width:100%;height:100%" frameBorder="0" title="'+U+'"'+' src="'+am+'"'+' tabIndex="'+(q.webkit?-1:S.tabIndex)+'"'+' allowTransparency="true"'+'></iframe>');if(document.location.protocol=='chrome:')p.event.useCapture=true;
ac.on('load',function(aq){af=1;aq.removeListener();var ar=ac.getFrameDocument();ar.write(al);q.air&&ak(ar.getWindow().$);});if(document.location.protocol=='chrome:')p.event.useCapture=false;var an=S.element,ao=q.gecko&&!an.isVisible(),ap={};if(ao){an.show();ap={position:an.getStyle('position'),top:an.getStyle('top')};an.setStyles({position:'absolute',top:'-3000px'});}ab.append(ac);if(ao)setTimeout(function(){an.hide();an.setStyles(ap);},1000);};V=t.addFunction(ak);var aj='<script id="cke_actscrpt" type="text/javascript" data-cke-temp="1">'+(ah?'document.domain="'+document.domain+'";':'')+'window.parent.CKEDITOR.tools.callFunction( '+V+', window );'+'</script>';function ak(al){if(!af)return;af=0;S.fire('ariaWidget',ac);var am=al.document,an=am.body,ao=am.getElementById('cke_actscrpt');ao&&ao.parentNode.removeChild(ao);an.spellcheck=!S.config.disableNativeSpellChecker;if(r){an.hideFocus=true;an.disabled=true;an.contentEditable=true;an.removeAttribute('disabled');}else setTimeout(function(){if(q.gecko&&q.version>=10900||q.opera)am.$.body.contentEditable=true;else if(q.webkit)am.$.body.parentNode.contentEditable=true;else am.$.designMode='on';},0);q.gecko&&t.setTimeout(Q,0,null,S);al=S.window=new s.window(al);am=S.document=new v(am);am.on('dblclick',function(au){var av=au.data.getTarget(),aw={element:av,dialog:''};S.fire('doubleclick',aw);aw.dialog&&S.openDialog(aw.dialog);});r&&am.on('click',function(au){var av=au.data.getTarget();if(av.is('input')){var aw=av.getAttribute('type');if(aw=='submit'||aw=='reset')au.data.preventDefault();}});if(!(r||q.opera))am.on('mousedown',function(au){var av=au.data.getTarget();if(av.is('img','hr','input','textarea','select'))S.getSelection().selectElement(av);});if(q.gecko)am.on('mouseup',function(au){if(au.data.$.button==2){var av=au.data.getTarget();if(!av.getOuterHtml().replace(C,'')){var aw=new s.range(am);aw.moveToElementEditStart(av);aw.select(true);}}});am.on('click',function(au){au=au.data;if(au.getTarget().is('a')&&au.$.button!=2)au.preventDefault();});if(q.webkit){am.on('click',function(au){if(au.data.getTarget().is('input','select'))au.data.preventDefault();});am.on('mouseup',function(au){if(au.data.getTarget().is('input','textarea'))au.data.preventDefault();});}if(r&&am.$.compatMode=='CSS1Compat'||q.gecko||q.opera){var ap=am.getDocumentElement();ap.on('mousedown',function(au){if(au.data.getTarget().equals(ap)){if(q.gecko&&q.version>=10900)Z();aa.focus();}});}var aq=r?ac:al;aq.on('blur',function(){S.focusManager.blur();
});var ar;aq.on('focus',function(){var au=S.document;if(q.gecko&&q.version>=10900)Z();else if(q.opera)au.getBody().focus();else if(q.webkit)if(!ar){S.document.getDocumentElement().focus();ar=1;}S.focusManager.focus();});var as=S.keystrokeHandler;if(as)as.attach(am);if(r){am.getDocumentElement().addClass(am.$.compatMode);am.on('keydown',function(au){var av=au.data.getKeystroke();if(av in {8:1,46:1}){var aw=S.getSelection(),ax=aw.getSelectedElement();if(ax){S.fire('saveSnapshot');var ay=aw.getRanges()[0].createBookmark();ax.remove();aw.selectBookmarks([ay]);S.fire('saveSnapshot');au.data.preventDefault();}}});if(am.$.compatMode=='CSS1Compat'){var at={33:1,34:1};am.on('keydown',function(au){if(au.data.getKeystroke() in at)setTimeout(function(){S.getSelection().scrollIntoView();},0);});}}if(S.contextMenu)S.contextMenu.addTarget(am,S.config.browserContextMenuOnCtrl!==false);setTimeout(function(){S.fire('contentDom');if(ag){S.mode='wysiwyg';S.fire('mode');ag=false;}ad=false;if(ae){S.focus();ae=false;}setTimeout(function(){S.fire('dataReady');},0);try{S.document.$.execCommand('enableInlineTableEditing',false,!S.config.disableNativeTableHandles);}catch(au){}if(S.config.disableObjectResizing)try{S.document.$.execCommand('enableObjectResizing',false,false);}catch(av){S.document.getBody().on(r?'resizestart':'resize',function(aw){aw.data.preventDefault();});}if(r)setTimeout(function(){if(S.document){var aw=S.document.$.body;aw.runtimeStyle.marginBottom='0px';aw.runtimeStyle.marginBottom='';}},1000);},0);};S.addMode('wysiwyg',{load:function(al,am,an){ab=al;if(r&&q.quirks)al.setStyle('position','relative');S.mayBeDirty=true;ag=true;if(an)this.loadSnapshotData(am);else this.loadData(am);},loadData:function(al){ad=true;var am=S.config,an=am.fullPage,ao=am.docType,ap='<style type="text/css" data-cke-temp="1">'+S._.styles.join('\n')+'</style>';!an&&(ap=t.buildStyleHtml(S.config.contentsCss)+ap);var aq=am.baseHref?'<base href="'+am.baseHref+'" data-cke-temp="1" />':'';if(an)al=al.replace(/<!DOCTYPE[^>]*>/i,function(ar){S.docType=ao=ar;return '';});if(S.dataProcessor)al=S.dataProcessor.toHtml(al,T);if(an){if(!/<body[\s|>]/.test(al))al='<body>'+al;if(!/<html[\s|>]/.test(al))al='<html>'+al+'</html>';if(!/<head[\s|>]/.test(al))al=al.replace(/<html[^>]*>/,'$&<head><title></title></head>');else if(!/<title[\s|>]/.test(al))al=al.replace(/<head[^>]*>/,'$&<title></title>');aq&&(al=al.replace(/<head>/,'$&'+aq));al=al.replace(/<\/head\s*>/,ap+'$&');al=ao+al;}else al=am.docType+'<html dir="'+am.contentsLangDirection+'"'+' lang="'+(am.contentsLanguage||S.langCode)+'">'+'<head>'+'<title>'+U+'</title>'+aq+ap+'</head>'+'<body'+(am.bodyId?' id="'+am.bodyId+'"':'')+(am.bodyClass?' class="'+am.bodyClass+'"':'')+'>'+al+'</html>';
al+=aj;this.onDispose();ai(al);},getData:function(){var al=S.config,am=al.fullPage,an=am&&S.docType,ao=ac.getFrameDocument(),ap=am?ao.getDocumentElement().getOuterHtml():ao.getBody().getHtml();if(S.dataProcessor)ap=S.dataProcessor.toDataFormat(ap,T);if(al.ignoreEmptyParagraph)ap=ap.replace(C,function(aq,ar){return ar;});if(an)ap=an+'\n'+ap;return ap;},getSnapshotData:function(){return ac.getFrameDocument().getBody().getHtml();},loadSnapshotData:function(al){ac.getFrameDocument().getBody().setHtml(al);},onDispose:function(){if(!S.document)return;S.document.getDocumentElement().clearCustomData();S.document.getBody().clearCustomData();S.window.clearCustomData();S.document.clearCustomData();ac.clearCustomData();ac.remove();},unload:function(al){this.onDispose();S.window=S.document=ac=ab=ae=null;S.fire('contentDomUnload');},focus:function(){var al=S.window;if(ad)ae=true;else if(q.opera&&S.document){var am=S.window.$.frameElement;am.blur(),am.focus();S.document.getBody().focus();S.selectionChange();}else if(!q.opera&&al){q.air?setTimeout(function(){al.focus();},0):al.focus();S.selectionChange();}}});S.on('insertHtml',F(G),null,null,20);S.on('insertElement',F(I),null,null,20);S.on('insertText',F(H),null,null,20);S.on('selectionChange',R,null,null,1);});var W;S.on('contentDom',function(){var ab=S.document.getElementsByTag('title').getItem(0);ab.data('cke-title',S.document.$.title);S.document.$.title=U;});if(q.ie8Compat){S.addCss('html.CSS1Compat [contenteditable=false]{ min-height:0 !important;}');var X=[];for(var Y in u.$removeEmpty)X.push('html.CSS1Compat '+Y+'[contenteditable=false]');S.addCss(X.join(',')+'{ display:inline-block;}');}else if(q.gecko)S.addCss('html { height: 100% !important; }');function Z(ab){t.tryThese(function(){S.document.$.designMode='on';setTimeout(function(){S.document.$.designMode='off';if(p.currentInstance==S)S.document.getBody().focus();},50);},function(){S.document.$.designMode='off';var ac=S.document.getBody();ac.setAttribute('contentEditable',false);ac.setAttribute('contentEditable',true);!ab&&Z(1);});};if(q.gecko||r||q.opera){var aa;S.on('uiReady',function(){aa=S.container.append(w.createFromHtml('<span tabindex="-1" style="position:absolute;" role="presentation"></span>'));aa.on('focus',function(){S.focus();});S.focusGrabber=aa;});S.on('destroy',function(){t.removeFunction(V);aa.clearCustomData();delete S.focusGrabber;});}S.on('insertElement',function(ab){var ac=ab.data;if(ac.type==1&&(ac.is('input')||ac.is('textarea'))){if(!ac.isReadOnly())ac.data('cke-editable',ac.hasAttribute('contenteditable')?'true':'1');
ac.setAttribute('contentEditable',false);}});}});if(q.gecko)(function(){var S=document.body;if(!S)window.addEventListener('load',arguments.callee,false);else{var T=S.getAttribute('onpageshow');S.setAttribute('onpageshow',(T?T+';':'')+'event.persisted && (function(){'+'var allInstances = CKEDITOR.instances, editor, doc;'+'for ( var i in allInstances )'+'{'+'\teditor = allInstances[ i ];'+'\tdoc = editor.document;'+'\tif ( doc )'+'\t{'+'\t\tdoc.$.designMode = "off";'+'\t\tdoc.$.designMode = "on";'+'\t}'+'}'+'})();');}})();})();x.disableObjectResizing=false;x.disableNativeTableHandles=true;x.disableNativeSpellChecker=true;x.ignoreEmptyParagraph=true;y.add('wsc',{requires:['dialog'],init:function(B){var C='checkspell',D=B.addCommand(C,new p.dialogCommand(C));D.modes={wysiwyg:!q.opera&&!q.air&&document.domain==window.location.hostname};B.ui.addButton('SpellChecker',{label:B.lang.spellCheck.toolbar,command:C});p.dialog.add(C,this.path+'dialogs/wsc.js');}});x.wsc_customerId=x.wsc_customerId||'1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk';x.wsc_customLoaderScript=x.wsc_customLoaderScript||null;p.DIALOG_RESIZE_NONE=0;p.DIALOG_RESIZE_WIDTH=1;p.DIALOG_RESIZE_HEIGHT=2;p.DIALOG_RESIZE_BOTH=3;(function(){var B=t.cssLength;function C(ae){return!!this._.tabs[ae][0].$.offsetHeight;};function D(){var ai=this;var ae=ai._.currentTabId,af=ai._.tabIdList.length,ag=t.indexOf(ai._.tabIdList,ae)+af;for(var ah=ag-1;ah>ag-af;ah--){if(C.call(ai,ai._.tabIdList[ah%af]))return ai._.tabIdList[ah%af];}return null;};function E(){var ai=this;var ae=ai._.currentTabId,af=ai._.tabIdList.length,ag=t.indexOf(ai._.tabIdList,ae);for(var ah=ag+1;ah<ag+af;ah++){if(C.call(ai,ai._.tabIdList[ah%af]))return ai._.tabIdList[ah%af];}return null;};function F(ae,af){var ag=ae.$.getElementsByTagName('input');for(var ah=0,ai=ag.length;ah<ai;ah++){var aj=new w(ag[ah]);if(aj.getAttribute('type').toLowerCase()=='text')if(af){aj.setAttribute('value',aj.getCustomData('fake_value')||'');aj.removeCustomData('fake_value');}else{aj.setCustomData('fake_value',aj.getAttribute('value'));aj.setAttribute('value','');}}};p.dialog=function(ae,af){var ag=p.dialog._.dialogDefinitions[af],ah=t.clone(H),ai=ae.config.dialog_buttonsOrder||'OS',aj=ae.lang.dir;if(ai=='OS'&&q.mac||ai=='rtl'&&aj=='ltr'||ai=='ltr'&&aj=='rtl')ah.buttons.reverse();ag=t.extend(ag(ae),ah);ag=t.clone(ag);ag=new L(this,ag);var ak=p.document,al=ae.theme.buildDialog(ae);this._={editor:ae,element:al.element,name:af,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:false,focusList:[],currentFocusIndex:0,hasFocus:false};
this.parts=al.parts;t.setTimeout(function(){ae.fire('ariaWidget',this.parts.contents);},0,this);this.parts.dialog.setStyles({position:q.ie6Compat?'absolute':'fixed',top:0,left:0,visibility:'hidden'});p.event.call(this);this.definition=ag=p.fire('dialogDefinition',{name:af,definition:ag},ae).definition;var am={};if(!('removeDialogTabs' in ae._)&&ae.config.removeDialogTabs){var an=ae.config.removeDialogTabs.split(';');for(i=0;i<an.length;i++){var ao=an[i].split(':');if(ao.length==2){var ap=ao[0];if(!am[ap])am[ap]=[];am[ap].push(ao[1]);}}ae._.removeDialogTabs=am;}if(ae._.removeDialogTabs&&(am=ae._.removeDialogTabs[af]))for(i=0;i<am.length;i++)ag.removeContents(am[i]);if(ag.onLoad)this.on('load',ag.onLoad);if(ag.onShow)this.on('show',ag.onShow);if(ag.onHide)this.on('hide',ag.onHide);if(ag.onOk)this.on('ok',function(aC){ae.fire('saveSnapshot');setTimeout(function(){ae.fire('saveSnapshot');},0);if(ag.onOk.call(this,aC)===false)aC.data.hide=false;});if(ag.onCancel)this.on('cancel',function(aC){if(ag.onCancel.call(this,aC)===false)aC.data.hide=false;});var aq=this,ar=function(aC){var aD=aq._.contents,aE=false;for(var aF in aD)for(var aG in aD[aF]){aE=aC.call(this,aD[aF][aG]);if(aE)return;}};this.on('ok',function(aC){ar(function(aD){if(aD.validate){var aE=aD.validate(this);if(typeof aE=='string'){alert(aE);aE=false;}if(aE===false){if(aD.select)aD.select();else aD.focus();aC.data.hide=false;aC.stop();return true;}}});},this,null,0);this.on('cancel',function(aC){ar(function(aD){if(aD.isChanged()){if(!confirm(ae.lang.common.confirmCancel))aC.data.hide=false;return true;}});},this,null,0);this.parts.close.on('click',function(aC){if(this.fire('cancel',{hide:true}).hide!==false)this.hide();aC.data.preventDefault();},this);function as(){var aC=aq._.focusList;aC.sort(function(aF,aG){if(aF.tabIndex!=aG.tabIndex)return aG.tabIndex-aF.tabIndex;else return aF.focusIndex-aG.focusIndex;});var aD=aC.length;for(var aE=0;aE<aD;aE++)aC[aE].focusIndex=aE;};function at(aC){var aD=aq._.focusList,aE=aC?1:-1;if(aD.length<1)return;var aF=aq._.currentFocusIndex;try{aD[aF].getInputElement().$.blur();}catch(aI){}var aG=(aF+aE+aD.length)%aD.length,aH=aG;while(!aD[aH].isFocusable()){aH=(aH+aE+aD.length)%aD.length;if(aH==aG)break;}aD[aH].focus();if(aD[aH].type=='text')aD[aH].select();};this.changeFocus=at;var au;function av(aC){var aH=this;if(aq!=p.dialog._.currentTop)return;var aD=aC.data.getKeystroke(),aE=ae.lang.dir=='rtl';au=0;if(aD==9||aD==2000+9){var aF=aD==2000+9;if(aq._.tabBarMode){var aG=aF?D.call(aq):E.call(aq);
aq.selectPage(aG);aq._.tabs[aG][0].focus();}else at(!aF);au=1;}else if(aD==4000+121&&!aq._.tabBarMode&&aq.getPageCount()>1){aq._.tabBarMode=true;aq._.tabs[aq._.currentTabId][0].focus();au=1;}else if((aD==37||aD==39)&&aq._.tabBarMode){aG=aD==(aE?39:37)?D.call(aq):E.call(aq);aq.selectPage(aG);aq._.tabs[aG][0].focus();au=1;}else if((aD==13||aD==32)&&aq._.tabBarMode){aH.selectPage(aH._.currentTabId);aH._.tabBarMode=false;aH._.currentFocusIndex=-1;at(true);au=1;}if(au){aC.stop();aC.data.preventDefault();}};function aw(aC){au&&aC.data.preventDefault();};var ax=this._.element;this.on('show',function(){ax.on('keydown',av,this,null,0);if(q.opera||q.gecko&&q.mac)ax.on('keypress',aw,this);});this.on('hide',function(){ax.removeListener('keydown',av);if(q.opera||q.gecko&&q.mac)ax.removeListener('keypress',aw);});this.on('iframeAdded',function(aC){var aD=new v(aC.data.iframe.$.contentWindow.document);aD.on('keydown',av,this,null,0);});this.on('show',function(){var aG=this;as();if(ae.config.dialog_startupFocusTab&&aq._.pageCount>1){aq._.tabBarMode=true;aq._.tabs[aq._.currentTabId][0].focus();}else if(!aG._.hasFocus){aG._.currentFocusIndex=-1;if(ag.onFocus){var aC=ag.onFocus.call(aG);aC&&aC.focus();}else at(true);if(aG._.editor.mode=='wysiwyg'&&r){var aD=ae.document.$.selection,aE=aD.createRange();if(aE)if(aE.parentElement&&aE.parentElement().ownerDocument==ae.document.$||aE.item&&aE.item(0).ownerDocument==ae.document.$){var aF=document.body.createTextRange();aF.moveToElementText(aG.getElement().getFirst().$);aF.collapse(true);aF.select();}}}},this,null,4294967295);if(q.ie6Compat)this.on('load',function(aC){var aD=this.getElement(),aE=aD.getFirst();aE.remove();aE.appendTo(aD);},this);N(this);O(this);new s.text(ag.title,p.document).appendTo(this.parts.title);for(var ay=0;ay<ag.contents.length;ay++){var az=ag.contents[ay];az&&this.addPage(az);}this.parts.tabs.on('click',function(aC){var aF=this;var aD=aC.data.getTarget();if(aD.hasClass('cke_dialog_tab')){var aE=aD.$.id;aF.selectPage(aE.substring(4,aE.lastIndexOf('_')));if(aF._.tabBarMode){aF._.tabBarMode=false;aF._.currentFocusIndex=-1;at(true);}aC.data.preventDefault();}},this);var aA=[],aB=p.dialog._.uiElementBuilders.hbox.build(this,{type:'hbox',className:'cke_dialog_footer_buttons',widths:[],children:ag.buttons},aA).getChild();this.parts.footer.setHtml(aA.join(''));for(ay=0;ay<aB.length;ay++)this._.buttons[aB[ay].id]=aB[ay];};function G(ae,af,ag){this.element=af;this.focusIndex=ag;this.tabIndex=0;this.isFocusable=function(){return!af.getAttribute('disabled')&&af.isVisible();
};this.focus=function(){ae._.currentFocusIndex=this.focusIndex;this.element.focus();};af.on('keydown',function(ah){if(ah.data.getKeystroke() in {32:1,13:1})this.fire('click');});af.on('focus',function(){this.fire('mouseover');});af.on('blur',function(){this.fire('mouseout');});};p.dialog.prototype={destroy:function(){this.hide();this._.element.remove();},resize:(function(){return function(ae,af){var ag=this;if(ag._.contentSize&&ag._.contentSize.width==ae&&ag._.contentSize.height==af)return;p.dialog.fire('resize',{dialog:ag,skin:ag._.editor.skinName,width:ae,height:af},ag._.editor);ag._.contentSize={width:ae,height:af};};})(),getSize:function(){var ae=this._.element.getFirst();return{width:ae.$.offsetWidth||0,height:ae.$.offsetHeight||0};},move:(function(){var ae;return function(af,ag,ah){var ak=this;var ai=ak._.element.getFirst();if(ae===undefined)ae=ai.getComputedStyle('position')=='fixed';if(ae&&ak._.position&&ak._.position.x==af&&ak._.position.y==ag)return;ak._.position={x:af,y:ag};if(!ae){var aj=p.document.getWindow().getScrollPosition();af+=aj.x;ag+=aj.y;}ai.setStyles({left:(af>0?af:0)+'px',top:(ag>0?ag:0)+'px'});ah&&(ak._.moved=1);};})(),getPosition:function(){return t.extend({},this._.position);},show:function(){var ae=this._.element,af=this.definition;if(!(ae.getParent()&&ae.getParent().equals(p.document.getBody())))ae.appendTo(p.document.getBody());else ae.setStyle('display','block');if(q.gecko&&q.version<10900){var ag=this.parts.dialog;ag.setStyle('position','absolute');setTimeout(function(){ag.setStyle('position','fixed');},0);}this.resize(this._.contentSize&&this._.contentSize.width||af.minWidth,this._.contentSize&&this._.contentSize.height||af.minHeight);this.reset();this.selectPage(this.definition.contents[0].id);if(p.dialog._.currentZIndex===null)p.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex;this._.element.getFirst().setStyle('z-index',p.dialog._.currentZIndex+=10);if(p.dialog._.currentTop===null){p.dialog._.currentTop=this;this._.parentDialog=null;S(this._.editor);ae.on('keydown',W);ae.on(q.opera?'keypress':'keyup',X);for(var ah in {keyup:1,keydown:1,keypress:1})ae.on(ah,ad);}else{this._.parentDialog=p.dialog._.currentTop;var ai=this._.parentDialog.getElement().getFirst();ai.$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2);p.dialog._.currentTop=this;}Y(this,this,'\x1b',null,function(){this.getButton('cancel')&&this.getButton('cancel').click();});this._.hasFocus=false;t.setTimeout(function(){this.layout();this.parts.dialog.setStyle('visibility','');
this.fireOnce('load',{});z.fire('ready',this);this.fire('show',{});this._.editor.fire('dialogShow',this);this.foreach(function(aj){aj.setInitValue&&aj.setInitValue();});},100,this);},layout:function(){var ag=this;var ae=p.document.getWindow().getViewPaneSize(),af=ag.getSize();ag.move(ag._.moved?ag._.position.x:(ae.width-af.width)/2,ag._.moved?ag._.position.y:(ae.height-af.height)/2);},foreach:function(ae){var ah=this;for(var af in ah._.contents)for(var ag in ah._.contents[af])ae(ah._.contents[af][ag]);return ah;},reset:(function(){var ae=function(af){if(af.reset)af.reset(1);};return function(){this.foreach(ae);return this;};})(),setupContent:function(){var ae=arguments;this.foreach(function(af){if(af.setup)af.setup.apply(af,ae);});},commitContent:function(){var ae=arguments;this.foreach(function(af){if(af.commit)af.commit.apply(af,ae);});},hide:function(){if(!this.parts.dialog.isVisible())return;this.fire('hide',{});this._.editor.fire('dialogHide',this);var ae=this._.element;ae.setStyle('display','none');this.parts.dialog.setStyle('visibility','hidden');Z(this);while(p.dialog._.currentTop!=this)p.dialog._.currentTop.hide();if(!this._.parentDialog)T();else{var af=this._.parentDialog.getElement().getFirst();af.setStyle('z-index',parseInt(af.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2));}p.dialog._.currentTop=this._.parentDialog;if(!this._.parentDialog){p.dialog._.currentZIndex=null;ae.removeListener('keydown',W);ae.removeListener(q.opera?'keypress':'keyup',X);for(var ag in {keyup:1,keydown:1,keypress:1})ae.removeListener(ag,ad);var ah=this._.editor;ah.focus();if(ah.mode=='wysiwyg'&&r){var ai=ah.getSelection();ai&&ai.unlock(true);}}else p.dialog._.currentZIndex-=10;delete this._.parentDialog;this.foreach(function(aj){aj.resetInitValue&&aj.resetInitValue();});},addPage:function(ae){var aq=this;var af=[],ag=ae.label?' title="'+t.htmlEncode(ae.label)+'"':'',ah=ae.elements,ai=p.dialog._.uiElementBuilders.vbox.build(aq,{type:'vbox',className:'cke_dialog_page_contents',children:ae.elements,expand:!!ae.expand,padding:ae.padding,style:ae.style||'width: 100%;'},af),aj=w.createFromHtml(af.join(''));aj.setAttribute('role','tabpanel');var ak=q,al='cke_'+ae.id+'_'+t.getNextNumber(),am=w.createFromHtml(['<a class="cke_dialog_tab"',aq._.pageCount>0?' cke_last':'cke_first',ag,!!ae.hidden?' style="display:none"':'',' id="',al,'"',ak.gecko&&ak.version>=10900&&!ak.hc?'':' href="javascript:void(0)"',' tabIndex="-1"',' hidefocus="true"',' role="tab">',ae.label,'</a>'].join(''));
aj.setAttribute('aria-labelledby',al);aq._.tabs[ae.id]=[am,aj];aq._.tabIdList.push(ae.id);!ae.hidden&&aq._.pageCount++;aq._.lastTab=am;aq.updateStyle();var an=aq._.contents[ae.id]={},ao,ap=ai.getChild();while(ao=ap.shift()){an[ao.id]=ao;if(typeof ao.getChild=='function')ap.push.apply(ap,ao.getChild());}aj.setAttribute('name',ae.id);aj.appendTo(aq.parts.contents);am.unselectable();aq.parts.tabs.append(am);if(ae.accessKey){Y(aq,aq,'CTRL+'+ae.accessKey,ab,aa);aq._.accessKeyMap['CTRL+'+ae.accessKey]=ae.id;}},selectPage:function(ae){if(this._.currentTabId==ae)return;if(this.fire('selectPage',{page:ae,currentPage:this._.currentTabId})===true)return;for(var af in this._.tabs){var ag=this._.tabs[af][0],ah=this._.tabs[af][1];if(af!=ae){ag.removeClass('cke_dialog_tab_selected');ah.hide();}ah.setAttribute('aria-hidden',af!=ae);}var ai=this._.tabs[ae];ai[0].addClass('cke_dialog_tab_selected');if(q.ie6Compat||q.ie7Compat){F(ai[1]);ai[1].show();setTimeout(function(){F(ai[1],1);},0);}else ai[1].show();this._.currentTabId=ae;this._.currentTabIndex=t.indexOf(this._.tabIdList,ae);},updateStyle:function(){this.parts.dialog[(this._.pageCount===1?'add':'remove')+'Class']('cke_single_page');},hidePage:function(ae){var ag=this;var af=ag._.tabs[ae]&&ag._.tabs[ae][0];if(!af||ag._.pageCount==1||!af.isVisible())return;else if(ae==ag._.currentTabId)ag.selectPage(D.call(ag));af.hide();ag._.pageCount--;ag.updateStyle();},showPage:function(ae){var ag=this;var af=ag._.tabs[ae]&&ag._.tabs[ae][0];if(!af)return;af.show();ag._.pageCount++;ag.updateStyle();},getElement:function(){return this._.element;},getName:function(){return this._.name;},getContentElement:function(ae,af){var ag=this._.contents[ae];return ag&&ag[af];},getValueOf:function(ae,af){return this.getContentElement(ae,af).getValue();},setValueOf:function(ae,af,ag){return this.getContentElement(ae,af).setValue(ag);},getButton:function(ae){return this._.buttons[ae];},click:function(ae){return this._.buttons[ae].click();},disableButton:function(ae){return this._.buttons[ae].disable();},enableButton:function(ae){return this._.buttons[ae].enable();},getPageCount:function(){return this._.pageCount;},getParentEditor:function(){return this._.editor;},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement();},addFocusable:function(ae,af){var ah=this;if(typeof af=='undefined'){af=ah._.focusList.length;ah._.focusList.push(new G(ah,ae,af));}else{ah._.focusList.splice(af,0,new G(ah,ae,af));for(var ag=af+1;
ag<ah._.focusList.length;ag++)ah._.focusList[ag].focusIndex++;}}};t.extend(p.dialog,{add:function(ae,af){if(!this._.dialogDefinitions[ae]||typeof af=='function')this._.dialogDefinitions[ae]=af;},exists:function(ae){return!!this._.dialogDefinitions[ae];},getCurrent:function(){return p.dialog._.currentTop;},okButton:(function(){var ae=function(af,ag){ag=ag||{};return t.extend({id:'ok',type:'button',label:af.lang.common.ok,'class':'cke_dialog_ui_button_ok',onClick:function(ah){var ai=ah.data.dialog;if(ai.fire('ok',{hide:true}).hide!==false)ai.hide();}},ag,true);};ae.type='button';ae.override=function(af){return t.extend(function(ag){return ae(ag,af);},{type:'button'},true);};return ae;})(),cancelButton:(function(){var ae=function(af,ag){ag=ag||{};return t.extend({id:'cancel',type:'button',label:af.lang.common.cancel,'class':'cke_dialog_ui_button_cancel',onClick:function(ah){var ai=ah.data.dialog;if(ai.fire('cancel',{hide:true}).hide!==false)ai.hide();}},ag,true);};ae.type='button';ae.override=function(af){return t.extend(function(ag){return ae(ag,af);},{type:'button'},true);};return ae;})(),addUIElement:function(ae,af){this._.uiElementBuilders[ae]=af;}});p.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null};p.event.implementOn(p.dialog);p.event.implementOn(p.dialog.prototype,true);var H={resizable:3,minWidth:600,minHeight:400,buttons:[p.dialog.okButton,p.dialog.cancelButton]},I=function(ae,af,ag){for(var ah=0,ai;ai=ae[ah];ah++){if(ai.id==af)return ai;if(ag&&ai[ag]){var aj=I(ai[ag],af,ag);if(aj)return aj;}}return null;},J=function(ae,af,ag,ah,ai){if(ag){for(var aj=0,ak;ak=ae[aj];aj++){if(ak.id==ag){ae.splice(aj,0,af);return af;}if(ah&&ak[ah]){var al=J(ak[ah],af,ag,ah,true);if(al)return al;}}if(ai)return null;}ae.push(af);return af;},K=function(ae,af,ag){for(var ah=0,ai;ai=ae[ah];ah++){if(ai.id==af)return ae.splice(ah,1);if(ag&&ai[ag]){var aj=K(ai[ag],af,ag);if(aj)return aj;}}return null;},L=function(ae,af){this.dialog=ae;var ag=af.contents;for(var ah=0,ai;ai=ag[ah];ah++)ag[ah]=ai&&new M(ae,ai);t.extend(this,af);};L.prototype={getContents:function(ae){return I(this.contents,ae);},getButton:function(ae){return I(this.buttons,ae);},addContents:function(ae,af){return J(this.contents,ae,af);},addButton:function(ae,af){return J(this.buttons,ae,af);},removeContents:function(ae){K(this.contents,ae);},removeButton:function(ae){K(this.buttons,ae);}};function M(ae,af){this._={dialog:ae};t.extend(this,af);};M.prototype={get:function(ae){return I(this.elements,ae,'children');
},add:function(ae,af){return J(this.elements,ae,af,'children');},remove:function(ae){K(this.elements,ae,'children');}};function N(ae){var af=null,ag=null,ah=ae.getElement().getFirst(),ai=ae.getParentEditor(),aj=ai.config.dialog_magnetDistance,ak=ai.skin.margins||[0,0,0,0];if(typeof aj=='undefined')aj=20;function al(an){var ao=ae.getSize(),ap=p.document.getWindow().getViewPaneSize(),aq=an.data.$.screenX,ar=an.data.$.screenY,as=aq-af.x,at=ar-af.y,au,av;af={x:aq,y:ar};ag.x+=as;ag.y+=at;if(ag.x+ak[3]<aj)au=-ak[3];else if(ag.x-ak[1]>ap.width-ao.width-aj)au=ap.width-ao.width+(ai.lang.dir=='rtl'?0:ak[1]);else au=ag.x;if(ag.y+ak[0]<aj)av=-ak[0];else if(ag.y-ak[2]>ap.height-ao.height-aj)av=ap.height-ao.height+ak[2];else av=ag.y;ae.move(au,av,1);an.data.preventDefault();};function am(an){p.document.removeListener('mousemove',al);p.document.removeListener('mouseup',am);if(q.ie6Compat){var ao=R.getChild(0).getFrameDocument();ao.removeListener('mousemove',al);ao.removeListener('mouseup',am);}};ae.parts.title.on('mousedown',function(an){af={x:an.data.$.screenX,y:an.data.$.screenY};p.document.on('mousemove',al);p.document.on('mouseup',am);ag=ae.getPosition();if(q.ie6Compat){var ao=R.getChild(0).getFrameDocument();ao.on('mousemove',al);ao.on('mouseup',am);}an.data.preventDefault();},ae);};function O(ae){var af=ae.definition,ag=af.resizable;if(ag==0)return;var ah=ae.getParentEditor(),ai,aj,ak,al,am,an;function ao(as){if(ae._.moved&&ah.lang.dir=='rtl'){var at=ae._.element.getFirst();at.setStyle('right',as+'px');at.removeStyle('left');}else if(!ae._.moved)ae.layout();};var ap=t.addFunction(function(as){am=ae.getSize();var at=ae.parts.contents,au=at.$.getElementsByTagName('iframe').length;if(au){an=w.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>');at.append(an);}aj=am.height-ae.parts.contents.getSize('height',!(q.gecko||q.opera||r&&q.quirks));ai=am.width-ae.parts.contents.getSize('width',1);al={x:as.screenX,y:as.screenY};ak=p.document.getWindow().getViewPaneSize();p.document.on('mousemove',aq);p.document.on('mouseup',ar);if(q.ie6Compat){var av=R.getChild(0).getFrameDocument();av.on('mousemove',aq);av.on('mouseup',ar);}as.preventDefault&&as.preventDefault();});ae.on('load',function(){var as='';if(ag==1)as=' cke_resizer_horizontal';else if(ag==2)as=' cke_resizer_vertical';var at=w.createFromHtml('<div class="cke_resizer'+as+'"'+' title="'+t.htmlEncode(ah.lang.resize)+'"'+' onmousedown="CKEDITOR.tools.callFunction('+ap+', event )"></div>');
ae.parts.footer.append(at,1);});ah.on('destroy',function(){t.removeFunction(ap);});function aq(as){var at=ah.lang.dir=='rtl',au=(as.data.$.screenX-al.x)*(at?-1:1),av=as.data.$.screenY-al.y,aw=am.width,ax=am.height,ay=aw+au*(ae._.moved?1:2),az=ax+av*(ae._.moved?1:2),aA=ae._.element.getFirst(),aB=at&&aA.getComputedStyle('right'),aC=ae.getPosition();if(aB)aB=aB=='auto'?ak.width-(aC.x||0)-aA.getSize('width'):parseInt(aB,10);if(aC.y+az>ak.height)az=ak.height-aC.y;if((at?aB:aC.x)+ay>ak.width)ay=ak.width-(at?aB:aC.x);if((ag==1||ag==3)&&!(at&&au>0&&!aC.x))aw=Math.max(af.minWidth||0,ay-ai);if(ag==2||ag==3)ax=Math.max(af.minHeight||0,az-aj);ae.resize(aw,ax);ao(aB);as.data.preventDefault();};function ar(){p.document.removeListener('mouseup',ar);p.document.removeListener('mousemove',aq);if(an){an.remove();an=null;}if(q.ie6Compat){var as=R.getChild(0).getFrameDocument();as.removeListener('mouseup',ar);as.removeListener('mousemove',aq);}if(ah.lang.dir=='rtl'){var at=ae._.element.getFirst(),au=at.getComputedStyle('left');if(au=='auto')au=ak.width-parseInt(at.getStyle('right'),10)-ae.getSize().width;else au=parseInt(au,10);at.removeStyle('right');ae._.position.x+=1;ae.move(au,ae._.position.y);}};};var P,Q={},R;function S(ae){var af=p.document.getWindow(),ag=ae.config,ah=ag.dialog_backgroundCoverColor||'white',ai=ag.dialog_backgroundCoverOpacity,aj=ag.baseFloatZIndex,ak=t.genKey(ah,ai,aj),al=Q[ak];if(!al){var am=['<div tabIndex="-1" style="position: ',q.ie6Compat?'absolute':'fixed','; z-index: ',aj,'; top: 0px; left: 0px; ',!q.ie6Compat?'background-color: '+ah:'','" class="cke_dialog_background_cover">'];if(q.ie6Compat){var an=q.isCustomDomain(),ao="<html><body style=\\'background-color:"+ah+";\\'></body></html>";am.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:');am.push('void((function(){document.open();'+(an?"document.domain='"+document.domain+"';":'')+"document.write( '"+ao+"' );"+'document.close();'+'})())');am.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>');}am.push('</div>');al=w.createFromHtml(am.join(''));al.setOpacity(ai!=undefined?ai:0.5);al.appendTo(p.document.getBody());Q[ak]=al;}else al.show();R=al;var ap=function(){var as=af.getViewPaneSize();al.setStyles({width:as.width+'px',height:as.height+'px'});},aq=function(){var as=af.getScrollPosition(),at=p.dialog._.currentTop;al.setStyles({left:as.x+'px',top:as.y+'px'});if(at)do{var au=at.getPosition();
at.move(au.x,au.y);}while(at=at._.parentDialog)};P=ap;af.on('resize',ap);ap();if(!(q.mac&&q.webkit))al.focus();if(q.ie6Compat){var ar=function(){aq();arguments.callee.prevScrollHandler.apply(this,arguments);};af.$.setTimeout(function(){ar.prevScrollHandler=window.onscroll||(function(){});window.onscroll=ar;},0);aq();}};function T(){if(!R)return;var ae=p.document.getWindow();R.hide();ae.removeListener('resize',P);if(q.ie6Compat)ae.$.setTimeout(function(){var af=window.onscroll&&window.onscroll.prevScrollHandler;window.onscroll=af||null;},0);P=null;};function U(){for(var ae in Q)Q[ae].remove();Q={};};var V={},W=function(ae){var af=ae.data.$.ctrlKey||ae.data.$.metaKey,ag=ae.data.$.altKey,ah=ae.data.$.shiftKey,ai=String.fromCharCode(ae.data.$.keyCode),aj=V[(af?'CTRL+':'')+(ag?'ALT+':'')+(ah?'SHIFT+':'')+ai];if(!aj||!aj.length)return;aj=aj[aj.length-1];aj.keydown&&aj.keydown.call(aj.uiElement,aj.dialog,aj.key);ae.data.preventDefault();},X=function(ae){var af=ae.data.$.ctrlKey||ae.data.$.metaKey,ag=ae.data.$.altKey,ah=ae.data.$.shiftKey,ai=String.fromCharCode(ae.data.$.keyCode),aj=V[(af?'CTRL+':'')+(ag?'ALT+':'')+(ah?'SHIFT+':'')+ai];if(!aj||!aj.length)return;aj=aj[aj.length-1];if(aj.keyup){aj.keyup.call(aj.uiElement,aj.dialog,aj.key);ae.data.preventDefault();}},Y=function(ae,af,ag,ah,ai){var aj=V[ag]||(V[ag]=[]);aj.push({uiElement:ae,dialog:af,key:ag,keyup:ai||ae.accessKeyUp,keydown:ah||ae.accessKeyDown});},Z=function(ae){for(var af in V){var ag=V[af];for(var ah=ag.length-1;ah>=0;ah--){if(ag[ah].dialog==ae||ag[ah].uiElement==ae)ag.splice(ah,1);}if(ag.length===0)delete V[af];}},aa=function(ae,af){if(ae._.accessKeyMap[af])ae.selectPage(ae._.accessKeyMap[af]);},ab=function(ae,af){},ac={27:1,13:1},ad=function(ae){if(ae.data.getKeystroke() in ac)ae.data.stopPropagation();};(function(){z.dialog={uiElement:function(ae,af,ag,ah,ai,aj,ak){if(arguments.length<4)return;var al=(ah.call?ah(af):ah)||'div',am=['<',al,' '],an=(ai&&ai.call?ai(af):ai)||{},ao=(aj&&aj.call?aj(af):aj)||{},ap=(ak&&ak.call?ak.call(this,ae,af):ak)||'',aq=this.domId=ao.id||t.getNextId()+'_uiElement',ar=this.id=af.id,as;ao.id=aq;var at={};if(af.type)at['cke_dialog_ui_'+af.type]=1;if(af.className)at[af.className]=1;var au=ao['class']&&ao['class'].split?ao['class'].split(' '):[];for(as=0;as<au.length;as++){if(au[as])at[au[as]]=1;}var av=[];for(as in at)av.push(as);ao['class']=av.join(' ');if(af.title)ao.title=af.title;var aw=(af.style||'').split(';');for(as in an)aw.push(as+':'+an[as]);if(af.hidden)aw.push('display:none');
for(as=aw.length-1;as>=0;as--){if(aw[as]==='')aw.splice(as,1);}if(aw.length>0)ao.style=(ao.style?ao.style+'; ':'')+aw.join('; ');for(as in ao)am.push(as+'="'+t.htmlEncode(ao[as])+'" ');am.push('>',ap,'</',al,'>');ag.push(am.join(''));(this._||(this._={})).dialog=ae;if(typeof af.isChanged=='boolean')this.isChanged=function(){return af.isChanged;};if(typeof af.isChanged=='function')this.isChanged=af.isChanged;p.event.implementOn(this);this.registerEvents(af);if(this.accessKeyUp&&this.accessKeyDown&&af.accessKey)Y(this,ae,'CTRL+'+af.accessKey);var ax=this;ae.on('load',function(){if(ax.getInputElement())ax.getInputElement().on('focus',function(){ae._.tabBarMode=false;ae._.hasFocus=true;ax.fire('focus');},ax);});if(this.keyboardFocusable){this.tabIndex=af.tabIndex||0;this.focusIndex=ae._.focusList.push(this)-1;this.on('focus',function(){ae._.currentFocusIndex=ax.focusIndex;});}t.extend(this,af);},hbox:function(ae,af,ag,ah,ai){if(arguments.length<4)return;this._||(this._={});var aj=this._.children=af,ak=ai&&ai.widths||null,al=ai&&ai.height||null,am={},an,ao=function(){var aq=['<tbody><tr class="cke_dialog_ui_hbox">'];for(an=0;an<ag.length;an++){var ar='cke_dialog_ui_hbox_child',as=[];if(an===0)ar='cke_dialog_ui_hbox_first';if(an==ag.length-1)ar='cke_dialog_ui_hbox_last';aq.push('<td class="',ar,'" role="presentation" ');if(ak){if(ak[an])as.push('width:'+B(ak[an]));}else as.push('width:'+Math.floor(100/ag.length)+'%');if(al)as.push('height:'+B(al));if(ai&&ai.padding!=undefined)as.push('padding:'+B(ai.padding));if(as.length>0)aq.push('style="'+as.join('; ')+'" ');aq.push('>',ag[an],'</td>');}aq.push('</tr></tbody>');return aq.join('');},ap={role:'presentation'};ai&&ai.align&&(ap.align=ai.align);z.dialog.uiElement.call(this,ae,ai||{type:'hbox'},ah,'table',am,ap,ao);},vbox:function(ae,af,ag,ah,ai){if(arguments.length<3)return;this._||(this._={});var aj=this._.children=af,ak=ai&&ai.width||null,al=ai&&ai.heights||null,am=function(){var an=['<table role="presentation" cellspacing="0" border="0" '];an.push('style="');if(ai&&ai.expand)an.push('height:100%;');an.push('width:'+B(ak||'100%'),';');an.push('"');an.push('align="',t.htmlEncode(ai&&ai.align||(ae.getParentEditor().lang.dir=='ltr'?'left':'right')),'" ');an.push('><tbody>');for(var ao=0;ao<ag.length;ao++){var ap=[];an.push('<tr><td role="presentation" ');if(ak)ap.push('width:'+B(ak||'100%'));if(al)ap.push('height:'+B(al[ao]));else if(ai&&ai.expand)ap.push('height:'+Math.floor(100/ag.length)+'%');if(ai&&ai.padding!=undefined)ap.push('padding:'+B(ai.padding));
if(ap.length>0)an.push('style="',ap.join('; '),'" ');an.push(' class="cke_dialog_ui_vbox_child">',ag[ao],'</td></tr>');}an.push('</tbody></table>');return an.join('');};z.dialog.uiElement.call(this,ae,ai||{type:'vbox'},ah,'div',null,{role:'presentation'},am);}};})();z.dialog.uiElement.prototype={getElement:function(){return p.document.getById(this.domId);},getInputElement:function(){return this.getElement();},getDialog:function(){return this._.dialog;},setValue:function(ae,af){this.getInputElement().setValue(ae);!af&&this.fire('change',{value:ae});return this;},getValue:function(){return this.getInputElement().getValue();},isChanged:function(){return false;},selectParentTab:function(){var ah=this;var ae=ah.getInputElement(),af=ae,ag;while((af=af.getParent())&&af.$.className.search('cke_dialog_page_contents')==-1){}if(!af)return ah;ag=af.getAttribute('name');if(ah._.dialog._.currentTabId!=ag)ah._.dialog.selectPage(ag);return ah;},focus:function(){this.selectParentTab().getInputElement().focus();return this;},registerEvents:function(ae){var af=/^on([A-Z]\w+)/,ag,ah=function(aj,ak,al,am){ak.on('load',function(){aj.getInputElement().on(al,am,aj);});};for(var ai in ae){if(!(ag=ai.match(af)))continue;if(this.eventProcessors[ai])this.eventProcessors[ai].call(this,this._.dialog,ae[ai]);else ah(this,this._.dialog,ag[1].toLowerCase(),ae[ai]);}return this;},eventProcessors:{onLoad:function(ae,af){ae.on('load',af,this);},onShow:function(ae,af){ae.on('show',af,this);},onHide:function(ae,af){ae.on('hide',af,this);}},accessKeyDown:function(ae,af){this.focus();},accessKeyUp:function(ae,af){},disable:function(){var ae=this.getInputElement();ae.setAttribute('disabled','true');ae.addClass('cke_disabled');},enable:function(){var ae=this.getInputElement();ae.removeAttribute('disabled');ae.removeClass('cke_disabled');},isEnabled:function(){return!this.getInputElement().getAttribute('disabled');},isVisible:function(){return this.getInputElement().isVisible();},isFocusable:function(){if(!this.isEnabled()||!this.isVisible())return false;return true;}};z.dialog.hbox.prototype=t.extend(new z.dialog.uiElement(),{getChild:function(ae){var af=this;if(arguments.length<1)return af._.children.concat();if(!ae.splice)ae=[ae];if(ae.length<2)return af._.children[ae[0]];else return af._.children[ae[0]]&&af._.children[ae[0]].getChild?af._.children[ae[0]].getChild(ae.slice(1,ae.length)):null;}},true);z.dialog.vbox.prototype=new z.dialog.hbox();(function(){var ae={build:function(af,ag,ah){var ai=ag.children,aj,ak=[],al=[];
for(var am=0;am<ai.length&&(aj=ai[am]);am++){var an=[];ak.push(an);al.push(p.dialog._.uiElementBuilders[aj.type].build(af,aj,an));}return new z.dialog[ag.type](af,al,ak,ah,ag);}};p.dialog.addUIElement('hbox',ae);p.dialog.addUIElement('vbox',ae);})();p.dialogCommand=function(ae){this.dialogName=ae;};p.dialogCommand.prototype={exec:function(ae){ae.openDialog(this.dialogName);},canUndo:false,editorFocus:r||q.webkit};(function(){var ae=/^([a]|[^a])+$/,af=/^\d*$/,ag=/^\d*(?:\.\d+)?$/;p.VALIDATE_OR=1;p.VALIDATE_AND=2;p.dialog.validate={functions:function(){return function(){var an=this;var ah=an&&an.getValue?an.getValue():arguments[0],ai=undefined,aj=2,ak=[],al;for(al=0;al<arguments.length;al++){if(typeof arguments[al]=='function')ak.push(arguments[al]);else break;}if(al<arguments.length&&typeof arguments[al]=='string'){ai=arguments[al];al++;}if(al<arguments.length&&typeof arguments[al]=='number')aj=arguments[al];var am=aj==2?true:false;for(al=0;al<ak.length;al++){if(aj==2)am=am&&ak[al](ah);else am=am||ak[al](ah);}if(!am){if(ai!==undefined)alert(ai);if(an&&(an.select||an.focus))an.select||an.focus();return false;}return true;};},regex:function(ah,ai){return function(){var ak=this;var aj=ak&&ak.getValue?ak.getValue():arguments[0];if(!ah.test(aj)){if(ai!==undefined)alert(ai);if(ak&&(ak.select||ak.focus))if(ak.select)ak.select();else ak.focus();return false;}return true;};},notEmpty:function(ah){return this.regex(ae,ah);},integer:function(ah){return this.regex(af,ah);},number:function(ah){return this.regex(ag,ah);},equals:function(ah,ai){return this.functions(function(aj){return aj==ah;},ai);},notEqual:function(ah,ai){return this.functions(function(aj){return aj!=ah;},ai);}};p.on('instanceDestroyed',function(ah){if(t.isEmpty(p.instances)){var ai;while(ai=p.dialog._.currentTop)ai.hide();U();}var aj=ah.editor._.storedDialogs;for(var ak in aj)aj[ak].destroy();});})();t.extend(p.editor.prototype,{openDialog:function(ae,af){if(this.mode=='wysiwyg'&&r){var ag=this.getSelection();ag&&ag.lock();}var ah=p.dialog._.dialogDefinitions[ae],ai=this.skin.dialog;if(p.dialog._.currentTop===null)S(this);if(typeof ah=='function'&&ai._isLoaded){var aj=this._.storedDialogs||(this._.storedDialogs={}),ak=aj[ae]||(aj[ae]=new p.dialog(this,ae));af&&af.call(ak,ak);ak.show();return ak;}else if(ah=='failed')throw new Error('[CKEDITOR.dialog.openDialog] Dialog "'+ae+'" failed when loading definition.');var al=this;function am(ao){var ap=p.dialog._.dialogDefinitions[ae],aq=al.skin.dialog;if(!aq._isLoaded||an&&typeof ao=='undefined')return;
if(typeof ap!='function')p.dialog._.dialogDefinitions[ae]='failed';al.openDialog(ae,af);};if(typeof ah=='string'){var an=1;p.scriptLoader.load(p.getUrl(ah),am,null,0,1);}p.skins.load(this,'dialog',am);return null;}});})();y.add('dialog',{requires:['dialogui']});y.add('styles',{requires:['selection'],init:function(B){B.on('contentDom',function(){B.document.setCustomData('cke_includeReadonly',!B.config.disableReadonlyStyling);});}});p.editor.prototype.attachStyleStateChange=function(B,C){var D=this._.styleStateChangeCallbacks;if(!D){D=this._.styleStateChangeCallbacks=[];this.on('selectionChange',function(E){for(var F=0;F<D.length;F++){var G=D[F],H=G.style.checkActive(E.data.path)?1:2;if(G.state!==H){G.fn.call(this,H);G.state=H;}}});}D.push({style:B,fn:C});};p.STYLE_BLOCK=1;p.STYLE_INLINE=2;p.STYLE_OBJECT=3;(function(){var B={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1},C={a:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1},D=/\s*(?:;\s*|$)/,E=s.walker.bookmark(0,1);p.style=function(ai,aj){if(aj){ai=t.clone(ai);aa(ai.attributes,aj);aa(ai.styles,aj);}var ak=this.element=(ai.element||'*').toLowerCase();this.type=ak=='#'||B[ak]?1:C[ak]?3:2;this._={definition:ai};};p.style.prototype={apply:function(ai){ah.call(this,ai,false);},remove:function(ai){ah.call(this,ai,true);},applyToRange:function(ai){var aj=this;return(aj.applyToRange=aj.type==2?G:aj.type==1?K:aj.type==3?I:null).call(aj,ai);},removeFromRange:function(ai){var aj=this;return(aj.removeFromRange=aj.type==2?H:aj.type==1?L:aj.type==3?J:null).call(aj,ai);},applyToObject:function(ai){Y(ai,this);},checkActive:function(ai){var am=this;switch(am.type){case 1:return am.checkElementRemovable(ai.block||ai.blockLimit,true);case 3:case 2:var aj=ai.elements;for(var ak=0,al;ak<aj.length;ak++){al=aj[ak];if(am.type==2&&(al==ai.block||al==ai.blockLimit))continue;if(am.type==3&&!(al.getName() in C))continue;if(am.checkElementRemovable(al,true))return true;}}return false;},checkApplicable:function(ai){switch(this.type){case 2:case 1:break;case 3:return ai.lastElement.getAscendant(this.element,true);}return true;},checkElementRemovable:function(ai,aj){if(!ai)return false;var ak=this._.definition,al;if(ai.getName()==this.element){if(!aj&&!ai.hasAttributes())return true;al=ab(ak);if(al._length){for(var am in al){if(am=='_length')continue;var an=ai.getAttribute(am)||'';if(am=='style'?ag(al[am],ae(an,false)):al[am]==an){if(!aj)return true;}else if(aj)return false;}if(aj)return true;
}else return true;}var ao=ac(this)[ai.getName()];if(ao){if(!(al=ao.attributes))return true;for(var ap=0;ap<al.length;ap++){am=al[ap][0];var aq=ai.getAttribute(am);if(aq){var ar=al[ap][1];if(ar===null||typeof ar=='string'&&aq==ar||ar.test(aq))return true;}}}return false;},buildPreview:function(){var ai=this._.definition,aj=[],ak=ai.element;if(ak=='bdo')ak='span';aj=['<',ak];var al=ai.attributes;if(al)for(var am in al)aj.push(' ',am,'="',al[am],'"');var an=p.style.getStyleText(ai);if(an)aj.push(' style="',an,'"');aj.push('>',ai.name,'</',ak,'>');return aj.join('');}};p.style.getStyleText=function(ai){var aj=ai._ST;if(aj)return aj;aj=ai.styles;var ak=ai.attributes&&ai.attributes.style||'',al='';if(ak.length)ak=ak.replace(D,';');for(var am in aj){var an=aj[am],ao=(am+':'+an).replace(D,';');if(an=='inherit')al+=ao;else ak+=ao;}if(ak.length)ak=ae(ak);ak+=al;return ai._ST=ak;};function F(ai){var aj,ak;while(ai=ai.getParent()){if(ai.getName()=='body')break;if(ai.getAttribute('data-nostyle'))aj=ai;else if(!ak){var al=ai.getAttribute('contentEditable');if(al=='false')aj=ai;else if(al=='true')ak=1;}}return aj;};function G(ai){var aM=this;var aj=ai.document;if(ai.collapsed){var ak=X(aM,aj);ai.insertNode(ak);ai.moveToPosition(ak,2);return;}var al=aM.element,am=aM._.definition,an,ao=am.includeReadonly;if(ao==undefined)ao=aj.getCustomData('cke_includeReadonly');var ap=u[al]||(an=true,u.span);ai.enlarge(1,1);ai.trim();var aq=ai.createBookmark(),ar=aq.startNode,as=aq.endNode,at=ar,au,av=F(ar),aw=F(as);if(av)at=av.getNextSourceNode(true);if(aw)as=aw;if(at.getPosition(as)==2)at=0;while(at){var ax=false;if(at.equals(as)){at=null;ax=true;}else{var ay=at.type,az=ay==1?at.getName():null,aA=az&&at.getAttribute('contentEditable')=='false',aB=az&&at.getAttribute('data-nostyle');if(az&&at.data('cke-bookmark')){at=at.getNextSourceNode(true);continue;}if(!az||ap[az]&&!aB&&(!aA||ao)&&(at.getPosition(as)|4|0|8)==4+0+8&&(!am.childRule||am.childRule(at))){var aC=at.getParent();if(aC&&((aC.getDtd()||u.span)[al]||an)&&(!am.parentRule||am.parentRule(aC))){if(!au&&(!az||!u.$removeEmpty[az]||(at.getPosition(as)|4|0|8)==4+0+8)){au=new s.range(aj);au.setStartBefore(at);}if(ay==3||aA||ay==1&&!at.getChildCount()){var aD=at,aE;while((ax=!aD.getNext(E))&&(aE=aD.getParent(),ap[aE.getName()])&&(aE.getPosition(ar)|2|0|8)==2+0+8&&(!am.childRule||am.childRule(aE)))aD=aE;au.setEndAfter(aD);}}else ax=true;}else ax=true;at=at.getNextSourceNode(aB||aA);}if(ax&&au&&!au.collapsed){var aF=X(aM,aj),aG=aF.hasAttributes(),aH=au.getCommonAncestor(),aI={styles:{},attrs:{},blockedStyles:{},blockedAttrs:{}},aJ,aK,aL;
while(aF&&aH){if(aH.getName()==al){for(aJ in am.attributes){if(aI.blockedAttrs[aJ]||!(aL=aH.getAttribute(aK)))continue;if(aF.getAttribute(aJ)==aL)aI.attrs[aJ]=1;else aI.blockedAttrs[aJ]=1;}for(aK in am.styles){if(aI.blockedStyles[aK]||!(aL=aH.getStyle(aK)))continue;if(aF.getStyle(aK)==aL)aI.styles[aK]=1;else aI.blockedStyles[aK]=1;}}aH=aH.getParent();}for(aJ in aI.attrs)aF.removeAttribute(aJ);for(aK in aI.styles)aF.removeStyle(aK);if(aG&&!aF.hasAttributes())aF=null;if(aF){au.extractContents().appendTo(aF);U(aM,aF);au.insertNode(aF);aF.mergeSiblings();if(!r)aF.$.normalize();}else{aF=new w('span');au.extractContents().appendTo(aF);au.insertNode(aF);U(aM,aF);aF.remove(true);}au=null;}}ai.moveToBookmark(aq);ai.shrink(2);};function H(ai){ai.enlarge(1,1);var aj=ai.createBookmark(),ak=aj.startNode;if(ai.collapsed){var al=new s.elementPath(ak.getParent()),am;for(var an=0,ao;an<al.elements.length&&(ao=al.elements[an]);an++){if(ao==al.block||ao==al.blockLimit)break;if(this.checkElementRemovable(ao)){var ap;if(ai.collapsed&&(ai.checkBoundaryOfElement(ao,2)||(ap=ai.checkBoundaryOfElement(ao,1)))){am=ao;am.match=ap?'start':'end';}else{ao.mergeSiblings();T(this,ao);}}}if(am){var aq=ak;for(an=0;true;an++){var ar=al.elements[an];if(ar.equals(am))break;else if(ar.match)continue;else ar=ar.clone();ar.append(aq);aq=ar;}aq[am.match=='start'?'insertBefore':'insertAfter'](am);}}else{var as=aj.endNode,at=this;function au(){var ax=new s.elementPath(ak.getParent()),ay=new s.elementPath(as.getParent()),az=null,aA=null;for(var aB=0;aB<ax.elements.length;aB++){var aC=ax.elements[aB];if(aC==ax.block||aC==ax.blockLimit)break;if(at.checkElementRemovable(aC))az=aC;}for(aB=0;aB<ay.elements.length;aB++){aC=ay.elements[aB];if(aC==ay.block||aC==ay.blockLimit)break;if(at.checkElementRemovable(aC))aA=aC;}if(aA)as.breakParent(aA);if(az)ak.breakParent(az);};au();var av=ak.getNext();while(!av.equals(as)){var aw=av.getNextSourceNode();if(av.type==1&&this.checkElementRemovable(av)){if(av.getName()==this.element)T(this,av);else V(av,ac(this)[av.getName()]);if(aw.type==1&&aw.contains(ak)){au();aw=ak.getNext();}}av=aw;}}ai.moveToBookmark(aj);};function I(ai){var aj=ai.getCommonAncestor(true,true),ak=aj.getAscendant(this.element,true);ak&&Y(ak,this);};function J(ai){var aj=ai.getCommonAncestor(true,true),ak=aj.getAscendant(this.element,true);if(!ak)return;var al=this,am=al._.definition,an=am.attributes,ao=p.style.getStyleText(am);if(an)for(var ap in an)ak.removeAttribute(ap,an[ap]);if(am.styles)for(var aq in am.styles){if(!am.styles.hasOwnProperty(aq))continue;
ak.removeStyle(aq);}};function K(ai){var aj=ai.createBookmark(true),ak=ai.createIterator();ak.enforceRealBlocks=true;if(this._.enterMode)ak.enlargeBr=this._.enterMode!=2;var al,am=ai.document,an;while(al=ak.getNextParagraph()){var ao=X(this,am,al);M(al,ao);}ai.moveToBookmark(aj);};function L(ai){var an=this;var aj=ai.createBookmark(1),ak=ai.createIterator();ak.enforceRealBlocks=true;ak.enlargeBr=an._.enterMode!=2;var al;while(al=ak.getNextParagraph()){if(an.checkElementRemovable(al))if(al.is('pre')){var am=an._.enterMode==2?null:ai.document.createElement(an._.enterMode==1?'p':'div');am&&al.copyAttributes(am);M(al,am);}else T(an,al,1);}ai.moveToBookmark(aj);};function M(ai,aj){var ak=!aj;if(ak){aj=ai.getDocument().createElement('div');ai.copyAttributes(aj);}var al=aj&&aj.is('pre'),am=ai.is('pre'),an=al&&!am,ao=!al&&am;if(an)aj=S(ai,aj);else if(ao)aj=R(ak?[ai.getHtml()]:P(ai),aj);else ai.moveChildren(aj);aj.replace(ai);if(al)O(aj);else if(ak)W(aj);};var N=s.walker.whitespaces(1);function O(ai){var aj;if(!((aj=ai.getPrevious(N))&&aj.is&&aj.is('pre')))return;var ak=Q(aj.getHtml(),/\n$/,'')+'\n\n'+Q(ai.getHtml(),/^\n/,'');if(r)ai.$.outerHTML='<pre>'+ak+'</pre>';else ai.setHtml(ak);aj.remove();};function P(ai){var aj=/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,ak=ai.getName(),al=Q(ai.getOuterHtml(),aj,function(an,ao,ap){return ao+'</pre>'+ap+'<pre>';}),am=[];al.replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(an,ao){am.push(ao);});return am;};function Q(ai,aj,ak){var al='',am='';ai=ai.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(an,ao,ap){ao&&(al=ao);ap&&(am=ap);return '';});return al+ai.replace(aj,ak)+am;};function R(ai,aj){var ak;if(ai.length>1)ak=new s.documentFragment(aj.getDocument());for(var al=0;al<ai.length;al++){var am=ai[al];am=am.replace(/(\r\n|\r)/g,'\n');am=Q(am,/^[ \t]*\n/,'');am=Q(am,/\n$/,'');am=Q(am,/^[ \t]+|[ \t]+$/g,function(ao,ap,aq){if(ao.length==1)return '&nbsp;';else if(!ap)return t.repeat('&nbsp;',ao.length-1)+' ';else return ' '+t.repeat('&nbsp;',ao.length-1);});am=am.replace(/\n/g,'<br>');am=am.replace(/[ \t]{2,}/g,function(ao){return t.repeat('&nbsp;',ao.length-1)+' ';});if(ak){var an=aj.clone();an.setHtml(am);ak.append(an);}else aj.setHtml(am);}return ak||aj;};function S(ai,aj){var ak=ai.getBogus();ak&&ak.remove();var al=ai.getHtml();al=Q(al,/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,'');al=al.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,'$1');al=al.replace(/([ \t\n\r]+|&nbsp;)/g,' ');
al=al.replace(/<br\b[^>]*>/gi,'\n');if(r){var am=ai.getDocument().createElement('div');am.append(aj);aj.$.outerHTML='<pre>'+al+'</pre>';aj.copyAttributes(am.getFirst());aj=am.getFirst().remove();}else aj.setHtml(al);return aj;};function T(ai,aj){var ak=ai._.definition,al=t.extend({},ak.attributes,ac(ai)[aj.getName()]),am=ak.styles,an=t.isEmpty(al)&&t.isEmpty(am);for(var ao in al){if((ao=='class'||ai._.definition.fullMatch)&&aj.getAttribute(ao)!=ad(ao,al[ao]))continue;an=aj.hasAttribute(ao);aj.removeAttribute(ao);}for(var ap in am){if(ai._.definition.fullMatch&&aj.getStyle(ap)!=ad(ap,am[ap],true))continue;an=an||!!aj.getStyle(ap);aj.removeStyle(ap);}if(an)!u.$block[aj.getName()]||ai._.enterMode==2&&!aj.hasAttributes()?W(aj):aj.renameNode(ai._.enterMode==1?'p':'div');};function U(ai,aj){var ak=ai._.definition,al=ak.attributes,am=ak.styles,an=ac(ai),ao=aj.getElementsByTag(ai.element);for(var ap=ao.count();--ap>=0;)T(ai,ao.getItem(ap));for(var aq in an){if(aq!=ai.element){ao=aj.getElementsByTag(aq);for(ap=ao.count()-1;ap>=0;ap--){var ar=ao.getItem(ap);V(ar,an[aq]);}}}};function V(ai,aj){var ak=aj&&aj.attributes;if(ak)for(var al=0;al<ak.length;al++){var am=ak[al][0],an;if(an=ai.getAttribute(am)){var ao=ak[al][1];if(ao===null||ao.test&&ao.test(an)||typeof ao=='string'&&an==ao)ai.removeAttribute(am);}}W(ai);};function W(ai){if(!ai.hasAttributes())if(u.$block[ai.getName()]){var aj=ai.getPrevious(N),ak=ai.getNext(N);if(aj&&(aj.type==3||!aj.isBlockBoundary({br:1})))ai.append('br',1);if(ak&&(ak.type==3||!ak.isBlockBoundary({br:1})))ai.append('br');ai.remove(true);}else{var al=ai.getFirst(),am=ai.getLast();ai.remove(true);if(al){al.type==1&&al.mergeSiblings();if(am&&!al.equals(am)&&am.type==1)am.mergeSiblings();}}};function X(ai,aj,ak){var al,am=ai._.definition,an=ai.element;if(an=='*')an='span';al=new w(an,aj);if(ak)ak.copyAttributes(al);al=Y(al,ai);if(aj.getCustomData('doc_processing_style')&&al.hasAttribute('id'))al.removeAttribute('id');else aj.setCustomData('doc_processing_style',1);return al;};function Y(ai,aj){var ak=aj._.definition,al=ak.attributes,am=p.style.getStyleText(ak);if(al)for(var an in al)ai.setAttribute(an,al[an]);if(am)ai.setAttribute('style',am);return ai;};var Z=/#\((.+?)\)/g;function aa(ai,aj){for(var ak in ai)ai[ak]=ai[ak].replace(Z,function(al,am){return aj[am];});};function ab(ai){var aj=ai._AC;if(aj)return aj;aj={};var ak=0,al=ai.attributes;if(al)for(var am in al){ak++;aj[am]=al[am];}var an=p.style.getStyleText(ai);if(an){if(!aj.style)ak++;aj.style=an;
}aj._length=ak;return ai._AC=aj;};function ac(ai){if(ai._.overrides)return ai._.overrides;var aj=ai._.overrides={},ak=ai._.definition.overrides;if(ak){if(!t.isArray(ak))ak=[ak];for(var al=0;al<ak.length;al++){var am=ak[al],an,ao,ap;if(typeof am=='string')an=am.toLowerCase();else{an=am.element?am.element.toLowerCase():ai.element;ap=am.attributes;}ao=aj[an]||(aj[an]={});if(ap){var aq=ao.attributes=ao.attributes||[];for(var ar in ap)aq.push([ar.toLowerCase(),ap[ar]]);}}}return aj;};function ad(ai,aj,ak){var al=new w('span');al[ak?'setStyle':'setAttribute'](ai,aj);return al[ak?'getStyle':'getAttribute'](ai);};function ae(ai,aj){var ak;if(aj!==false){var al=new w('span');al.setAttribute('style',ai);ak=al.getAttribute('style')||'';}else ak=ai;return ak.replace(/\s*([;:])\s*/,'$1').replace(/([^\s;])$/,'$1;').replace(/,\s+/g,',').replace(/\"/g,'').toLowerCase();};function af(ai){var aj={};ai.replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(ak,al,am){aj[al]=am;});return aj;};function ag(ai,aj){typeof ai=='string'&&(ai=af(ai));typeof aj=='string'&&(aj=af(aj));for(var ak in ai){if(!(ak in aj&&(aj[ak]==ai[ak]||ai[ak]=='inherit'||aj[ak]=='inherit')))return false;}return true;};function ah(ai,aj){var ak=ai.getSelection(),al=ak.getRanges(),am=aj?this.removeFromRange:this.applyToRange,an,ao=al.createIterator();while(an=ao.getNextRange())am.call(this,an);ak.selectRanges(al);ai.removeCustomData('doc_processing_style');};})();p.styleCommand=function(B){this.style=B;};p.styleCommand.prototype.exec=function(B){var D=this;B.focus();var C=B.document;if(C)if(D.state==2)D.style.apply(C);else if(D.state==1)D.style.remove(C);return!!C;};p.stylesSet=new p.resourceManager('','stylesSet');p.addStylesSet=t.bind(p.stylesSet.add,p.stylesSet);p.loadStylesSet=function(B,C,D){p.stylesSet.addExternal(B,C,'');p.stylesSet.load(B,D);};p.editor.prototype.getStylesSet=function(B){if(!this._.stylesDefinitions){var C=this,D=C.config.stylesCombo_stylesSet||C.config.stylesSet||'default';if(D instanceof Array){C._.stylesDefinitions=D;B(D);return;}var E=D.split(':'),F=E[0],G=E[1],H=y.registered.styles.path;p.stylesSet.addExternal(F,G?E.slice(1).join(':'):H+'styles/'+F+'.js','');p.stylesSet.load(F,function(I){C._.stylesDefinitions=I[F];B(C._.stylesDefinitions);});}else B(this._.stylesDefinitions);};y.add('domiterator');(function(){function B(F){var G=this;if(arguments.length<1)return;G.range=F;G.forceBrBreak=0;G.enlargeBr=1;G.enforceRealBlocks=0;G._||(G._={});};var C=/^[\r\n\t ]+$/,D=s.walker.bookmark(false,true);
function E(F,G,H){var I=F.getNextSourceNode(G,null,H);while(!D(I))I=I.getNextSourceNode(G,null,H);return I;};B.prototype={getNextParagraph:function(F){var af=this;var G,H,I,J,K,L;if(!af._.lastNode){H=af.range.clone();H.shrink(1,true);J=H.endContainer.hasAscendant('pre',true)||H.startContainer.hasAscendant('pre',true);H.enlarge(af.forceBrBreak&&!J||!af.enlargeBr?3:2);var M=new s.walker(H),N=s.walker.bookmark(true,true);M.evaluator=N;af._.nextNode=M.next();M=new s.walker(H);M.evaluator=N;var O=M.previous();af._.lastNode=O.getNextSourceNode(true);if(af._.lastNode&&af._.lastNode.type==3&&!t.trim(af._.lastNode.getText())&&af._.lastNode.getParent().isBlockBoundary()){var P=new s.range(H.document);P.moveToPosition(af._.lastNode,4);if(P.checkEndOfBlock()){var Q=new s.elementPath(P.endContainer),R=Q.block||Q.blockLimit;af._.lastNode=R.getNextSourceNode(true);}}if(!af._.lastNode){af._.lastNode=af._.docEndMarker=H.document.createText('');af._.lastNode.insertAfter(O);}H=null;}var S=af._.nextNode;O=af._.lastNode;af._.nextNode=null;while(S){var T=0,U=S.hasAscendant('pre'),V=S.type!=1,W=0;if(!V){var X=S.getName();if(S.isBlockBoundary(af.forceBrBreak&&!U&&{br:1})){if(X=='br')V=1;else if(!H&&!S.getChildCount()&&X!='hr'){G=S;I=S.equals(O);break;}if(H){H.setEndAt(S,3);if(X!='br')af._.nextNode=S;}T=1;}else{if(S.getFirst()){if(!H){H=new s.range(af.range.document);H.setStartAt(S,3);}S=S.getFirst();continue;}V=1;}}else if(S.type==3)if(C.test(S.getText()))V=0;if(V&&!H){H=new s.range(af.range.document);H.setStartAt(S,3);}I=(!T||V)&&S.equals(O);if(H&&!T)while(!S.getNext(D)&&!I){var Y=S.getParent();if(Y.isBlockBoundary(af.forceBrBreak&&!U&&{br:1})){T=1;I=I||Y.equals(O);break;}S=Y;V=1;I=S.equals(O);W=1;}if(V)H.setEndAt(S,4);S=E(S,W,O);I=!S;if(I||T&&H)break;}if(!G){if(!H){af._.docEndMarker&&af._.docEndMarker.remove();af._.nextNode=null;return null;}var Z=new s.elementPath(H.startContainer),aa=Z.blockLimit,ab={div:1,th:1,td:1};G=Z.block;if(!G&&!af.enforceRealBlocks&&ab[aa.getName()]&&H.checkStartOfBlock()&&H.checkEndOfBlock())G=aa;else if(!G||af.enforceRealBlocks&&G.getName()=='li'){G=af.range.document.createElement(F||'p');H.extractContents().appendTo(G);G.trim();H.insertNode(G);K=L=true;}else if(G.getName()!='li'){if(!H.checkStartOfBlock()||!H.checkEndOfBlock()){G=G.clone(false);H.extractContents().appendTo(G);G.trim();var ac=H.splitBlock();K=!ac.wasStartOfBlock;L=!ac.wasEndOfBlock;H.insertNode(G);}}else if(!I)af._.nextNode=G.equals(O)?null:E(H.getBoundaryNodes().endNode,1,O);}if(K){var ad=G.getPrevious();
if(ad&&ad.type==1)if(ad.getName()=='br')ad.remove();else if(ad.getLast()&&ad.getLast().$.nodeName.toLowerCase()=='br')ad.getLast().remove();}if(L){var ae=G.getLast();if(ae&&ae.type==1&&ae.getName()=='br')if(r||ae.getPrevious(D)||ae.getNext(D))ae.remove();}if(!af._.nextNode)af._.nextNode=I||G.equals(O)?null:E(G,1,O);return G;}};s.range.prototype.createIterator=function(){return new B(this);};})();y.add('panelbutton',{requires:['button'],beforeInit:function(B){B.ui.addHandler(4,z.panelButton.handler);}});p.UI_PANELBUTTON=4;(function(){var B=function(C){var E=this;var D=E._;if(D.state==0)return;E.createPanel(C);if(D.on){D.panel.hide();return;}D.panel.showBlock(E._.id,E.document.getById(E._.id),4);};z.panelButton=t.createClass({base:z.button,$:function(C){var E=this;var D=C.panel;delete C.panel;E.base(C);E.document=D&&D.parent&&D.parent.getDocument()||p.document;D.block={attributes:D.attributes};E.hasArrow=true;E.click=B;E._={panelDefinition:D};},statics:{handler:{create:function(C){return new z.panelButton(C);}}},proto:{createPanel:function(C){var D=this._;if(D.panel)return;var E=this._.panelDefinition||{},F=this._.panelDefinition.block,G=E.parent||p.document.getBody(),H=this._.panel=new z.floatPanel(C,G,E),I=H.addBlock(D.id,F),J=this;H.onShow=function(){if(J.className)this.element.getFirst().addClass(J.className+'_panel');J.setState(1);D.on=1;if(J.onOpen)J.onOpen();};H.onHide=function(K){if(J.className)this.element.getFirst().removeClass(J.className+'_panel');J.setState(J.modes&&J.modes[C.mode]?2:0);D.on=0;if(!K&&J.onClose)J.onClose();};H.onEscape=function(){H.hide();J.document.getById(D.id).focus();};if(this.onBlock)this.onBlock(H,I);I.onHide=function(){D.on=0;J.setState(2);};}}});})();y.add('floatpanel',{requires:['panel']});(function(){var B={},C=false;function D(E,F,G,H,I){var J=t.genKey(F.getUniqueId(),G.getUniqueId(),E.skinName,E.lang.dir,E.uiColor||'',H.css||'',I||''),K=B[J];if(!K){K=B[J]=new z.panel(F,H);K.element=G.append(w.createFromHtml(K.renderHtml(E),F));K.element.setStyles({display:'none',position:'absolute'});}return K;};z.floatPanel=t.createClass({$:function(E,F,G,H){G.forceIFrame=1;var I=F.getDocument(),J=D(E,I,F,G,H||0),K=J.element,L=K.getFirst().getFirst();this.element=K;this._={panel:J,parentElement:F,definition:G,document:I,iframe:L,children:[],dir:E.lang.dir};E.on('mode',function(){this.hide();},this);},proto:{addBlock:function(E,F){return this._.panel.addBlock(E,F);},addListBlock:function(E,F){return this._.panel.addListBlock(E,F);},getBlock:function(E){return this._.panel.getBlock(E);
},showBlock:function(E,F,G,H,I){var J=this._.panel,K=J.showBlock(E);this.allowBlur(false);C=1;var L=this.element,M=this._.iframe,N=this._.definition,O=F.getDocumentPosition(L.getDocument()),P=this._.dir=='rtl',Q=O.x+(H||0),R=O.y+(I||0);if(P&&(G==1||G==4))Q+=F.$.offsetWidth;else if(!P&&(G==2||G==3))Q+=F.$.offsetWidth-1;if(G==3||G==4)R+=F.$.offsetHeight-1;this._.panel._.offsetParentId=F.getId();L.setStyles({top:R+'px',left:0,display:''});L.setOpacity(0);L.getFirst().removeStyle('width');if(!this._.blurSet){var S=r?M:new s.window(M.$.contentWindow);p.event.useCapture=true;S.on('blur',function(T){var V=this;if(!V.allowBlur())return;var U;if(r&&!V.allowBlur()||(U=T.data.getTarget())&&U.getName&&U.getName()!='iframe')return;if(V.visible&&!V._.activeChild&&!C)V.hide();},this);S.on('focus',function(){this._.focused=true;this.hideChild();this.allowBlur(true);},this);p.event.useCapture=false;this._.blurSet=1;}J.onEscape=t.bind(function(T){if(this.onEscape&&this.onEscape(T)===false)return false;},this);t.setTimeout(function(){if(P)Q-=L.$.offsetWidth;var T=t.bind(function(){var U=L.getFirst();if(K.autoSize){var V=K.element.$;if(q.gecko||q.opera)V=V.parentNode;if(r)V=V.document.body;var W=V.scrollWidth;if(r&&q.quirks&&W>0)W+=(U.$.offsetWidth||0)-(U.$.clientWidth||0);W+=4;U.setStyle('width',W+'px');K.element.addClass('cke_frameLoaded');var X=K.element.$.scrollHeight;if(r&&q.quirks&&X>0)X+=(U.$.offsetHeight||0)-(U.$.clientHeight||0);U.setStyle('height',X+'px');J._.currentBlock.element.setStyle('display','none').removeStyle('display');}else U.removeStyle('height');var Y=J.element,Z=Y.getWindow(),aa=Z.getScrollPosition(),ab=Z.getViewPaneSize(),ac={height:Y.$.offsetHeight,width:Y.$.offsetWidth};if(P?Q<0:Q+ac.width>ab.width+aa.x)Q+=ac.width*(P?1:-1);if(R+ac.height>ab.height+aa.y)R-=ac.height;if(r){var ad=new w(L.$.offsetParent),ae=ad;if(ae.getName()=='html')ae=ae.getDocument().getBody();if(ae.getComputedStyle('direction')=='rtl')if(q.ie8Compat)Q-=L.getDocument().getDocumentElement().$.scrollLeft*2;else Q-=ad.$.scrollWidth-ad.$.clientWidth;}var af=L.getFirst(),ag;if(ag=af.getCustomData('activePanel'))ag.onHide&&ag.onHide.call(this,1);af.setCustomData('activePanel',this);L.setStyles({top:R+'px',left:Q+'px'});L.setOpacity(1);},this);J.isLoaded?T():J.onLoad=T;t.setTimeout(function(){M.$.contentWindow.focus();this.allowBlur(true);},0,this);},q.air?200:0,this);this.visible=1;if(this.onShow)this.onShow.call(this);C=0;},hide:function(){var E=this;if(E.visible&&(!E.onHide||E.onHide.call(E)!==true)){E.hideChild();
E.element.setStyle('display','none');E.visible=0;E.element.getFirst().removeCustomData('activePanel');}},allowBlur:function(E){var F=this._.panel;if(E!=undefined)F.allowBlur=E;return F.allowBlur;},showAsChild:function(E,F,G,H,I,J){if(this._.activeChild==E&&E._.panel._.offsetParentId==G.getId())return;this.hideChild();E.onHide=t.bind(function(){t.setTimeout(function(){if(!this._.focused)this.hide();},0,this);},this);this._.activeChild=E;this._.focused=false;E.showBlock(F,G,H,I,J);if(q.ie7Compat||q.ie8&&q.ie6Compat)setTimeout(function(){E.element.getChild(0).$.style.cssText+='';},100);},hideChild:function(){var E=this._.activeChild;if(E){delete E.onHide;delete this._.activeChild;E.hide();}}}});p.on('instanceDestroyed',function(){var E=t.isEmpty(p.instances);for(var F in B){var G=B[F];if(E)G.destroy();else G.element.hide();}E&&(B={});});})();y.add('menu',{beforeInit:function(B){var C=B.config.menu_groups.split(','),D=B._.menuGroups={},E=B._.menuItems={};for(var F=0;F<C.length;F++)D[C[F]]=F+1;B.addMenuGroup=function(G,H){D[G]=H||100;};B.addMenuItem=function(G,H){if(D[H.group])E[G]=new p.menuItem(this,G,H);};B.addMenuItems=function(G){for(var H in G)this.addMenuItem(H,G[H]);};B.getMenuItem=function(G){return E[G];};},requires:['floatpanel']});(function(){p.menu=t.createClass({$:function(C,D){var G=this;D=G._.definition=D||{};G.id=t.getNextId();G.editor=C;G.items=[];G._.listeners=[];G._.level=D.level||1;var E=t.extend({},D.panel,{css:C.skin.editor.css,level:G._.level-1,block:{}}),F=E.block.attributes=E.attributes||{};!F.role&&(F.role='menu');G._.panelDefinition=E;},_:{onShow:function(){var K=this;var C=K.editor.getSelection();if(r)C&&C.lock();var D=C&&C.getStartElement(),E=K._.listeners,F=[];K.removeAll();for(var G=0;G<E.length;G++){var H=E[G](D,C);if(H)for(var I in H){var J=K.editor.getMenuItem(I);if(J){J.state=H[I];K.add(J);}}}},onClick:function(C){this.hide();if(C.onClick)C.onClick();else if(C.command)this.editor.execCommand(C.command);},onEscape:function(C){var D=this.parent;if(D){D._.panel.hideChild();var E=D._.panel._.panel._.currentBlock,F=E._.focusIndex;E._.markItem(F);}else if(C==27){this.hide();this.editor.focus();}return false;},onHide:function(){if(r){var C=this.editor.getSelection();C&&C.unlock();}this.onHide&&this.onHide();},showSubMenu:function(C){var K=this;var D=K._.subMenu,E=K.items[C],F=E.getItems&&E.getItems();if(!F){K._.panel.hideChild();return;}var G=K._.panel.getBlock(K.id);G._.focusIndex=C;if(D)D.removeAll();else{D=K._.subMenu=new p.menu(K.editor,t.extend({},K._.definition,{level:K._.level+1},true));
D.parent=K;D._.onClick=t.bind(K._.onClick,K);}for(var H in F){var I=K.editor.getMenuItem(H);if(I){I.state=F[H];D.add(I);}}var J=K._.panel.getBlock(K.id).element.getDocument().getById(K.id+String(C));D.show(J,2);}},proto:{add:function(C){if(!C.order)C.order=this.items.length;this.items.push(C);},removeAll:function(){this.items=[];},show:function(C,D,E,F){if(!this.parent){this._.onShow();if(!this.items.length)return;}D=D||(this.editor.lang.dir=='rtl'?2:1);var G=this.items,H=this.editor,I=this._.panel,J=this._.element;if(!I){I=this._.panel=new z.floatPanel(this.editor,p.document.getBody(),this._.panelDefinition,this._.level);I.onEscape=t.bind(function(U){if(this._.onEscape(U)===false)return false;},this);I.onHide=t.bind(function(){this._.onHide&&this._.onHide();},this);var K=I.addBlock(this.id,this._.panelDefinition.block);K.autoSize=true;var L=K.keys;L[40]='next';L[9]='next';L[38]='prev';L[2000+9]='prev';L[32]='click';L[H.lang.dir=='rtl'?37:39]='click';J=this._.element=K.element;J.addClass(H.skinClass);var M=J.getDocument();M.getBody().setStyle('overflow','hidden');M.getElementsByTag('html').getItem(0).setStyle('overflow','hidden');this._.itemOverFn=t.addFunction(function(U){var V=this;clearTimeout(V._.showSubTimeout);V._.showSubTimeout=t.setTimeout(V._.showSubMenu,H.config.menu_subMenuDelay||400,V,[U]);},this);this._.itemOutFn=t.addFunction(function(U){clearTimeout(this._.showSubTimeout);},this);this._.itemClickFn=t.addFunction(function(U){var W=this;var V=W.items[U];if(V.state==0){W.hide();return;}if(V.getItems)W._.showSubMenu(U);else W._.onClick(V);},this);}B(G);var N=H.container.getChild(1),O=N.hasClass('cke_mixed_dir_content')?' cke_mixed_dir_content':'',P=['<div class="cke_menu'+O+'" role="presentation">'],Q=G.length,R=Q&&G[0].group;for(var S=0;S<Q;S++){var T=G[S];if(R!=T.group){P.push('<div class="cke_menuseparator" role="separator"></div>');R=T.group;}T.render(this,S,P);}P.push('</div>');J.setHtml(P.join(''));z.fire('ready',this);if(this.parent)this.parent._.panel.showAsChild(I,this.id,C,D,E,F);else I.showBlock(this.id,C,D,E,F);H.fire('menuShow',[I]);},addListener:function(C){this._.listeners.push(C);},hide:function(){var C=this;C._.onHide&&C._.onHide();C._.panel&&C._.panel.hide();}}});function B(C){C.sort(function(D,E){if(D.group<E.group)return-1;else if(D.group>E.group)return 1;return D.order<E.order?-1:D.order>E.order?1:0;});};p.menuItem=t.createClass({$:function(C,D,E){var F=this;t.extend(F,E,{order:0,className:'cke_button_'+D});F.group=C._.menuGroups[F.group];
F.editor=C;F.name=D;},proto:{render:function(C,D,E){var L=this;var F=C.id+String(D),G=typeof L.state=='undefined'?2:L.state,H=' cke_'+(G==1?'on':G==0?'disabled':'off'),I=L.label;if(L.className)H+=' '+L.className;var J=L.getItems;E.push('<span class="cke_menuitem'+(L.icon&&L.icon.indexOf('.png')==-1?' cke_noalphafix':'')+'">'+'<a id="',F,'" class="',H,'" href="javascript:void(\'',(L.label||'').replace("'",''),'\')" title="',L.label,'" tabindex="-1"_cke_focus=1 hidefocus="true" role="menuitem"'+(J?'aria-haspopup="true"':'')+(G==0?'aria-disabled="true"':'')+(G==1?'aria-pressed="true"':''));if(q.opera||q.gecko&&q.mac)E.push(' onkeypress="return false;"');if(q.gecko)E.push(' onblur="this.style.cssText = this.style.cssText;"');var K=(L.iconOffset||0)*-16;E.push(' onmouseover="CKEDITOR.tools.callFunction(',C._.itemOverFn,',',D,');" onmouseout="CKEDITOR.tools.callFunction(',C._.itemOutFn,',',D,');" onclick="CKEDITOR.tools.callFunction(',C._.itemClickFn,',',D,'); return false;"><span class="cke_icon_wrapper"><span class="cke_icon"'+(L.icon?' style="background-image:url('+p.getUrl(L.icon)+');background-position:0 '+K+'px;"':'')+'></span></span>'+'<span class="cke_label">');if(J)E.push('<span class="cke_menuarrow">','<span>&#',L.editor.lang.dir=='rtl'?'9668':'9658',';</span>','</span>');E.push(I,'</span></a></span>');}}});})();x.menu_groups='clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div';(function(){var B=function(D,E){return D._.modes&&D._.modes[E||D.mode];},C;y.add('editingblock',{init:function(D){if(!D.config.editingBlock)return;D.on('themeSpace',function(E){if(E.data.space=='contents')E.data.html+='<br>';});D.on('themeLoaded',function(){D.fireOnce('editingBlockReady');});D.on('uiReady',function(){D.setMode(D.config.startupMode);});D.on('afterSetData',function(){if(!C){function E(){C=true;B(D).loadData(D.getData());C=false;};if(D.mode)E();else D.on('mode',function(){E();D.removeListener('mode',arguments.callee);});}});D.on('beforeGetData',function(){if(!C&&D.mode){C=true;D.setData(B(D).getData());C=false;}});D.on('getSnapshot',function(E){if(D.mode)E.data=B(D).getSnapshotData();});D.on('loadSnapshot',function(E){if(D.mode)B(D).loadSnapshotData(E.data);});D.on('mode',function(E){E.removeListener();q.webkit&&D.container.on('focus',function(){D.focus();});if(D.config.startupFocus)D.focus();setTimeout(function(){D.fireOnce('instanceReady');p.fire('instanceReady',null,D);
},0);});D.on('destroy',function(){var E=this;if(E.mode)E._.modes[E.mode].unload(E.getThemeSpace('contents'));});}});p.editor.prototype.mode='';p.editor.prototype.addMode=function(D,E){E.name=D;(this._.modes||(this._.modes={}))[D]=E;};p.editor.prototype.setMode=function(D){var E,F=this.getThemeSpace('contents'),G=this.checkDirty();if(this.mode){if(D==this.mode)return;this.fire('beforeModeUnload');var H=B(this);E=H.getData();H.unload(F);this.mode='';}F.setHtml('');var I=B(this,D);if(!I)throw '[CKEDITOR.editor.setMode] Unknown mode "'+D+'".';if(!G)this.on('mode',function(){this.resetDirty();this.removeListener('mode',arguments.callee);});I.load(F,typeof E!='string'?this.getData():E);};p.editor.prototype.focus=function(){var D=B(this);if(D)D.focus();};})();x.startupMode='wysiwyg';x.editingBlock=true;(function(){function B(){var L=this;try{var I=L.getSelection();if(!I||!I.document.getWindow().$)return;var J=I.getStartElement(),K=new s.elementPath(J);if(!K.compare(L._.selectionPreviousPath)){L._.selectionPreviousPath=K;L.fire('selectionChange',{selection:I,path:K,element:J});}}catch(M){}};var C,D;function E(){D=true;if(C)return;F.call(this);C=t.setTimeout(F,200,this);};function F(){C=null;if(D){t.setTimeout(B,0,this);D=false;}};var G={modes:{wysiwyg:1,source:1},exec:function(I){switch(I.mode){case 'wysiwyg':I.document.$.execCommand('SelectAll',false,null);I.forceNextSelectionCheck();I.selectionChange();break;case 'source':var J=I.textarea.$;if(r)J.createTextRange().execCommand('SelectAll');else{J.selectionStart=0;J.selectionEnd=J.value.length;}J.focus();}},canUndo:false};y.add('selection',{init:function(I){I.on('contentDom',function(){var J=I.document,K=J.getBody(),L=J.getDocumentElement();if(r){var M,N,O=1;K.on('focusin',function(S){if(S.data.$.srcElement.nodeName!='BODY')return;if(M){var T=J.getCustomData('cke_locked_selection');if(O&&!T)try{M.select();}catch(U){}M=null;}});K.on('focus',function(){N=1;R();});K.on('beforedeactivate',function(S){if(S.data.$.toElement)return;N=0;O=1;});if(r&&q.version<8)I.on('blur',function(S){try{I.document&&I.document.$.selection.empty();}catch(T){}});L.on('mousedown',function(){O=0;});L.on('mouseup',function(){O=1;});if(r&&(q.ie7Compat||q.version<8||q.quirks))L.on('click',function(S){if(S.data.getTarget().getName()=='html')I.getSelection().getRanges()[0].select();});var P;K.on('mousedown',function(S){if(S.data.$.button==2){var T=I.document.$.selection;if(T.type=='None')P=I.window.getScrollPosition();}Q();});K.on('mouseup',function(S){if(S.data.$.button==2&&P){I.document.$.documentElement.scrollLeft=P.x;
I.document.$.documentElement.scrollTop=P.y;}P=null;N=1;setTimeout(function(){R(true);},0);});K.on('keydown',Q);K.on('keyup',function(){N=1;R();});J.on('selectionchange',R);function Q(){N=0;};function R(S){if(N){var T=I.document,U=I.getSelection(),V=U&&U.getNative();if(S&&V&&V.type=='None')if(!T.$.queryCommandEnabled('InsertImage')){t.setTimeout(R,50,this,true);return;}var W;if(V&&V.type&&V.type!='Control'&&(W=V.createRange())&&(W=W.parentElement())&&(W=W.nodeName)&&W.toLowerCase() in {input:1,textarea:1})return;M=V&&U.getRanges()[0];E.call(I);}};}else{J.on('mouseup',E,I);J.on('keyup',E,I);}});I.addCommand('selectAll',G);I.ui.addButton('SelectAll',{label:I.lang.selectAll,command:'selectAll'});I.selectionChange=E;}});p.editor.prototype.getSelection=function(){return this.document&&this.document.getSelection();};p.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath;};v.prototype.getSelection=function(){var I=new s.selection(this);return!I||I.isInvalid?null:I;};p.SELECTION_NONE=1;p.SELECTION_TEXT=2;p.SELECTION_ELEMENT=3;s.selection=function(I){var L=this;var J=I.getCustomData('cke_locked_selection');if(J)return J;L.document=I;L.isLocked=0;L._={cache:{}};if(r){var K=L.getNative().createRange();if(!K||K.item&&K.item(0).ownerDocument!=L.document.$||K.parentElement&&K.parentElement().ownerDocument!=L.document.$)L.isInvalid=true;}return L;};var H={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,th:1,thead:1,tfoot:1};s.selection.prototype={getNative:r?function(){return this._.cache.nativeSel||(this._.cache.nativeSel=this.document.$.selection);}:function(){return this._.cache.nativeSel||(this._.cache.nativeSel=this.document.getWindow().$.getSelection());},getType:r?function(){var I=this._.cache;if(I.type)return I.type;var J=1;try{var K=this.getNative(),L=K.type;if(L=='Text')J=2;if(L=='Control')J=3;if(K.createRange().parentElement)J=2;}catch(M){}return I.type=J;}:function(){var I=this._.cache;if(I.type)return I.type;var J=2,K=this.getNative();if(!K)J=1;else if(K.rangeCount==1){var L=K.getRangeAt(0),M=L.startContainer;if(M==L.endContainer&&M.nodeType==1&&L.endOffset-L.startOffset==1&&H[M.childNodes[L.startOffset].nodeName.toLowerCase()])J=3;}return I.type=J;},getRanges:(function(){var I=r?(function(){function J(L){return new s.node(L).getIndex();};var K=function(L,M){L=L.duplicate();L.collapse(M);var N=L.parentElement();if(!N.hasChildNodes())return{container:N,offset:0};
var O=N.children,P,Q=L.duplicate(),R=0,S=O.length-1,T=-1,U,V;while(R<=S){T=Math.floor((R+S)/2);P=O[T];Q.moveToElementText(P);U=Q.compareEndPoints('StartToStart',L);if(U>0)S=T-1;else if(U<0)R=T+1;else return{container:N,offset:J(P)};}if(T==-1||T==O.length-1&&U<0){Q.moveToElementText(N);Q.setEndPoint('StartToStart',L);V=Q.text.replace(/(\r\n|\r)/g,'\n').length;O=N.childNodes;if(!V){P=O[O.length-1];if(P.nodeType==1)return{container:N,offset:O.length};else return{container:P,offset:P.nodeValue.length};}var W=O.length;while(V>0)V-=O[--W].nodeValue.length;return{container:O[W],offset:-V};}else{Q.collapse(U>0?true:false);Q.setEndPoint(U>0?'StartToStart':'EndToStart',L);V=Q.text.replace(/(\r\n|\r)/g,'\n').length;if(!V)return{container:N,offset:J(P)+(U>0?0:1)};while(V>0){P=P[U>0?'previousSibling':'nextSibling'];try{V-=P.nodeValue.length;}catch(X){return{container:N,offset:J(P)};}}return{container:P,offset:U>0?-V:P.nodeValue.length+V};}};return function(){var V=this;var L=V.getNative(),M=L&&L.createRange(),N=V.getType(),O;if(!L)return[];if(N==2){O=new s.range(V.document);var P=K(M,true);O.setStart(new s.node(P.container),P.offset);P=K(M);O.setEnd(new s.node(P.container),P.offset);if(O.endContainer.getPosition(O.startContainer)&4&&O.endOffset<=O.startContainer.getIndex())O.collapse();return[O];}else if(N==3){var Q=[];for(var R=0;R<M.length;R++){var S=M.item(R),T=S.parentNode,U=0;O=new s.range(V.document);for(;U<T.childNodes.length&&T.childNodes[U]!=S;U++){}O.setStart(new s.node(T),U);O.setEnd(new s.node(T),U+1);Q.push(O);}return Q;}return[];};})():function(){var J=[],K,L=this.document,M=this.getNative();if(!M)return J;if(!M.rangeCount){K=new s.range(L);K.moveToElementEditStart(L.getBody());J.push(K);}for(var N=0;N<M.rangeCount;N++){var O=M.getRangeAt(N);K=new s.range(L);K.setStart(new s.node(O.startContainer),O.startOffset);K.setEnd(new s.node(O.endContainer),O.endOffset);J.push(K);}return J;};return function(J){var K=this._.cache;if(K.ranges&&!J)return K.ranges;else if(!K.ranges)K.ranges=new s.rangeList(I.call(this));if(J){var L=K.ranges;for(var M=0;M<L.length;M++){var N=L[M],O=N.getCommonAncestor();if(O.isReadOnly())L.splice(M,1);if(N.collapsed)continue;var P=N.startContainer,Q=N.endContainer,R=N.startOffset,S=N.endOffset,T=N.clone(),U;if(U=P.isReadOnly())N.setStartAfter(U);if(P&&P.type==3)if(R>=P.getLength())T.setStartAfter(P);else T.setStartBefore(P);if(Q&&Q.type==3)if(!S)T.setEndBefore(Q);else T.setEndAfter(Q);var V=new s.walker(T);V.evaluator=function(W){if(W.type==1&&W.isReadOnly()){var X=N.clone();
N.setEndBefore(W);if(N.collapsed)L.splice(M--,1);if(!(W.getPosition(T.endContainer)&16)){X.setStartAfter(W);if(!X.collapsed)L.splice(M+1,0,X);}return true;}return false;};V.next();}}return K.ranges;};})(),getStartElement:function(){var P=this;var I=P._.cache;if(I.startElement!==undefined)return I.startElement;var J,K=P.getNative();switch(P.getType()){case 3:return P.getSelectedElement();case 2:var L=P.getRanges()[0];if(L){if(!L.collapsed){L.optimize();while(1){var M=L.startContainer,N=L.startOffset;if(N==(M.getChildCount?M.getChildCount():M.getLength())&&!M.isBlockBoundary())L.setStartAfter(M);else break;}J=L.startContainer;if(J.type!=1)return J.getParent();J=J.getChild(L.startOffset);if(!J||J.type!=1)J=L.startContainer;else{var O=J.getFirst();while(O&&O.type==1){J=O;O=O.getFirst();}}}else{J=L.startContainer;if(J.type!=1)J=J.getParent();}J=J.$;}}return I.startElement=J?new w(J):null;},getSelectedElement:function(){var I=this._.cache;if(I.selectedElement!==undefined)return I.selectedElement;var J=this,K=t.tryThese(function(){return J.getNative().createRange().item(0);},function(){var L=J.getRanges()[0],M,N;for(var O=2;O&&!((M=L.getEnclosedNode())&&M.type==1&&H[M.getName()]&&(N=M));O--)L.shrink(1);return N.$;});return I.selectedElement=K?new w(K):null;},lock:function(){var I=this;I.getRanges();I.getStartElement();I.getSelectedElement();I._.cache.nativeSel={};I.isLocked=1;I.document.setCustomData('cke_locked_selection',I);},unlock:function(I){var N=this;var J=N.document,K=J.getCustomData('cke_locked_selection');if(K){J.setCustomData('cke_locked_selection',null);if(I){var L=K.getSelectedElement(),M=!L&&K.getRanges();N.isLocked=0;N.reset();J.getBody().focus();if(L)N.selectElement(L);else N.selectRanges(M);}}if(!K||!I){N.isLocked=0;N.reset();}},reset:function(){this._.cache={};},selectElement:function(I){var L=this;if(L.isLocked){var J=new s.range(L.document);J.setStartBefore(I);J.setEndAfter(I);L._.cache.selectedElement=I;L._.cache.startElement=I;L._.cache.ranges=new s.rangeList(J);L._.cache.type=3;return;}if(r){L.getNative().empty();try{J=L.document.$.body.createControlRange();J.addElement(I.$);J.select();}catch(M){J=L.document.$.body.createTextRange();J.moveToElementText(I.$);J.select();}finally{L.document.fire('selectionchange');}L.reset();}else{J=L.document.$.createRange();J.selectNode(I.$);var K=L.getNative();K.removeAllRanges();K.addRange(J);L.reset();}},selectRanges:function(I){var U=this;if(U.isLocked){U._.cache.selectedElement=null;U._.cache.startElement=I[0]&&I[0].getTouchedStartNode();
U._.cache.ranges=new s.rangeList(I);U._.cache.type=2;return;}if(r){if(I.length>1){var J=I[I.length-1];I[0].setEnd(J.endContainer,J.endOffset);I.length=1;}if(I[0])I[0].select();U.reset();}else{var K=U.getNative();if(I.length)K.removeAllRanges();for(var L=0;L<I.length;L++){if(L<I.length-1){var M=I[L],N=I[L+1],O=M.clone();O.setStart(M.endContainer,M.endOffset);O.setEnd(N.startContainer,N.startOffset);if(!O.collapsed){O.shrink(1,true);var P=O.getCommonAncestor(),Q=O.getEnclosedNode();if(P.isReadOnly()||Q&&Q.isReadOnly()){N.setStart(M.startContainer,M.startOffset);I.splice(L--,1);continue;}}}var R=I[L],S=U.document.$.createRange(),T=R.startContainer;if(R.collapsed&&(q.opera||q.gecko&&q.version<10900)&&T.type==1&&!T.getChildCount())T.appendText('');S.setStart(T.$,R.startOffset);S.setEnd(R.endContainer.$,R.endOffset);K.addRange(S);}U.reset();}},createBookmarks:function(I){return this.getRanges().createBookmarks(I);},createBookmarks2:function(I){return this.getRanges().createBookmarks2(I);},selectBookmarks:function(I){var J=[];for(var K=0;K<I.length;K++){var L=new s.range(this.document);L.moveToBookmark(I[K]);J.push(L);}this.selectRanges(J);return this;},getCommonAncestor:function(){var I=this.getRanges(),J=I[0].startContainer,K=I[I.length-1].endContainer;return J.getCommonAncestor(K);},scrollIntoView:function(){var I=this.getStartElement();I.scrollIntoView();}};})();(function(){var B=s.walker.whitespaces(true),C=/\ufeff|\u00a0/,D={table:1,tbody:1,tr:1};s.range.prototype.select=r?function(E){var O=this;var F=O.collapsed,G,H;if(O.startContainer.type==1&&O.startContainer.getName() in D||O.endContainer.type==1&&O.endContainer.getName() in D)O.shrink(1,true);var I=O.createBookmark(),J=I.startNode,K;if(!F)K=I.endNode;var L=O.document.$.body.createTextRange();L.moveToElementText(J.$);L.moveStart('character',1);if(K){var M=O.document.$.body.createTextRange();M.moveToElementText(K.$);L.setEndPoint('EndToEnd',M);L.moveEnd('character',-1);}else{var N=J.getNext(B);G=!(N&&N.getText&&N.getText().match(C))&&(E||!J.hasPrevious()||J.getPrevious().is&&J.getPrevious().is('br'));H=O.document.createElement('span');H.setHtml('&#65279;');H.insertBefore(J);if(G)O.document.createText('\ufeff').insertBefore(J);}O.setStartBefore(J);J.remove();if(F){if(G){L.moveStart('character',-1);L.select();O.document.$.selection.clear();}else L.select();O.moveToPosition(H,3);H.remove();}else{O.setEndBefore(K);K.remove();L.select();}O.document.fire('selectionchange');}:function(){var H=this;var E=H.startContainer;
if(H.collapsed&&E.type==1&&!E.getChildCount())E.append(new s.text(''));var F=H.document.$.createRange();F.setStart(E.$,H.startOffset);try{F.setEnd(H.endContainer.$,H.endOffset);}catch(I){if(I.toString().indexOf('NS_ERROR_ILLEGAL_VALUE')>=0){H.collapse(true);F.setEnd(H.endContainer.$,H.endOffset);}else throw I;}var G=H.document.getSelection().getNative();if(G){G.removeAllRanges();G.addRange(F);}};})();(function(){var B={elements:{$:function(C){var D=C.attributes,E=D&&D['data-cke-realelement'],F=E&&new p.htmlParser.fragment.fromHtml(decodeURIComponent(E)),G=F&&F.children[0];if(G&&C.attributes['data-cke-resizable']){var H=C.attributes.style;if(H){var I=/(?:^|\s)width\s*:\s*(\d+)/i.exec(H),J=I&&I[1];I=/(?:^|\s)height\s*:\s*(\d+)/i.exec(H);var K=I&&I[1];if(J)G.attributes.width=J;if(K)G.attributes.height=K;}}return G;}}};y.add('fakeobjects',{requires:['htmlwriter'],afterInit:function(C){var D=C.dataProcessor,E=D&&D.htmlFilter;if(E)E.addRules(B);}});})();p.editor.prototype.createFakeElement=function(B,C,D,E){var F=this.lang.fakeobjects,G=F[D]||F.unknown,H={'class':C,src:p.getUrl('images/spacer.gif'),'data-cke-realelement':encodeURIComponent(B.getOuterHtml()),'data-cke-real-node-type':B.type,alt:G,title:G,align:B.getAttribute('align')||''};if(D)H['data-cke-real-element-type']=D;if(E)H['data-cke-resizable']=E;return this.document.createElement('img',{attributes:H});};p.editor.prototype.createFakeParserElement=function(B,C,D,E){var F=this.lang.fakeobjects,G=F[D]||F.unknown,H,I=new p.htmlParser.basicWriter();B.writeHtml(I);H=I.getHtml();var J={'class':C,src:p.getUrl('images/spacer.gif'),'data-cke-realelement':encodeURIComponent(H),'data-cke-real-node-type':B.type,alt:G,title:G,align:B.attributes.align||''};if(D)J['data-cke-real-element-type']=D;if(E)J['data-cke-resizable']=E;return new p.htmlParser.element('img',J);};p.editor.prototype.restoreRealElement=function(B){if(B.data('cke-real-node-type')!=1)return null;return w.createFromHtml(decodeURIComponent(B.data('cke-realelement')),this.document);};y.add('richcombo',{requires:['floatpanel','listblock','button'],beforeInit:function(B){B.ui.addHandler(3,z.richCombo.handler);}});p.UI_RICHCOMBO=3;z.richCombo=t.createClass({$:function(B){var D=this;t.extend(D,B,{title:B.label,modes:{wysiwyg:1}});var C=D.panel||{};delete D.panel;D.id=t.getNextNumber();D.document=C&&C.parent&&C.parent.getDocument()||p.document;C.className=(C.className||'')+' cke_rcombopanel';C.block={multiSelect:C.multiSelect,attributes:C.attributes};D._={panelDefinition:C,items:{},state:2};
},statics:{handler:{create:function(B){return new z.richCombo(B);}}},proto:{renderHtml:function(B){var C=[];this.render(B,C);return C.join('');},render:function(B,C){var D=q,E='cke_'+this.id,F=t.addFunction(function(I){var L=this;var J=L._;if(J.state==0)return;L.createPanel(B);if(J.on){J.panel.hide();return;}L.commit();var K=L.getValue();if(K)J.list.mark(K);else J.list.unmarkAll();J.panel.showBlock(L.id,new w(I),4);},this),G={id:E,combo:this,focus:function(){var I=p.document.getById(E).getChild(1);I.focus();},clickFn:F};B.on('mode',function(){this.setState(this.modes[B.mode]?2:0);this.setValue('');},this);var H=t.addFunction(function(I,J){I=new s.event(I);var K=I.getKeystroke();switch(K){case 13:case 32:case 40:t.callFunction(F,J);break;default:G.onkey(G,K);}I.preventDefault();});G.keyDownFn=H;C.push('<span class="cke_rcombo">','<span id=',E);if(this.className)C.push(' class="',this.className,' cke_off"');C.push('>','<span id="'+E+'_label" class=cke_label>',this.label,'</span>','<a hidefocus=true title="',this.title,'" tabindex="-1"',D.gecko&&D.version>=10900&&!D.hc?'':" href=\"javascript:void('"+this.label+"')\"",' role="button" aria-labelledby="',E,'_label" aria-describedby="',E,'_text" aria-haspopup="true"');if(q.opera||q.gecko&&q.mac)C.push(' onkeypress="return false;"');if(q.gecko)C.push(' onblur="this.style.cssText = this.style.cssText;"');C.push(' onkeydown="CKEDITOR.tools.callFunction( ',H,', event, this );" onclick="CKEDITOR.tools.callFunction(',F,', this); return false;"><span><span id="'+E+'_text" class="cke_text cke_inline_label">'+this.label+'</span>'+'</span>'+'<span class=cke_openbutton>'+(q.hc?'<span>&#9660;</span>':q.air?'&nbsp;':'')+'</span>'+'</a>'+'</span>'+'</span>');if(this.onRender)this.onRender();return G;},createPanel:function(B){if(this._.panel)return;var C=this._.panelDefinition,D=this._.panelDefinition.block,E=C.parent||p.document.getBody(),F=new z.floatPanel(B,E,C),G=F.addListBlock(this.id,D),H=this;F.onShow=function(){if(H.className)this.element.getFirst().addClass(H.className+'_panel');H.setState(1);G.focus(!H.multiSelect&&H.getValue());H._.on=1;if(H.onOpen)H.onOpen();};F.onHide=function(I){if(H.className)this.element.getFirst().removeClass(H.className+'_panel');H.setState(H.modes&&H.modes[B.mode]?2:0);H._.on=0;if(!I&&H.onClose)H.onClose();};F.onEscape=function(){F.hide();H.document.getById('cke_'+H.id).getFirst().getNext().focus();};G.onClick=function(I,J){H.document.getWindow().focus();if(H.onClick)H.onClick.call(H,I,J);if(J)H.setValue(I,H._.items[I]);
else H.setValue('');F.hide();};this._.panel=F;this._.list=G;F.getBlock(this.id).onHide=function(){H._.on=0;H.setState(2);};if(this.init)this.init();},setValue:function(B,C){var E=this;E._.value=B;var D=E.document.getById('cke_'+E.id+'_text');if(D){if(!(B||C)){C=E.label;D.addClass('cke_inline_label');}else D.removeClass('cke_inline_label');D.setHtml(typeof C!='undefined'?C:B);}},getValue:function(){return this._.value||'';},unmarkAll:function(){this._.list.unmarkAll();},mark:function(B){this._.list.mark(B);},hideItem:function(B){this._.list.hideItem(B);},hideGroup:function(B){this._.list.hideGroup(B);},showAll:function(){this._.list.showAll();},add:function(B,C,D){this._.items[B]=D||B;this._.list.add(B,C,D);},startGroup:function(B){this._.list.startGroup(B);},commit:function(){var B=this;if(!B._.committed){B._.list.commit();B._.committed=1;z.fire('ready',B);}B._.committed=1;},setState:function(B){var C=this;if(C._.state==B)return;C.document.getById('cke_'+C.id).setState(B);C._.state=B;}}});z.prototype.addRichCombo=function(B,C){this.add(B,3,C);};y.add('htmlwriter');p.htmlWriter=t.createClass({base:p.htmlParser.basicWriter,$:function(){var D=this;D.base();D.indentationChars='\t';D.selfClosingEnd=' />';D.lineBreakChars='\n';D.forceSimpleAmpersand=0;D.sortAttributes=1;D._.indent=0;D._.indentation='';D._.inPre=0;D._.rules={};var B=u;for(var C in t.extend({},B.$nonBodyContent,B.$block,B.$listItem,B.$tableContent))D.setRules(C,{indent:1,breakBeforeOpen:1,breakAfterOpen:1,breakBeforeClose:!B[C]['#'],breakAfterClose:1});D.setRules('br',{breakAfterOpen:1});D.setRules('title',{indent:0,breakAfterOpen:0});D.setRules('style',{indent:0,breakBeforeClose:1});D.setRules('pre',{indent:0});},proto:{openTag:function(B,C){var E=this;var D=E._.rules[B];if(E._.indent)E.indentation();else if(D&&D.breakBeforeOpen){E.lineBreak();E.indentation();}E._.output.push('<',B);},openTagClose:function(B,C){var E=this;var D=E._.rules[B];if(C)E._.output.push(E.selfClosingEnd);else{E._.output.push('>');if(D&&D.indent)E._.indentation+=E.indentationChars;}if(D&&D.breakAfterOpen)E.lineBreak();B=='pre'&&(E._.inPre=1);},attribute:function(B,C){if(typeof C=='string'){this.forceSimpleAmpersand&&(C=C.replace(/&amp;/g,'&'));C=t.htmlEncodeAttr(C);}this._.output.push(' ',B,'="',C,'"');},closeTag:function(B){var D=this;var C=D._.rules[B];if(C&&C.indent)D._.indentation=D._.indentation.substr(D.indentationChars.length);if(D._.indent)D.indentation();else if(C&&C.breakBeforeClose){D.lineBreak();D.indentation();
}D._.output.push('</',B,'>');B=='pre'&&(D._.inPre=0);if(C&&C.breakAfterClose)D.lineBreak();},text:function(B){var C=this;if(C._.indent){C.indentation();!C._.inPre&&(B=t.ltrim(B));}C._.output.push(B);},comment:function(B){if(this._.indent)this.indentation();this._.output.push('<!--',B,'-->');},lineBreak:function(){var B=this;if(!B._.inPre&&B._.output.length>0)B._.output.push(B.lineBreakChars);B._.indent=1;},indentation:function(){var B=this;if(!B._.inPre)B._.output.push(B._.indentation);B._.indent=0;},setRules:function(B,C){var D=this._.rules[B];if(D)t.extend(D,C,true);else this._.rules[B]=C;}}});y.add('menubutton',{requires:['button','menu'],beforeInit:function(B){B.ui.addHandler(5,z.menuButton.handler);}});p.UI_MENUBUTTON=5;(function(){var B=function(C){var D=this._;if(D.state===0)return;D.previousState=D.state;var E=D.menu;if(!E){E=D.menu=new p.menu(C,{panel:{className:C.skinClass+' cke_contextmenu',attributes:{'aria-label':C.lang.common.options}}});E.onHide=t.bind(function(){this.setState(this.modes&&this.modes[C.mode]?D.previousState:0);},this);if(this.onMenu)E.addListener(this.onMenu);}if(D.on){E.hide();return;}this.setState(1);E.show(p.document.getById(this._.id),4);};z.menuButton=t.createClass({base:z.button,$:function(C){var D=C.panel;delete C.panel;this.base(C);this.hasArrow=true;this.click=B;},statics:{handler:{create:function(C){return new z.menuButton(C);}}}});})();y.add('dialogui');(function(){var B=function(J){var M=this;M._||(M._={});M._['default']=M._.initValue=J['default']||'';M._.required=J.required||false;var K=[M._];for(var L=1;L<arguments.length;L++)K.push(arguments[L]);K.push(true);t.extend.apply(t,K);return M._;},C={build:function(J,K,L){return new z.dialog.textInput(J,K,L);}},D={build:function(J,K,L){return new z.dialog[K.type](J,K,L);}},E={build:function(J,K,L){var M=K.children,N,O=[],P=[];for(var Q=0;Q<M.length&&(N=M[Q]);Q++){var R=[];O.push(R);P.push(p.dialog._.uiElementBuilders[N.type].build(J,N,R));}return new z.dialog[K.type](J,P,O,L,K);}},F={isChanged:function(){return this.getValue()!=this.getInitValue();},reset:function(J){this.setValue(this.getInitValue(),J);},setInitValue:function(){this._.initValue=this.getValue();},resetInitValue:function(){this._.initValue=this._['default'];},getInitValue:function(){return this._.initValue;}},G=t.extend({},z.dialog.uiElement.prototype.eventProcessors,{onChange:function(J,K){if(!this._.domOnChangeRegistered){J.on('load',function(){this.getInputElement().on('change',function(){if(!J.parts.dialog.isVisible())return;
this.fire('change',{value:this.getValue()});},this);},this);this._.domOnChangeRegistered=true;}this.on('change',K);}},true),H=/^on([A-Z]\w+)/,I=function(J){for(var K in J){if(H.test(K)||K=='title'||K=='type')delete J[K];}return J;};t.extend(z.dialog,{labeledElement:function(J,K,L,M){if(arguments.length<4)return;var N=B.call(this,K);N.labelId=t.getNextId()+'_label';var O=this._.children=[],P=function(){var Q=[],R=K.required?' cke_required':'';if(K.labelLayout!='horizontal')Q.push('<label class="cke_dialog_ui_labeled_label'+R+'" ',' id="'+N.labelId+'"',' for="'+N.inputId+'"',' style="'+K.labelStyle+'">',K.label,'</label>','<div class="cke_dialog_ui_labeled_content" role="presentation">',M.call(this,J,K),'</div>');else{var S={type:'hbox',widths:K.widths,padding:0,children:[{type:'html',html:'<label class="cke_dialog_ui_labeled_label'+R+'"'+' id="'+N.labelId+'"'+' for="'+N.inputId+'"'+' style="'+K.labelStyle+'">'+t.htmlEncode(K.label)+'</span>'},{type:'html',html:'<span class="cke_dialog_ui_labeled_content">'+M.call(this,J,K)+'</span>'}]};p.dialog._.uiElementBuilders.hbox.build(J,S,Q);}return Q.join('');};z.dialog.uiElement.call(this,J,K,L,'div',null,{role:'presentation'},P);},textInput:function(J,K,L){if(arguments.length<3)return;B.call(this,K);var M=this._.inputId=t.getNextId()+'_textInput',N={'class':'cke_dialog_ui_input_'+K.type,id:M,type:'text'},O;if(K.validate)this.validate=K.validate;if(K.maxLength)N.maxlength=K.maxLength;if(K.size)N.size=K.size;if(K.controlStyle)N.style=K.controlStyle;var P=this,Q=false;J.on('load',function(){P.getInputElement().on('keydown',function(S){if(S.data.getKeystroke()==13)Q=true;});P.getInputElement().on('keyup',function(S){if(S.data.getKeystroke()==13&&Q){J.getButton('ok')&&setTimeout(function(){J.getButton('ok').click();},0);Q=false;}},null,null,1000);});var R=function(){var S=['<div class="cke_dialog_ui_input_',K.type,'" role="presentation"'];if(K.width)S.push('style="width:'+K.width+'" ');S.push('><input ');N['aria-labelledby']=this._.labelId;this._.required&&(N['aria-required']=this._.required);for(var T in N)S.push(T+'="'+N[T]+'" ');S.push(' /></div>');return S.join('');};z.dialog.labeledElement.call(this,J,K,L,R);},textarea:function(J,K,L){if(arguments.length<3)return;B.call(this,K);var M=this,N=this._.inputId=t.getNextId()+'_textarea',O={};if(K.validate)this.validate=K.validate;O.rows=K.rows||5;O.cols=K.cols||20;var P=function(){O['aria-labelledby']=this._.labelId;this._.required&&(O['aria-required']=this._.required);var Q=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea class="cke_dialog_ui_input_textarea" id="',N,'" '];
for(var R in O)Q.push(R+'="'+t.htmlEncode(O[R])+'" ');Q.push('>',t.htmlEncode(M._['default']),'</textarea></div>');return Q.join('');};z.dialog.labeledElement.call(this,J,K,L,P);},checkbox:function(J,K,L){if(arguments.length<3)return;var M=B.call(this,K,{'default':!!K['default']});if(K.validate)this.validate=K.validate;var N=function(){var O=t.extend({},K,{id:K.id?K.id+'_checkbox':t.getNextId()+'_checkbox'},true),P=[],Q=t.getNextId()+'_label',R={'class':'cke_dialog_ui_checkbox_input',type:'checkbox','aria-labelledby':Q};I(O);if(K['default'])R.checked='checked';if(typeof O.controlStyle!='undefined')O.style=O.controlStyle;M.checkbox=new z.dialog.uiElement(J,O,P,'input',null,R);P.push(' <label id="',Q,'" for="',R.id,'">',t.htmlEncode(K.label),'</label>');return P.join('');};z.dialog.uiElement.call(this,J,K,L,'span',null,null,N);},radio:function(J,K,L){if(arguments.length<3)return;B.call(this,K);if(!this._['default'])this._['default']=this._.initValue=K.items[0][1];if(K.validate)this.validate=K.valdiate;var M=[],N=this,O=function(){var P=[],Q=[],R={'class':'cke_dialog_ui_radio_item','aria-labelledby':this._.labelId},S=K.id?K.id+'_radio':t.getNextId()+'_radio';for(var T=0;T<K.items.length;T++){var U=K.items[T],V=U[2]!==undefined?U[2]:U[0],W=U[1]!==undefined?U[1]:U[0],X=t.getNextId()+'_radio_input',Y=X+'_label',Z=t.extend({},K,{id:X,title:null,type:null},true),aa=t.extend({},Z,{title:V},true),ab={type:'radio','class':'cke_dialog_ui_radio_input',name:S,value:W,'aria-labelledby':Y},ac=[];if(N._['default']==W)ab.checked='checked';I(Z);I(aa);if(typeof Z.controlStyle!='undefined')Z.style=Z.controlStyle;M.push(new z.dialog.uiElement(J,Z,ac,'input',null,ab));ac.push(' ');new z.dialog.uiElement(J,aa,ac,'label',null,{id:Y,'for':ab.id},U[0]);P.push(ac.join(''));}new z.dialog.hbox(J,[],P,Q);return Q.join('');};z.dialog.labeledElement.call(this,J,K,L,O);this._.children=M;},button:function(J,K,L){if(!arguments.length)return;if(typeof K=='function')K=K(J.getParentEditor());B.call(this,K,{disabled:K.disabled||false});p.event.implementOn(this);var M=this;J.on('load',function(P){var Q=this.getElement();(function(){Q.on('click',function(R){M.fire('click',{dialog:M.getDialog()});R.data.preventDefault();});Q.on('keydown',function(R){if(R.data.getKeystroke() in {32:1}){M.click();R.data.preventDefault();}});})();Q.unselectable();},this);var N=t.extend({},K);delete N.style;var O=t.getNextId()+'_label';z.dialog.uiElement.call(this,J,N,L,'a',null,{style:K.style,href:'javascript:void(0)',title:K.label,hidefocus:'true','class':K['class'],role:'button','aria-labelledby':O},'<span id="'+O+'" class="cke_dialog_ui_button">'+t.htmlEncode(K.label)+'</span>');
},select:function(J,K,L){if(arguments.length<3)return;var M=B.call(this,K);if(K.validate)this.validate=K.validate;M.inputId=t.getNextId()+'_select';var N=function(){var O=t.extend({},K,{id:K.id?K.id+'_select':t.getNextId()+'_select'},true),P=[],Q=[],R={id:M.inputId,'class':'cke_dialog_ui_input_select','aria-labelledby':this._.labelId};if(K.size!=undefined)R.size=K.size;if(K.multiple!=undefined)R.multiple=K.multiple;I(O);for(var S=0,T;S<K.items.length&&(T=K.items[S]);S++)Q.push('<option value="',t.htmlEncode(T[1]!==undefined?T[1]:T[0]),'" /> ',t.htmlEncode(T[0]));if(typeof O.controlStyle!='undefined')O.style=O.controlStyle;M.select=new z.dialog.uiElement(J,O,P,'select',null,R,Q.join(''));return P.join('');};z.dialog.labeledElement.call(this,J,K,L,N);},file:function(J,K,L){if(arguments.length<3)return;if(K['default']===undefined)K['default']='';var M=t.extend(B.call(this,K),{definition:K,buttons:[]});if(K.validate)this.validate=K.validate;var N=function(){M.frameId=t.getNextId()+'_fileInput';var O=q.isCustomDomain(),P=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" id="',M.frameId,'" title="',K.label,'" src="javascript:void('];P.push(O?"(function(){document.open();document.domain='"+document.domain+"';"+'document.close();'+'})()':'0');P.push(')"></iframe>');return P.join('');};J.on('load',function(){var O=p.document.getById(M.frameId),P=O.getParent();P.addClass('cke_dialog_ui_input_file');});z.dialog.labeledElement.call(this,J,K,L,N);},fileButton:function(J,K,L){if(arguments.length<3)return;var M=B.call(this,K),N=this;if(K.validate)this.validate=K.validate;var O=t.extend({},K),P=O.onClick;O.className=(O.className?O.className+' ':'')+'cke_dialog_ui_button';O.onClick=function(Q){var R=K['for'];if(!P||P.call(this,Q)!==false){J.getContentElement(R[0],R[1]).submit();this.disable();}};J.on('load',function(){J.getContentElement(K['for'][0],K['for'][1])._.buttons.push(N);});z.dialog.button.call(this,J,O,L);},html:(function(){var J=/^\s*<[\w:]+\s+([^>]*)?>/,K=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,L=/\/$/;return function(M,N,O){if(arguments.length<3)return;var P=[],Q,R=N.html,S,T;if(R.charAt(0)!='<')R='<span>'+R+'</span>';var U=N.focus;if(U){var V=this.focus;this.focus=function(){V.call(this);typeof U=='function'&&U.call(this);this.fire('focus');};if(N.isFocusable){var W=this.isFocusable;this.isFocusable=W;}this.keyboardFocusable=true;}z.dialog.uiElement.call(this,M,N,P,'span',null,null,'');Q=P.join('');S=Q.match(J);T=R.match(K)||['','',''];
if(L.test(T[1])){T[1]=T[1].slice(0,-1);T[2]='/'+T[2];}O.push([T[1],' ',S[1]||'',T[2]].join(''));};})(),fieldset:function(J,K,L,M,N){var O=N.label,P=function(){var Q=[];O&&Q.push('<legend>'+O+'</legend>');for(var R=0;R<L.length;R++)Q.push(L[R]);return Q.join('');};this._={children:K};z.dialog.uiElement.call(this,J,N,M,'fieldset',null,null,P);}},true);z.dialog.html.prototype=new z.dialog.uiElement();z.dialog.labeledElement.prototype=t.extend(new z.dialog.uiElement(),{setLabel:function(J){var K=p.document.getById(this._.labelId);if(K.getChildCount()<1)new s.text(J,p.document).appendTo(K);else K.getChild(0).$.nodeValue=J;return this;},getLabel:function(){var J=p.document.getById(this._.labelId);if(!J||J.getChildCount()<1)return '';else return J.getChild(0).getText();},eventProcessors:G},true);z.dialog.button.prototype=t.extend(new z.dialog.uiElement(),{click:function(){var J=this;if(!J._.disabled)return J.fire('click',{dialog:J._.dialog});J.getElement().$.blur();return false;},enable:function(){this._.disabled=false;var J=this.getElement();J&&J.removeClass('cke_disabled');},disable:function(){this._.disabled=true;this.getElement().addClass('cke_disabled');},isVisible:function(){return this.getElement().getFirst().isVisible();},isEnabled:function(){return!this._.disabled;},eventProcessors:t.extend({},z.dialog.uiElement.prototype.eventProcessors,{onClick:function(J,K){this.on('click',K);}},true),accessKeyUp:function(){this.click();},accessKeyDown:function(){this.focus();},keyboardFocusable:true},true);z.dialog.textInput.prototype=t.extend(new z.dialog.labeledElement(),{getInputElement:function(){return p.document.getById(this._.inputId);},focus:function(){var J=this.selectParentTab();setTimeout(function(){var K=J.getInputElement();K&&K.$.focus();},0);},select:function(){var J=this.selectParentTab();setTimeout(function(){var K=J.getInputElement();if(K){K.$.focus();K.$.select();}},0);},accessKeyUp:function(){this.select();},setValue:function(J){!J&&(J='');return z.dialog.uiElement.prototype.setValue.apply(this,arguments);},keyboardFocusable:true},F,true);z.dialog.textarea.prototype=new z.dialog.textInput();z.dialog.select.prototype=t.extend(new z.dialog.labeledElement(),{getInputElement:function(){return this._.select.getElement();},add:function(J,K,L){var M=new w('option',this.getDialog().getParentEditor().document),N=this.getInputElement().$;M.$.text=J;M.$.value=K===undefined||K===null?J:K;if(L===undefined||L===null){if(r)N.add(M.$);else N.add(M.$,null);}else N.add(M.$,L);
return this;},remove:function(J){var K=this.getInputElement().$;K.remove(J);return this;},clear:function(){var J=this.getInputElement().$;while(J.length>0)J.remove(0);return this;},keyboardFocusable:true},F,true);z.dialog.checkbox.prototype=t.extend(new z.dialog.uiElement(),{getInputElement:function(){return this._.checkbox.getElement();},setValue:function(J,K){this.getInputElement().$.checked=J;!K&&this.fire('change',{value:J});},getValue:function(){return this.getInputElement().$.checked;},accessKeyUp:function(){this.setValue(!this.getValue());},eventProcessors:{onChange:function(J,K){if(!r)return G.onChange.apply(this,arguments);else{J.on('load',function(){var L=this._.checkbox.getElement();L.on('propertychange',function(M){M=M.data.$;if(M.propertyName=='checked')this.fire('change',{value:L.$.checked});},this);},this);this.on('change',K);}return null;}},keyboardFocusable:true},F,true);z.dialog.radio.prototype=t.extend(new z.dialog.uiElement(),{setValue:function(J,K){var L=this._.children,M;for(var N=0;N<L.length&&(M=L[N]);N++)M.getElement().$.checked=M.getValue()==J;!K&&this.fire('change',{value:J});},getValue:function(){var J=this._.children;for(var K=0;K<J.length;K++){if(J[K].getElement().$.checked)return J[K].getValue();}return null;},accessKeyUp:function(){var J=this._.children,K;for(K=0;K<J.length;K++){if(J[K].getElement().$.checked){J[K].getElement().focus();return;}}J[0].getElement().focus();},eventProcessors:{onChange:function(J,K){if(!r)return G.onChange.apply(this,arguments);else{J.on('load',function(){var L=this._.children,M=this;for(var N=0;N<L.length;N++){var O=L[N].getElement();O.on('propertychange',function(P){P=P.data.$;if(P.propertyName=='checked'&&this.$.checked)M.fire('change',{value:this.getAttribute('value')});});}},this);this.on('change',K);}return null;}},keyboardFocusable:true},F,true);z.dialog.file.prototype=t.extend(new z.dialog.labeledElement(),F,{getInputElement:function(){var J=p.document.getById(this._.frameId).getFrameDocument();return J.$.forms.length>0?new w(J.$.forms[0].elements[0]):this.getElement();},submit:function(){this.getInputElement().getParent().$.submit();return this;},getAction:function(){return this.getInputElement().getParent().$.action;},registerEvents:function(J){var K=/^on([A-Z]\w+)/,L,M=function(O,P,Q,R){O.on('formLoaded',function(){O.getInputElement().on(Q,R,O);});};for(var N in J){if(!(L=N.match(K)))continue;if(this.eventProcessors[N])this.eventProcessors[N].call(this,this._.dialog,J[N]);else M(this,this._.dialog,L[1].toLowerCase(),J[N]);
}return this;},reset:function(){var J=this._,K=p.document.getById(J.frameId),L=K.getFrameDocument(),M=J.definition,N=J.buttons,O=this.formLoadedNumber,P=this.formUnloadNumber,Q=J.dialog._.editor.lang.dir,R=J.dialog._.editor.langCode;if(!O){O=this.formLoadedNumber=t.addFunction(function(){this.fire('formLoaded');},this);P=this.formUnloadNumber=t.addFunction(function(){this.getInputElement().clearCustomData();},this);this.getDialog()._.editor.on('destroy',function(){t.removeFunction(O);t.removeFunction(P);});}function S(){L.$.open();if(q.isCustomDomain())L.$.domain=document.domain;var T='';if(M.size)T=M.size-(r?7:0);L.$.write(['<html dir="'+Q+'" lang="'+R+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+Q+'" lang="'+R+'" action="',t.htmlEncode(M.action),'">','<input type="file" name="',t.htmlEncode(M.id||'cke_upload'),'" size="',t.htmlEncode(T>0?T:''),'" />','</form>','</body></html>','<script>window.parent.CKEDITOR.tools.callFunction('+O+');','window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction('+P+')}</script>'].join(''));L.$.close();for(var U=0;U<N.length;U++)N[U].enable();};if(q.gecko)setTimeout(S,500);else S();},getValue:function(){return this.getInputElement().$.value||'';},setInitValue:function(){this._.initValue='';},eventProcessors:{onChange:function(J,K){if(!this._.domOnChangeRegistered){this.on('formLoaded',function(){this.getInputElement().on('change',function(){this.fire('change',{value:this.getValue()});},this);},this);this._.domOnChangeRegistered=true;}this.on('change',K);}},keyboardFocusable:true},true);z.dialog.fileButton.prototype=new z.dialog.button();z.dialog.fieldset.prototype=t.clone(z.dialog.hbox.prototype);p.dialog.addUIElement('text',C);p.dialog.addUIElement('password',C);p.dialog.addUIElement('textarea',D);p.dialog.addUIElement('checkbox',D);p.dialog.addUIElement('radio',D);p.dialog.addUIElement('button',D);p.dialog.addUIElement('select',D);p.dialog.addUIElement('file',D);p.dialog.addUIElement('fileButton',D);p.dialog.addUIElement('html',D);p.dialog.addUIElement('fieldset',E);})();y.add('panel',{beforeInit:function(B){B.ui.addHandler(2,z.panel.handler);}});p.UI_PANEL=2;z.panel=function(B,C){var D=this;if(C)t.extend(D,C);t.extend(D,{className:'',css:[]});D.id=t.getNextId();D.document=B;D._={blocks:{}};};z.panel.handler={create:function(B){return new z.panel(B);}};z.panel.prototype={renderHtml:function(B){var C=[];
this.render(B,C);return C.join('');},render:function(B,C){var E=this;var D=E.id;C.push('<div class="',B.skinClass,'" lang="',B.langCode,'" role="presentation" style="display:none;z-index:'+(B.config.baseFloatZIndex+1)+'">'+'<div'+' id=',D,' dir=',B.lang.dir,' role="presentation" class="cke_panel cke_',B.lang.dir);if(E.className)C.push(' ',E.className);C.push('">');if(E.forceIFrame||E.css.length){C.push('<iframe id="',D,'_frame" frameborder="0" role="application" src="javascript:void(');C.push(q.isCustomDomain()?"(function(){document.open();document.domain='"+document.domain+"';"+'document.close();'+'})()':'0');C.push(')"></iframe>');}C.push('</div></div>');return D;},getHolderElement:function(){var B=this._.holder;if(!B){if(this.forceIFrame||this.css.length){var C=this.document.getById(this.id+'_frame'),D=C.getParent(),E=D.getAttribute('dir'),F=D.getParent().getAttribute('class'),G=D.getParent().getAttribute('lang'),H=C.getFrameDocument(),I=t.addFunction(t.bind(function(L){this.isLoaded=true;if(this.onLoad)this.onLoad();},this)),J='<!DOCTYPE html><html dir="'+E+'" class="'+F+'_container" lang="'+G+'">'+'<head>'+'<style>.'+F+'_container{visibility:hidden}</style>'+'</head>'+'<body class="cke_'+E+' cke_panel_frame '+q.cssClass+'" style="margin:0;padding:0"'+' onload="( window.CKEDITOR || window.parent.CKEDITOR ).tools.callFunction('+I+');"></body>'+t.buildStyleHtml(this.css)+'</html>';H.write(J);var K=H.getWindow();K.$.CKEDITOR=p;H.on('key'+(q.opera?'press':'down'),function(L){var O=this;var M=L.data.getKeystroke(),N=O.document.getById(O.id).getAttribute('dir');if(O._.onKeyDown&&O._.onKeyDown(M)===false){L.data.preventDefault();return;}if(M==27||M==(N=='rtl'?39:37))if(O.onEscape&&O.onEscape(M)===false)L.data.preventDefault();},this);B=H.getBody();B.unselectable();q.air&&t.callFunction(I);}else B=this.document.getById(this.id);this._.holder=B;}return B;},addBlock:function(B,C){var D=this;C=D._.blocks[B]=C instanceof z.panel.block?C:new z.panel.block(D.getHolderElement(),C);if(!D._.currentBlock)D.showBlock(B);return C;},getBlock:function(B){return this._.blocks[B];},showBlock:function(B){var C=this._.blocks,D=C[B],E=this._.currentBlock,F=this.forceIFrame?this.document.getById(this.id+'_frame'):this._.holder;F.getParent().getParent().disableContextMenu();if(E){F.removeAttributes(E.attributes);E.hide();}this._.currentBlock=D;F.setAttributes(D.attributes);p.fire('ariaWidget',F);D._.focusIndex=-1;this._.onKeyDown=D.onKeyDown&&t.bind(D.onKeyDown,D);D.onMark=function(G){F.setAttribute('aria-activedescendant',G.getId()+'_option');
};D.onUnmark=function(){F.removeAttribute('aria-activedescendant');};D.show();return D;},destroy:function(){this.element&&this.element.remove();}};z.panel.block=t.createClass({$:function(B,C){var D=this;D.element=B.append(B.getDocument().createElement('div',{attributes:{tabIndex:-1,'class':'cke_panel_block',role:'presentation'},styles:{display:'none'}}));if(C)t.extend(D,C);if(!D.attributes.title)D.attributes.title=D.attributes['aria-label'];D.keys={};D._.focusIndex=-1;D.element.disableContextMenu();},_:{markItem:function(B){var E=this;if(B==-1)return;var C=E.element.getElementsByTag('a'),D=C.getItem(E._.focusIndex=B);if(q.webkit||q.opera)D.getDocument().getWindow().focus();D.focus();E.onMark&&E.onMark(D);}},proto:{show:function(){this.element.setStyle('display','');},hide:function(){var B=this;if(!B.onHide||B.onHide.call(B)!==true)B.element.setStyle('display','none');},onKeyDown:function(B){var G=this;var C=G.keys[B];switch(C){case 'next':var D=G._.focusIndex,E=G.element.getElementsByTag('a'),F;while(F=E.getItem(++D)){if(F.getAttribute('_cke_focus')&&F.$.offsetWidth){G._.focusIndex=D;F.focus();break;}}return false;case 'prev':D=G._.focusIndex;E=G.element.getElementsByTag('a');while(D>0&&(F=E.getItem(--D))){if(F.getAttribute('_cke_focus')&&F.$.offsetWidth){G._.focusIndex=D;F.focus();break;}}return false;case 'click':D=G._.focusIndex;F=D>=0&&G.element.getElementsByTag('a').getItem(D);if(F)F.$.click?F.$.click():F.$.onclick();return false;}return true;}}});y.add('listblock',{requires:['panel'],onLoad:function(){z.panel.prototype.addListBlock=function(B,C){return this.addBlock(B,new z.listBlock(this.getHolderElement(),C));};z.listBlock=t.createClass({base:z.panel.block,$:function(B,C){var F=this;C=C||{};var D=C.attributes||(C.attributes={});(F.multiSelect=!!C.multiSelect)&&(D['aria-multiselectable']=true);!D.role&&(D.role='listbox');F.base.apply(F,arguments);var E=F.keys;E[40]='next';E[9]='next';E[38]='prev';E[2000+9]='prev';E[32]='click';F._.pendingHtml=[];F._.items={};F._.groups={};},_:{close:function(){if(this._.started){this._.pendingHtml.push('</ul>');delete this._.started;}},getClick:function(){if(!this._.click)this._.click=t.addFunction(function(B){var D=this;var C=true;if(D.multiSelect)C=D.toggle(B);else D.mark(B);if(D.onClick)D.onClick(B,C);},this);return this._.click;}},proto:{add:function(B,C,D){var G=this;var E=G._.pendingHtml,F=t.getNextId();if(!G._.started){E.push('<ul role="presentation" class=cke_panel_list>');G._.started=1;G._.size=G._.size||0;}G._.items[B]=F;
E.push('<li id=',F,' class=cke_panel_listItem role=presentation><a id="',F,'_option" _cke_focus=1 hidefocus=true title="',D||B,'" href="javascript:void(\'',B,'\')" onclick="CKEDITOR.tools.callFunction(',G._.getClick(),",'",B,"'); return false;\"",' role="option" aria-posinset="'+ ++G._.size+'">',C||B,'</a></li>');},startGroup:function(B){this._.close();var C=t.getNextId();this._.groups[B]=C;this._.pendingHtml.push('<h1 role="presentation" id=',C,' class=cke_panel_grouptitle>',B,'</h1>');},commit:function(){var E=this;E._.close();E.element.appendHtml(E._.pendingHtml.join(''));var B=E._.items,C=E.element.getDocument();for(var D in B)C.getById(B[D]+'_option').setAttribute('aria-setsize',E._.size);delete E._.size;E._.pendingHtml=[];},toggle:function(B){var C=this.isMarked(B);if(C)this.unmark(B);else this.mark(B);return!C;},hideGroup:function(B){var C=this.element.getDocument().getById(this._.groups[B]),D=C&&C.getNext();if(C){C.setStyle('display','none');if(D&&D.getName()=='ul')D.setStyle('display','none');}},hideItem:function(B){this.element.getDocument().getById(this._.items[B]).setStyle('display','none');},showAll:function(){var B=this._.items,C=this._.groups,D=this.element.getDocument();for(var E in B)D.getById(B[E]).setStyle('display','');for(var F in C){var G=D.getById(C[F]),H=G.getNext();G.setStyle('display','');if(H&&H.getName()=='ul')H.setStyle('display','');}},mark:function(B){var E=this;if(!E.multiSelect)E.unmarkAll();var C=E._.items[B],D=E.element.getDocument().getById(C);D.addClass('cke_selected');E.element.getDocument().getById(C+'_option').setAttribute('aria-selected',true);E.element.setAttribute('aria-activedescendant',C+'_option');E.onMark&&E.onMark(D);},unmark:function(B){var C=this;C.element.getDocument().getById(C._.items[B]).removeClass('cke_selected');C.onUnmark&&C.onUnmark(C._.items[B]);},unmarkAll:function(){var E=this;var B=E._.items,C=E.element.getDocument();for(var D in B)C.getById(B[D]).removeClass('cke_selected');E.onUnmark&&E.onUnmark();},isMarked:function(B){return this.element.getDocument().getById(this._.items[B]).hasClass('cke_selected');},focus:function(B){this._.focusIndex=-1;if(B){var C=this.element.getDocument().getById(this._.items[B]).getFirst(),D=this.element.getElementsByTag('a'),E,F=-1;while(E=D.getItem(++F)){if(E.equals(C)){this._.focusIndex=F;break;}}setTimeout(function(){C.focus();},0);}}}});}});p.themes.add('default',(function(){function B(C,D){var E,F;F=C.config.sharedSpaces;F=F&&F[D];F=F&&p.document.getById(F);if(F){var G='<span class="cke_shared " dir="'+C.lang.dir+'"'+'>'+'<span class="'+C.skinClass+' '+C.id+' cke_editor_'+C.name+'">'+'<span class="'+q.cssClass+'">'+'<span class="cke_wrapper cke_'+C.lang.dir+'">'+'<span class="cke_editor">'+'<div class="cke_'+D+'">'+'</div></span></span></span></span></span>',H=F.append(w.createFromHtml(G,F.getDocument()));
if(F.getCustomData('cke_hasshared'))H.hide();else F.setCustomData('cke_hasshared',1);E=H.getChild([0,0,0,0]);!C.sharedSpaces&&(C.sharedSpaces={});C.sharedSpaces[D]=E;C.on('focus',function(){for(var I=0,J,K=F.getChildren();J=K.getItem(I);I++){if(J.type==1&&!J.equals(H)&&J.hasClass('cke_shared'))J.hide();}H.show();});C.on('destroy',function(){H.remove();});}return E;};return{build:function(C,D){var E=C.name,F=C.element,G=C.elementMode;if(!F||G==0)return;if(G==1)F.hide();var H=C.fire('themeSpace',{space:'top',html:''}).html,I=C.fire('themeSpace',{space:'contents',html:''}).html,J=C.fireOnce('themeSpace',{space:'bottom',html:''}).html,K=I&&C.config.height,L=C.config.tabIndex||C.element.getAttribute('tabindex')||0;if(!I)K='auto';else if(!isNaN(K))K+='px';var M='',N=C.config.width;if(N){if(!isNaN(N))N+='px';M+='width: '+N+';';}var O=H&&B(C,'top'),P=B(C,'bottom');O&&(O.setHtml(H),H='');P&&(P.setHtml(J),J='');var Q=w.createFromHtml(['<span id="cke_',E,'" class="',C.skinClass,' ',C.id,' cke_editor_',E,'" dir="',C.lang.dir,'" title="',q.gecko?' ':'','" lang="',C.langCode,'"'+(q.webkit?' tabindex="'+L+'"':'')+' role="application"'+' aria-labelledby="cke_',E,'_arialbl"'+(M?' style="'+M+'"':'')+'>'+'<span id="cke_',E,'_arialbl" class="cke_voice_label">'+C.lang.editor+'</span>'+'<span class="',q.cssClass,'" role="presentation"><span class="cke_wrapper cke_',C.lang.dir,'" role="presentation"><table class="cke_editor" border="0" cellspacing="0" cellpadding="0" role="presentation"><tbody><tr',H?'':' style="display:none"',' role="presentation"><td id="cke_top_',E,'" class="cke_top" role="presentation">',H,'</td></tr><tr',I?'':' style="display:none"',' role="presentation"><td id="cke_contents_',E,'" class="cke_contents" style="height:',K,'" role="presentation">',I,'</td></tr><tr',J?'':' style="display:none"',' role="presentation"><td id="cke_bottom_',E,'" class="cke_bottom" role="presentation">',J,'</td></tr></tbody></table><style>.',C.skinClass,'{visibility:hidden;}</style></span></span></span>'].join(''));Q.getChild([1,0,0,0,0]).unselectable();Q.getChild([1,0,0,0,2]).unselectable();if(G==1)Q.insertAfter(F);else F.append(Q);C.container=Q;Q.disableContextMenu();C.fireOnce('themeLoaded');C.fireOnce('uiReady');},buildDialog:function(C){var D=t.getNextNumber(),E=w.createFromHtml(['<div class="',C.id,'_dialog cke_editor_',C.name.replace('.','\\.'),'_dialog cke_skin_',C.skinName,'" dir="',C.lang.dir,'" lang="',C.langCode,'" role="dialog" aria-labelledby="%title#"><table class="cke_dialog',' '+q.cssClass,' cke_',C.lang.dir,'" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="%body" role="presentation"><div id="%title#" class="%title" role="presentation"></div><a id="%close_button#" class="%close_button" href="javascript:void(0)" title="'+C.lang.common.close+'" role="button"><span class="cke_label">X</span></a>'+'<div id="%tabs#" class="%tabs" role="tablist"></div>'+'<table class="%contents" role="presentation">'+'<tr>'+'<td id="%contents#" class="%contents" role="presentation"></td>'+'</tr>'+'<tr>'+'<td id="%footer#" class="%footer" role="presentation"></td>'+'</tr>'+'</table>'+'</div>'+'<div id="%tl#" class="%tl"></div>'+'<div id="%tc#" class="%tc"></div>'+'<div id="%tr#" class="%tr"></div>'+'<div id="%ml#" class="%ml"></div>'+'<div id="%mr#" class="%mr"></div>'+'<div id="%bl#" class="%bl"></div>'+'<div id="%bc#" class="%bc"></div>'+'<div id="%br#" class="%br"></div>'+'</td></tr>'+'</table>',r?'':'<style>.cke_dialog{visibility:hidden;}</style>','</div>'].join('').replace(/#/g,'_'+D).replace(/%/g,'cke_dialog_')),F=E.getChild([0,0,0,0,0]),G=F.getChild(0),H=F.getChild(1);
G.unselectable();H.unselectable();return{element:E,parts:{dialog:E.getChild(0),title:G,close:H,tabs:F.getChild(2),contents:F.getChild([3,0,0,0]),footer:F.getChild([3,0,1,0])}};},destroy:function(C){var D=C.container,E=C.element;if(D){D.clearCustomData();D.remove();}if(E){E.clearCustomData();C.elementMode==1&&E.show();delete C.element;}}};})());p.editor.prototype.getThemeSpace=function(B){var C='cke_'+B,D=this._[C]||(this._[C]=p.document.getById(C+'_'+this.name));return D;};p.editor.prototype.resize=function(B,C,D,E){var F=this.container,G=p.document.getById('cke_contents_'+this.name),H=E?F.getChild(1):F;q.webkit&&H.setStyle('display','none');H.setSize('width',B,true);if(q.webkit){H.$.offsetWidth;H.setStyle('display','');}var I=D?0:(H.$.offsetHeight||0)-(G.$.clientHeight||0);G.setStyle('height',Math.max(C-I,0)+'px');this.fire('resize');};p.editor.prototype.getResizable=function(){return this.container;};})();
