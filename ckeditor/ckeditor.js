/*
Copyright (c) 2003-2011, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/

(function(){if(!window.CKEDITOR)window.CKEDITOR=(function(){var m={timestamp:'B0VI4XQ',version:'3.5.1',revision:'6398',_:{},status:'unloaded',basePath:(function(){var p=window.CKEDITOR_BASEPATH||'';if(!p){var q=document.getElementsByTagName('script');for(var r=0;r<q.length;r++){var s=q[r].src.match(/(^|.*[\\\/])ckeditor(?:_basic)?(?:_source)?.js(?:\?.*)?$/i);if(s){p=s[1];break;}}}if(p.indexOf(':/')==-1)if(p.indexOf('/')===0)p=location.href.match(/^.*?:\/\/[^\/]*/)[0]+p;else p=location.href.match(/^[^\?]*\/(?:)/)[0]+p;if(!p)throw 'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return p;})(),getUrl:function(p){if(p.indexOf(':/')==-1&&p.indexOf('/')!==0)p=this.basePath+p;if(this.timestamp&&p.charAt(p.length-1)!='/'&&!/[&?]t=/.test(p))p+=(p.indexOf('?')>=0?'&':'?')+'t='+this.timestamp;return p;}},n=window.CKEDITOR_GETURL;if(n){var o=m.getUrl;m.getUrl=function(p){return n.call(m,p)||o.call(m,p);};}return m;})();var m=CKEDITOR;if(!m.event){m.event=function(){};m.event.implementOn=function(n){var o=m.event.prototype;for(var p in o){if(n[p]==undefined)n[p]=o[p];}};m.event.prototype=(function(){var n=function(p){var q=p.getPrivate&&p.getPrivate()||p._||(p._={});return q.events||(q.events={});},o=function(p){this.name=p;this.listeners=[];};o.prototype={getListenerIndex:function(p){for(var q=0,r=this.listeners;q<r.length;q++){if(r[q].fn==p)return q;}return-1;}};return{on:function(p,q,r,s,t){var u=n(this),v=u[p]||(u[p]=new o(p));if(v.getListenerIndex(q)<0){var w=v.listeners;if(!r)r=this;if(isNaN(t))t=10;var x=this,y=function(A,B,C,D){var E={name:p,sender:this,editor:A,data:B,listenerData:s,stop:C,cancel:D,removeListener:function(){x.removeListener(p,q);}};q.call(r,E);return E.data;};y.fn=q;y.priority=t;for(var z=w.length-1;z>=0;z--){if(w[z].priority<=t){w.splice(z+1,0,y);return;}}w.unshift(y);}},fire:(function(){var p=false,q=function(){p=true;},r=false,s=function(){r=true;};return function(t,u,v){var w=n(this)[t],x=p,y=r;p=r=false;if(w){var z=w.listeners;if(z.length){z=z.slice(0);for(var A=0;A<z.length;A++){var B=z[A].call(this,v,u,q,s);if(typeof B!='undefined')u=B;if(p||r)break;}}}var C=r||(typeof u=='undefined'?false:u);p=x;r=y;return C;};})(),fireOnce:function(p,q,r){var s=this.fire(p,q,r);delete n(this)[p];return s;},removeListener:function(p,q){var r=n(this)[p];if(r){var s=r.getListenerIndex(q);if(s>=0)r.listeners.splice(s,1);}},hasListeners:function(p){var q=n(this)[p];
return q&&q.listeners.length>0;}};})();}if(!m.editor){m.ELEMENT_MODE_NONE=0;m.ELEMENT_MODE_REPLACE=1;m.ELEMENT_MODE_APPENDTO=2;m.editor=function(n,o,p,q){var r=this;r._={instanceConfig:n,element:o,data:q};r.elementMode=p||0;m.event.call(r);r._init();};m.editor.replace=function(n,o){var p=n;if(typeof p!='object'){p=document.getElementById(n);if(p&&p.tagName.toLowerCase() in {style:1,script:1,base:1,link:1,meta:1,title:1})p=null;if(!p){var q=0,r=document.getElementsByName(n);while((p=r[q++])&&p.tagName.toLowerCase()!='textarea'){}}if(!p)throw '[CKEDITOR.editor.replace] The element with id or name "'+n+'" was not found.';}p.style.visibility='hidden';return new m.editor(o,p,1);};m.editor.appendTo=function(n,o,p){var q=n;if(typeof q!='object'){q=document.getElementById(n);if(!q)throw '[CKEDITOR.editor.appendTo] The element with id "'+n+'" was not found.';}return new m.editor(o,q,2,p);};m.editor.prototype={_init:function(){var n=m.editor._pending||(m.editor._pending=[]);n.push(this);},fire:function(n,o){return m.event.prototype.fire.call(this,n,o,this);},fireOnce:function(n,o){return m.event.prototype.fireOnce.call(this,n,o,this);}};m.event.implementOn(m.editor.prototype,true);}if(!m.env)m.env=(function(){var n=navigator.userAgent.toLowerCase(),o=window.opera,p={ie:/*@cc_on!@*/false,opera:!!o&&o.version,webkit:n.indexOf(' applewebkit/')>-1,air:n.indexOf(' adobeair/')>-1,mac:n.indexOf('macintosh')>-1,quirks:document.compatMode=='BackCompat',mobile:n.indexOf('mobile')>-1,isCustomDomain:function(){if(!this.ie)return false;var s=document.domain,t=window.location.hostname;return s!=t&&s!='['+t+']';}};p.gecko=navigator.product=='Gecko'&&!p.webkit&&!p.opera;var q=0;if(p.ie){q=parseFloat(n.match(/msie (\d+)/)[1]);p.ie8=!!document.documentMode;p.ie8Compat=document.documentMode==8;p.ie7Compat=q==7&&!document.documentMode||document.documentMode==7;p.ie6Compat=q<7||p.quirks;}if(p.gecko){var r=n.match(/rv:([\d\.]+)/);if(r){r=r[1].split('.');q=r[0]*10000+(r[1]||0)*100+ +(r[2]||0);}}if(p.opera)q=parseFloat(o.version());if(p.air)q=parseFloat(n.match(/ adobeair\/(\d+)/)[1]);if(p.webkit)q=parseFloat(n.match(/ applewebkit\/(\d+)/)[1]);p.version=q;p.isCompatible=!p.mobile&&(p.ie&&q>=6||p.gecko&&q>=10801||p.opera&&q>=9.5||p.air&&q>=1||p.webkit&&q>=522||false);p.cssClass='cke_browser_'+(p.ie?'ie':p.gecko?'gecko':p.opera?'opera':p.webkit?'webkit':'unknown');if(p.quirks)p.cssClass+=' cke_browser_quirks';if(p.ie){p.cssClass+=' cke_browser_ie'+(p.version<7?'6':p.version>=8?document.documentMode:'7');
if(p.quirks)p.cssClass+=' cke_browser_iequirks';}if(p.gecko&&q<10900)p.cssClass+=' cke_browser_gecko18';if(p.air)p.cssClass+=' cke_browser_air';return p;})();var n=m.env;var o=n.ie;if(m.status=='unloaded')(function(){m.event.implementOn(m);m.loadFullCore=function(){if(m.status!='basic_ready'){m.loadFullCore._load=1;return;}delete m.loadFullCore;var q=document.createElement('script');q.type='text/javascript';q.src=m.basePath+'ckeditor.js';document.getElementsByTagName('head')[0].appendChild(q);};m.loadFullCoreTimeout=0;m.replaceClass='ckeditor';m.replaceByClassEnabled=1;var p=function(q,r,s,t){if(n.isCompatible){if(m.loadFullCore)m.loadFullCore();var u=s(q,r,t);m.add(u);return u;}return null;};m.replace=function(q,r){return p(q,r,m.editor.replace);};m.appendTo=function(q,r,s){return p(q,r,m.editor.appendTo,s);};m.add=function(q){var r=this._.pending||(this._.pending=[]);r.push(q);};m.replaceAll=function(){var q=document.getElementsByTagName('textarea');for(var r=0;r<q.length;r++){var s=null,t=q[r],u=t.name;if(!t.name&&!t.id)continue;if(typeof arguments[0]=='string'){var v=new RegExp('(?:^|\\s)'+arguments[0]+'(?:$|\\s)');if(!v.test(t.className))continue;}else if(typeof arguments[0]=='function'){s={};if(arguments[0](t,s)===false)continue;}this.replace(t,s);}};(function(){var q=function(){var r=m.loadFullCore,s=m.loadFullCoreTimeout;if(m.replaceByClassEnabled)m.replaceAll(m.replaceClass);m.status='basic_ready';if(r&&r._load)r();else if(s)setTimeout(function(){if(m.loadFullCore)m.loadFullCore();},s*1000);};if(window.addEventListener)window.addEventListener('load',q,false);else if(window.attachEvent)window.attachEvent('onload',q);})();m.status='basic_loaded';})();m.dom={};var p=m.dom;(function(){var q=[];m.on('reset',function(){q=[];});m.tools={arrayCompare:function(r,s){if(!r&&!s)return true;if(!r||!s||r.length!=s.length)return false;for(var t=0;t<r.length;t++){if(r[t]!=s[t])return false;}return true;},clone:function(r){var s;if(r&&r instanceof Array){s=[];for(var t=0;t<r.length;t++)s[t]=this.clone(r[t]);return s;}if(r===null||typeof r!='object'||r instanceof String||r instanceof Number||r instanceof Boolean||r instanceof Date||r instanceof RegExp)return r;s=new r.constructor();for(var u in r){var v=r[u];s[u]=this.clone(v);}return s;},capitalize:function(r){return r.charAt(0).toUpperCase()+r.substring(1).toLowerCase();},extend:function(r){var s=arguments.length,t,u;if(typeof (t=arguments[s-1])=='boolean')s--;else if(typeof (t=arguments[s-2])=='boolean'){u=arguments[s-1];
s-=2;}for(var v=1;v<s;v++){var w=arguments[v];for(var x in w){if(t===true||r[x]==undefined)if(!u||x in u)r[x]=w[x];}}return r;},prototypedCopy:function(r){var s=function(){};s.prototype=r;return new s();},isArray:function(r){return!!r&&r instanceof Array;},isEmpty:function(r){for(var s in r){if(r.hasOwnProperty(s))return false;}return true;},cssStyleToDomStyle:(function(){var r=document.createElement('div').style,s=typeof r.cssFloat!='undefined'?'cssFloat':typeof r.styleFloat!='undefined'?'styleFloat':'float';return function(t){if(t=='float')return s;else return t.replace(/-./g,function(u){return u.substr(1).toUpperCase();});};})(),buildStyleHtml:function(r){r=[].concat(r);var s,t=[];for(var u=0;u<r.length;u++){s=r[u];if(/@import|[{}]/.test(s))t.push('<style>'+s+'</style>');else t.push('<link type="text/css" rel=stylesheet href="'+s+'">');}return t.join('');},htmlEncode:function(r){var s=function(w){var x=new p.element('span');x.setText(w);return x.getHtml();},t=s('\n').toLowerCase()=='<br>'?function(w){return s(w).replace(/<br>/gi,'\n');}:s,u=s('>')=='>'?function(w){return t(w).replace(/>/g,'&gt;');}:t,v=s('  ')=='&nbsp; '?function(w){return u(w).replace(/&nbsp;/g,' ');}:u;this.htmlEncode=v;return this.htmlEncode(r);},htmlEncodeAttr:function(r){return r.replace(/"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;');},getNextNumber:(function(){var r=0;return function(){return++r;};})(),getNextId:function(){return 'cke_'+this.getNextNumber();},override:function(r,s){return s(r);},setTimeout:function(r,s,t,u,v){if(!v)v=window;if(!t)t=v;return v.setTimeout(function(){if(u)r.apply(t,[].concat(u));else r.apply(t);},s||0);},trim:(function(){var r=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(s){return s.replace(r,'');};})(),ltrim:(function(){var r=/^[ \t\n\r]+/g;return function(s){return s.replace(r,'');};})(),rtrim:(function(){var r=/[ \t\n\r]+$/g;return function(s){return s.replace(r,'');};})(),indexOf:Array.prototype.indexOf?function(r,s){return r.indexOf(s);}:function(r,s){for(var t=0,u=r.length;t<u;t++){if(r[t]===s)return t;}return-1;},bind:function(r,s){return function(){return r.apply(s,arguments);};},createClass:function(r){var s=r.$,t=r.base,u=r.privates||r._,v=r.proto,w=r.statics;if(u){var x=s;s=function(){var B=this;var y=B._||(B._={});for(var z in u){var A=u[z];y[z]=typeof A=='function'?m.tools.bind(A,B):A;}x.apply(B,arguments);};}if(t){s.prototype=this.prototypedCopy(t.prototype);s.prototype['constructor']=s;s.prototype.base=function(){this.base=t.prototype.base;
t.apply(this,arguments);this.base=arguments.callee;};}if(v)this.extend(s.prototype,v,true);if(w)this.extend(s,w,true);return s;},addFunction:function(r,s){return q.push(function(){return r.apply(s||this,arguments);})-1;},removeFunction:function(r){q[r]=null;},callFunction:function(r){var s=q[r];return s&&s.apply(window,Array.prototype.slice.call(arguments,1));},cssLength:(function(){var r=/^\d+(?:\.\d+)?$/;return function(s){return s+(r.test(s)?'px':'');};})(),repeat:function(r,s){return new Array(s+1).join(r);},tryThese:function(){var r;for(var s=0,t=arguments.length;s<t;s++){var u=arguments[s];try{r=u();break;}catch(v){}}return r;},genKey:function(){return Array.prototype.slice.call(arguments).join('-');}};})();var q=m.tools;m.dtd=(function(){var r=q.extend,s={isindex:1,fieldset:1},t={input:1,button:1,select:1,textarea:1,label:1},u=r({a:1},t),v=r({iframe:1},u),w={hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1},x={ins:1,del:1,script:1,style:1},y=r({b:1,acronym:1,bdo:1,'var':1,'#':1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1},x),z=r({sub:1,img:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1},y),A=r({p:1},z),B=r({iframe:1},z,t),C={img:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,'#':1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,'var':1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1},D=r({a:1},B),E={tr:1},F={'#':1},G=r({param:1},C),H=r({form:1},s,v,w,A),I={li:1},J={style:1,script:1},K={base:1,link:1,meta:1,title:1},L=r(K,J),M={head:1,body:1},N={html:1},O={address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1};return{$nonBodyContent:r(N,M,K),$block:O,$blockLimit:{body:1,div:1,td:1,th:1,caption:1,form:1},$inline:D,$body:r({script:1,style:1},O),$cdata:{script:1,style:1},$empty:{area:1,base:1,br:1,col:1,hr:1,img:1,input:1,link:1,meta:1,param:1},$listItem:{dd:1,dt:1,li:1},$list:{ul:1,ol:1,dl:1},$nonEditable:{applet:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,script:1,textarea:1,param:1},$removeEmpty:{abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,'var':1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},html:M,head:L,style:F,script:F,body:H,base:{},link:{},meta:{},title:F,col:{},tr:{td:1,th:1},img:{},colgroup:{col:1},noscript:H,td:H,br:{},th:H,center:H,kbd:D,button:r(A,w),basefont:{},h5:D,h4:D,samp:D,h6:D,ol:I,h1:D,h3:D,option:F,h2:D,form:r(s,v,w,A),select:{optgroup:1,option:1},font:D,ins:D,menu:I,abbr:D,label:D,table:{thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1},code:D,script:F,tfoot:E,cite:D,li:H,input:{},iframe:H,strong:D,textarea:F,noframes:H,big:D,small:D,span:D,hr:{},dt:D,sub:D,optgroup:{option:1},param:{},bdo:D,'var':D,div:H,object:G,sup:D,dd:H,strike:D,area:{},dir:I,map:r({area:1,form:1,p:1},s,x,w),applet:G,dl:{dt:1,dd:1},del:D,isindex:{},fieldset:r({legend:1},C),thead:E,ul:I,acronym:D,b:D,a:B,blockquote:H,caption:D,i:D,u:D,tbody:E,s:D,address:r(v,A),tt:D,legend:D,q:D,pre:r(y,u),p:D,em:D,dfn:D};
})();var r=m.dtd;p.event=function(s){this.$=s;};p.event.prototype={getKey:function(){return this.$.keyCode||this.$.which;},getKeystroke:function(){var t=this;var s=t.getKey();if(t.$.ctrlKey||t.$.metaKey)s+=1000;if(t.$.shiftKey)s+=2000;if(t.$.altKey)s+=4000;return s;},preventDefault:function(s){var t=this.$;if(t.preventDefault)t.preventDefault();else t.returnValue=false;if(s)this.stopPropagation();},stopPropagation:function(){var s=this.$;if(s.stopPropagation)s.stopPropagation();else s.cancelBubble=true;},getTarget:function(){var s=this.$.target||this.$.srcElement;return s?new p.node(s):null;}};m.CTRL=1000;m.SHIFT=2000;m.ALT=4000;p.domObject=function(s){if(s)this.$=s;};p.domObject.prototype=(function(){var s=function(t,u){return function(v){if(typeof m!='undefined')t.fire(u,new p.event(v));};};return{getPrivate:function(){var t;if(!(t=this.getCustomData('_')))this.setCustomData('_',t={});return t;},on:function(t){var w=this;var u=w.getCustomData('_cke_nativeListeners');if(!u){u={};w.setCustomData('_cke_nativeListeners',u);}if(!u[t]){var v=u[t]=s(w,t);if(w.$.attachEvent)w.$.attachEvent('on'+t,v);else if(w.$.addEventListener)w.$.addEventListener(t,v,!!m.event.useCapture);}return m.event.prototype.on.apply(w,arguments);},removeListener:function(t){var w=this;m.event.prototype.removeListener.apply(w,arguments);if(!w.hasListeners(t)){var u=w.getCustomData('_cke_nativeListeners'),v=u&&u[t];if(v){if(w.$.detachEvent)w.$.detachEvent('on'+t,v);else if(w.$.removeEventListener)w.$.removeEventListener(t,v,false);delete u[t];}}},removeAllListeners:function(){var w=this;var t=w.getCustomData('_cke_nativeListeners');for(var u in t){var v=t[u];if(w.$.detachEvent)w.$.detachEvent('on'+u,v);else if(w.$.removeEventListener)w.$.removeEventListener(u,v,false);delete t[u];}}};})();(function(s){var t={};m.on('reset',function(){t={};});s.equals=function(u){return u&&u.$===this.$;};s.setCustomData=function(u,v){var w=this.getUniqueId(),x=t[w]||(t[w]={});x[u]=v;return this;};s.getCustomData=function(u){var v=this.$['data-cke-expando'],w=v&&t[v];return w&&w[u];};s.removeCustomData=function(u){var v=this.$['data-cke-expando'],w=v&&t[v],x=w&&w[u];if(typeof x!='undefined')delete w[u];return x||null;};s.clearCustomData=function(){this.removeAllListeners();var u=this.$['data-cke-expando'];u&&delete t[u];};s.getUniqueId=function(){return this.$['data-cke-expando']||(this.$['data-cke-expando']=q.getNextNumber());};m.event.implementOn(s);})(p.domObject.prototype);p.window=function(s){p.domObject.call(this,s);
};p.window.prototype=new p.domObject();q.extend(p.window.prototype,{focus:function(){if(n.webkit&&this.$.parent)this.$.parent.focus();this.$.focus();},getViewPaneSize:function(){var s=this.$.document,t=s.compatMode=='CSS1Compat';return{width:(t?s.documentElement.clientWidth:s.body.clientWidth)||0,height:(t?s.documentElement.clientHeight:s.body.clientHeight)||0};},getScrollPosition:function(){var s=this.$;if('pageXOffset' in s)return{x:s.pageXOffset||0,y:s.pageYOffset||0};else{var t=s.document;return{x:t.documentElement.scrollLeft||t.body.scrollLeft||0,y:t.documentElement.scrollTop||t.body.scrollTop||0};}}});p.document=function(s){p.domObject.call(this,s);};var s=p.document;s.prototype=new p.domObject();q.extend(s.prototype,{appendStyleSheet:function(t){if(this.$.createStyleSheet)this.$.createStyleSheet(t);else{var u=new p.element('link');u.setAttributes({rel:'stylesheet',type:'text/css',href:t});this.getHead().append(u);}},appendStyleText:function(t){var w=this;if(w.$.createStyleSheet){var u=w.$.createStyleSheet('');u.cssText=t;}else{var v=new p.element('style',w);v.append(new p.text(t,w));w.getHead().append(v);}},createElement:function(t,u){var v=new p.element(t,this);if(u){if(u.attributes)v.setAttributes(u.attributes);if(u.styles)v.setStyles(u.styles);}return v;},createText:function(t){return new p.text(t,this);},focus:function(){this.getWindow().focus();},getById:function(t){var u=this.$.getElementById(t);return u?new p.element(u):null;},getByAddress:function(t,u){var v=this.$.documentElement;for(var w=0;v&&w<t.length;w++){var x=t[w];if(!u){v=v.childNodes[x];continue;}var y=-1;for(var z=0;z<v.childNodes.length;z++){var A=v.childNodes[z];if(u===true&&A.nodeType==3&&A.previousSibling&&A.previousSibling.nodeType==3)continue;y++;if(y==x){v=A;break;}}}return v?new p.node(v):null;},getElementsByTag:function(t,u){if(!(o&&!(document.documentMode>8))&&u)t=u+':'+t;return new p.nodeList(this.$.getElementsByTagName(t));},getHead:function(){var t=this.$.getElementsByTagName('head')[0];if(!t)t=this.getDocumentElement().append(new p.element('head'),true);else t=new p.element(t);return(this.getHead=function(){return t;})();},getBody:function(){var t=new p.element(this.$.body);return(this.getBody=function(){return t;})();},getDocumentElement:function(){var t=new p.element(this.$.documentElement);return(this.getDocumentElement=function(){return t;})();},getWindow:function(){var t=new p.window(this.$.parentWindow||this.$.defaultView);return(this.getWindow=function(){return t;
})();},write:function(t){var u=this;u.$.open('text/html','replace');n.isCustomDomain()&&(u.$.domain=document.domain);u.$.write(t);u.$.close();}});p.node=function(t){if(t){switch(t.nodeType){case 9:return new s(t);case 1:return new p.element(t);case 3:return new p.text(t);}p.domObject.call(this,t);}return this;};p.node.prototype=new p.domObject();m.NODE_ELEMENT=1;m.NODE_DOCUMENT=9;m.NODE_TEXT=3;m.NODE_COMMENT=8;m.NODE_DOCUMENT_FRAGMENT=11;m.POSITION_IDENTICAL=0;m.POSITION_DISCONNECTED=1;m.POSITION_FOLLOWING=2;m.POSITION_PRECEDING=4;m.POSITION_IS_CONTAINED=8;m.POSITION_CONTAINS=16;q.extend(p.node.prototype,{appendTo:function(t,u){t.append(this,u);return t;},clone:function(t,u){var v=this.$.cloneNode(t),w=function(x){if(x.nodeType!=1)return;if(!u)x.removeAttribute('id',false);x.removeAttribute('data-cke-expando',false);if(t){var y=x.childNodes;for(var z=0;z<y.length;z++)w(y[z]);}};w(v);return new p.node(v);},hasPrevious:function(){return!!this.$.previousSibling;},hasNext:function(){return!!this.$.nextSibling;},insertAfter:function(t){t.$.parentNode.insertBefore(this.$,t.$.nextSibling);return t;},insertBefore:function(t){t.$.parentNode.insertBefore(this.$,t.$);return t;},insertBeforeMe:function(t){this.$.parentNode.insertBefore(t.$,this.$);return t;},getAddress:function(t){var u=[],v=this.getDocument().$.documentElement,w=this.$;while(w&&w!=v){var x=w.parentNode,y=-1;if(x){for(var z=0;z<x.childNodes.length;z++){var A=x.childNodes[z];if(t&&A.nodeType==3&&A.previousSibling&&A.previousSibling.nodeType==3)continue;y++;if(A==w)break;}u.unshift(y);}w=x;}return u;},getDocument:function(){return new s(this.$.ownerDocument||this.$.parentNode.ownerDocument);},getIndex:function(){var t=this.$,u=t.parentNode&&t.parentNode.firstChild,v=-1;while(u){v++;if(u==t)return v;u=u.nextSibling;}return-1;},getNextSourceNode:function(t,u,v){if(v&&!v.call){var w=v;v=function(z){return!z.equals(w);};}var x=!t&&this.getFirst&&this.getFirst(),y;if(!x){if(this.type==1&&v&&v(this,true)===false)return null;x=this.getNext();}while(!x&&(y=(y||this).getParent())){if(v&&v(y,true)===false)return null;x=y.getNext();}if(!x)return null;if(v&&v(x)===false)return null;if(u&&u!=x.type)return x.getNextSourceNode(false,u,v);return x;},getPreviousSourceNode:function(t,u,v){if(v&&!v.call){var w=v;v=function(z){return!z.equals(w);};}var x=!t&&this.getLast&&this.getLast(),y;if(!x){if(this.type==1&&v&&v(this,true)===false)return null;x=this.getPrevious();}while(!x&&(y=(y||this).getParent())){if(v&&v(y,true)===false)return null;
x=y.getPrevious();}if(!x)return null;if(v&&v(x)===false)return null;if(u&&x.type!=u)return x.getPreviousSourceNode(false,u,v);return x;},getPrevious:function(t){var u=this.$,v;do{u=u.previousSibling;v=u&&new p.node(u);}while(v&&t&&!t(v))return v;},getNext:function(t){var u=this.$,v;do{u=u.nextSibling;v=u&&new p.node(u);}while(v&&t&&!t(v))return v;},getParent:function(){var t=this.$.parentNode;return t&&t.nodeType==1?new p.node(t):null;},getParents:function(t){var u=this,v=[];do v[t?'push':'unshift'](u);while(u=u.getParent())return v;},getCommonAncestor:function(t){var v=this;if(t.equals(v))return v;if(t.contains&&t.contains(v))return t;var u=v.contains?v:v.getParent();do{if(u.contains(t))return u;}while(u=u.getParent())return null;},getPosition:function(t){var u=this.$,v=t.$;if(u.compareDocumentPosition)return u.compareDocumentPosition(v);if(u==v)return 0;if(this.type==1&&t.type==1){if(u.contains){if(u.contains(v))return 16+4;if(v.contains(u))return 8+2;}if('sourceIndex' in u)return u.sourceIndex<0||v.sourceIndex<0?1:u.sourceIndex<v.sourceIndex?4:2;}var w=this.getAddress(),x=t.getAddress(),y=Math.min(w.length,x.length);for(var z=0;z<=y-1;z++){if(w[z]!=x[z]){if(z<y)return w[z]<x[z]?4:2;break;}}return w.length<x.length?16+4:8+2;},getAscendant:function(t,u){var v=this.$;if(!u)v=v.parentNode;while(v){if(v.nodeName&&v.nodeName.toLowerCase()==t)return new p.node(v);v=v.parentNode;}return null;},hasAscendant:function(t,u){var v=this.$;if(!u)v=v.parentNode;while(v){if(v.nodeName&&v.nodeName.toLowerCase()==t)return true;v=v.parentNode;}return false;},move:function(t,u){t.append(this.remove(),u);},remove:function(t){var u=this.$,v=u.parentNode;if(v){if(t)for(var w;w=u.firstChild;)v.insertBefore(u.removeChild(w),u);v.removeChild(u);}return this;},replace:function(t){this.insertBefore(t);t.remove();},trim:function(){this.ltrim();this.rtrim();},ltrim:function(){var w=this;var t;while(w.getFirst&&(t=w.getFirst())){if(t.type==3){var u=q.ltrim(t.getText()),v=t.getLength();if(!u){t.remove();continue;}else if(u.length<v){t.split(v-u.length);w.$.removeChild(w.$.firstChild);}}break;}},rtrim:function(){var w=this;var t;while(w.getLast&&(t=w.getLast())){if(t.type==3){var u=q.rtrim(t.getText()),v=t.getLength();if(!u){t.remove();continue;}else if(u.length<v){t.split(u.length);w.$.lastChild.parentNode.removeChild(w.$.lastChild);}}break;}if(!o&&!n.opera){t=w.$.lastChild;if(t&&t.type==1&&t.nodeName.toLowerCase()=='br')t.parentNode.removeChild(t);}},isReadOnly:function(){var t=this;while(t){if(t.type==1){if(t.is('body')||!!t.data('cke-editable'))break;
if(t.getAttribute('contentEditable')=='false')return t;else if(t.getAttribute('contentEditable')=='true')break;}t=t.getParent();}return false;}});p.nodeList=function(t){this.$=t;};p.nodeList.prototype={count:function(){return this.$.length;},getItem:function(t){var u=this.$[t];return u?new p.node(u):null;}};p.element=function(t,u){if(typeof t=='string')t=(u?u.$:document).createElement(t);p.domObject.call(this,t);};var t=p.element;t.get=function(u){return u&&(u.$?u:new t(u));};t.prototype=new p.node();t.createFromHtml=function(u,v){var w=new t('div',v);w.setHtml(u);return w.getFirst().remove();};t.setMarker=function(u,v,w,x){var y=v.getCustomData('list_marker_id')||v.setCustomData('list_marker_id',q.getNextNumber()).getCustomData('list_marker_id'),z=v.getCustomData('list_marker_names')||v.setCustomData('list_marker_names',{}).getCustomData('list_marker_names');u[y]=v;z[w]=1;return v.setCustomData(w,x);};t.clearAllMarkers=function(u){for(var v in u)t.clearMarkers(u,u[v],1);};t.clearMarkers=function(u,v,w){var x=v.getCustomData('list_marker_names'),y=v.getCustomData('list_marker_id');for(var z in x)v.removeCustomData(z);v.removeCustomData('list_marker_names');if(w){v.removeCustomData('list_marker_id');delete u[y];}};q.extend(t.prototype,{type:1,addClass:function(u){var v=this.$.className;if(v){var w=new RegExp('(?:^|\\s)'+u+'(?:\\s|$)','');if(!w.test(v))v+=' '+u;}this.$.className=v||u;},removeClass:function(u){var v=this.getAttribute('class');if(v){var w=new RegExp('(?:^|\\s+)'+u+'(?=\\s|$)','i');if(w.test(v)){v=v.replace(w,'').replace(/^\s+/,'');if(v)this.setAttribute('class',v);else this.removeAttribute('class');}}},hasClass:function(u){var v=new RegExp('(?:^|\\s+)'+u+'(?=\\s|$)','');return v.test(this.getAttribute('class'));},append:function(u,v){var w=this;if(typeof u=='string')u=w.getDocument().createElement(u);if(v)w.$.insertBefore(u.$,w.$.firstChild);else w.$.appendChild(u.$);return u;},appendHtml:function(u){var w=this;if(!w.$.childNodes.length)w.setHtml(u);else{var v=new t('div',w.getDocument());v.setHtml(u);v.moveChildren(w);}},appendText:function(u){if(this.$.text!=undefined)this.$.text+=u;else this.append(new p.text(u));},appendBogus:function(){var w=this;var u=w.getLast();while(u&&u.type==3&&!q.rtrim(u.getText()))u=u.getPrevious();if(!u||!u.is||!u.is('br')){var v=n.opera?w.getDocument().createText(''):w.getDocument().createElement('br');n.gecko&&v.setAttribute('type','_moz');w.append(v);}},breakParent:function(u){var x=this;var v=new p.range(x.getDocument());
v.setStartAfter(x);v.setEndAfter(u);var w=v.extractContents();v.insertNode(x.remove());w.insertAfterNode(x);},contains:o||n.webkit?function(u){var v=this.$;return u.type!=1?v.contains(u.getParent().$):v!=u.$&&v.contains(u.$);}:function(u){return!!(this.$.compareDocumentPosition(u.$)&16);},focus:(function(){function u(){try{this.$.focus();}catch(v){}};return function(v){if(v)q.setTimeout(u,100,this);else u.call(this);};})(),getHtml:function(){var u=this.$.innerHTML;return o?u.replace(/<\?[^>]*>/g,''):u;},getOuterHtml:function(){var v=this;if(v.$.outerHTML)return v.$.outerHTML.replace(/<\?[^>]*>/,'');var u=v.$.ownerDocument.createElement('div');u.appendChild(v.$.cloneNode(true));return u.innerHTML;},setHtml:function(u){return this.$.innerHTML=u;},setText:function(u){t.prototype.setText=this.$.innerText!=undefined?function(v){return this.$.innerText=v;}:function(v){return this.$.textContent=v;};return this.setText(u);},getAttribute:(function(){var u=function(v){return this.$.getAttribute(v,2);};if(o&&(n.ie7Compat||n.ie6Compat))return function(v){var z=this;switch(v){case 'class':v='className';break;case 'tabindex':var w=u.call(z,v);if(w!==0&&z.$.tabIndex===0)w=null;return w;break;case 'checked':var x=z.$.attributes.getNamedItem(v),y=x.specified?x.nodeValue:z.$.checked;return y?'checked':null;case 'hspace':case 'value':return z.$[v];case 'style':return z.$.style.cssText;}return u.call(z,v);};else return u;})(),getChildren:function(){return new p.nodeList(this.$.childNodes);},getComputedStyle:o?function(u){return this.$.currentStyle[q.cssStyleToDomStyle(u)];}:function(u){return this.getWindow().$.getComputedStyle(this.$,'').getPropertyValue(u);},getDtd:function(){var u=r[this.getName()];this.getDtd=function(){return u;};return u;},getElementsByTag:s.prototype.getElementsByTag,getTabIndex:o?function(){var u=this.$.tabIndex;if(u===0&&!r.$tabIndex[this.getName()]&&parseInt(this.getAttribute('tabindex'),10)!==0)u=-1;return u;}:n.webkit?function(){var u=this.$.tabIndex;if(u==undefined){u=parseInt(this.getAttribute('tabindex'),10);if(isNaN(u))u=-1;}return u;}:function(){return this.$.tabIndex;},getText:function(){return this.$.textContent||this.$.innerText||'';},getWindow:function(){return this.getDocument().getWindow();},getId:function(){return this.$.id||null;},getNameAtt:function(){return this.$.name||null;},getName:function(){var u=this.$.nodeName.toLowerCase();if(o&&!(document.documentMode>8)){var v=this.$.scopeName;if(v!='HTML')u=v.toLowerCase()+':'+u;}return(this.getName=function(){return u;
})();},getValue:function(){return this.$.value;},getFirst:function(u){var v=this.$.firstChild,w=v&&new p.node(v);if(w&&u&&!u(w))w=w.getNext(u);return w;},getLast:function(u){var v=this.$.lastChild,w=v&&new p.node(v);if(w&&u&&!u(w))w=w.getPrevious(u);return w;},getStyle:function(u){return this.$.style[q.cssStyleToDomStyle(u)];},is:function(){var u=this.getName();for(var v=0;v<arguments.length;v++){if(arguments[v]==u)return true;}return false;},isEditable:function(){var u=this.getName(),v=!r.$nonEditable[u]&&(r[u]||r.span);return v&&v['#'];},isIdentical:function(u){if(this.getName()!=u.getName())return false;var v=this.$.attributes,w=u.$.attributes,x=v.length,y=w.length;for(var z=0;z<x;z++){var A=v[z];if(A.nodeName=='_moz_dirty')continue;if((!o||A.specified&&A.nodeName!='data-cke-expando')&&A.nodeValue!=u.getAttribute(A.nodeName))return false;}if(o)for(z=0;z<y;z++){A=w[z];if(A.specified&&A.nodeName!='data-cke-expando'&&A.nodeValue!=this.getAttribute(A.nodeName))return false;}return true;},isVisible:function(){var u=!!this.$.offsetHeight&&this.getComputedStyle('visibility')!='hidden',v,w;if(u&&(n.webkit||n.opera)){v=this.getWindow();if(!v.equals(m.document.getWindow())&&(w=v.$.frameElement))u=new t(w).isVisible();}return u;},isEmptyInlineRemoveable:function(){if(!r.$removeEmpty[this.getName()])return false;var u=this.getChildren();for(var v=0,w=u.count();v<w;v++){var x=u.getItem(v);if(x.type==1&&x.data('cke-bookmark'))continue;if(x.type==1&&!x.isEmptyInlineRemoveable()||x.type==3&&q.trim(x.getText()))return false;}return true;},hasAttributes:o&&(n.ie7Compat||n.ie6Compat)?function(){var u=this.$.attributes;for(var v=0;v<u.length;v++){var w=u[v];switch(w.nodeName){case 'class':if(this.getAttribute('class'))return true;case 'data-cke-expando':continue;default:if(w.specified)return true;}}return false;}:function(){var u=this.$.attributes,v=u.length,w={'data-cke-expando':1,_moz_dirty:1};return v>0&&(v>2||!w[u[0].nodeName]||v==2&&!w[u[1].nodeName]);},hasAttribute:function(u){var v=this.$.attributes.getNamedItem(u);return!!(v&&v.specified);},hide:function(){this.setStyle('display','none');},moveChildren:function(u,v){var w=this.$;u=u.$;if(w==u)return;var x;if(v)while(x=w.lastChild)u.insertBefore(w.removeChild(x),u.firstChild);else while(x=w.firstChild)u.appendChild(w.removeChild(x));},mergeSiblings:(function(){function u(v,w,x){if(w&&w.type==1){var y=[];while(w.data('cke-bookmark')||w.isEmptyInlineRemoveable()){y.push(w);w=x?w.getNext():w.getPrevious();if(!w||w.type!=1)return;
}if(v.isIdentical(w)){var z=x?v.getLast():v.getFirst();while(y.length)y.shift().move(v,!x);w.moveChildren(v,!x);w.remove();if(z&&z.type==1)z.mergeSiblings();}}};return function(v){var w=this;if(!(v===false||r.$removeEmpty[w.getName()]||w.is('a')))return;u(w,w.getNext(),true);u(w,w.getPrevious());};})(),show:function(){this.setStyles({display:'',visibility:''});},setAttribute:(function(){var u=function(v,w){this.$.setAttribute(v,w);return this;};if(o&&(n.ie7Compat||n.ie6Compat))return function(v,w){var x=this;if(v=='class')x.$.className=w;else if(v=='style')x.$.style.cssText=w;else if(v=='tabindex')x.$.tabIndex=w;else if(v=='checked')x.$.checked=w;else u.apply(x,arguments);return x;};else return u;})(),setAttributes:function(u){for(var v in u)this.setAttribute(v,u[v]);return this;},setValue:function(u){this.$.value=u;return this;},removeAttribute:(function(){var u=function(v){this.$.removeAttribute(v);};if(o&&(n.ie7Compat||n.ie6Compat))return function(v){if(v=='class')v='className';else if(v=='tabindex')v='tabIndex';u.call(this,v);};else return u;})(),removeAttributes:function(u){if(q.isArray(u))for(var v=0;v<u.length;v++)this.removeAttribute(u[v]);else for(var w in u)u.hasOwnProperty(w)&&this.removeAttribute(w);},removeStyle:function(u){var v=this;v.setStyle(u,'');if(v.$.style.removeAttribute)v.$.style.removeAttribute(q.cssStyleToDomStyle(u));if(!v.$.style.cssText)v.removeAttribute('style');},setStyle:function(u,v){this.$.style[q.cssStyleToDomStyle(u)]=v;return this;},setStyles:function(u){for(var v in u)this.setStyle(v,u[v]);return this;},setOpacity:function(u){if(o){u=Math.round(u*100);this.setStyle('filter',u>=100?'':'progid:DXImageTransform.Microsoft.Alpha(opacity='+u+')');}else this.setStyle('opacity',u);},unselectable:n.gecko?function(){this.$.style.MozUserSelect='none';this.on('dragstart',function(u){u.data.preventDefault();});}:n.webkit?function(){this.$.style.KhtmlUserSelect='none';this.on('dragstart',function(u){u.data.preventDefault();});}:function(){if(o||n.opera){var u=this.$,v,w=0;u.unselectable='on';while(v=u.all[w++])switch(v.tagName.toLowerCase()){case 'iframe':case 'textarea':case 'input':case 'select':break;default:v.unselectable='on';}}},getPositionedAncestor:function(){var u=this;while(u.getName()!='html'){if(u.getComputedStyle('position')!='static')return u;u=u.getParent();}return null;},getDocumentPosition:function(u){var P=this;var v=0,w=0,x=P.getDocument().getBody(),y=P.getDocument().$.compatMode=='BackCompat',z=P.getDocument();if(document.documentElement.getBoundingClientRect){var A=P.$.getBoundingClientRect(),B=z.$,C=B.documentElement,D=C.clientTop||x.$.clientTop||0,E=C.clientLeft||x.$.clientLeft||0,F=true;
if(o){var G=z.getDocumentElement().contains(P),H=z.getBody().contains(P);F=y&&H||!y&&G;}if(F){v=A.left+(!y&&C.scrollLeft||x.$.scrollLeft);v-=E;w=A.top+(!y&&C.scrollTop||x.$.scrollTop);w-=D;}}else{var I=P,J=null,K;while(I&&!(I.getName()=='body'||I.getName()=='html')){v+=I.$.offsetLeft-I.$.scrollLeft;w+=I.$.offsetTop-I.$.scrollTop;if(!I.equals(P)){v+=I.$.clientLeft||0;w+=I.$.clientTop||0;}var L=J;while(L&&!L.equals(I)){v-=L.$.scrollLeft;w-=L.$.scrollTop;L=L.getParent();}J=I;I=(K=I.$.offsetParent)?new t(K):null;}}if(u){var M=P.getWindow(),N=u.getWindow();if(!M.equals(N)&&M.$.frameElement){var O=new t(M.$.frameElement).getDocumentPosition(u);v+=O.x;w+=O.y;}}if(!document.documentElement.getBoundingClientRect)if(n.gecko&&!y){v+=P.$.clientLeft?1:0;w+=P.$.clientTop?1:0;}return{x:v,y:w};},scrollIntoView:function(u){var A=this;var v=A.getWindow(),w=v.getViewPaneSize().height,x=w*-1;if(u)x+=w;else{x+=A.$.offsetHeight||0;x+=parseInt(A.getComputedStyle('marginBottom')||0,10)||0;}var y=A.getDocumentPosition();x+=y.y;x=x<0?0:x;var z=v.getScrollPosition().y;if(x>z||x<z-w)v.$.scrollTo(0,x);},setState:function(u){var v=this;switch(u){case 1:v.addClass('cke_on');v.removeClass('cke_off');v.removeClass('cke_disabled');break;case 0:v.addClass('cke_disabled');v.removeClass('cke_off');v.removeClass('cke_on');break;default:v.addClass('cke_off');v.removeClass('cke_on');v.removeClass('cke_disabled');break;}},getFrameDocument:function(){var u=this.$;try{u.contentWindow.document;}catch(v){u.src=u.src;if(o&&n.version<7)window.showModalDialog('javascript:document.write("<script>window.setTimeout(function(){window.close();},50);</script>")');}return u&&new s(u.contentWindow.document);},copyAttributes:function(u,v){var B=this;var w=B.$.attributes;v=v||{};for(var x=0;x<w.length;x++){var y=w[x],z=y.nodeName.toLowerCase(),A;if(z in v)continue;if(z=='checked'&&(A=B.getAttribute(z)))u.setAttribute(z,A);else if(y.specified||o&&y.nodeValue&&z=='value'){A=B.getAttribute(z);if(A===null)A=y.nodeValue;u.setAttribute(z,A);}}if(B.$.style.cssText!=='')u.$.style.cssText=B.$.style.cssText;},renameNode:function(u){var x=this;if(x.getName()==u)return;var v=x.getDocument(),w=new t(u,v);x.copyAttributes(w);x.moveChildren(w);x.getParent()&&x.$.parentNode.replaceChild(w.$,x.$);w.$['data-cke-expando']=x.$['data-cke-expando'];x.$=w.$;},getChild:function(u){var v=this.$;if(!u.slice)v=v.childNodes[u];else while(u.length>0&&v)v=v.childNodes[u.shift()];return v?new p.node(v):null;},getChildCount:function(){return this.$.childNodes.length;
},disableContextMenu:function(){this.on('contextmenu',function(u){if(!u.data.getTarget().hasClass('cke_enable_context_menu'))u.data.preventDefault();});},getDirection:function(u){return u?this.getComputedStyle('direction'):this.getStyle('direction')||this.getAttribute('dir');},data:function(u,v){u='data-'+u;if(v===undefined)return this.getAttribute(u);else if(v===false)this.removeAttribute(u);else this.setAttribute(u,v);return null;}});(function(){var u={width:['border-left-width','border-right-width','padding-left','padding-right'],height:['border-top-width','border-bottom-width','padding-top','padding-bottom']};function v(w){var x=0;for(var y=0,z=u[w].length;y<z;y++)x+=parseInt(this.getComputedStyle(u[w][y])||0,10)||0;return x;};t.prototype.setSize=function(w,x,y){if(typeof x=='number'){if(y&&!(o&&n.quirks))x-=v.call(this,w);this.setStyle(w,x+'px');}};t.prototype.getSize=function(w,x){var y=Math.max(this.$['offset'+q.capitalize(w)],this.$['client'+q.capitalize(w)])||0;if(x)y-=v.call(this,w);return y;};})();m.command=function(u,v){this.uiItems=[];this.exec=function(w){if(this.state==0)return false;if(this.editorFocus)u.focus();return v.exec.call(this,u,w)!==false;};q.extend(this,v,{modes:{wysiwyg:1},editorFocus:1,state:2});m.event.call(this);};m.command.prototype={enable:function(){var u=this;if(u.state==0)u.setState(!u.preserveState||typeof u.previousState=='undefined'?2:u.previousState);},disable:function(){this.setState(0);},setState:function(u){var v=this;if(v.state==u)return false;v.previousState=v.state;v.state=u;v.fire('state');return true;},toggleState:function(){var u=this;if(u.state==2)u.setState(1);else if(u.state==1)u.setState(2);}};m.event.implementOn(m.command.prototype,true);m.ENTER_P=1;m.ENTER_BR=2;m.ENTER_DIV=3;m.config={customConfig:'config.js',autoUpdateElement:true,baseHref:'',contentsCss:m.basePath+'contents.css',contentsLangDirection:'ui',contentsLanguage:'',language:'',defaultLanguage:'en',enterMode:1,forceEnterMode:false,shiftEnterMode:2,corePlugins:'',docType:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',bodyId:'',bodyClass:'',fullPage:false,height:200,plugins:'about,a11yhelp,basicstyles,bidi,blockquote,button,clipboard,colorbutton,colordialog,contextmenu,dialogadvtab,div,elementspath,enterkey,entities,filebrowser,find,flash,font,format,forms,horizontalrule,htmldataprocessor,iframe,image,indent,justify,keystrokes,link,list,liststyle,maximize,newpage,pagebreak,pastefromword,pastetext,popup,preview,print,removeformat,resize,save,scayt,smiley,showblocks,showborders,sourcearea,stylescombo,table,tabletools,specialchar,tab,templates,toolbar,undo,wysiwygarea,wsc',extraPlugins:'bwikidataprocessor',removePlugins:'htmldataprocessor',protectedSource:[],tabIndex:0,theme:'default',skin:'kama',width:'',baseFloatZIndex:10000};
var u=m.config;m.focusManager=function(v){if(v.focusManager)return v.focusManager;this.hasFocus=false;this._={editor:v};return this;};m.focusManager.prototype={focus:function(){var w=this;if(w._.timer)clearTimeout(w._.timer);if(!w.hasFocus){if(m.currentInstance)m.currentInstance.focusManager.forceBlur();var v=w._.editor;v.container.getChild(1).addClass('cke_focus');w.hasFocus=true;v.fire('focus');}},blur:function(){var v=this;if(v._.timer)clearTimeout(v._.timer);v._.timer=setTimeout(function(){delete v._.timer;v.forceBlur();},100);},forceBlur:function(){if(this.hasFocus){var v=this._.editor;v.container.getChild(1).removeClass('cke_focus');this.hasFocus=false;v.fire('blur');}}};(function(){var v={};m.lang={languages:{af:1,ar:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,el:1,'en-au':1,'en-ca':1,'en-gb':1,en:1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,'fr-ca':1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,is:1,it:1,ja:1,km:1,ko:1,lt:1,lv:1,mn:1,ms:1,nb:1,nl:1,no:1,pl:1,'pt-br':1,pt:1,ro:1,ru:1,sk:1,sl:1,'sr-latn':1,sr:1,sv:1,th:1,tr:1,uk:1,vi:1,'zh-cn':1,zh:1},load:function(w,x,y){if(!w||!m.lang.languages[w])w=this.detect(x,w);if(!this[w])m.scriptLoader.load(m.getUrl('lang/'+w+'.js'),function(){y(w,this[w]);},this);else y(w,this[w]);},detect:function(w,x){var y=this.languages;x=x||navigator.userLanguage||navigator.language;var z=x.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),A=z[1],B=z[2];if(y[A+'-'+B])A=A+'-'+B;else if(!y[A])A=null;m.lang.detect=A?function(){return A;}:function(C){return C;};return A||w;}};})();m.scriptLoader=(function(){var v={},w={};return{load:function(x,y,z,A){var B=typeof x=='string';if(B)x=[x];if(!z)z=m;var C=x.length,D=[],E=[],F=function(K){if(y)if(B)y.call(z,K);else y.call(z,D,E);};if(C===0){F(true);return;}var G=function(K,L){(L?D:E).push(K);if(--C<=0){A&&m.document.getDocumentElement().removeStyle('cursor');F(L);}},H=function(K,L){v[K]=1;var M=w[K];delete w[K];for(var N=0;N<M.length;N++)M[N](K,L);},I=function(K){if(v[K]){G(K,true);return;}var L=w[K]||(w[K]=[]);L.push(G);if(L.length>1)return;var M=new t('script');M.setAttributes({type:'text/javascript',src:K});if(y)if(o)M.$.onreadystatechange=function(){if(M.$.readyState=='loaded'||M.$.readyState=='complete'){M.$.onreadystatechange=null;H(K,true);}};else{M.$.onload=function(){setTimeout(function(){H(K,true);},0);};M.$.onerror=function(){H(K,false);};}M.appendTo(m.document.getHead());};A&&m.document.getDocumentElement().setStyle('cursor','wait');for(var J=0;J<C;J++)I(x[J]);}};})();m.resourceManager=function(v,w){var x=this;
x.basePath=v;x.fileName=w;x.registered={};x.loaded={};x.externals={};x._={waitingList:{}};};m.resourceManager.prototype={add:function(v,w){if(this.registered[v])throw '[CKEDITOR.resourceManager.add] The resource name "'+v+'" is already registered.';m.fire(v+q.capitalize(this.fileName)+'Ready',this.registered[v]=w||{});},get:function(v){return this.registered[v]||null;},getPath:function(v){var w=this.externals[v];return m.getUrl(w&&w.dir||this.basePath+v+'/');},getFilePath:function(v){var w=this.externals[v];return m.getUrl(this.getPath(v)+(w&&typeof w.file=='string'?w.file:this.fileName+'.js'));},addExternal:function(v,w,x){v=v.split(',');for(var y=0;y<v.length;y++){var z=v[y];this.externals[z]={dir:w,file:x};}},load:function(v,w,x){if(!q.isArray(v))v=v?[v]:[];var y=this.loaded,z=this.registered,A=[],B={},C={};for(var D=0;D<v.length;D++){var E=v[D];if(!E)continue;if(!y[E]&&!z[E]){var F=this.getFilePath(E);A.push(F);if(!(F in B))B[F]=[];B[F].push(E);}else C[E]=this.get(E);}m.scriptLoader.load(A,function(G,H){if(H.length)throw '[CKEDITOR.resourceManager.load] Resource name "'+B[H[0]].join(',')+'" was not found at "'+H[0]+'".';for(var I=0;I<G.length;I++){var J=B[G[I]];for(var K=0;K<J.length;K++){var L=J[K];C[L]=this.get(L);y[L]=1;}}w.call(x,C);},this);}};m.plugins=new m.resourceManager('plugins/','plugin');var v=m.plugins;v.load=q.override(v.load,function(w){return function(x,y,z){var A={},B=function(C){w.call(this,C,function(D){q.extend(A,D);var E=[];for(var F in D){var G=D[F],H=G&&G.requires;if(H)for(var I=0;I<H.length;I++){if(!A[H[I]])E.push(H[I]);}}if(E.length)B.call(this,E);else{for(F in A){G=A[F];if(G.onLoad&&!G.onLoad._called){G.onLoad();G.onLoad._called=1;}}if(y)y.call(z||window,A);}},this);};B.call(this,x);};});v.setLang=function(w,x,y){var z=this.get(w),A=z.lang||(z.lang={});A[x]=y;};m.skins=(function(){var w={},x={},y=function(z,A,B,C){var D=w[A];if(!z.skin){z.skin=D;if(D.init)D.init(z);}var E=function(N){for(var O=0;O<N.length;O++)N[O]=m.getUrl(x[A]+N[O]);};function F(N,O){return N.replace(/url\s*\(([\s'"]*)(.*?)([\s"']*)\)/g,function(P,Q,R,S){if(/^\/|^\w?:/.test(R))return P;else return 'url('+O+Q+R+S+')';});};B=D[B];var G=!B||!!B._isLoaded;if(G)C&&C();else{var H=B._pending||(B._pending=[]);H.push(C);if(H.length>1)return;var I=!B.css||!B.css.length,J=!B.js||!B.js.length,K=function(){if(I&&J){B._isLoaded=1;for(var N=0;N<H.length;N++){if(H[N])H[N]();}}};if(!I){var L=B.css;if(q.isArray(L)){E(L);for(var M=0;M<L.length;M++)m.document.appendStyleSheet(L[M]);
}else{L=F(L,m.getUrl(x[A]));m.document.appendStyleText(L);}B.css=L;I=1;}if(!J){E(B.js);m.scriptLoader.load(B.js,function(){J=1;K();});}K();}};return{add:function(z,A){w[z]=A;A.skinPath=x[z]||(x[z]=m.getUrl('skins/'+z+'/'));},load:function(z,A,B){var C=z.skinName,D=z.skinPath;if(w[C])y(z,C,A,B);else{x[C]=D;m.scriptLoader.load(m.getUrl(D+'skin.js'),function(){y(z,C,A,B);});}}};})();m.themes=new m.resourceManager('themes/','theme');m.ui=function(w){if(w.ui)return w.ui;this._={handlers:{},items:{},editor:w};return this;};var w=m.ui;w.prototype={add:function(x,y,z){this._.items[x]={type:y,command:z.command||null,args:Array.prototype.slice.call(arguments,2)};},create:function(x){var C=this;var y=C._.items[x],z=y&&C._.handlers[y.type],A=y&&y.command&&C._.editor.getCommand(y.command),B=z&&z.create.apply(C,y.args);if(A)A.uiItems.push(B);return B;},addHandler:function(x,y){this._.handlers[x]=y;}};m.event.implementOn(w);(function(){var x=0,y=function(){var J='editor'+ ++x;return m.instances&&m.instances[J]?y():J;},z={},A=function(J){var K=J.config.customConfig;if(!K)return false;K=m.getUrl(K);var L=z[K]||(z[K]={});if(L.fn){L.fn.call(J,J.config);if(m.getUrl(J.config.customConfig)==K||!A(J))J.fireOnce('customConfigLoaded');}else m.scriptLoader.load(K,function(){if(m.editorConfig)L.fn=m.editorConfig;else L.fn=function(){};A(J);});return true;},B=function(J,K){J.on('customConfigLoaded',function(){if(K){if(K.on)for(var L in K.on)J.on(L,K.on[L]);q.extend(J.config,K,true);delete J.config.on;}C(J);});if(K&&K.customConfig!=undefined)J.config.customConfig=K.customConfig;if(!A(J))J.fireOnce('customConfigLoaded');},C=function(J){var K=J.config.skin.split(','),L=K[0],M=m.getUrl(K[1]||'skins/'+L+'/');J.skinName=L;J.skinPath=M;J.skinClass='cke_skin_'+L;J.tabIndex=J.config.tabIndex||J.element.getAttribute('tabindex')||0;J.fireOnce('configLoaded');F(J);},D=function(J){m.lang.load(J.config.language,J.config.defaultLanguage,function(K,L){J.langCode=K;J.lang=q.prototypedCopy(L);if(n.gecko&&n.version<10900&&J.lang.dir=='rtl')J.lang.dir='ltr';var M=J.config;M.contentsLangDirection=='ui'&&(M.contentsLangDirection=J.lang.dir);E(J);});},E=function(J){var K=J.config,L=K.plugins,M=K.extraPlugins,N=K.removePlugins;if(M){var O=new RegExp('(?:^|,)(?:'+M.replace(/\s*,\s*/g,'|')+')(?=,|$)','g');L=L.replace(O,'');L+=','+M;}if(N){O=new RegExp('(?:^|,)(?:'+N.replace(/\s*,\s*/g,'|')+')(?=,|$)','g');L=L.replace(O,'');}n.air&&(L+=',adobeair');v.load(L.split(','),function(P){var Q=[],R=[],S=[];J.plugins=P;
for(var T in P){var U=P[T],V=U.lang,W=v.getPath(T),X=null;U.path=W;if(V){X=q.indexOf(V,J.langCode)>=0?J.langCode:V[0];if(!U.lang[X])S.push(m.getUrl(W+'lang/'+X+'.js'));else{q.extend(J.lang,U.lang[X]);X=null;}}R.push(X);Q.push(U);}m.scriptLoader.load(S,function(){var Y=['beforeInit','init','afterInit'];for(var Z=0;Z<Y.length;Z++)for(var aa=0;aa<Q.length;aa++){var ab=Q[aa];if(Z===0&&R[aa]&&ab.lang)q.extend(J.lang,ab.lang[R[aa]]);if(ab[Y[Z]])ab[Y[Z]](J);}J.fire('pluginsLoaded');G(J);});});},F=function(J){m.skins.load(J,'editor',function(){D(J);});},G=function(J){var K=J.config.theme;m.themes.load(K,function(){var L=J.theme=m.themes.get(K);L.path=m.themes.getPath(K);L.build(J);if(J.config.autoUpdateElement)H(J);});},H=function(J){var K=J.element;if(J.elementMode==1&&K.is('textarea')){var L=K.$.form&&new t(K.$.form);if(L){function M(){J.updateElement();};L.on('submit',M);if(!L.$.submit.nodeName&&!L.$.submit.length)L.$.submit=q.override(L.$.submit,function(N){return function(){J.updateElement();if(N.apply)N.apply(this,arguments);else N();};});J.on('destroy',function(){L.removeListener('submit',M);});}}};function I(){var J,K=this._.commands,L=this.mode;for(var M in K){J=K[M];J[J.startDisabled?'disable':J.modes[L]?'enable':'disable']();}};m.editor.prototype._init=function(){var L=this;var J=t.get(L._.element),K=L._.instanceConfig;delete L._.element;delete L._.instanceConfig;L._.commands={};L._.styles=[];L.element=J;L.name=J&&L.elementMode==1&&(J.getId()||J.getNameAtt())||y();if(L.name in m.instances)throw '[CKEDITOR.editor] The instance "'+L.name+'" already exists.';L.id=q.getNextId();L.config=q.prototypedCopy(u);L.ui=new w(L);L.focusManager=new m.focusManager(L);m.fire('instanceCreated',null,L);L.on('mode',I,null,null,1);B(L,K);};})();q.extend(m.editor.prototype,{addCommand:function(x,y){return this._.commands[x]=new m.command(this,y);},addCss:function(x){this._.styles.push(x);},destroy:function(x){var y=this;if(!x)y.updateElement();y.theme&&y.theme.destroy(y);y.fire('destroy');m.remove(y);m.fire('instanceDestroyed',null,y);},execCommand:function(x,y){var z=this.getCommand(x),A={name:x,commandData:y,command:z};if(z&&z.state!=0)if(this.fire('beforeCommandExec',A)!==true){A.returnValue=z.exec(A.commandData);if(!z.async&&this.fire('afterCommandExec',A)!==true)return A.returnValue;}return false;},getCommand:function(x){return this._.commands[x];},getData:function(){var z=this;z.fire('beforeGetData');var x=z._.data;if(typeof x!='string'){var y=z.element;if(y&&z.elementMode==1)x=y.is('textarea')?y.getValue():y.getHtml();
else x='';}x={dataValue:x};z.fire('getData',x);return x.dataValue;},getSnapshot:function(){var x=this.fire('getSnapshot');if(typeof x!='string'){var y=this.element;if(y&&this.elementMode==1)x=y.is('textarea')?y.getValue():y.getHtml();}return x;},loadSnapshot:function(x){this.fire('loadSnapshot',x);},setData:function(x,y){if(y)this.on('dataReady',function(A){A.removeListener();y.call(A.editor);});var z={dataValue:x};this.fire('setData',z);this._.data=z.dataValue;this.fire('afterSetData',z);},insertHtml:function(x){this.fire('insertHtml',x);},insertText:function(x){this.fire('insertText',x);},insertElement:function(x){this.fire('insertElement',x);},checkDirty:function(){return this.mayBeDirty&&this._.previousValue!==this.getSnapshot();},resetDirty:function(){if(this.mayBeDirty)this._.previousValue=this.getSnapshot();},updateElement:function(){var z=this;var x=z.element;if(x&&z.elementMode==1){var y=z.getData();if(z.config.htmlEncodeOutput)y=q.htmlEncode(y);if(x.is('textarea'))x.setValue(y);else x.setHtml(y);}}});m.on('loaded',function(){var x=m.editor._pending;if(x){delete m.editor._pending;for(var y=0;y<x.length;y++)x[y]._init();}});m.htmlParser=function(){this._={htmlPartsRegex:new RegExp("<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)-->)|(?:([^\\s>]+)\\s*((?:(?:[^\"'>]+)|(?:\"[^\"]*\")|(?:'[^']*'))*)\\/?>))",'g')};};(function(){var x=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,y={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};m.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(z){var M=this;var A,B,C=0,D;while(A=M._.htmlPartsRegex.exec(z)){var E=A.index;if(E>C){var F=z.substring(C,E);if(D)D.push(F);else M.onText(F);}C=M._.htmlPartsRegex.lastIndex;if(B=A[1]){B=B.toLowerCase();if(D&&r.$cdata[B]){M.onCDATA(D.join(''));D=null;}if(!D){M.onTagClose(B);continue;}}if(D){D.push(A[0]);continue;}if(B=A[3]){B=B.toLowerCase();if(/="/.test(B))continue;var G={},H,I=A[4],J=!!(I&&I.charAt(I.length-1)=='/');if(I)while(H=x.exec(I)){var K=H[1].toLowerCase(),L=H[2]||H[3]||H[4]||'';if(!L&&y[K])G[K]=K;else G[K]=L;}M.onTagOpen(B,G,J);if(!D&&r.$cdata[B])D=[];continue;}if(B=A[2])M.onComment(B);}if(z.length>C)M.onText(z.substring(C,z.length));}};})();m.htmlParser.comment=function(x){this.value=x;this._={isBlockLike:false};};m.htmlParser.comment.prototype={type:8,writeHtml:function(x,y){var z=this.value;
if(y){if(!(z=y.onComment(z,this)))return;if(typeof z!='string'){z.parent=this.parent;z.writeHtml(x,y);return;}}x.comment(z);}};(function(){var x=/[\t\r\n ]{2,}|[\t\r\n]/g;m.htmlParser.text=function(y){this.value=y;this._={isBlockLike:false};};m.htmlParser.text.prototype={type:3,writeHtml:function(y,z){var A=this.value;if(z&&!(A=z.onText(A,this)))return;y.text(A);}};})();(function(){m.htmlParser.cdata=function(x){this.value=x;};m.htmlParser.cdata.prototype={type:3,writeHtml:function(x){x.write(this.value);}};})();m.htmlParser.fragment=function(){this.children=[];this.parent=null;this._={isBlockLike:true,hasInlineStarted:false};};(function(){var x={colgroup:1,dd:1,dt:1,li:1,option:1,p:1,td:1,tfoot:1,th:1,thead:1,tr:1},y=q.extend({table:1,ul:1,ol:1,dl:1},r.table,r.ul,r.ol,r.dl),z=r.$list,A=r.$listItem;m.htmlParser.fragment.fromHtml=function(B,C){var D=new m.htmlParser(),E=[],F=new m.htmlParser.fragment(),G=[],H=[],I=F,J=false,K;function L(Q){var R;if(G.length>0)for(var S=0;S<G.length;S++){var T=G[S],U=T.name,V=r[U],W=I.name&&r[I.name];if((!W||W[U])&&(!Q||!V||V[Q]||!r[Q])){if(!R){M();R=1;}T=T.clone();T.parent=I;I=T;G.splice(S,1);S--;}}};function M(Q){while(H.length-(Q||0)>0)I.add(H.shift());};function N(Q,R,S){R=R||I||F;if(C&&!R.type){var T,U;if(Q.attributes&&(U=Q.attributes['data-cke-real-element-type']))T=U;else T=Q.name;if(T&&T in r.$inline){var V=I;I=R;D.onTagOpen(C,{});R=I;if(S)I=V;}}if(Q._.isBlockLike&&Q.name!='pre'){var W=Q.children.length,X=Q.children[W-1],Y;if(X&&X.type==3)if(!(Y=q.rtrim(X.value)))Q.children.length=W-1;else X.value=Y;}R.add(Q);if(Q.returnPoint){I=Q.returnPoint;delete Q.returnPoint;}};D.onTagOpen=function(Q,R,S){var T=new m.htmlParser.element(Q,R);if(T.isUnknown&&S)T.isEmpty=true;if(r.$removeEmpty[Q]){G.push(T);return;}else if(Q=='pre')J=true;else if(Q=='br'&&J){I.add(new m.htmlParser.text('\n'));return;}if(Q=='br'){H.push(T);return;}var U=I.name,V=U&&(r[U]||(I._.isBlockLike?r.div:r.span));if(V&&!T.isUnknown&&!I.isUnknown&&!V[Q]){var W=false,X;if(Q in z&&U in z){var Y=I.children,Z=Y[Y.length-1];if(!(Z&&Z.name in A))N(Z=new m.htmlParser.element('li'),I);K=I,X=Z;}else if(Q==U)N(I,I.parent);else if(Q in r.$listItem){D.onTagOpen('ul',{});X=I;W=true;}else{if(y[U]){if(!K)K=I;}else{N(I,I.parent,true);if(!x[U])G.unshift(I);}W=true;}if(X)I=X;else I=I.returnPoint||I.parent;if(W){D.onTagOpen.apply(this,arguments);return;}}L(Q);M();T.parent=I;T.returnPoint=K;K=0;if(T.isEmpty)N(T);else I=T;};D.onTagClose=function(Q){for(var R=G.length-1;R>=0;R--){if(Q==G[R].name){G.splice(R,1);
return;}}var S=[],T=[],U=I;while(U.type&&U.name!=Q){if(!U._.isBlockLike)T.unshift(U);S.push(U);U=U.parent;}if(U.type){for(R=0;R<S.length;R++){var V=S[R];N(V,V.parent);}I=U;if(I.name=='pre')J=false;if(U._.isBlockLike)M();N(U,U.parent);if(U==I)I=I.parent;G=G.concat(T);}if(Q=='body')C=false;};D.onText=function(Q){if(!I._.hasInlineStarted&&!J){Q=q.ltrim(Q);if(Q.length===0)return;}M();L();if(C&&(!I.type||I.name=='body')&&q.trim(Q))this.onTagOpen(C,{});if(!J)Q=Q.replace(/[\t\r\n ]{2,}|[\t\r\n]/g,' ');I.add(new m.htmlParser.text(Q));};D.onCDATA=function(Q){I.add(new m.htmlParser.cdata(Q));};D.onComment=function(Q){M();L();I.add(new m.htmlParser.comment(Q));};D.parse(B);M(!o&&1);while(I.type){var O=I.parent,P=I;if(C&&(!O.type||O.name=='body')&&!r.$body[P.name]){I=O;D.onTagOpen(C,{});O=I;}O.add(P);I=O;}return F;};m.htmlParser.fragment.prototype={add:function(B){var E=this;var C=E.children.length,D=C>0&&E.children[C-1]||null;if(D){if(B._.isBlockLike&&D.type==3){D.value=q.rtrim(D.value);if(D.value.length===0){E.children.pop();E.add(B);return;}}D.next=B;}B.previous=D;B.parent=E;E.children.push(B);E._.hasInlineStarted=B.type==3||B.type==1&&!B._.isBlockLike;},writeHtml:function(B,C){var D;this.filterChildren=function(){var E=new m.htmlParser.basicWriter();this.writeChildrenHtml.call(this,E,C,true);var F=E.getHtml();this.children=new m.htmlParser.fragment.fromHtml(F).children;D=1;};!this.name&&C&&C.onFragment(this);this.writeChildrenHtml(B,D?null:C);},writeChildrenHtml:function(B,C){for(var D=0;D<this.children.length;D++)this.children[D].writeHtml(B,C);}};})();m.htmlParser.element=function(x,y){var E=this;E.name=x;E.attributes=y||(y={});E.children=[];var z=y['data-cke-real-element-type']||x,A=z.match(/^cke:(.*)/);A&&(z=A[1]);var B=r,C=!!(B.$nonBodyContent[z]||B.$block[z]||B.$listItem[z]||B.$tableContent[z]||B.$nonEditable[z]||z=='br'),D=!!B.$empty[x];E.isEmpty=D;E.isUnknown=!B[x];E._={isBlockLike:C,hasInlineStarted:D||!C};};(function(){var x=function(y,z){y=y[0];z=z[0];return y<z?-1:y>z?1:0;};m.htmlParser.element.prototype={type:1,add:m.htmlParser.fragment.prototype.add,clone:function(){return new m.htmlParser.element(this.name,this.attributes);},writeHtml:function(y,z){var A=this.attributes,B=this,C=B.name,D,E,F,G;B.filterChildren=function(){if(!G){var L=new m.htmlParser.basicWriter();m.htmlParser.fragment.prototype.writeChildrenHtml.call(B,L,z);B.children=new m.htmlParser.fragment.fromHtml(L.getHtml()).children;G=1;}};if(z){for(;;){if(!(C=z.onElementName(C)))return;B.name=C;
if(!(B=z.onElement(B)))return;B.parent=this.parent;if(B.name==C)break;if(B.type!=1){B.writeHtml(y,z);return;}C=B.name;if(!C){this.writeChildrenHtml.call(B,y,G?null:z);return;}}A=B.attributes;}y.openTag(C,A);var H=[];for(var I=0;I<2;I++)for(D in A){E=D;F=A[D];if(I==1)H.push([D,F]);else if(z){for(;;){if(!(E=z.onAttributeName(D))){delete A[D];break;}else if(E!=D){delete A[D];D=E;continue;}else break;}if(E)if((F=z.onAttribute(B,E,F))===false)delete A[E];else A[E]=F;}}if(y.sortAttributes)H.sort(x);var J=H.length;for(I=0;I<J;I++){var K=H[I];y.attribute(K[0],K[1]);}y.openTagClose(C,B.isEmpty);if(!B.isEmpty){this.writeChildrenHtml.call(B,y,G?null:z);y.closeTag(C);}},writeChildrenHtml:function(y,z){m.htmlParser.fragment.prototype.writeChildrenHtml.apply(this,arguments);}};})();(function(){m.htmlParser.filter=q.createClass({$:function(C){this._={elementNames:[],attributeNames:[],elements:{$length:0},attributes:{$length:0}};if(C)this.addRules(C,10);},proto:{addRules:function(C,D){var E=this;if(typeof D!='number')D=10;y(E._.elementNames,C.elementNames,D);y(E._.attributeNames,C.attributeNames,D);z(E._.elements,C.elements,D);z(E._.attributes,C.attributes,D);E._.text=A(E._.text,C.text,D)||E._.text;E._.comment=A(E._.comment,C.comment,D)||E._.comment;E._.root=A(E._.root,C.root,D)||E._.root;},onElementName:function(C){return x(C,this._.elementNames);},onAttributeName:function(C){return x(C,this._.attributeNames);},onText:function(C){var D=this._.text;return D?D.filter(C):C;},onComment:function(C,D){var E=this._.comment;return E?E.filter(C,D):C;},onFragment:function(C){var D=this._.root;return D?D.filter(C):C;},onElement:function(C){var H=this;var D=[H._.elements['^'],H._.elements[C.name],H._.elements.$],E,F;for(var G=0;G<3;G++){E=D[G];if(E){F=E.filter(C,H);if(F===false)return null;if(F&&F!=C)return H.onNode(F);if(C.parent&&!C.name)break;}}return C;},onNode:function(C){var D=C.type;return D==1?this.onElement(C):D==3?new m.htmlParser.text(this.onText(C.value)):D==8?new m.htmlParser.comment(this.onComment(C.value)):null;},onAttribute:function(C,D,E){var F=this._.attributes[D];if(F){var G=F.filter(E,C,this);if(G===false)return false;if(typeof G!='undefined')return G;}return E;}}});function x(C,D){for(var E=0;C&&E<D.length;E++){var F=D[E];C=C.replace(F[0],F[1]);}return C;};function y(C,D,E){if(typeof D=='function')D=[D];var F,G,H=C.length,I=D&&D.length;if(I){for(F=0;F<H&&C[F].pri<E;F++){}for(G=I-1;G>=0;G--){var J=D[G];if(J){J.pri=E;C.splice(F,0,J);}}}};function z(C,D,E){if(D)for(var F in D){var G=C[F];
C[F]=A(G,D[F],E);if(!G)C.$length++;}};function A(C,D,E){if(D){D.pri=E;if(C){if(!C.splice){if(C.pri>E)C=[D,C];else C=[C,D];C.filter=B;}else y(C,D,E);return C;}else{D.filter=D;return D;}}};function B(C){var D=C.type||C instanceof m.htmlParser.fragment;for(var E=0;E<this.length;E++){if(D)var F=C.type,G=C.name;var H=this[E],I=H.apply(window,arguments);if(I===false)return I;if(D){if(I&&(I.name!=G||I.type!=F))return I;}else if(typeof I!='string')return I;I!=undefined&&(C=I);}return C;};})();m.htmlParser.basicWriter=q.createClass({$:function(){this._={output:[]};},proto:{openTag:function(x,y){this._.output.push('<',x);},openTagClose:function(x,y){if(y)this._.output.push(' />');else this._.output.push('>');},attribute:function(x,y){if(typeof y=='string')y=q.htmlEncodeAttr(y);this._.output.push(' ',x,'="',y,'"');},closeTag:function(x){this._.output.push('</',x,'>');},text:function(x){this._.output.push(x);},comment:function(x){this._.output.push('<!--',x,'-->');},write:function(x){this._.output.push(x);},reset:function(){this._.output=[];this._.indent=false;},getHtml:function(x){var y=this._.output.join('');if(x)this.reset();return y;}}});delete m.loadFullCore;m.instances={};m.document=new s(document);m.add=function(x){m.instances[x.name]=x;x.on('focus',function(){if(m.currentInstance!=x){m.currentInstance=x;m.fire('currentInstance');}});x.on('blur',function(){if(m.currentInstance==x){m.currentInstance=null;m.fire('currentInstance');}});};m.remove=function(x){delete m.instances[x.name];};m.on('instanceDestroyed',function(){if(q.isEmpty(this.instances))m.fire('reset');});m.TRISTATE_ON=1;m.TRISTATE_OFF=2;m.TRISTATE_DISABLED=0;p.comment=q.createClass({base:p.node,$:function(x,y){if(typeof x=='string')x=(y?y.$:document).createComment(x);this.base(x);},proto:{type:8,getOuterHtml:function(){return '<!--'+this.$.nodeValue+'-->';}}});(function(){var x={address:1,blockquote:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,li:1,dt:1,dd:1,legend:1},y={body:1,div:1,table:1,tbody:1,tr:1,td:1,th:1,caption:1,form:1,fieldset:1},z=function(A){var B=A.getChildren();for(var C=0,D=B.count();C<D;C++){var E=B.getItem(C);if(E.type==1&&r.$block[E.getName()])return true;}return false;};p.elementPath=function(A){var G=this;var B=null,C=null,D=[],E=A;while(E){if(E.type==1){if(!G.lastElement)G.lastElement=E;var F=E.getName();if(o&&E.$.scopeName!='HTML')F=E.$.scopeName.toLowerCase()+':'+F;if(!C){if(!B&&x[F])B=E;if(y[F])if(!B&&F=='div'&&!z(E))B=E;else C=E;}D.push(E);if(F=='body')break;}E=E.getParent();
}G.block=B;G.blockLimit=C;G.elements=D;};})();p.elementPath.prototype={compare:function(x){var y=this.elements,z=x&&x.elements;if(!z||y.length!=z.length)return false;for(var A=0;A<y.length;A++){if(!y[A].equals(z[A]))return false;}return true;},contains:function(x){var y=this.elements;for(var z=0;z<y.length;z++){if(y[z].getName() in x)return y[z];}return null;}};p.text=function(x,y){if(typeof x=='string')x=(y?y.$:document).createTextNode(x);this.$=x;};p.text.prototype=new p.node();q.extend(p.text.prototype,{type:3,getLength:function(){return this.$.nodeValue.length;},getText:function(){return this.$.nodeValue;},split:function(x){var C=this;if(o&&x==C.getLength()){var y=C.getDocument().createText('');y.insertAfter(C);return y;}var z=C.getDocument(),A=new p.text(C.$.splitText(x),z);if(n.ie8){var B=new p.text('',z);B.insertAfter(A);B.remove();}return A;},substring:function(x,y){if(typeof y!='number')return this.$.nodeValue.substr(x);else return this.$.nodeValue.substring(x,y);}});p.documentFragment=function(x){x=x||m.document;this.$=x.$.createDocumentFragment();};q.extend(p.documentFragment.prototype,t.prototype,{type:11,insertAfterNode:function(x){x=x.$;x.parentNode.insertBefore(this.$,x.nextSibling);}},true,{append:1,appendBogus:1,getFirst:1,getLast:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1});(function(){function x(E,F){if(this._.end)return null;var G,H=this.range,I,J=this.guard,K=this.type,L=E?'getPreviousSourceNode':'getNextSourceNode';if(!this._.start){this._.start=1;H.trim();if(H.collapsed){this.end();return null;}}if(!E&&!this._.guardLTR){var M=H.endContainer,N=M.getChild(H.endOffset);this._.guardLTR=function(R,S){return(!S||!M.equals(R))&&(!N||!R.equals(N))&&(R.type!=1||!S||R.getName()!='body');};}if(E&&!this._.guardRTL){var O=H.startContainer,P=H.startOffset>0&&O.getChild(H.startOffset-1);this._.guardRTL=function(R,S){return(!S||!O.equals(R))&&(!P||!R.equals(P))&&(R.type!=1||!S||R.getName()!='body');};}var Q=E?this._.guardRTL:this._.guardLTR;if(J)I=function(R,S){if(Q(R,S)===false)return false;return J(R,S);};else I=Q;if(this.current)G=this.current[L](false,K,I);else if(E){G=H.endContainer;if(H.endOffset>0){G=G.getChild(H.endOffset-1);if(I(G)===false)G=null;}else G=I(G,true)===false?null:G.getPreviousSourceNode(true,K,I);}else{G=H.startContainer;G=G.getChild(H.startOffset);if(G){if(I(G)===false)G=null;}else G=I(H.startContainer,true)===false?null:H.startContainer.getNextSourceNode(true,K,I);
}while(G&&!this._.end){this.current=G;if(!this.evaluator||this.evaluator(G)!==false){if(!F)return G;}else if(F&&this.evaluator)return false;G=G[L](false,K,I);}this.end();return this.current=null;};function y(E){var F,G=null;while(F=x.call(this,E))G=F;return G;};p.walker=q.createClass({$:function(E){this.range=E;this._={};},proto:{end:function(){this._.end=1;},next:function(){return x.call(this);},previous:function(){return x.call(this,1);},checkForward:function(){return x.call(this,0,1)!==false;},checkBackward:function(){return x.call(this,1,1)!==false;},lastForward:function(){return y.call(this);},lastBackward:function(){return y.call(this,1);},reset:function(){delete this.current;this._={};}}});var z={block:1,'list-item':1,table:1,'table-row-group':1,'table-header-group':1,'table-footer-group':1,'table-row':1,'table-column-group':1,'table-column':1,'table-cell':1,'table-caption':1};t.prototype.isBlockBoundary=function(E){var F=q.extend({},r.$block,E||{});return this.getComputedStyle('float')=='none'&&z[this.getComputedStyle('display')]||F[this.getName()];};p.walker.blockBoundary=function(E){return function(F,G){return!(F.type==1&&F.isBlockBoundary(E));};};p.walker.listItemBoundary=function(){return this.blockBoundary({br:1});};p.walker.bookmark=function(E,F){function G(H){return H&&H.getName&&H.getName()=='span'&&H.data('cke-bookmark');};return function(H){var I,J;I=H&&!H.getName&&(J=H.getParent())&&G(J);I=E?I:I||G(H);return!!(F^I);};};p.walker.whitespaces=function(E){return function(F){var G=F&&F.type==3&&!q.trim(F.getText());return!!(E^G);};};p.walker.invisible=function(E){var F=p.walker.whitespaces();return function(G){var H=F(G)||G.is&&!G.$.offsetHeight;return!!(E^H);};};p.walker.nodeType=function(E,F){return function(G){return!!(F^G.type==E);};};var A=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,B=p.walker.whitespaces(),C=p.walker.bookmark(),D=function(E){return C(E)||B(E)||E.type==1&&E.getName() in r.$inline&&!(E.getName() in r.$empty);};t.prototype.getBogus=function(){var E=this;do E=E.getPreviousSourceNode();while(D(E))if(E&&(!o?E.is&&E.is('br'):E.getText&&A.test(E.getText())))return E;return false;};})();p.range=function(x){var y=this;y.startContainer=null;y.startOffset=null;y.endContainer=null;y.endOffset=null;y.collapsed=true;y.document=x;};(function(){var x=function(F){F.collapsed=F.startContainer&&F.endContainer&&F.startContainer.equals(F.endContainer)&&F.startOffset==F.endOffset;},y=function(F,G,H,I){F.optimizeBookmark();var J=F.startContainer,K=F.endContainer,L=F.startOffset,M=F.endOffset,N,O;
if(K.type==3)K=K.split(M);else if(K.getChildCount()>0)if(M>=K.getChildCount()){K=K.append(F.document.createText(''));O=true;}else K=K.getChild(M);if(J.type==3){J.split(L);if(J.equals(K))K=J.getNext();}else if(!L){J=J.getFirst().insertBeforeMe(F.document.createText(''));N=true;}else if(L>=J.getChildCount()){J=J.append(F.document.createText(''));N=true;}else J=J.getChild(L).getPrevious();var P=J.getParents(),Q=K.getParents(),R,S,T;for(R=0;R<P.length;R++){S=P[R];T=Q[R];if(!S.equals(T))break;}var U=H,V,W,X,Y;for(var Z=R;Z<P.length;Z++){V=P[Z];if(U&&!V.equals(J))W=U.append(V.clone());X=V.getNext();while(X){if(X.equals(Q[Z])||X.equals(K))break;Y=X.getNext();if(G==2)U.append(X.clone(true));else{X.remove();if(G==1)U.append(X);}X=Y;}if(U)U=W;}U=H;for(var aa=R;aa<Q.length;aa++){V=Q[aa];if(G>0&&!V.equals(K))W=U.append(V.clone());if(!P[aa]||V.$.parentNode!=P[aa].$.parentNode){X=V.getPrevious();while(X){if(X.equals(P[aa])||X.equals(J))break;Y=X.getPrevious();if(G==2)U.$.insertBefore(X.$.cloneNode(true),U.$.firstChild);else{X.remove();if(G==1)U.$.insertBefore(X.$,U.$.firstChild);}X=Y;}}if(U)U=W;}if(G==2){var ab=F.startContainer;if(ab.type==3){ab.$.data+=ab.$.nextSibling.data;ab.$.parentNode.removeChild(ab.$.nextSibling);}var ac=F.endContainer;if(ac.type==3&&ac.$.nextSibling){ac.$.data+=ac.$.nextSibling.data;ac.$.parentNode.removeChild(ac.$.nextSibling);}}else{if(S&&T&&(J.$.parentNode!=S.$.parentNode||K.$.parentNode!=T.$.parentNode)){var ad=T.getIndex();if(N&&T.$.parentNode==J.$.parentNode)ad--;if(I&&S.type==1){var ae=t.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',F.document);ae.insertAfter(S);S.mergeSiblings(false);F.moveToBookmark({startNode:ae});}else F.setStart(T.getParent(),ad);}F.collapse(true);}if(N)J.remove();if(O&&K.$.parentNode)K.remove();},z={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,'var':1};function A(F){var G=false,H=p.walker.bookmark(true);return function(I){if(H(I))return true;if(I.type==3){if(q.trim(I.getText()).length)return false;}else if(I.type==1)if(!z[I.getName()])if(!F&&!o&&I.getName()=='br'&&!G)G=true;else return false;return true;};};function B(F){return F.type!=3&&F.getName() in r.$removeEmpty||!q.trim(F.getText())||!!F.getParent().data('cke-bookmark');};var C=new p.walker.whitespaces(),D=new p.walker.bookmark();function E(F){return!C(F)&&!D(F);};p.range.prototype={clone:function(){var G=this;var F=new p.range(G.document);
F.startContainer=G.startContainer;F.startOffset=G.startOffset;F.endContainer=G.endContainer;F.endOffset=G.endOffset;F.collapsed=G.collapsed;return F;},collapse:function(F){var G=this;if(F){G.endContainer=G.startContainer;G.endOffset=G.startOffset;}else{G.startContainer=G.endContainer;G.startOffset=G.endOffset;}G.collapsed=true;},cloneContents:function(){var F=new p.documentFragment(this.document);if(!this.collapsed)y(this,2,F);return F;},deleteContents:function(F){if(this.collapsed)return;y(this,0,null,F);},extractContents:function(F){var G=new p.documentFragment(this.document);if(!this.collapsed)y(this,1,G,F);return G;},createBookmark:function(F){var L=this;var G,H,I,J,K=L.collapsed;G=L.document.createElement('span');G.data('cke-bookmark',1);G.setStyle('display','none');G.setHtml('&nbsp;');if(F){I='cke_bm_'+q.getNextNumber();G.setAttribute('id',I+'S');}if(!K){H=G.clone();H.setHtml('&nbsp;');if(F)H.setAttribute('id',I+'E');J=L.clone();J.collapse();J.insertNode(H);}J=L.clone();J.collapse(true);J.insertNode(G);if(H){L.setStartAfter(G);L.setEndBefore(H);}else L.moveToPosition(G,4);return{startNode:F?I+'S':G,endNode:F?I+'E':H,serializable:F,collapsed:K};},createBookmark2:function(F){var N=this;var G=N.startContainer,H=N.endContainer,I=N.startOffset,J=N.endOffset,K=N.collapsed,L,M;if(!G||!H)return{start:0,end:0};if(F){if(G.type==1){L=G.getChild(I);if(L&&L.type==3&&I>0&&L.getPrevious().type==3){G=L;I=0;}}while(G.type==3&&(M=G.getPrevious())&&M.type==3){G=M;I+=M.getLength();}if(!K){if(H.type==1){L=H.getChild(J);if(L&&L.type==3&&J>0&&L.getPrevious().type==3){H=L;J=0;}}while(H.type==3&&(M=H.getPrevious())&&M.type==3){H=M;J+=M.getLength();}}}return{start:G.getAddress(F),end:K?null:H.getAddress(F),startOffset:I,endOffset:J,normalized:F,collapsed:K,is2:true};},moveToBookmark:function(F){var N=this;if(F.is2){var G=N.document.getByAddress(F.start,F.normalized),H=F.startOffset,I=F.end&&N.document.getByAddress(F.end,F.normalized),J=F.endOffset;N.setStart(G,H);if(I)N.setEnd(I,J);else N.collapse(true);}else{var K=F.serializable,L=K?N.document.getById(F.startNode):F.startNode,M=K?N.document.getById(F.endNode):F.endNode;N.setStartBefore(L);L.remove();if(M){N.setEndBefore(M);M.remove();}else N.collapse(true);}},getBoundaryNodes:function(){var K=this;var F=K.startContainer,G=K.endContainer,H=K.startOffset,I=K.endOffset,J;if(F.type==1){J=F.getChildCount();if(J>H)F=F.getChild(H);else if(J<1)F=F.getPreviousSourceNode();else{F=F.$;while(F.lastChild)F=F.lastChild;F=new p.node(F);F=F.getNextSourceNode()||F;
}}if(G.type==1){J=G.getChildCount();if(J>I)G=G.getChild(I).getPreviousSourceNode(true);else if(J<1)G=G.getPreviousSourceNode();else{G=G.$;while(G.lastChild)G=G.lastChild;G=new p.node(G);}}if(F.getPosition(G)&2)F=G;return{startNode:F,endNode:G};},getCommonAncestor:function(F,G){var K=this;var H=K.startContainer,I=K.endContainer,J;if(H.equals(I)){if(F&&H.type==1&&K.startOffset==K.endOffset-1)J=H.getChild(K.startOffset);else J=H;}else J=H.getCommonAncestor(I);return G&&!J.is?J.getParent():J;},optimize:function(){var H=this;var F=H.startContainer,G=H.startOffset;if(F.type!=1)if(!G)H.setStartBefore(F);else if(G>=F.getLength())H.setStartAfter(F);F=H.endContainer;G=H.endOffset;if(F.type!=1)if(!G)H.setEndBefore(F);else if(G>=F.getLength())H.setEndAfter(F);},optimizeBookmark:function(){var H=this;var F=H.startContainer,G=H.endContainer;if(F.is&&F.is('span')&&F.data('cke-bookmark'))H.setStartAt(F,3);if(G&&G.is&&G.is('span')&&G.data('cke-bookmark'))H.setEndAt(G,4);},trim:function(F,G){var N=this;var H=N.startContainer,I=N.startOffset,J=N.collapsed;if((!F||J)&&H&&H.type==3){if(!I){I=H.getIndex();H=H.getParent();}else if(I>=H.getLength()){I=H.getIndex()+1;H=H.getParent();}else{var K=H.split(I);I=H.getIndex()+1;H=H.getParent();if(N.startContainer.equals(N.endContainer))N.setEnd(K,N.endOffset-N.startOffset);else if(H.equals(N.endContainer))N.endOffset+=1;}N.setStart(H,I);if(J){N.collapse(true);return;}}var L=N.endContainer,M=N.endOffset;if(!(G||J)&&L&&L.type==3){if(!M){M=L.getIndex();L=L.getParent();}else if(M>=L.getLength()){M=L.getIndex()+1;L=L.getParent();}else{L.split(M);M=L.getIndex()+1;L=L.getParent();}N.setEnd(L,M);}},enlarge:function(F,G){switch(F){case 1:if(this.collapsed)return;var H=this.getCommonAncestor(),I=this.document.getBody(),J,K,L,M,N,O=false,P,Q,R=this.startContainer,S=this.startOffset;if(R.type==3){if(S){R=!q.trim(R.substring(0,S)).length&&R;O=!!R;}if(R)if(!(M=R.getPrevious()))L=R.getParent();}else{if(S)M=R.getChild(S-1)||R.getLast();if(!M)L=R;}while(L||M){if(L&&!M){if(!N&&L.equals(H))N=true;if(!I.contains(L))break;if(!O||L.getComputedStyle('display')!='inline'){O=false;if(N)J=L;else this.setStartBefore(L);}M=L.getPrevious();}while(M){P=false;if(M.type==3){Q=M.getText();if(/[^\s\ufeff]/.test(Q))M=null;P=/[\s\ufeff]$/.test(Q);}else if((M.$.offsetWidth>0||G&&M.is('br'))&&!M.data('cke-bookmark'))if(O&&r.$removeEmpty[M.getName()]){Q=M.getText();if(/[^\s\ufeff]/.test(Q))M=null;else{var T=M.$.all||M.$.getElementsByTagName('*');for(var U=0,V;V=T[U++];){if(!r.$removeEmpty[V.nodeName.toLowerCase()]){M=null;
break;}}}if(M)P=!!Q.length;}else M=null;if(P)if(O){if(N)J=L;else if(L)this.setStartBefore(L);}else O=true;if(M){var W=M.getPrevious();if(!L&&!W){L=M;M=null;break;}M=W;}else L=null;}if(L)L=L.getParent();}R=this.endContainer;S=this.endOffset;L=M=null;N=O=false;if(R.type==3){R=!q.trim(R.substring(S)).length&&R;O=!(R&&R.getLength());if(R)if(!(M=R.getNext()))L=R.getParent();}else{M=R.getChild(S);if(!M)L=R;}while(L||M){if(L&&!M){if(!N&&L.equals(H))N=true;if(!I.contains(L))break;if(!O||L.getComputedStyle('display')!='inline'){O=false;if(N)K=L;else if(L)this.setEndAfter(L);}M=L.getNext();}while(M){P=false;if(M.type==3){Q=M.getText();if(/[^\s\ufeff]/.test(Q))M=null;P=/^[\s\ufeff]/.test(Q);}else if((M.$.offsetWidth>0||G&&M.is('br'))&&!M.data('cke-bookmark'))if(O&&r.$removeEmpty[M.getName()]){Q=M.getText();if(/[^\s\ufeff]/.test(Q))M=null;else{T=M.$.all||M.$.getElementsByTagName('*');for(U=0;V=T[U++];){if(!r.$removeEmpty[V.nodeName.toLowerCase()]){M=null;break;}}}if(M)P=!!Q.length;}else M=null;if(P)if(O)if(N)K=L;else this.setEndAfter(L);if(M){W=M.getNext();if(!L&&!W){L=M;M=null;break;}M=W;}else L=null;}if(L)L=L.getParent();}if(J&&K){H=J.contains(K)?K:J;this.setStartBefore(H);this.setEndAfter(H);}break;case 2:case 3:var X=new p.range(this.document);I=this.document.getBody();X.setStartAt(I,1);X.setEnd(this.startContainer,this.startOffset);var Y=new p.walker(X),Z,aa,ab=p.walker.blockBoundary(F==3?{br:1}:null),ac=function(ae){var af=ab(ae);if(!af)Z=ae;return af;},ad=function(ae){var af=ac(ae);if(!af&&ae.is&&ae.is('br'))aa=ae;return af;};Y.guard=ac;L=Y.lastBackward();Z=Z||I;this.setStartAt(Z,!Z.is('br')&&(!L&&this.checkStartOfBlock()||L&&Z.contains(L))?1:4);X=this.clone();X.collapse();X.setEndAt(I,2);Y=new p.walker(X);Y.guard=F==3?ad:ac;Z=null;L=Y.lastForward();Z=Z||I;this.setEndAt(Z,!L&&this.checkEndOfBlock()||L&&Z.contains(L)?2:3);if(aa)this.setEndAfter(aa);}},shrink:function(F,G){if(!this.collapsed){F=F||2;var H=this.clone(),I=this.startContainer,J=this.endContainer,K=this.startOffset,L=this.endOffset,M=this.collapsed,N=1,O=1;if(I&&I.type==3)if(!K)H.setStartBefore(I);else if(K>=I.getLength())H.setStartAfter(I);else{H.setStartBefore(I);N=0;}if(J&&J.type==3)if(!L)H.setEndBefore(J);else if(L>=J.getLength())H.setEndAfter(J);else{H.setEndAfter(J);O=0;}var P=new p.walker(H),Q=p.walker.bookmark();P.evaluator=function(U){return U.type==(F==1?1:3);};var R;P.guard=function(U,V){if(Q(U))return true;if(F==1&&U.type==3)return false;if(V&&U.equals(R))return false;if(!V&&U.type==1)R=U;
return true;};if(N){var S=P[F==1?'lastForward':'next']();S&&this.setStartAt(S,G?1:3);}if(O){P.reset();var T=P[F==1?'lastBackward':'previous']();T&&this.setEndAt(T,G?2:4);}return!!(N||O);}},insertNode:function(F){var J=this;J.optimizeBookmark();J.trim(false,true);var G=J.startContainer,H=J.startOffset,I=G.getChild(H);if(I)F.insertBefore(I);else G.append(F);if(F.getParent().equals(J.endContainer))J.endOffset++;J.setStartBefore(F);},moveToPosition:function(F,G){this.setStartAt(F,G);this.collapse(true);},selectNodeContents:function(F){this.setStart(F,0);this.setEnd(F,F.type==3?F.getLength():F.getChildCount());},setStart:function(F,G){var H=this;if(F.type==1&&r.$empty[F.getName()])G=F.getIndex(),F=F.getParent();H.startContainer=F;H.startOffset=G;if(!H.endContainer){H.endContainer=F;H.endOffset=G;}x(H);},setEnd:function(F,G){var H=this;if(F.type==1&&r.$empty[F.getName()])G=F.getIndex()+1,F=F.getParent();H.endContainer=F;H.endOffset=G;if(!H.startContainer){H.startContainer=F;H.startOffset=G;}x(H);},setStartAfter:function(F){this.setStart(F.getParent(),F.getIndex()+1);},setStartBefore:function(F){this.setStart(F.getParent(),F.getIndex());},setEndAfter:function(F){this.setEnd(F.getParent(),F.getIndex()+1);},setEndBefore:function(F){this.setEnd(F.getParent(),F.getIndex());},setStartAt:function(F,G){var H=this;switch(G){case 1:H.setStart(F,0);break;case 2:if(F.type==3)H.setStart(F,F.getLength());else H.setStart(F,F.getChildCount());break;case 3:H.setStartBefore(F);break;case 4:H.setStartAfter(F);}x(H);},setEndAt:function(F,G){var H=this;switch(G){case 1:H.setEnd(F,0);break;case 2:if(F.type==3)H.setEnd(F,F.getLength());else H.setEnd(F,F.getChildCount());break;case 3:H.setEndBefore(F);break;case 4:H.setEndAfter(F);}x(H);},fixBlock:function(F,G){var J=this;var H=J.createBookmark(),I=J.document.createElement(G);J.collapse(F);J.enlarge(2);J.extractContents().appendTo(I);I.trim();if(!o)I.appendBogus();J.insertNode(I);J.moveToBookmark(H);return I;},splitBlock:function(F){var P=this;var G=new p.elementPath(P.startContainer),H=new p.elementPath(P.endContainer),I=G.blockLimit,J=H.blockLimit,K=G.block,L=H.block,M=null;if(!I.equals(J))return null;if(F!='br'){if(!K){K=P.fixBlock(true,F);L=new p.elementPath(P.endContainer).block;}if(!L)L=P.fixBlock(false,F);}var N=K&&P.checkStartOfBlock(),O=L&&P.checkEndOfBlock();P.deleteContents();if(K&&K.equals(L))if(O){M=new p.elementPath(P.startContainer);P.moveToPosition(L,4);L=null;}else if(N){M=new p.elementPath(P.startContainer);P.moveToPosition(K,3);
K=null;}else{L=P.splitElement(K);if(!o&&!K.is('ul','ol'))K.appendBogus();}return{previousBlock:K,nextBlock:L,wasStartOfBlock:N,wasEndOfBlock:O,elementPath:M};},splitElement:function(F){var I=this;if(!I.collapsed)return null;I.setEndAt(F,2);var G=I.extractContents(),H=F.clone(false);G.appendTo(H);H.insertAfter(F);I.moveToPosition(F,4);return H;},checkBoundaryOfElement:function(F,G){var H=G==1,I=this.clone();I.collapse(H);I[H?'setStartAt':'setEndAt'](F,H?1:2);var J=new p.walker(I);J.evaluator=B;return J[H?'checkBackward':'checkForward']();},checkStartOfBlock:function(){var L=this;var F=L.startContainer,G=L.startOffset;if(G&&F.type==3){var H=q.ltrim(F.substring(0,G));if(H.length)return false;}L.trim();var I=new p.elementPath(L.startContainer),J=L.clone();J.collapse(true);J.setStartAt(I.block||I.blockLimit,1);var K=new p.walker(J);K.evaluator=A(true);return K.checkBackward();},checkEndOfBlock:function(){var L=this;var F=L.endContainer,G=L.endOffset;if(F.type==3){var H=q.rtrim(F.substring(G));if(H.length)return false;}L.trim();var I=new p.elementPath(L.endContainer),J=L.clone();J.collapse(false);J.setEndAt(I.block||I.blockLimit,2);var K=new p.walker(J);K.evaluator=A(false);return K.checkForward();},checkReadOnly:(function(){function F(G,H){while(G){if(G.type==1)if(G.getAttribute('contentEditable')=='false'&&!G.data('cke-editable'))return 0;else if(G.is('body')||G.getAttribute('contentEditable')=='true'&&(G.contains(H)||G.equals(H)))break;G=G.getParent();}return 1;};return function(){var G=this.startContainer,H=this.endContainer;return!(F(G,H)&&F(H,G));};})(),moveToElementEditablePosition:function(F,G){var H;if(r.$empty[F.getName()])return false;while(F&&F.type==1){H=F.isEditable();if(H)this.moveToPosition(F,G?2:1);else if(r.$inline[F.getName()]){this.moveToPosition(F,G?4:3);return true;}if(r.$empty[F.getName()])F=F[G?'getPrevious':'getNext'](E);else F=F[G?'getLast':'getFirst'](E);if(F&&F.type==3){this.moveToPosition(F,G?4:3);return true;}}return H;},moveToElementEditStart:function(F){return this.moveToElementEditablePosition(F);},moveToElementEditEnd:function(F){return this.moveToElementEditablePosition(F,true);},getEnclosedNode:function(){var F=this.clone();F.optimize();if(F.startContainer.type!=1||F.endContainer.type!=1)return null;var G=new p.walker(F),H=p.walker.bookmark(true),I=p.walker.whitespaces(true),J=function(L){return I(L)&&H(L);};F.evaluator=J;var K=G.next();G.reset();return K&&K.equals(G.previous())?K:null;},getTouchedStartNode:function(){var F=this.startContainer;
if(this.collapsed||F.type!=1)return F;return F.getChild(this.startOffset)||F;},getTouchedEndNode:function(){var F=this.endContainer;if(this.collapsed||F.type!=1)return F;return F.getChild(this.endOffset-1)||F;}};})();m.POSITION_AFTER_START=1;m.POSITION_BEFORE_END=2;m.POSITION_BEFORE_START=3;m.POSITION_AFTER_END=4;m.ENLARGE_ELEMENT=1;m.ENLARGE_BLOCK_CONTENTS=2;m.ENLARGE_LIST_ITEM_CONTENTS=3;m.START=1;m.END=2;m.STARTEND=3;m.SHRINK_ELEMENT=1;m.SHRINK_TEXT=2;(function(){p.rangeList=function(z){if(z instanceof p.rangeList)return z;if(!z)z=[];else if(z instanceof p.range)z=[z];return q.extend(z,x);};var x={createIterator:function(){var z=this,A=p.walker.bookmark(),B=function(E){return!(E.is&&E.is('tr'));},C=[],D;return{getNextRange:function(E){D=D==undefined?0:D+1;var F=z[D];if(F&&z.length>1){if(!D)for(var G=z.length-1;G>=0;G--)C.unshift(z[G].createBookmark(true));if(E){var H=0;while(z[D+H+1]){var I=F.document,J=0,K=I.getById(C[H].endNode),L=I.getById(C[H+1].startNode),M;while(1){M=K.getNextSourceNode(false);if(!L.equals(M)){if(A(M)||M.type==1&&M.isBlockBoundary()){K=M;continue;}}else J=1;break;}if(!J)break;H++;}}F.moveToBookmark(C.shift());while(H--){M=z[++D];M.moveToBookmark(C.shift());F.setEnd(M.endContainer,M.endOffset);}}return F;}};},createBookmarks:function(z){var E=this;var A=[],B;for(var C=0;C<E.length;C++){A.push(B=E[C].createBookmark(z,true));for(var D=C+1;D<E.length;D++){E[D]=y(B,E[D]);E[D]=y(B,E[D],true);}}return A;},createBookmarks2:function(z){var A=[];for(var B=0;B<this.length;B++)A.push(this[B].createBookmark2(z));return A;},moveToBookmarks:function(z){for(var A=0;A<this.length;A++)this[A].moveToBookmark(z[A]);}};function y(z,A,B){var C=z.serializable,D=A[B?'endContainer':'startContainer'],E=B?'endOffset':'startOffset',F=C?A.document.getById(z.startNode):z.startNode,G=C?A.document.getById(z.endNode):z.endNode;if(D.equals(F.getPrevious())){A.startOffset=A.startOffset-D.getLength()-G.getPrevious().getLength();D=G.getNext();}else if(D.equals(G.getPrevious())){A.startOffset=A.startOffset-D.getLength();D=G.getNext();}D.equals(F.getParent())&&A[E]++;D.equals(G.getParent())&&A[E]++;A[B?'endContainer':'startContainer']=D;return A;};})();(function(){if(n.webkit){n.hc=false;return;}var x=o&&n.version<7,y=o&&n.version==7,z=x?m.basePath+'images/spacer.gif':y?'about:blank':'data:image/png;base64,',A=t.createFromHtml('<div style="width:0px;height:0px;position:absolute;left:-10000px;background-image:url('+z+')"></div>',m.document);A.appendTo(m.document.getHead());
try{n.hc=A.getComputedStyle('background-image')=='none';}catch(B){n.hc=false;}if(n.hc)n.cssClass+=' cke_hc';A.remove();})();v.load(u.corePlugins.split(','),function(){m.status='loaded';m.fire('loaded');var x=m._.pending;if(x){delete m._.pending;for(var y=0;y<x.length;y++)m.add(x[y]);}});if(o)try{document.execCommand('BackgroundImageCache',false,true);}catch(x){}m.skins.add('kama',(function(){var y='cke_ui_color';return{editor:{css:['editor.css']},dialog:{css:['dialog.css']},templates:{css:['templates.css']},margins:[0,0,0,0],init:function(z){if(z.config.width&&!isNaN(z.config.width))z.config.width-=12;var A=[],B=/\$color/g,C='/* UI Color Support */.cke_skin_kama .cke_menuitem .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_label,.cke_skin_kama .cke_menuitem a:focus .cke_label,.cke_skin_kama .cke_menuitem a:active .cke_label{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_label{\tbackground-color: transparent !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuseparator{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover,.cke_skin_kama .cke_menuitem a:focus,.cke_skin_kama .cke_menuitem a:active{\tbackground-color: $color !important;}';if(n.webkit){C=C.split('}').slice(0,-1);for(var D=0;D<C.length;D++)C[D]=C[D].split('{');}function E(H){var I=H.getById(y);if(!I){I=H.getHead().append('style');I.setAttribute('id',y);I.setAttribute('type','text/css');}return I;};function F(H,I,J){var K,L,M;for(var N=0;N<H.length;N++){if(n.webkit)for(L=0;L<I.length;L++){M=I[L][1];for(K=0;K<J.length;K++)M=M.replace(J[K][0],J[K][1]);H[N].$.sheet.addRule(I[L][0],M);}else{M=I;for(K=0;K<J.length;
K++)M=M.replace(J[K][0],J[K][1]);if(o)H[N].$.styleSheet.cssText+=M;else H[N].$.innerHTML+=M;}}};var G=/\$color/g;q.extend(z,{uiColor:null,getUiColor:function(){return this.uiColor;},setUiColor:function(H){var I,J=E(m.document),K='.'+z.id,L=[K+' .cke_wrapper',K+'_dialog .cke_dialog_contents',K+'_dialog a.cke_dialog_tab',K+'_dialog .cke_dialog_footer'].join(','),M='background-color: $color !important;';if(n.webkit)I=[[L,M]];else I=L+'{'+M+'}';return(this.setUiColor=function(N){var O=[[G,N]];z.uiColor=N;F([J],I,O);F(A,C,O);})(H);}});z.on('menuShow',function(H){var I=H.data[0],J=I.element.getElementsByTag('iframe').getItem(0).getFrameDocument();if(!J.getById('cke_ui_color')){var K=E(J);A.push(K);var L=z.getUiColor();if(L)F([K],C,[[G,L]]);}});if(z.config.uiColor)z.setUiColor(z.config.uiColor);}};})());(function(){m.dialog?y():m.on('dialogPluginReady',y);function y(){m.dialog.on('resize',function(z){var A=z.data,B=A.width,C=A.height,D=A.dialog,E=D.parts.contents;if(A.skin!='kama')return;E.setStyles({width:B+'px',height:C+'px'});});};})();m.lang.en={dir:'ltr',editorTitle:'Rich text editor, %1, press ALT 0 for help.',toolbar:'Toolbar',editor:'Rich Text Editor',source:'Wiki',newPage:'New Page',save:'Save',preview:'Preview',cut:'Cut',copy:'Copy',paste:'Paste',print:'Print',underline:'Underline',bold:'Bold',italic:'Italic',selectAll:'Select All',removeFormat:'Remove Format',strike:'Strike Through',subscript:'Subscript',superscript:'Superscript',horizontalrule:'Insert Horizontal Line',pagebreak:'Insert Page Break for Printing',pagebreakAlt:'Page Break',unlink:'Unlink',undo:'Undo',redo:'Redo',common:{browseServer:'Browse Server',url:'URL',protocol:'Protocol',upload:'Upload',uploadSubmit:'Send it to the Server',image:'Image',flash:'Flash',form:'Form',checkbox:'Checkbox',radio:'Radio Button',textField:'Text Field',textarea:'Textarea',hiddenField:'Hidden Field',button:'Button',select:'Selection Field',imageButton:'Image Button',notSet:'<not set>',id:'Id',name:'Name',langDir:'Language Direction',langDirLtr:'Left to Right (LTR)',langDirRtl:'Right to Left (RTL)',langCode:'Language Code',longDescr:'Long Description URL',cssClass:'Stylesheet Classes',advisoryTitle:'Advisory Title',cssStyle:'Style',ok:'OK',cancel:'Cancel',close:'Close',preview:'Preview',generalTab:'General',advancedTab:'Advanced',validateNumberFailed:'This value is not a number.',confirmNewPage:'Any unsaved changes to this content will be lost. Are you sure you want to load new page?',confirmCancel:'Some of the options have been changed. Are you sure to close the dialog?',options:'Options',target:'Target',targetNew:'New Window (_blank)',targetTop:'Topmost Window (_top)',targetSelf:'Same Window (_self)',targetParent:'Parent Window (_parent)',langDirLTR:'Left to Right (LTR)',langDirRTL:'Right to Left (RTL)',styles:'Style',cssClasses:'Stylesheet Classes',width:'Width',height:'Height',align:'Alignment',alignLeft:'Left',alignRight:'Right',alignCenter:'Center',alignTop:'Top',alignMiddle:'Middle',alignBottom:'Bottom',invalidHeight:'Height must be a number.',invalidWidth:'Width must be a number.',unavailable:'%1<span class="cke_accessibility">, unavailable</span>'},contextmenu:{options:'Context Menu Options'},specialChar:{toolbar:'Insert Special Character',title:'Select Special Character',options:'Special Character Options'},link:{toolbar:'Link',other:'<other>',menu:'Edit Link',title:'Link',info:'Link Info',target:'Target',upload:'Upload',advanced:'Advanced',type:'Link Type',toUrl:'URL',toAnchor:'Link to anchor in the text',toEmail:'E-mail',targetFrame:'<frame>',targetPopup:'<popup window>',targetFrameName:'Target Frame Name',targetPopupName:'Popup Window Name',popupFeatures:'Popup Window Features',popupResizable:'Resizable',popupStatusBar:'Status Bar',popupLocationBar:'Location Bar',popupToolbar:'Toolbar',popupMenuBar:'Menu Bar',popupFullScreen:'Full Screen (IE)',popupScrollBars:'Scroll Bars',popupDependent:'Dependent (Netscape)',popupLeft:'Left Position',popupTop:'Top Position',id:'Id',langDir:'Language Direction',langDirLTR:'Left to Right (LTR)',langDirRTL:'Right to Left (RTL)',acccessKey:'Access Key',name:'Name',langCode:'Language Code',tabIndex:'Tab Index',advisoryTitle:'Advisory Title',advisoryContentType:'Advisory Content Type',cssClasses:'Stylesheet Classes',charset:'Linked Resource Charset',styles:'Style',selectAnchor:'Select an Anchor',anchorName:'By Anchor Name',anchorId:'By Element Id',emailAddress:'E-Mail Address',emailSubject:'Message Subject',emailBody:'Message Body',noAnchors:'(No anchors available in the document)',noUrl:'Please type the link URL',noEmail:'Please type the e-mail address'},anchor:{toolbar:'Anchor',menu:'Edit Anchor',title:'Anchor Properties',name:'Anchor Name',errorName:'Please type the anchor name'},list:{numberedTitle:'Numbered List Properties',bulletedTitle:'Bulleted List Properties',type:'Type',start:'Start',validateStartNumber:'List start number must be a whole number.',circle:'Circle',disc:'Disc',square:'Square',none:'None',notset:'<not set>',armenian:'Armenian numbering',georgian:'Georgian numbering (an, ban, gan, etc.)',lowerRoman:'Lower Roman (i, ii, iii, iv, v, etc.)',upperRoman:'Upper Roman (I, II, III, IV, V, etc.)',lowerAlpha:'Lower Alpha (a, b, c, d, e, etc.)',upperAlpha:'Upper Alpha (A, B, C, D, E, etc.)',lowerGreek:'Lower Greek (alpha, beta, gamma, etc.)',decimal:'Decimal (1, 2, 3, etc.)',decimalLeadingZero:'Decimal leading zero (01, 02, 03, etc.)'},findAndReplace:{title:'Find and Replace',find:'Find',replace:'Replace',findWhat:'Find what:',replaceWith:'Replace with:',notFoundMsg:'The specified text was not found.',matchCase:'Match case',matchWord:'Match whole word',matchCyclic:'Match cyclic',replaceAll:'Replace All',replaceSuccessMsg:'%1 occurrence(s) replaced.'},table:{toolbar:'Table',title:'Table Properties',menu:'Table Properties',deleteTable:'Delete Table',rows:'Rows',columns:'Columns',border:'Border size',widthPx:'pixels',widthPc:'percent',widthUnit:'width unit',cellSpace:'Cell spacing',cellPad:'Cell padding',caption:'Caption',summary:'Summary',headers:'Headers',headersNone:'None',headersColumn:'First column',headersRow:'First Row',headersBoth:'Both',invalidRows:'Number of rows must be a number greater than 0.',invalidCols:'Number of columns must be a number greater than 0.',invalidBorder:'Border size must be a number.',invalidWidth:'Table width must be a number.',invalidHeight:'Table height must be a number.',invalidCellSpacing:'Cell spacing must be a number.',invalidCellPadding:'Cell padding must be a number.',cell:{menu:'Cell',insertBefore:'Insert Cell Before',insertAfter:'Insert Cell After',deleteCell:'Delete Cells',merge:'Merge Cells',mergeRight:'Merge Right',mergeDown:'Merge Down',splitHorizontal:'Split Cell Horizontally',splitVertical:'Split Cell Vertically',title:'Cell Properties',cellType:'Cell Type',rowSpan:'Rows Span',colSpan:'Columns Span',wordWrap:'Word Wrap',hAlign:'Horizontal Alignment',vAlign:'Vertical Alignment',alignBaseline:'Baseline',bgColor:'Background Color',borderColor:'Border Color',data:'Data',header:'Header',yes:'Yes',no:'No',invalidWidth:'Cell width must be a number.',invalidHeight:'Cell height must be a number.',invalidRowSpan:'Rows span must be a whole number.',invalidColSpan:'Columns span must be a whole number.',chooseColor:'Choose'},row:{menu:'Row',insertBefore:'Insert Row Before',insertAfter:'Insert Row After',deleteRow:'Delete Rows'},column:{menu:'Column',insertBefore:'Insert Column Before',insertAfter:'Insert Column After',deleteColumn:'Delete Columns'}},button:{title:'Button Properties',text:'Text (Value)',type:'Type',typeBtn:'Button',typeSbm:'Submit',typeRst:'Reset'},checkboxAndRadio:{checkboxTitle:'Checkbox Properties',radioTitle:'Radio Button Properties',value:'Value',selected:'Selected'},form:{title:'Form Properties',menu:'Form Properties',action:'Action',method:'Method',encoding:'Encoding'},select:{title:'Selection Field Properties',selectInfo:'Select Info',opAvail:'Available Options',value:'Value',size:'Size',lines:'lines',chkMulti:'Allow multiple selections',opText:'Text',opValue:'Value',btnAdd:'Add',btnModify:'Modify',btnUp:'Up',btnDown:'Down',btnSetValue:'Set as selected value',btnDelete:'Delete'},textarea:{title:'Textarea Properties',cols:'Columns',rows:'Rows'},textfield:{title:'Text Field Properties',name:'Name',value:'Value',charWidth:'Character Width',maxChars:'Maximum Characters',type:'Type',typeText:'Text',typePass:'Password'},hidden:{title:'Hidden Field Properties',name:'Name',value:'Value'},image:{title:'Image Properties',titleButton:'Image Button Properties',menu:'Image Properties',infoTab:'Image Info',btnUpload:'Send it to the Server',upload:'Upload',alt:'Alternative Text',lockRatio:'Lock Ratio',unlockRatio:'Unlock Ratio',resetSize:'Reset Size',border:'Border',hSpace:'HSpace',vSpace:'VSpace',alertUrl:'Please type the image URL',linkTab:'Link',button2Img:'Do you want to transform the selected image button on a simple image?',img2Button:'Do you want to transform the selected image on a image button?',urlMissing:'Image source URL is missing.',validateBorder:'Border must be a whole number.',validateHSpace:'HSpace must be a whole number.',validateVSpace:'VSpace must be a whole number.'},flash:{properties:'Flash Properties',propertiesTab:'Properties',title:'Flash Properties',chkPlay:'Auto Play',chkLoop:'Loop',chkMenu:'Enable Flash Menu',chkFull:'Allow Fullscreen',scale:'Scale',scaleAll:'Show all',scaleNoBorder:'No Border',scaleFit:'Exact Fit',access:'Script Access',accessAlways:'Always',accessSameDomain:'Same domain',accessNever:'Never',alignAbsBottom:'Abs Bottom',alignAbsMiddle:'Abs Middle',alignBaseline:'Baseline',alignTextTop:'Text Top',quality:'Quality',qualityBest:'Best',qualityHigh:'High',qualityAutoHigh:'Auto High',qualityMedium:'Medium',qualityAutoLow:'Auto Low',qualityLow:'Low',windowModeWindow:'Window',windowModeOpaque:'Opaque',windowModeTransparent:'Transparent',windowMode:'Window mode',flashvars:'Variables for Flash',bgcolor:'Background color',hSpace:'HSpace',vSpace:'VSpace',validateSrc:'URL must not be empty.',validateHSpace:'HSpace must be a number.',validateVSpace:'VSpace must be a number.'},spellCheck:{toolbar:'Check Spelling',title:'Spell Check',notAvailable:'Sorry, but service is unavailable now.',errorLoading:'Error loading application service host: %s.',notInDic:'Not in dictionary',changeTo:'Change to',btnIgnore:'Ignore',btnIgnoreAll:'Ignore All',btnReplace:'Replace',btnReplaceAll:'Replace All',btnUndo:'Undo',noSuggestions:'- No suggestions -',progress:'Spell check in progress...',noMispell:'Spell check complete: No misspellings found',noChanges:'Spell check complete: No words changed',oneChange:'Spell check complete: One word changed',manyChanges:'Spell check complete: %1 words changed',ieSpellDownload:'Spell checker not installed. Do you want to download it now?'},smiley:{toolbar:'Smiley',title:'Insert a Smiley',options:'Smiley Options'},elementsPath:{eleLabel:'Elements path',eleTitle:'%1 element'},numberedlist:'Insert/Remove Numbered List',bulletedlist:'Insert/Remove Bulleted List',indent:'Increase Indent',outdent:'Decrease Indent',justify:{left:'Align Left',center:'Center',right:'Align Right',block:'Justify'},blockquote:'Block Quote',clipboard:{title:'Paste',cutError:"Your browser security settings don't permit the editor to automatically execute cutting operations. Please use the keyboard for that (Ctrl/Cmd+X).",copyError:"Your browser security settings don't permit the editor to automatically execute copying operations. Please use the keyboard for that (Ctrl/Cmd+C).",pasteMsg:'Please paste inside the following box using the keyboard (<strong>Ctrl/Cmd+V</strong>) and hit OK',securityMsg:'Because of your browser security settings, the editor is not able to access your clipboard data directly. You are required to paste it again in this window.',pasteArea:'Paste Area'},pastefromword:{confirmCleanup:'The text you want to paste seems to be copied from Word. Do you want to clean it before pasting?',toolbar:'Paste from Word',title:'Paste from Word',error:'It was not possible to clean up the pasted data due to an internal error'},pasteText:{button:'Paste as plain text',title:'Paste as Plain Text'},templates:{button:'Templates',title:'Content Templates',options:'Template Options',insertOption:'Replace actual contents',selectPromptMsg:'Please select the template to open in the editor',emptyListMsg:'(No templates defined)'},showBlocks:'Show Blocks',stylesCombo:{label:'Styles',panelTitle:'Formatting Styles',panelTitle1:'Block Styles',panelTitle2:'Inline Styles',panelTitle3:'Object Styles'},format:{label:'Format',panelTitle:'Paragraph Format',tag_p:'Normal',tag_pre:'Formatted',tag_address:'Address',tag_h1:'Heading 1',tag_h2:'Heading 2',tag_h3:'Heading 3',tag_h4:'Heading 4',tag_h5:'Heading 5',tag_h6:'Heading 6',tag_div:'Normal (DIV)'},div:{title:'Create Div Container',toolbar:'Create Div Container',cssClassInputLabel:'Stylesheet Classes',styleSelectLabel:'Style',IdInputLabel:'Id',languageCodeInputLabel:' Language Code',inlineStyleInputLabel:'Inline Style',advisoryTitleInputLabel:'Advisory Title',langDirLabel:'Language Direction',langDirLTRLabel:'Left to Right (LTR)',langDirRTLLabel:'Right to Left (RTL)',edit:'Edit Div',remove:'Remove Div'},iframe:{title:'IFrame Properties',toolbar:'IFrame',noUrl:'Please type the iframe URL',scrolling:'Enable scrollbars',border:'Show frame border'},font:{label:'Font',voiceLabel:'Font',panelTitle:'Font Name'},fontSize:{label:'Size',voiceLabel:'Font Size',panelTitle:'Font Size'},colorButton:{textColorTitle:'Text Color',bgColorTitle:'Background Color',panelTitle:'Colors',auto:'Automatic',more:'More Colors...'},colors:{'000':'Black',800000:'Maroon','8B4513':'Saddle Brown','2F4F4F':'Dark Slate Gray','008080':'Teal','000080':'Navy','4B0082':'Indigo',696969:'Dark Gray',B22222:'Fire Brick',A52A2A:'Brown',DAA520:'Golden Rod','006400':'Dark Green','40E0D0':'Turquoise','0000CD':'Medium Blue',800080:'Purple',808080:'Gray',F00:'Red',FF8C00:'Dark Orange',FFD700:'Gold','008000':'Green','0FF':'Cyan','00F':'Blue',EE82EE:'Violet',A9A9A9:'Dim Gray',FFA07A:'Light Salmon',FFA500:'Orange',FFFF00:'Yellow','00FF00':'Lime',AFEEEE:'Pale Turquoise',ADD8E6:'Light Blue',DDA0DD:'Plum',D3D3D3:'Light Grey',FFF0F5:'Lavender Blush',FAEBD7:'Antique White',FFFFE0:'Light Yellow',F0FFF0:'Honeydew',F0FFFF:'Azure',F0F8FF:'Alice Blue',E6E6FA:'Lavender',FFF:'White'},scayt:{title:'Spell Check As You Type',opera_title:'Not supported by Opera',enable:'Enable SCAYT',disable:'Disable SCAYT',about:'About SCAYT',toggle:'Toggle SCAYT',options:'Options',langs:'Languages',moreSuggestions:'More suggestions',ignore:'Ignore',ignoreAll:'Ignore All',addWord:'Add Word',emptyDic:'Dictionary name should not be empty.',optionsTab:'Options',allCaps:'Ignore All-Caps Words',ignoreDomainNames:'Ignore Domain Names',mixedCase:'Ignore Words with Mixed Case',mixedWithDigits:'Ignore Words with Numbers',languagesTab:'Languages',dictionariesTab:'Dictionaries',dic_field_name:'Dictionary name',dic_create:'Create',dic_restore:'Restore',dic_delete:'Delete',dic_rename:'Rename',dic_info:'Initially the User Dictionary is stored in a Cookie. However, Cookies are limited in size. When the User Dictionary grows to a point where it cannot be stored in a Cookie, then the dictionary may be stored on our server. To store your personal dictionary on our server you should specify a name for your dictionary. If you already have a stored dictionary, please type its name and click the Restore button.',aboutTab:'About'},about:{title:'About CKEditor',dlgTitle:'About CKEditor',moreInfo:'For licensing information please visit our web site:',copy:'Copyright &copy; $1. All rights reserved.'},maximize:'Maximize',minimize:'Minimize',fakeobjects:{anchor:'Anchor',flash:'Flash Animation',iframe:'IFrame',hiddenfield:'Hidden Field',unknown:'Unknown Object'},resize:'Drag to resize',colordialog:{title:'Select color',options:'Color Options',highlight:'Highlight',selected:'Selected Color',clear:'Clear'},toolbarCollapse:'Collapse Toolbar',toolbarExpand:'Expand Toolbar',bidi:{ltr:'Text direction from left to right',rtl:'Text direction from right to left'}};
v.add('about',{requires:['dialog'],init:function(y){var z=y.addCommand('about',new m.dialogCommand('about'));z.modes={wysiwyg:1,source:1};z.canUndo=false;y.ui.addButton('About',{label:y.lang.about.title,command:'about'});m.dialog.add('about',this.path+'dialogs/about.js');}});(function(){var y='a11yhelp',z='a11yHelp';v.add(y,{availableLangs:{en:1,he:1},init:function(A){var B=this;A.addCommand(z,{exec:function(){var C=A.langCode;C=B.availableLangs[C]?C:'en';m.scriptLoader.load(m.getUrl(B.path+'lang/'+C+'.js'),function(){q.extend(A.lang,B.lang[C]);A.openDialog(z);});},modes:{wysiwyg:1,source:1},canUndo:false});m.dialog.add(z,this.path+'dialogs/a11yhelp.js');}});})();v.add('basicstyles',{requires:['styles','button'],init:function(y){var z=function(C,D,E,F){var G=new m.style(F);y.attachStyleStateChange(G,function(H){y.getCommand(E).setState(H);});y.addCommand(E,new m.styleCommand(G));y.ui.addButton(C,{label:D,command:E});},A=y.config,B=y.lang;z('Bold',B.bold,'bold',A.coreStyles_bold);z('Italic',B.italic,'italic',A.coreStyles_italic);z('Underline',B.underline,'underline',A.coreStyles_underline);z('Strike',B.strike,'strike',A.coreStyles_strike);z('Subscript',B.subscript,'subscript',A.coreStyles_subscript);z('Superscript',B.superscript,'superscript',A.coreStyles_superscript);}});u.coreStyles_bold={element:'strong',overrides:'b'};u.coreStyles_italic={element:'em',overrides:'i'};u.coreStyles_underline={element:'u'};u.coreStyles_strike={element:'strike'};u.coreStyles_subscript={element:'sub'};u.coreStyles_superscript={element:'sup'};(function(){var y={table:1,ul:1,ol:1,blockquote:1,div:1},z={},A={};q.extend(z,y,{tr:1,p:1,div:1,li:1});q.extend(A,z,{td:1});function B(I){C(I);D(I);};function C(I){var J=I.editor,K=I.data.path,L=J.config.useComputedState,M;L=L===undefined||L;if(!L)M=E(K.lastElement);M=M||K.block||K.blockLimit;M.is('body')&&(M=J.getSelection().getRanges()[0].getEnclosedNode());if(!M)return;var N=L?M.getComputedStyle('direction'):M.getStyle('direction')||M.getAttribute('dir');J.getCommand('bidirtl').setState(N=='rtl'?1:2);J.getCommand('bidiltr').setState(N=='ltr'?1:2);};function D(I){var J=I.editor,K=J.container.getChild(1),L=I.data.path.block||I.data.path.blockLimit;if(L&&J.lang.dir!=L.getComputedStyle('direction'))K.addClass('cke_mixed_dir_content');else K.removeClass('cke_mixed_dir_content');};function E(I){while(I&&!(I.getName() in A||I.is('body'))){var J=I.getParent();if(!J)break;I=J;}return I;};function F(I,J,K,L){t.setMarker(L,I,'bidi_processed',1);var M=I;
while((M=M.getParent())&&!M.is('body')){if(M.getCustomData('bidi_processed')){I.removeStyle('direction');I.removeAttribute('dir');return null;}}var N='useComputedState' in K.config?K.config.useComputedState:1,O=N?I.getComputedStyle('direction'):I.getStyle('direction')||I.hasAttribute('dir');if(O==J)return null;var P=N?O:I.getComputedStyle('direction');I.removeStyle('direction');if(N){I.removeAttribute('dir');if(J!=I.getComputedStyle('direction'))I.setAttribute('dir',J);}else I.setAttribute('dir',J);if(J!=P)K.fire('dirChanged',{node:I,dir:J});K.forceNextSelectionCheck();return null;};function G(I,J,K){var L=I.getCommonAncestor(false,true);I=I.clone();I.enlarge(K==2?3:2);if(I.checkBoundaryOfElement(L,1)&&I.checkBoundaryOfElement(L,2)){var M;while(L&&L.type==1&&(M=L.getParent())&&M.getChildCount()==1&&!(L.getName() in J))L=M;return L.type==1&&L.getName() in J&&L;}};function H(I){return function(J){var K=J.getSelection(),L=J.config.enterMode,M=K.getRanges();if(M&&M.length){var N={},O=K.createBookmarks(),P=M.createIterator(),Q,R=0;while(Q=P.getNextRange(1)){var S=Q.getEnclosedNode();if(!S||S&&!(S.type==1&&S.getName() in z))S=G(Q,y,L);if(S&&!S.isReadOnly())F(S,I,J,N);var T,U,V=new p.walker(Q),W=O[R].startNode,X=O[R++].endNode;V.evaluator=function(Y){return!!(Y.type==1&&Y.getName() in y&&!(Y.getName()==(L==1?'p':'div')&&Y.getParent().type==1&&Y.getParent().getName()=='blockquote')&&Y.getPosition(W)&2&&(Y.getPosition(X)&4+16)==4);};while(U=V.next())F(U,I,J,N);T=Q.createIterator();T.enlargeBr=L!=2;while(U=T.getNextParagraph(L==1?'p':'div'))!U.isReadOnly()&&F(U,I,J,N);}t.clearAllMarkers(N);J.forceNextSelectionCheck();K.selectBookmarks(O);J.focus();}};};v.add('bidi',{requires:['styles','button'],init:function(I){var J=function(L,M,N,O){I.addCommand(N,new m.command(I,{exec:O}));I.ui.addButton(L,{label:M,command:N});},K=I.lang.bidi;J('BidiLtr',K.ltr,'bidiltr',H('ltr'));J('BidiRtl',K.rtl,'bidirtl',H('rtl'));I.on('selectionChange',B);}});})();(function(){function y(C,D){var E=D.block||D.blockLimit;if(!E||E.getName()=='body')return 2;if(E.getAscendant('blockquote',true))return 1;return 2;};function z(C){var D=C.editor,E=D.getCommand('blockquote');E.state=y(D,C.data.path);E.fire('state');};function A(C){for(var D=0,E=C.getChildCount(),F;D<E&&(F=C.getChild(D));D++){if(F.type==1&&F.isBlockBoundary())return false;}return true;};var B={exec:function(C){var D=C.getCommand('blockquote').state,E=C.getSelection(),F=E&&E.getRanges(true)[0];if(!F)return;var G=E.createBookmarks();if(o){var H=G[0].startNode,I=G[0].endNode,J;
if(H&&H.getParent().getName()=='blockquote'){J=H;while(J=J.getNext()){if(J.type==1&&J.isBlockBoundary()){H.move(J,true);break;}}}if(I&&I.getParent().getName()=='blockquote'){J=I;while(J=J.getPrevious()){if(J.type==1&&J.isBlockBoundary()){I.move(J);break;}}}}var K=F.createIterator(),L;K.enlargeBr=C.config.enterMode!=2;if(D==2){var M=[];while(L=K.getNextParagraph())M.push(L);if(M.length<1){var N=C.document.createElement(C.config.enterMode==1?'p':'div'),O=G.shift();F.insertNode(N);N.append(new p.text('\ufeff',C.document));F.moveToBookmark(O);F.selectNodeContents(N);F.collapse(true);O=F.createBookmark();M.push(N);G.unshift(O);}var P=M[0].getParent(),Q=[];for(var R=0;R<M.length;R++){L=M[R];P=P.getCommonAncestor(L.getParent());}var S={table:1,tbody:1,tr:1,ol:1,ul:1};while(S[P.getName()])P=P.getParent();var T=null;while(M.length>0){L=M.shift();while(!L.getParent().equals(P))L=L.getParent();if(!L.equals(T))Q.push(L);T=L;}while(Q.length>0){L=Q.shift();if(L.getName()=='blockquote'){var U=new p.documentFragment(C.document);while(L.getFirst()){U.append(L.getFirst().remove());M.push(U.getLast());}U.replace(L);}else M.push(L);}var V=C.document.createElement('blockquote');V.insertBefore(M[0]);while(M.length>0){L=M.shift();V.append(L);}}else if(D==1){var W=[],X={};while(L=K.getNextParagraph()){var Y=null,Z=null;while(L.getParent()){if(L.getParent().getName()=='blockquote'){Y=L.getParent();Z=L;break;}L=L.getParent();}if(Y&&Z&&!Z.getCustomData('blockquote_moveout')){W.push(Z);t.setMarker(X,Z,'blockquote_moveout',true);}}t.clearAllMarkers(X);var aa=[],ab=[];X={};while(W.length>0){var ac=W.shift();V=ac.getParent();if(!ac.getPrevious())ac.remove().insertBefore(V);else if(!ac.getNext())ac.remove().insertAfter(V);else{ac.breakParent(ac.getParent());ab.push(ac.getNext());}if(!V.getCustomData('blockquote_processed')){ab.push(V);t.setMarker(X,V,'blockquote_processed',true);}aa.push(ac);}t.clearAllMarkers(X);for(R=ab.length-1;R>=0;R--){V=ab[R];if(A(V))V.remove();}if(C.config.enterMode==2){var ad=true;while(aa.length){ac=aa.shift();if(ac.getName()=='div'){U=new p.documentFragment(C.document);var ae=ad&&ac.getPrevious()&&!(ac.getPrevious().type==1&&ac.getPrevious().isBlockBoundary());if(ae)U.append(C.document.createElement('br'));var af=ac.getNext()&&!(ac.getNext().type==1&&ac.getNext().isBlockBoundary());while(ac.getFirst())ac.getFirst().remove().appendTo(U);if(af)U.append(C.document.createElement('br'));U.replace(ac);ad=false;}}}}E.selectBookmarks(G);C.focus();}};v.add('blockquote',{init:function(C){C.addCommand('blockquote',B);
C.ui.addButton('Blockquote',{label:C.lang.blockquote,command:'blockquote'});C.on('selectionChange',z);},requires:['domiterator']});})();v.add('button',{beforeInit:function(y){y.ui.addHandler(1,w.button.handler);}});m.UI_BUTTON=1;w.button=function(y){q.extend(this,y,{title:y.label,className:y.className||y.command&&'cke_button_'+y.command||'',click:y.click||(function(z){z.execCommand(y.command);})});this._={};};w.button.handler={create:function(y){return new w.button(y);}};w.button._={instances:[],keydown:function(y,z){var A=w.button._.instances[y];if(A.onkey){z=new p.event(z);return A.onkey(A,z.getKeystroke())!==false;}},focus:function(y,z){var A=w.button._.instances[y],B;if(A.onfocus)B=A.onfocus(A,new p.event(z))!==false;if(n.gecko&&n.version<10900)z.preventBubble();return B;}};(function(){var y=q.addFunction(w.button._.keydown,w.button._),z=q.addFunction(w.button._.focus,w.button._);w.button.prototype={canGroup:true,render:function(A,B){var C=n,D=this._.id=q.getNextId(),E='',F=this.command,G,H;this._.editor=A;var I={id:D,button:this,editor:A,focus:function(){var L=m.document.getById(D);L.focus();},execute:function(){this.button.click(A);}};I.clickFn=G=q.addFunction(I.execute,I);I.index=H=w.button._.instances.push(I)-1;if(this.modes){var J={};A.on('beforeModeUnload',function(){J[A.mode]=this._.state;},this);A.on('mode',function(){var L=A.mode;this.setState(this.modes[L]?J[L]!=undefined?J[L]:2:0);},this);}else if(F){F=A.getCommand(F);if(F){F.on('state',function(){this.setState(F.state);},this);E+='cke_'+(F.state==1?'on':F.state==0?'disabled':'off');}}if(!F)E+='cke_off';if(this.className)E+=' '+this.className;B.push('<span class="cke_button'+(this.icon&&this.icon.indexOf('.png')==-1?' cke_noalphafix':'')+'">','<a id="',D,'" class="',E,'"',C.gecko&&C.version>=10900&&!C.hc?'':'" href="javascript:void(\''+(this.title||'').replace("'",'')+"')\"",' title="',this.title,'" tabindex="-1" hidefocus="true" role="button" aria-labelledby="'+D+'_label"'+(this.hasArrow?' aria-haspopup="true"':''));if(C.opera||C.gecko&&C.mac)B.push(' onkeypress="return false;"');if(C.gecko)B.push(' onblur="this.style.cssText = this.style.cssText;"');B.push(' onkeydown="return CKEDITOR.tools.callFunction(',y,', ',H,', event);" onfocus="return CKEDITOR.tools.callFunction(',z,', ',H,', event);" onclick="CKEDITOR.tools.callFunction(',G,', this); return false;"><span class="cke_icon"');if(this.icon){var K=(this.iconOffset||0)*-16;B.push(' style="background-image:url(',m.getUrl(this.icon),');background-position:0 '+K+'px;"');
}B.push('>&nbsp;</span><span id="',D,'_label" class="cke_label">',this.label,'</span>');if(this.hasArrow)B.push('<span class="cke_buttonarrow">'+(n.hc?'&#9660;':'&nbsp;')+'</span>');B.push('</a>','</span>');if(this.onRender)this.onRender();return I;},setState:function(A){if(this._.state==A)return false;this._.state=A;var B=m.document.getById(this._.id);if(B){B.setState(A);A==0?B.setAttribute('aria-disabled',true):B.removeAttribute('aria-disabled');A==1?B.setAttribute('aria-pressed',true):B.removeAttribute('aria-pressed');return true;}else return false;}};})();w.prototype.addButton=function(y,z){this.add(y,1,z);};m.on('reset',function(){w.button._.instances=[];});function a(y,z,A,B){var C='',D=null;for(var E=0;E<y.length;E++){var F=y.charAt(E),G=E<y.length-1?y.charAt(E+1):0;if(F==z){if(D==null){if(E==0||y.charAt(E-1)==' '||y.charAt(E-1)=='\t')D='';else C+=F;}else if(G==0||G=='\t'||G==' '){C+=A+D+B;D=null;}else D+=' ';}else if(D==null)C+=F;else D+=F;}if(D!=null)C+=D;return C;};function b(y){return y.replace(/^\s*|\s*$/g,'');};function c(y){var z='',A='',B;if(y.match(/^\s*@a\s/))z=y;else{while((B=(' '+y).search(/\s\^\w+/))>=0){z+='\n'+b(y.substr(0,B));arg=y.substr(B).match(/^\^\w+/)[0];y=y.substr(B+arg.length);z+="\n<a href='"+arg+"'>"+b(arg.replace(/^[\s^]*|\s*$/g,'').replace(/[_^]/g,' '))+'</a>';if(!y.match(/^[\w\s]/)){z+=y.charAt(0);y=y.substr(1);}y=b(y);}z+='\n'+b(y);}return z;};function d(y){var z=y;z=b(z.replace(/</g,'&lt;'));z=a(z,'*','<strong>','</strong>');z=a(z,'_','<em>','</em>');z=c(z);return z;};var e={hr:'true',br:'true'};function f(y,z){if(z.match(/^\s*@\S+/)){directive=z.replace(/^\s*@/,'');var A=directive;directive=directive.replace(/^(\S+).*/,'$1');var B=directive.indexOf('.'),C='';A=A.substr(directive.length);if(B>0){C=" class='"+directive.substr(B+1)+"'";directive=directive.substr(0,B).toLowerCase();}var D=A.match(/^\s*(\w+=([\"\'][^\"\']*[\"\']|\S*)\s*)+/),E=D==null?'':D[0];A=A.substr(E.length);A=b(d(A));E=b(E);if(E.length)E=' '+E;if(e[directive])y.html+='\n<'+directive+C+E+'/>';else if(directive[0]=='/')y.html+='\n<'+directive+'>';else{y.html+='\n<'+directive+C+E+'>';if(b(A).length)y.html+=b(A)+'</'+directive+'>';}}else y.html+='\n'+b(d(z));};function g(y){var z=y,A={html:''};y=y.replace(/\r/g,'');while(y.length>0){var B=y.indexOf('\n'),C;if(B<0){C=y;y='';}else{C=y.substr(0,B);y=y.substr(B+1);}if(b(C).length==0&&A.html.length)A.html+='\n<br/>\n<br/>';else f(A,C);}return A.html;};var h={strike:'del'};function i(y){if(document=='unit-test')return y;
var z=document.createElement('DIV');z.innerHTML=y;if(z.innerText!==undefined)return z.innerText;return z.textContent;};function j(y,z,A){y.bwiki+=z+i(A);};function k(y){var z=++y.cur;while(y.cur<y.html.length&&y.html.charAt(y.cur)!=' '&&y.html.charAt(y.cur)!='\t'&&y.html.charAt(y.cur)!='/'&&y.html.charAt(y.cur)!='>')y.cur++;var A=y.html.substr(z,y.cur-z),B=h[A]?h[A]:A;while(y.cur<y.html.length&&y.html.substr(y.cur,2)!='/>'&&y.html.charAt(y.cur)!='>')y.cur++;var C='',D='';if(y.cur<y.html.length){C=y.html.substr(z+A.length,y.cur-z-A.length);var E=C.match(/class=[\'\"][^\'\"]*[\'\"]/);if(E!=null){D='.'+E[0].substr(6).replace(/[\'\"]/g,'');C=C.replace(E[0],'');}}if(y.html.charAt(y.cur)=='/'){y.cur+=2;y.bwiki+='\n@'+A+D+C;}else{if(y.cur<y.html.length)y.cur++;var F='',G=0,H=false;while(y.cur<y.html.length){var I=' ';while(y.cur<y.html.length&&y.html.charAt(y.cur)!='<'){var J;if(y.html.substr(y.cur,6)=='&nbsp;'){y.cur+=6;J=' ';}else J=y.html.charAt(y.cur++);if(J=='\n'||J==' '||J=='\t'){if(F.length)F+=I;I='';}else{F+=J;I=' ';}}if(y.html.charAt(y.cur+1)!='/'){if(!H){y.bwiki+='\n@'+B+D+C;H=true;}if(!F.match(/^\s*$/))j(y,'\n',F);F='';k(y);G++;}else{if(F.match(/^\s*$/)){if(G==0)y.bwiki+='\n@'+B+D+C+'\n@/'+B;}else if(G==0){y.bwiki+='\n@'+B+D+C;j(y,' ',F);}else j(y,'\n',F);break;}}if(y.cur<y.html.length){y.cur+=2;while(y.cur<y.html.length&&y.html.charAt(y.cur)!='>')y.cur++;y.cur++;if(G>0)y.bwiki+='\n@/'+B;}}};function l(y){var z={bwiki:'',html:y.replace(/<!--.*?-->/g,''),cur:0};z.html=z.html.replace(/^(\s*<p>\s*\&nbsp;<\/p>)+/,'');while(z.cur<z.html.length){while(z.cur<z.html.length&&z.html.charAt(z.cur)!='<')z.cur++;if(z.cur<z.html.length){var A=k(z);if(A)z.bwiki+=A;}}z.bwiki=z.bwiki.replace(/^\s*|\s*$/g,'');return z.bwiki;};(function(){var y=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,z='{cke_protected}';function A(ad){var ae=ad.children.length,af=ad.children[ae-1];while(af&&af.type==3&&!q.trim(af.value))af=ad.children[--ae];return af;};function B(ad,ae){var af=ad.children,ag=A(ad);if(ag){if((ae||!o)&&ag.type==1&&ag.name=='br')af.pop();if(ag.type==3&&y.test(ag.value))af.pop();}};function C(ad,ae,af){if(!ae&&(!af||typeof af=='function'&&af(ad)===false))return false;if(ae&&o&&(document.documentMode>7||ad.name in r.tr||ad.name in r.$listItem))return false;var ag=A(ad);return!ag||ag&&(ag.type==1&&ag.name=='br'||ad.name=='form'&&ag.name=='input');};function D(ad,ae){return function(af){B(af,!ad);if(C(af,!ad,ae))if(ad||o)af.add(new m.htmlParser.text('\xa0'));else af.add(new m.htmlParser.element('br',{}));
};};var E=r,F=q.extend({},E.$block,E.$listItem,E.$tableContent);for(var G in F){if(!('br' in E[G]))delete F[G];}delete F.pre;var H={elements:{a:function(ad){var ae=ad.attributes;if(ae&&ae['data-cke-saved-name'])ae['class']=(ae['class']?ae['class']+' ':'')+'cke_anchor';}},attributeNames:[[/^on/,'data-cke-pa-on']]},I={elements:{}};for(G in F)I.elements[G]=D();var J={elementNames:[[/^cke:/,''],[/^\?xml:namespace$/,'']],attributeNames:[[/^data-cke-(saved|pa)-/,''],[/^data-cke-.*/,''],['hidefocus','']],elements:{$:function(ad){var ae=ad.attributes;if(ae){if(ae['data-cke-temp'])return false;var af=['name','href','src'],ag;for(var ah=0;ah<af.length;ah++){ag='data-cke-saved-'+af[ah];ag in ae&&delete ae[af[ah]];}}return ad;},embed:function(ad){var ae=ad.parent;if(ae&&ae.name=='object'){var af=ae.attributes.width,ag=ae.attributes.height;af&&(ad.attributes.width=af);ag&&(ad.attributes.height=ag);}},param:function(ad){ad.children=[];ad.isEmpty=true;return ad;},a:function(ad){if(!(ad.children.length||ad.attributes.name||ad.attributes['data-cke-saved-name']))return false;},span:function(ad){if(ad.attributes['class']=='Apple-style-span')delete ad.name;},pre:function(ad){o&&B(ad);},html:function(ad){delete ad.attributes.contenteditable;delete ad.attributes['class'];},body:function(ad){delete ad.attributes.spellcheck;delete ad.attributes.contenteditable;},style:function(ad){var ae=ad.children[0];ae&&ae.value&&(ae.value=q.trim(ae.value));if(!ad.attributes.type)ad.attributes.type='text/css';},title:function(ad){var ae=ad.children[0];ae&&(ae.value=ad.attributes['data-cke-title']||'');}},attributes:{'class':function(ad,ae){return q.ltrim(ad.replace(/(?:^|\s+)cke_[^\s]*/g,''))||false;}},comment:function(ad){if(ad.substr(0,z.length)==z){if(ad.substr(z.length,3)=='{C}')ad=ad.substr(z.length+3);else ad=ad.substr(z.length);return new m.htmlParser.cdata(decodeURIComponent(ad));}return ad;}};if(o)J.attributes.style=function(ad,ae){return ad.replace(/(^|;)([^\:]+)/g,function(af){return af.toLowerCase();});};function K(ad){var ae=ad.attributes;if(ae.contenteditable!='false')ae['data-cke-editable']=ae.contenteditable?'true':1;ae.contenteditable='false';};function L(ad){var ae=ad.attributes;switch(ae['data-cke-editable']){case 'true':ae.contenteditable='true';break;case '1':delete ae.contenteditable;break;}};for(G in {input:1,textarea:1}){H.elements[G]=K;J.elements[G]=L;}var M=/<(a|area|img|input)\b([^>]*)>/gi,N=/\b(href|src|name)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,O=/(?:<style(?=[ >])[^>]*>[\s\S]*<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,P=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,Q=/(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,R=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,S=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi;
function T(ad){return ad.replace(M,function(ae,af,ag){return '<'+af+ag.replace(N,function(ah,ai){if(ag.indexOf('data-cke-saved-'+ai)==-1)return ' data-cke-saved-'+ah+' '+ah;return ah;})+'>';});};function U(ad){return ad.replace(O,function(ae){return '<cke:encoded>'+encodeURIComponent(ae)+'</cke:encoded>';});};function V(ad){return ad.replace(P,function(ae,af){return decodeURIComponent(af);});};function W(ad){return ad.replace(Q,'$1cke:$2');};function X(ad){return ad.replace(R,'$1$2');};function Y(ad){return ad.replace(S,'<cke:$1$2></cke:$1>');};function Z(ad){return ad.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,'$1$2$2');};function aa(ad){return ad.replace(/<!--(?!{cke_protected})[\s\S]+?-->/g,function(ae){return '<!--'+z+'{C}'+encodeURIComponent(ae).replace(/--/g,'%2D%2D')+'-->';});};function ab(ad){return ad.replace(/<!--\{cke_protected\}\{C\}([\s\S]+?)-->/g,function(ae,af){return decodeURIComponent(af);});};function ac(ad,ae){var af=[],ag=/<\!--\{cke_temp(comment)?\}(\d*?)-->/g,ah=[/<script[\s\S]*?<\/script>/gi,/<noscript[\s\S]*?<\/noscript>/gi].concat(ae);ad=ad.replace(/<!--[\s\S]*?-->/g,function(aj){return '<!--{cke_tempcomment}'+(af.push(aj)-1)+'-->';});for(var ai=0;ai<ah.length;ai++)ad=ad.replace(ah[ai],function(aj){aj=aj.replace(ag,function(ak,al,am){return af[am];});return '<!--{cke_temp}'+(af.push(aj)-1)+'-->';});ad=ad.replace(ag,function(aj,ak,al){return '<!--'+z+(ak?'{C}':'')+encodeURIComponent(af[al]).replace(/--/g,'%2D%2D')+'-->';});return ad;};v.add('bwikidataprocessor',{requires:['htmlwriter'],init:function(ad){var ae=ad.dataProcessor=new m.htmlDataProcessor(ad);ae.writer.forceSimpleAmpersand=ad.config.forceSimpleAmpersand;ae.dataFilter.addRules(H);ae.dataFilter.addRules(I);ae.htmlFilter.addRules(J);var af={elements:{}};for(G in F)af.elements[G]=D(true,ad.config.fillEmptyBlocks);ae.htmlFilter.addRules(af);},onLoad:function(){!('fillEmptyBlocks' in u)&&(u.fillEmptyBlocks=1);}});m.htmlDataProcessor=function(ad){var ae=this;ae.editor=ad;ae.writer=new m.htmlWriter();ae.dataFilter=new m.htmlParser.filter();ae.htmlFilter=new m.htmlParser.filter();};m.htmlDataProcessor.prototype={toHtml:function(ad,ae){ad=g(ad);ad=ac(ad,this.editor.config.protectedSource);ad=T(ad);ad=U(ad);ad=W(ad);ad=Y(ad);ad=Z(ad);var af=new t('div');af.setHtml('a'+ad);ad=af.getHtml().substr(1);ad=X(ad);ad=V(ad);ad=ab(ad);var ag=m.htmlParser.fragment.fromHtml(ad,ae),ah=new m.htmlParser.basicWriter();ag.writeHtml(ah,this.dataFilter);ad=ah.getHtml(true);ad=aa(ad);return ad;},toDataFormat:function(ad,ae){var af=this.writer,ag=m.htmlParser.fragment.fromHtml(ad,ae);
af.reset();ag.writeHtml(af,this.htmlFilter);var ad=af.getHtml(true),ah=l(ad);return ah;}};})();(function(){var y=function(J,K){var L=J.document,M=L.getBody(),N=0,O=function(){N=1;};M.on(K,O);(n.version>7?L.$:L.$.selection.createRange()).execCommand(K);M.removeListener(K,O);return N;},z=o?function(J,K){return y(J,K);}:function(J,K){try{return J.document.$.execCommand(K,false,null);}catch(L){return false;}},A=function(J){var K=this;K.type=J;K.canUndo=K.type=='cut';K.startDisabled=true;};A.prototype={exec:function(J,K){this.type=='cut'&&E(J);var L=z(J,this.type);if(!L)alert(J.lang.clipboard[this.type+'Error']);return L;}};var B={canUndo:false,exec:o?function(J){J.focus();if(!J.document.getBody().fire('beforepaste')&&!y(J,'paste')){J.fire('pasteDialog');return false;}}:function(J){try{if(!J.document.getBody().fire('beforepaste')&&!J.document.$.execCommand('Paste',false,null))throw 0;}catch(K){setTimeout(function(){J.fire('pasteDialog');},0);return false;}}},C=function(J){if(this.mode!='wysiwyg')return;switch(J.data.keyCode){case 1000+86:case 2000+45:var K=this.document.getBody();if(!o&&K.fire('beforepaste'))J.cancel();else if(n.opera||n.gecko&&n.version<10900)K.fire('paste');return;case 1000+88:case 2000+46:var L=this;this.fire('saveSnapshot');setTimeout(function(){L.fire('saveSnapshot');},0);}};function D(J,K,L){var M=this.document;if(M.getById('cke_pastebin'))return;if(K=='text'&&J.data&&J.data.$.clipboardData){var N=J.data.$.clipboardData.getData('text/plain');if(N){J.data.preventDefault();L(N);return;}}var O=this.getSelection(),P=new p.range(M),Q=new t(K=='text'?'textarea':n.webkit?'body':'div',M);Q.setAttribute('id','cke_pastebin');n.webkit&&Q.append(M.createText('\xa0'));M.getBody().append(Q);Q.setStyles({position:'absolute',top:O.getStartElement().getDocumentPosition().y+'px',width:'1px',height:'1px',overflow:'hidden'});Q.setStyle(this.config.contentsLangDirection=='ltr'?'left':'right','-1000px');var R=O.createBookmarks();if(K=='text'){if(o){var S=M.getBody().$.createTextRange();S.moveToElementText(Q.$);S.execCommand('Paste');J.data.preventDefault();}else Q.$.focus();}else{P.setStartAt(Q,1);P.setEndAt(Q,2);P.select(true);}var T=this;window.setTimeout(function(){K=='text'&&n.gecko&&T.focusGrabber.focus();Q.remove();var U;Q=n.webkit&&(U=Q.getFirst())&&U.is&&U.hasClass('Apple-style-span')?U:Q;O.selectBookmarks(R);L(Q['get'+(K=='text'?'Value':'Html')]());},0);};function E(J){if(!o||n.quirks)return;var K=J.getSelection(),L;if(K.getType()==3&&(L=K.getSelectedElement())){var M=K.getRanges()[0],N=J.document.createText('');
N.insertBefore(L);M.setStartBefore(N);M.setEndAfter(L);K.selectRanges([M]);setTimeout(function(){if(L.getParent()){N.remove();K.selectElement(L);}},0);}};var F;function G(J,K){o&&(F=1);var L=K.document.$.queryCommandEnabled(J)?2:0;F=0;return L;};var H;function I(){var K=this;if(K.mode!='wysiwyg')return;K.getCommand('cut').setState(H?0:G('Cut',K));K.getCommand('copy').setState(G('Copy',K));var J=H?0:n.webkit?2:G('Paste',K);K.fire('pasteState',J);};v.add('clipboard',{requires:['dialog','bwikidataprocessor'],init:function(J){J.on('paste',function(M){var N=M.data;if(N.html)J.insertHtml(N.html);else if(N.text)J.insertText(N.text);},null,null,1000);J.on('pasteDialog',function(M){setTimeout(function(){J.openDialog('paste');},0);});J.on('pasteState',function(M){J.getCommand('paste').setState(M.data);});function K(M,N,O,P){var Q=J.lang[N];J.addCommand(N,O);J.ui.addButton(M,{label:Q,command:N});if(J.addMenuItems)J.addMenuItem(N,{label:Q,command:N,group:'clipboard',order:P});};K('Cut','cut',new A('cut'),1);K('Copy','copy',new A('copy'),4);K('Paste','paste',B,8);m.dialog.add('paste',m.getUrl(this.path+'dialogs/paste.js'));J.on('key',C,J);var L=J.config.forcePasteAsPlainText?'text':'html';J.on('contentDom',function(){var M=J.document.getBody();M.on(L=='text'&&o||n.webkit?'paste':'beforepaste',function(N){if(F)return;D.call(J,N,L,function(O){if(!O)return;var P={};P[L]=O;J.fire('paste',P);});});M.on('beforecut',function(){!F&&E(J);});M.on('mouseup',function(){setTimeout(function(){I.call(J);},0);},J);M.on('keyup',I,J);});J.on('selectionChange',function(M){H=M.data.selection.getRanges()[0].checkReadOnly();I.call(J);});if(J.contextMenu)J.contextMenu.addListener(function(M,N){var O=N.getRanges()[0].checkReadOnly();return{cut:!O&&G('Cut',J),copy:G('Copy',J),paste:!O&&(n.webkit?2:G('Paste',J))};});}});})();v.add('colorbutton',{requires:['panelbutton','floatpanel','styles'],init:function(y){var z=y.config,A=y.lang.colorButton,B;if(!n.hc){C('TextColor','fore',A.textColorTitle);C('BGColor','back',A.bgColorTitle);}function C(F,G,H){var I=q.getNextId()+'_colorBox';y.ui.add(F,4,{label:H,title:H,className:'cke_button_'+F.toLowerCase(),modes:{wysiwyg:1},panel:{css:y.skin.editor.css,attributes:{role:'listbox','aria-label':A.panelTitle}},onBlock:function(J,K){K.autoSize=true;K.element.addClass('cke_colorblock');K.element.setHtml(D(J,G,I));K.element.getDocument().getBody().setStyle('overflow','hidden');w.fire('ready',this);var L=K.keys,M=y.lang.dir=='rtl';L[M?37:39]='next';L[40]='next';L[9]='next';
L[M?39:37]='prev';L[38]='prev';L[2000+9]='prev';L[32]='click';},onOpen:function(){var J=y.getSelection(),K=J&&J.getStartElement(),L=new p.elementPath(K),M;K=L.block||L.blockLimit;do M=K&&K.getComputedStyle(G=='back'?'background-color':'color')||'transparent';while(G=='back'&&M=='transparent'&&K&&(K=K.getParent()))if(!M||M=='transparent')M='#ffffff';this._.panel._.iframe.getFrameDocument().getById(I).setStyle('background-color',M);}});};function D(F,G,H){var I=[],J=z.colorButton_colors.split(','),K=J.length+(z.colorButton_enableMore?2:1),L=q.addFunction(function(R,S){if(R=='?'){var T=arguments.callee;function U(W){this.removeListener('ok',U);this.removeListener('cancel',U);W.name=='ok'&&T(this.getContentElement('picker','selectedColor').getValue(),S);};y.openDialog('colordialog',function(){this.on('ok',U);this.on('cancel',U);});return;}y.focus();F.hide();y.fire('saveSnapshot');new m.style(z['colorButton_'+S+'Style'],{color:'inherit'}).remove(y.document);if(R){var V=z['colorButton_'+S+'Style'];V.childRule=S=='back'?function(W){return E(W);}:function(W){return W.getName()!='a'||E(W);};new m.style(V,{color:R}).apply(y.document);}y.fire('saveSnapshot');});I.push('<a class="cke_colorauto" _cke_focus=1 hidefocus=true title="',A.auto,'" onclick="CKEDITOR.tools.callFunction(',L,",null,'",G,"');return false;\" href=\"javascript:void('",A.auto,'\')" role="option" aria-posinset="1" aria-setsize="',K,'"><table role="presentation" cellspacing=0 cellpadding=0 width="100%"><tr><td><span class="cke_colorbox" id="',H,'"></span></td><td colspan=7 align=center>',A.auto,'</td></tr></table></a><table role="presentation" cellspacing=0 cellpadding=0 width="100%">');for(var M=0;M<J.length;M++){if(M%8===0)I.push('</tr><tr>');var N=J[M].split('/'),O=N[0],P=N[1]||O;if(!N[1])O='#'+O.replace(/^(.)(.)(.)$/,'$1$1$2$2$3$3');var Q=y.lang.colors[P]||P;I.push('<td><a class="cke_colorbox" _cke_focus=1 hidefocus=true title="',Q,'" onclick="CKEDITOR.tools.callFunction(',L,",'",O,"','",G,"'); return false;\" href=\"javascript:void('",Q,'\')" role="option" aria-posinset="',M+2,'" aria-setsize="',K,'"><span class="cke_colorbox" style="background-color:#',P,'"></span></a></td>');}if(z.colorButton_enableMore===undefined||z.colorButton_enableMore)I.push('</tr><tr><td colspan=8 align=center><a class="cke_colormore" _cke_focus=1 hidefocus=true title="',A.more,'" onclick="CKEDITOR.tools.callFunction(',L,",'?','",G,"');return false;\" href=\"javascript:void('",A.more,"')\"",' role="option" aria-posinset="',K,'" aria-setsize="',K,'">',A.more,'</a></td>');
I.push('</tr></table>');return I.join('');};function E(F){return F.getAttribute('contentEditable')=='false'||F.getAttribute('data-nostyle');};}});u.colorButton_colors='000,800000,8B4513,2F4F4F,008080,000080,4B0082,696969,B22222,A52A2A,DAA520,006400,40E0D0,0000CD,800080,808080,F00,FF8C00,FFD700,008000,0FF,00F,EE82EE,A9A9A9,FFA07A,FFA500,FFFF00,00FF00,AFEEEE,ADD8E6,DDA0DD,D3D3D3,FFF0F5,FAEBD7,FFFFE0,F0FFF0,F0FFFF,F0F8FF,E6E6FA,FFF';u.colorButton_foreStyle={element:'span',styles:{color:'#(color)'},overrides:[{element:'font',attributes:{color:null}}]};u.colorButton_backStyle={element:'span',styles:{'background-color':'#(color)'}};(function(){v.colordialog={init:function(y){y.addCommand('colordialog',new m.dialogCommand('colordialog'));m.dialog.add('colordialog',this.path+'dialogs/colordialog.js');}};v.add('colordialog',v.colordialog);})();v.add('contextmenu',{requires:['menu'],onLoad:function(){v.contextMenu=q.createClass({base:m.menu,$:function(y){this.base.call(this,y,{panel:{className:y.skinClass+' cke_contextmenu',attributes:{'aria-label':y.lang.contextmenu.options}}});},proto:{addTarget:function(y,z){if(n.opera&&!('oncontextmenu' in document.body)){var A;y.on('mousedown',function(E){E=E.data;if(E.$.button!=2){if(E.getKeystroke()==1000+1)y.fire('contextmenu',E);return;}if(z&&(n.mac?E.$.metaKey:E.$.ctrlKey))return;var F=E.getTarget();if(!A){var G=F.getDocument();A=G.createElement('input');A.$.type='button';G.getBody().append(A);}A.setAttribute('style','position:absolute;top:'+(E.$.clientY-2)+'px;left:'+(E.$.clientX-2)+'px;width:5px;height:5px;opacity:0.01');});y.on('mouseup',function(E){if(A){A.remove();A=undefined;y.fire('contextmenu',E.data);}});}y.on('contextmenu',function(E){var F=E.data;if(z&&(n.webkit?B:n.mac?F.$.metaKey:F.$.ctrlKey))return;F.preventDefault();var G=F.getTarget().getDocument().getDocumentElement(),H=F.$.clientX,I=F.$.clientY;q.setTimeout(function(){this.open(G,null,H,I);},0,this);},this);if(n.opera)y.on('keypress',function(E){var F=E.data;if(F.$.keyCode===0)F.preventDefault();});if(n.webkit){var B,C=function(E){B=n.mac?E.data.$.metaKey:E.data.$.ctrlKey;},D=function(){B=0;};y.on('keydown',C);y.on('keyup',D);y.on('contextmenu',D);}},open:function(y,z,A,B){this.editor.focus();y=y||m.document.getDocumentElement();this.show(y,z,A,B);}}});},beforeInit:function(y){y.contextMenu=new v.contextMenu(y);y.addCommand('contextMenu',{exec:function(){y.contextMenu.open(y.document.getBody());}});}});(function(){function y(A){var B=this.att,C=A&&A.hasAttribute(B)&&A.getAttribute(B)||'';
if(C!==undefined)this.setValue(C);};function z(){var A;for(var B=0;B<arguments.length;B++){if(arguments[B] instanceof t){A=arguments[B];break;}}if(A){var C=this.att,D=this.getValue();if(C=='dir'){var E=A.getAttribute(C);if(E!=D&&A.getParent())this._.dialog._.editor.fire('dirChanged',{node:A,dir:D||A.getDirection(1)});}if(D)A.setAttribute(C,D);else A.removeAttribute(C,D);}};v.add('dialogadvtab',{createAdvancedTab:function(A,B){if(!B)B={id:1,dir:1,classes:1,styles:1};var C=A.lang.common,D={id:'advanced',label:C.advancedTab,title:C.advancedTab,elements:[{type:'vbox',padding:1,children:[]}]},E=[];if(B.id||B.dir){if(B.id)E.push({id:'advId',att:'id',type:'text',label:C.id,setup:y,commit:z});if(B.dir)E.push({id:'advLangDir',att:'dir',type:'select',label:C.langDir,'default':'',style:'width:100%',items:[[C.notSet,''],[C.langDirLTR,'ltr'],[C.langDirRTL,'rtl']],setup:y,commit:z});D.elements[0].children.push({type:'hbox',widths:['50%','50%'],children:[].concat(E)});}if(B.styles||B.classes){E=[];if(B.styles)E.push({id:'advStyles',att:'style',type:'text',label:C.styles,'default':'',getStyle:function(F,G){var H=this.getValue().match(new RegExp(F+'\\s*:s*([^;]*)','i'));return H?H[1]:G;},updateStyle:function(F,G){var H=this.getValue();if(H)H=H.replace(new RegExp('\\s*'+F+'s*:[^;]*(?:$|;s*)','i'),'').replace(/^[;\s]+/,'').replace(/\s+$/,'');if(G){H&&!/;\s*$/.test(H)&&(H+='; ');H+=F+': '+G;}this.setValue(H,1);},setup:y,commit:z});if(B.classes)E.push({type:'hbox',widths:['45%','55%'],children:[{id:'advCSSClasses',att:'class',type:'text',label:C.cssClasses,'default':'',setup:y,commit:z}]});D.elements[0].children.push({type:'hbox',widths:['50%','50%'],children:[].concat(E)});}return D;}});})();(function(){v.add('div',{requires:['editingblock','domiterator','styles'],init:function(y){var z=y.lang.div;y.addCommand('creatediv',new m.dialogCommand('creatediv'));y.addCommand('editdiv',new m.dialogCommand('editdiv'));y.addCommand('removediv',{exec:function(A){var B=A.getSelection(),C=B&&B.getRanges(),D,E=B.createBookmarks(),F,G=[];function H(J){var K=new p.elementPath(J),L=K.blockLimit,M=L.is('div')&&L;if(M&&!M.data('cke-div-added')){G.push(M);M.data('cke-div-added');}};for(var I=0;I<C.length;I++){D=C[I];if(D.collapsed)H(B.getStartElement());else{F=new p.walker(D);F.evaluator=H;F.lastForward();}}for(I=0;I<G.length;I++)G[I].remove(true);B.selectBookmarks(E);}});y.ui.addButton('CreateDiv',{label:z.toolbar,command:'creatediv'});if(y.addMenuItems){y.addMenuItems({editdiv:{label:z.edit,command:'editdiv',group:'div',order:1},removediv:{label:z.remove,command:'removediv',group:'div',order:5}});
if(y.contextMenu)y.contextMenu.addListener(function(A,B){if(!A||A.isReadOnly())return null;var C=new p.elementPath(A),D=C.blockLimit;if(D&&D.getAscendant('div',true))return{editdiv:2,removediv:2};return null;});}m.dialog.add('creatediv',this.path+'dialogs/div.js');m.dialog.add('editdiv',this.path+'dialogs/div.js');}});})();(function(){var y={toolbarFocus:{exec:function(A){var B=A._.elementsPath.idBase,C=m.document.getById(B+'0');C&&C.focus(o||n.air);}}},z='<span class="cke_empty">&nbsp;</span>';v.add('elementspath',{requires:['selection'],init:function(A){var B='cke_path_'+A.name,C,D=function(){if(!C)C=m.document.getById(B);return C;},E='cke_elementspath_'+q.getNextNumber()+'_';A._.elementsPath={idBase:E,filters:[]};A.on('themeSpace',function(I){if(I.data.space=='bottom')I.data.html+='<span id="'+B+'_label" class="cke_voice_label">'+A.lang.elementsPath.eleLabel+'</span>'+'<div id="'+B+'" class="cke_path" role="group" aria-labelledby="'+B+'_label">'+z+'</div>';});function F(I){A.focus();var J=A._.elementsPath.list[I];if(J.is('body')){var K=new p.range(A.document);K.selectNodeContents(J);K.select();}else A.getSelection().selectElement(J);};var G=q.addFunction(F),H=q.addFunction(function(I,J){var K=A._.elementsPath.idBase,L;J=new p.event(J);var M=A.lang.dir=='rtl';switch(J.getKeystroke()){case M?39:37:case 9:L=m.document.getById(K+(I+1));if(!L)L=m.document.getById(K+'0');L.focus();return false;case M?37:39:case 2000+9:L=m.document.getById(K+(I-1));if(!L)L=m.document.getById(K+(A._.elementsPath.list.length-1));L.focus();return false;case 27:A.focus();return false;case 13:case 32:F(I);return false;}return true;});A.on('selectionChange',function(I){var J=n,K=I.data.selection,L=K.getStartElement(),M=[],N=I.editor,O=N._.elementsPath.list=[],P=N._.elementsPath.filters;while(L){var Q=0;for(var R=0;R<P.length;R++){if(P[R](L)===false){Q=1;break;}}if(!Q){var S=O.push(L)-1,T;if(L.data('cke-real-element-type'))T=L.data('cke-real-element-type');else T=L.getName();var U='';if(J.opera||J.gecko&&J.mac)U+=' onkeypress="return false;"';if(J.gecko)U+=' onblur="this.style.cssText = this.style.cssText;"';var V=N.lang.elementsPath.eleTitle.replace(/%1/,T);M.unshift('<a id="',E,S,'" href="javascript:void(\'',T,'\')" tabindex="-1" title="',V,'"'+(n.gecko&&n.version<10900?' onfocus="event.preventBubble();"':'')+' hidefocus="true" '+' onkeydown="return CKEDITOR.tools.callFunction(',H,',',S,', event );"'+U,' onclick="CKEDITOR.tools.callFunction('+G,',',S,'); return false;"',' role="button" aria-labelledby="'+E+S+'_label">',T,'<span id="',E,S,'_label" class="cke_label">'+V+'</span>','</a>');
}if(T=='body')break;L=L.getParent();}var W=D();W.setHtml(M.join('')+z);N.fire('elementsPathUpdate',{space:W});});A.on('contentDomUnload',function(){C&&C.setHtml(z);});A.addCommand('elementsPathFocus',y.toolbarFocus);}});})();(function(){v.add('enterkey',{requires:['keystrokes','indent'],init:function(F){var G=F.specialKeys;G[13]=D;G[2000+13]=C;}});v.enterkey={enterBlock:function(F,G,H,I){H=H||E(F);if(!H)return;var J=H.document;if(H.checkStartOfBlock()&&H.checkEndOfBlock()){var K=new p.elementPath(H.startContainer),L=K.block;if(L&&(L.is('li')||L.getParent().is('li'))){F.execCommand('outdent');return;}}var M=G==3?'div':'p',N=H.splitBlock(M);if(!N)return;var O=N.previousBlock,P=N.nextBlock,Q=N.wasStartOfBlock,R=N.wasEndOfBlock,S;if(P){S=P.getParent();if(S.is('li')){P.breakParent(S);P.move(P.getNext(),1);}}else if(O&&(S=O.getParent())&&S.is('li')){O.breakParent(S);H.moveToElementEditStart(O.getNext());O.move(O.getPrevious());}if(!Q&&!R){if(P.is('li')&&(S=P.getFirst(p.walker.invisible(true)))&&S.is&&S.is('ul','ol'))(o?J.createText('\xa0'):J.createElement('br')).insertBefore(S);if(P)H.moveToElementEditStart(P);}else{var T,U;if(O){if(O.is('li')||!B.test(O.getName()))T=O.clone();}else if(P)T=P.clone();if(!T){T=J.createElement(M);if(O&&(U=O.getDirection()))T.setAttribute('dir',U);}else if(I&&!T.is('li'))T.renameNode(M);var V=N.elementPath;if(V)for(var W=0,X=V.elements.length;W<X;W++){var Y=V.elements[W];if(Y.equals(V.block)||Y.equals(V.blockLimit))break;if(r.$removeEmpty[Y.getName()]){Y=Y.clone();T.moveChildren(Y);T.append(Y);}}if(!o)T.appendBogus();H.insertNode(T);if(o&&Q&&(!R||!O.getChildCount())){H.moveToElementEditStart(R?O:T);H.select();}H.moveToElementEditStart(Q&&!R?P:T);}if(!o)if(P){var Z=J.createElement('span');Z.setHtml('&nbsp;');H.insertNode(Z);Z.scrollIntoView();H.deleteContents();}else T.scrollIntoView();H.select();},enterBr:function(F,G,H,I){H=H||E(F);if(!H)return;var J=H.document,K=G==3?'div':'p',L=H.checkEndOfBlock(),M=new p.elementPath(F.getSelection().getStartElement()),N=M.block,O=N&&M.block.getName(),P=false;if(!I&&O=='li'){A(F,G,H,I);return;}if(!I&&L&&B.test(O)){var Q,R;if(R=N.getDirection()){Q=J.createElement('div');Q.setAttribute('dir',R);Q.insertAfter(N);H.setStart(Q,0);}else{J.createElement('br').insertAfter(N);if(n.gecko)J.createText('').insertAfter(N);H.setStartAt(N.getNext(),o?3:1);}}else{var S;P=O=='pre';if(P&&!n.gecko)S=J.createText(o?'\r':'\n');else S=J.createElement('br');H.deleteContents();H.insertNode(S);if(!o)J.createText('\ufeff').insertAfter(S);
if(L&&!o)S.getParent().appendBogus();if(!o)S.getNext().$.nodeValue='';if(o)H.setStartAt(S,4);else H.setStartAt(S.getNext(),1);if(!o){var T=null;if(!n.gecko){T=J.createElement('span');T.setHtml('&nbsp;');}else T=J.createElement('br');T.insertBefore(S.getNext());T.scrollIntoView();T.remove();}}H.collapse(true);H.select(P);}};var y=v.enterkey,z=y.enterBr,A=y.enterBlock,B=/^h[1-6]$/;function C(F){if(F.mode!='wysiwyg')return false;if(F.getSelection().getStartElement().hasAscendant('pre',true)){setTimeout(function(){A(F,F.config.enterMode,null,true);},0);return true;}else return D(F,F.config.shiftEnterMode,1);};function D(F,G,H){H=F.config.forceEnterMode||H;if(F.mode!='wysiwyg')return false;if(!G)G=F.config.enterMode;setTimeout(function(){F.fire('saveSnapshot');if(G==2||F.getSelection().getStartElement().hasAscendant('pre',1))z(F,G,null,H);else A(F,G,null,H);},0);return true;};function E(F){var G=F.getSelection().getRanges(true);for(var H=G.length-1;H>0;H--)G[H].deleteContents();return G[0];};})();(function(){var y='nbsp,gt,lt',z='quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro',A='Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml',B='Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv';function C(D,E){var F={},G=[],H={nbsp:'\xa0',shy:'­',gt:'>',lt:'<'};
D=D.replace(/\b(nbsp|shy|gt|lt|amp)(?:,|$)/g,function(M,N){var O=E?'&'+N+';':H[N],P=E?H[N]:'&'+N+';';F[O]=P;G.push(O);return '';});if(!E&&D){D=D.split(',');var I=document.createElement('div'),J;I.innerHTML='&'+D.join(';&')+';';J=I.innerHTML;I=null;for(var K=0;K<J.length;K++){var L=J.charAt(K);F[L]='&'+D[K]+';';G.push(L);}}F.regex=G.join(E?'|':'');return F;};v.add('entities',{afterInit:function(D){var E=D.config,F=D.dataProcessor,G=F&&F.htmlFilter;if(G){var H=y;if(E.entities){H+=','+z;if(E.entities_latin)H+=','+A;if(E.entities_greek)H+=','+B;if(E.entities_additional)H+=','+E.entities_additional;}var I=C(H),J='['+I.regex+']';delete I.regex;if(E.entities&&E.entities_processNumerical)J='[^ -~]|'+J;J=new RegExp(J,'g');function K(O){return E.entities_processNumerical=='force'||!I[O]?'&#'+O.charCodeAt(0)+';':I[O];};var L=C([y,'shy'].join(','),true),M=new RegExp(L.regex,'g');function N(O){return L[O];};G.addRules({text:function(O){return O.replace(M,N).replace(J,K);}});}}});})();u.entities=true;u.entities_latin=true;u.entities_greek=true;u.entities_additional='#39';(function(){function y(H,I){var J=[];if(!I)return H;else for(var K in I)J.push(K+'='+encodeURIComponent(I[K]));return H+(H.indexOf('?')!=-1?'&':'?')+J.join('&');};function z(H){H+='';var I=H.charAt(0).toUpperCase();return I+H.substr(1);};function A(H){var O=this;var I=O.getDialog(),J=I.getParentEditor();J._.filebrowserSe=O;var K=J.config['filebrowser'+z(I.getName())+'WindowWidth']||J.config.filebrowserWindowWidth||'80%',L=J.config['filebrowser'+z(I.getName())+'WindowHeight']||J.config.filebrowserWindowHeight||'70%',M=O.filebrowser.params||{};M.CKEditor=J.name;M.CKEditorFuncNum=J._.filebrowserFn;if(!M.langCode)M.langCode=J.langCode;var N=y(O.filebrowser.url,M);J.popup(N,K,L,J.config.fileBrowserWindowFeatures);};function B(H){var K=this;var I=K.getDialog(),J=I.getParentEditor();J._.filebrowserSe=K;if(!I.getContentElement(K['for'][0],K['for'][1]).getInputElement().$.value)return false;if(!I.getContentElement(K['for'][0],K['for'][1]).getAction())return false;return true;};function C(H,I,J){var K=J.params||{};K.CKEditor=H.name;K.CKEditorFuncNum=H._.filebrowserFn;if(!K.langCode)K.langCode=H.langCode;I.action=y(J.url,K);I.filebrowser=J;};function D(H,I,J,K){var L,M;for(var N in K){L=K[N];if(L.type=='hbox'||L.type=='vbox')D(H,I,J,L.children);if(!L.filebrowser)continue;if(typeof L.filebrowser=='string'){var O={action:L.type=='fileButton'?'QuickUpload':'Browse',target:L.filebrowser};L.filebrowser=O;}if(L.filebrowser.action=='Browse'){var P=L.filebrowser.url;
if(P===undefined){P=H.config['filebrowser'+z(I)+'BrowseUrl'];if(P===undefined)P=H.config.filebrowserBrowseUrl;}if(P){L.onClick=A;L.filebrowser.url=P;L.hidden=false;}}else if(L.filebrowser.action=='QuickUpload'&&L['for']){P=L.filebrowser.url;if(P===undefined){P=H.config['filebrowser'+z(I)+'UploadUrl'];if(P===undefined)P=H.config.filebrowserUploadUrl;}if(P){var Q=L.onClick;L.onClick=function(R){var S=R.sender;if(Q&&Q.call(S,R)===false)return false;return B.call(S,R);};L.filebrowser.url=P;L.hidden=false;C(H,J.getContents(L['for'][0]).get(L['for'][1]),L.filebrowser);}}}};function E(H,I){var J=I.getDialog(),K=I.filebrowser.target||null;H=H.replace(/#/g,'%23');if(K){var L=K.split(':'),M=J.getContentElement(L[0],L[1]);if(M){M.setValue(H);J.selectPage(L[0]);}}};function F(H,I,J){if(J.indexOf(';')!==-1){var K=J.split(';');for(var L=0;L<K.length;L++){if(F(H,I,K[L]))return true;}return false;}var M=H.getContents(I).get(J).filebrowser;return M&&M.url;};function G(H,I){var M=this;var J=M._.filebrowserSe.getDialog(),K=M._.filebrowserSe['for'],L=M._.filebrowserSe.filebrowser.onSelect;if(K)J.getContentElement(K[0],K[1]).reset();if(typeof I=='function'&&I.call(M._.filebrowserSe)===false)return;if(L&&L.call(M._.filebrowserSe,H,I)===false)return;if(typeof I=='string'&&I)alert(I);if(H)E(H,M._.filebrowserSe);};v.add('filebrowser',{init:function(H,I){H._.filebrowserFn=q.addFunction(G,H);H.on('destroy',function(){q.removeFunction(this._.filebrowserFn);});}});m.on('dialogDefinition',function(H){var I=H.data.definition,J;for(var K in I.contents){if(J=I.contents[K]){D(H.editor,H.data.name,I,J.elements);if(J.hidden&&J.filebrowser)J.hidden=!F(I,J.id,J.filebrowser);}}});})();v.add('find',{init:function(y){var z=v.find;y.ui.addButton('Find',{label:y.lang.findAndReplace.find,command:'find'});var A=y.addCommand('find',new m.dialogCommand('find'));A.canUndo=false;y.ui.addButton('Replace',{label:y.lang.findAndReplace.replace,command:'replace'});var B=y.addCommand('replace',new m.dialogCommand('replace'));B.canUndo=false;m.dialog.add('find',this.path+'dialogs/find.js');m.dialog.add('replace',this.path+'dialogs/find.js');},requires:['styles']});u.find_highlight={element:'span',styles:{'background-color':'#004',color:'#fff'}};(function(){var y=/\.swf(?:$|\?)/i,z=q.cssLength;function A(C){var D=C.attributes;return D.type=='application/x-shockwave-flash'||y.test(D.src||'');};function B(C,D){var E=C.createFakeParserElement(D,'cke_flash','flash',true),F=E.attributes.style||'',G=D.attributes.width,H=D.attributes.height;
if(typeof G!='undefined')F=E.attributes.style=F+'width:'+z(G)+';';if(typeof H!='undefined')F=E.attributes.style=F+'height:'+z(H)+';';return E;};v.add('flash',{init:function(C){C.addCommand('flash',new m.dialogCommand('flash'));C.ui.addButton('Flash',{label:C.lang.common.flash,command:'flash'});m.dialog.add('flash',this.path+'dialogs/flash.js');C.addCss('img.cke_flash{background-image: url('+m.getUrl(this.path+'images/placeholder.png')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 80px;'+'height: 80px;'+'}');if(C.addMenuItems)C.addMenuItems({flash:{label:C.lang.flash.properties,command:'flash',group:'flash'}});C.on('doubleclick',function(D){var E=D.data.element;if(E.is('img')&&E.data('cke-real-element-type')=='flash')D.data.dialog='flash';});if(C.contextMenu)C.contextMenu.addListener(function(D,E){if(D&&D.is('img')&&!D.isReadOnly()&&D.data('cke-real-element-type')=='flash')return{flash:2};});},afterInit:function(C){var D=C.dataProcessor,E=D&&D.dataFilter;if(E)E.addRules({elements:{'cke:object':function(F){var G=F.attributes,H=G.classid&&String(G.classid).toLowerCase();if(!H){for(var I=0;I<F.children.length;I++){if(F.children[I].name=='cke:embed'){if(!A(F.children[I]))return null;return B(C,F);}}return null;}return B(C,F);},'cke:embed':function(F){if(!A(F))return null;return B(C,F);}}},5);},requires:['fakeobjects']});})();q.extend(u,{flashEmbedTagOnly:false,flashAddEmbedTag:true,flashConvertOnEdit:false});(function(){function y(z,A,B,C,D,E,F){var G=z.config,H=D.split(';'),I=[],J={};for(var K=0;K<H.length;K++){var L=H[K];if(L){L=L.split('/');var M={},N=H[K]=L[0];M[B]=I[K]=L[1]||N;J[N]=new m.style(F,M);J[N]._.definition.name=N;}else H.splice(K--,1);}z.ui.addRichCombo(A,{label:C.label,title:C.panelTitle,className:'cke_'+(B=='size'?'fontSize':'font'),panel:{css:z.skin.editor.css.concat(G.contentsCss),multiSelect:false,attributes:{'aria-label':C.panelTitle}},init:function(){this.startGroup(C.panelTitle);for(var O=0;O<H.length;O++){var P=H[O];this.add(P,J[P].buildPreview(),P);}},onClick:function(O){z.focus();z.fire('saveSnapshot');var P=J[O];if(this.getValue()==O)P.remove(z.document);else P.apply(z.document);z.fire('saveSnapshot');},onRender:function(){z.on('selectionChange',function(O){var P=this.getValue(),Q=O.data.path,R=Q.elements;for(var S=0,T;S<R.length;S++){T=R[S];for(var U in J){if(J[U].checkElementRemovable(T,true)){if(U!=P)this.setValue(U);return;}}}this.setValue('',E);},this);}});};v.add('font',{requires:['richcombo','styles'],init:function(z){var A=z.config;
y(z,'Font','family',z.lang.font,A.font_names,A.font_defaultLabel,A.font_style);y(z,'FontSize','size',z.lang.fontSize,A.fontSize_sizes,A.fontSize_defaultLabel,A.fontSize_style);}});})();u.font_names='Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif';u.font_defaultLabel='';u.font_style={element:'span',styles:{'font-family':'#(family)'},overrides:[{element:'font',attributes:{face:null}}]};u.fontSize_sizes='8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px';u.fontSize_defaultLabel='';u.fontSize_style={element:'span',styles:{'font-size':'#(size)'},overrides:[{element:'font',attributes:{size:null}}]};v.add('format',{requires:['richcombo','styles'],init:function(y){var z=y.config,A=y.lang.format,B=z.format_tags.split(';'),C={};for(var D=0;D<B.length;D++){var E=B[D];C[E]=new m.style(z['format_'+E]);C[E]._.enterMode=y.config.enterMode;}y.ui.addRichCombo('Format',{label:A.label,title:A.panelTitle,className:'cke_format',panel:{css:y.skin.editor.css.concat(z.contentsCss),multiSelect:false,attributes:{'aria-label':A.panelTitle}},init:function(){this.startGroup(A.panelTitle);for(var F in C){var G=A['tag_'+F];this.add(F,'<'+F+'>'+G+'</'+F+'>',G);}},onClick:function(F){y.focus();y.fire('saveSnapshot');var G=C[F],H=new p.elementPath(y.getSelection().getStartElement());G[G.checkActive(H)?'remove':'apply'](y.document);setTimeout(function(){y.fire('saveSnapshot');},0);},onRender:function(){y.on('selectionChange',function(F){var G=this.getValue(),H=F.data.path;for(var I in C){if(C[I].checkActive(H)){if(I!=G)this.setValue(I,y.lang.format['tag_'+I]);return;}}this.setValue('');},this);}});}});u.format_tags='p;h1;h2;h3;h4;h5;h6;pre;address;div';u.format_p={element:'p'};u.format_div={element:'div'};u.format_pre={element:'pre'};u.format_address={element:'address'};u.format_h1={element:'h1'};u.format_h2={element:'h2'};u.format_h3={element:'h3'};u.format_h4={element:'h4'};u.format_h5={element:'h5'};u.format_h6={element:'h6'};v.add('forms',{init:function(y){var z=y.lang;y.addCss('form{border: 1px dotted #FF0000;padding: 2px;}\n');y.addCss('img.cke_hidden{background-image: url('+m.getUrl(this.path+'images/hiddenfield.gif')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 16px !important;'+'height: 16px !important;'+'}');
var A=function(C,D,E){y.addCommand(D,new m.dialogCommand(D));y.ui.addButton(C,{label:z.common[C.charAt(0).toLowerCase()+C.slice(1)],command:D});m.dialog.add(D,E);},B=this.path+'dialogs/';A('Form','form',B+'form.js');A('Checkbox','checkbox',B+'checkbox.js');A('Radio','radio',B+'radio.js');A('TextField','textfield',B+'textfield.js');A('Textarea','textarea',B+'textarea.js');A('Select','select',B+'select.js');A('Button','button',B+'button.js');A('ImageButton','imagebutton',v.getPath('image')+'dialogs/image.js');A('HiddenField','hiddenfield',B+'hiddenfield.js');if(y.addMenuItems)y.addMenuItems({form:{label:z.form.menu,command:'form',group:'form'},checkbox:{label:z.checkboxAndRadio.checkboxTitle,command:'checkbox',group:'checkbox'},radio:{label:z.checkboxAndRadio.radioTitle,command:'radio',group:'radio'},textfield:{label:z.textfield.title,command:'textfield',group:'textfield'},hiddenfield:{label:z.hidden.title,command:'hiddenfield',group:'hiddenfield'},imagebutton:{label:z.image.titleButton,command:'imagebutton',group:'imagebutton'},button:{label:z.button.title,command:'button',group:'button'},select:{label:z.select.title,command:'select',group:'select'},textarea:{label:z.textarea.title,command:'textarea',group:'textarea'}});if(y.contextMenu){y.contextMenu.addListener(function(C){if(C&&C.hasAscendant('form',true)&&!C.isReadOnly())return{form:2};});y.contextMenu.addListener(function(C){if(C&&!C.isReadOnly()){var D=C.getName();if(D=='select')return{select:2};if(D=='textarea')return{textarea:2};if(D=='input')switch(C.getAttribute('type')){case 'button':case 'submit':case 'reset':return{button:2};case 'checkbox':return{checkbox:2};case 'radio':return{radio:2};case 'image':return{imagebutton:2};default:return{textfield:2};}if(D=='img'&&C.data('cke-real-element-type')=='hiddenfield')return{hiddenfield:2};}});}y.on('doubleclick',function(C){var D=C.data.element;if(D.is('form'))C.data.dialog='form';else if(D.is('select'))C.data.dialog='select';else if(D.is('textarea'))C.data.dialog='textarea';else if(D.is('img')&&D.data('cke-real-element-type')=='hiddenfield')C.data.dialog='hiddenfield';else if(D.is('input'))switch(D.getAttribute('type')){case 'button':case 'submit':case 'reset':C.data.dialog='button';break;case 'checkbox':C.data.dialog='checkbox';break;case 'radio':C.data.dialog='radio';break;case 'image':C.data.dialog='imagebutton';break;default:C.data.dialog='textfield';break;}});},afterInit:function(y){var z=y.dataProcessor,A=z&&z.htmlFilter,B=z&&z.dataFilter;if(o)A&&A.addRules({elements:{input:function(C){var D=C.attributes,E=D.type;
if(!E)D.type='text';if(E=='checkbox'||E=='radio')D.value=='on'&&delete D.value;}}});if(B)B.addRules({elements:{input:function(C){if(C.attributes.type=='hidden')return y.createFakeParserElement(C,'cke_hidden','hiddenfield');}}});},requires:['image','fakeobjects']});if(o)t.prototype.hasAttribute=function(y){var B=this;var z=B.$.attributes.getNamedItem(y);if(B.getName()=='input')switch(y){case 'class':return B.$.className.length>0;case 'checked':return!!B.$.checked;case 'value':var A=B.getAttribute('type');return A=='checkbox'||A=='radio'?B.$.value!='on':B.$.value;}return!!(z&&z.specified);};(function(){var y={canUndo:false,exec:function(A){A.insertElement(A.document.createElement('hr'));}},z='horizontalrule';v.add(z,{init:function(A){A.addCommand(z,y);A.ui.addButton('HorizontalRule',{label:A.lang.horizontalrule,command:z});}});})();(function(){function y(z,A){var B=z.createFakeParserElement(A,'cke_iframe','iframe',true),C=B.attributes.style||'',D=A.attributes.width,E=A.attributes.height;if(typeof D!='undefined')C+='width:'+q.cssLength(D)+';';if(typeof E!='undefined')C+='height:'+q.cssLength(E)+';';B.attributes.style=C;return B;};v.add('iframe',{requires:['dialog','fakeobjects'],init:function(z){var A='iframe',B=z.lang.iframe;m.dialog.add(A,this.path+'dialogs/iframe.js');z.addCommand(A,new m.dialogCommand(A));z.addCss('img.cke_iframe{background-image: url('+m.getUrl(this.path+'images/placeholder.png')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 80px;'+'height: 80px;'+'}');z.ui.addButton('Iframe',{label:B.toolbar,command:A});z.on('doubleclick',function(C){var D=C.data.element;if(D.is('img')&&D.data('cke-real-element-type')=='iframe')C.data.dialog='iframe';});if(z.addMenuItems)z.addMenuItems({iframe:{label:B.title,command:'iframe',group:'image'}});if(z.contextMenu)z.contextMenu.addListener(function(C,D){if(C&&C.is('img')&&C.data('cke-real-element-type')=='iframe')return{iframe:2};});},afterInit:function(z){var A=z.dataProcessor,B=A&&A.dataFilter;if(B)B.addRules({elements:{iframe:function(C){return y(z,C);}}});}});})();v.add('image',{init:function(y){var z='image';m.dialog.add(z,this.path+'dialogs/image.js');y.addCommand(z,new m.dialogCommand(z));y.ui.addButton('Image',{label:y.lang.common.image,command:z});y.on('doubleclick',function(A){var B=A.data.element;if(B.is('img')&&!B.data('cke-realelement'))A.data.dialog='image';});if(y.addMenuItems)y.addMenuItems({image:{label:y.lang.image.menu,command:'image',group:'image'}});
if(y.contextMenu)y.contextMenu.addListener(function(A,B){if(!A||!A.is('img')||A.data('cke-realelement')||A.isReadOnly())return null;return{image:2};});}});u.image_removeLinkByEmptyURL=true;(function(){var y={ol:1,ul:1},z=p.walker.whitespaces(true),A=p.walker.bookmark(false,true);function B(F){var O=this;var G=F.editor,H=F.data.path,I=H&&H.contains(y);if(I)return O.setState(2);if(!O.useIndentClasses&&O.name=='indent')return O.setState(2);var J=F.data.path,K=J.block||J.blockLimit;if(!K)return O.setState(0);if(O.useIndentClasses){var L=K.$.className.match(O.classNameRegex),M=0;if(L){L=L[1];M=O.indentClassMap[L];}if(O.name=='outdent'&&!M||O.name=='indent'&&M==G.config.indentClasses.length)return O.setState(0);return O.setState(2);}else{var N=parseInt(K.getStyle(D(K)),10);if(isNaN(N))N=0;if(N<=0)return O.setState(0);return O.setState(2);}};function C(F,G){var I=this;I.name=G;I.useIndentClasses=F.config.indentClasses&&F.config.indentClasses.length>0;if(I.useIndentClasses){I.classNameRegex=new RegExp('(?:^|\\s+)('+F.config.indentClasses.join('|')+')(?=$|\\s)');I.indentClassMap={};for(var H=0;H<F.config.indentClasses.length;H++)I.indentClassMap[F.config.indentClasses[H]]=H+1;}I.startDisabled=G=='outdent';};function D(F,G){return(G||F.getComputedStyle('direction'))=='ltr'?'margin-left':'margin-right';};function E(F){return F.type=1&&F.is('li');};C.prototype={exec:function(F){var G=this,H={};function I(Y){var Z=O.startContainer,aa=O.endContainer;while(Z&&!Z.getParent().equals(Y))Z=Z.getParent();while(aa&&!aa.getParent().equals(Y))aa=aa.getParent();if(!Z||!aa)return;var ab=Z,ac=[],ad=false;while(!ad){if(ab.equals(aa))ad=true;ac.push(ab);ab=ab.getNext();}if(ac.length<1)return;var ae=Y.getParents(true);for(var af=0;af<ae.length;af++){if(ae[af].getName&&y[ae[af].getName()]){Y=ae[af];break;}}var ag=G.name=='indent'?1:-1,ah=ac[0],ai=ac[ac.length-1],aj=v.list.listToArray(Y,H),ak=aj[ai.getCustomData('listarray_index')].indent;for(af=ah.getCustomData('listarray_index');af<=ai.getCustomData('listarray_index');af++){aj[af].indent+=ag;var al=aj[af].parent;aj[af].parent=new t(al.getName(),al.getDocument());}for(af=ai.getCustomData('listarray_index')+1;af<aj.length&&aj[af].indent>ak;af++)aj[af].indent+=ag;var am=v.list.arrayToList(aj,H,null,F.config.enterMode,Y.getDirection());if(G.name=='outdent'){var an;if((an=Y.getParent())&&an.is('li')){var ao=am.listNode.getChildren(),ap=[],aq=ao.count(),ar;for(af=aq-1;af>=0;af--){if((ar=ao.getItem(af))&&ar.is&&ar.is('li'))ap.push(ar);}}}if(am)am.listNode.replace(Y);
if(ap&&ap.length)for(af=0;af<ap.length;af++){var as=ap[af],at=as;while((at=at.getNext())&&at.is&&at.getName() in y){if(o&&!as.getFirst(function(au){return z(au)&&A(au);}))as.append(O.document.createText('\xa0'));as.append(at);}as.insertAfter(an);}};function J(){var Y=O.createIterator(),Z=F.config.enterMode;Y.enforceRealBlocks=true;Y.enlargeBr=Z!=2;var aa;while(aa=Y.getNextParagraph(Z==1?'p':'div'))K(aa);};function K(Y,Z){if(Y.getCustomData('indent_processed'))return false;if(G.useIndentClasses){var aa=Y.$.className.match(G.classNameRegex),ab=0;if(aa){aa=aa[1];ab=G.indentClassMap[aa];}if(G.name=='outdent')ab--;else ab++;if(ab<0)return false;ab=Math.min(ab,F.config.indentClasses.length);ab=Math.max(ab,0);Y.$.className=q.ltrim(Y.$.className.replace(G.classNameRegex,''));if(ab>0)Y.addClass(F.config.indentClasses[ab-1]);}else{var ac=D(Y,Z),ad=parseInt(Y.getStyle(ac),10);if(isNaN(ad))ad=0;var ae=F.config.indentOffset||40;ad+=(G.name=='indent'?1:-1)*ae;if(ad<0)return false;ad=Math.max(ad,0);ad=Math.ceil(ad/ae)*ae;Y.setStyle(ac,ad?ad+(F.config.indentUnit||'px'):'');if(Y.getAttribute('style')==='')Y.removeAttribute('style');}t.setMarker(H,Y,'indent_processed',1);return true;};var L=F.getSelection(),M=L.createBookmarks(1),N=L&&L.getRanges(1),O,P=N.createIterator();while(O=P.getNextRange()){var Q=O.getCommonAncestor(),R=Q;while(R&&!(R.type==1&&y[R.getName()]))R=R.getParent();if(!R){var S=O.getEnclosedNode();if(S&&S.type==1&&S.getName() in y){O.setStartAt(S,1);O.setEndAt(S,2);R=S;}}if(R&&O.startContainer.type==1&&O.startContainer.getName() in y){var T=new p.walker(O);T.evaluator=E;O.startContainer=T.next();}if(R&&O.endContainer.type==1&&O.endContainer.getName() in y){T=new p.walker(O);T.evaluator=E;O.endContainer=T.previous();}if(R){var U=R.getFirst(E),V=!!U.getNext(E),W=O.startContainer,X=U.equals(W)||U.contains(W);if(!(X&&(G.name=='indent'||G.useIndentClasses||parseInt(R.getStyle(D(R)),10))&&K(R,!V&&U.getDirection())))I(R);}else J();}t.clearAllMarkers(H);F.forceNextSelectionCheck();L.selectBookmarks(M);}};v.add('indent',{init:function(F){var G=F.addCommand('indent',new C(F,'indent')),H=F.addCommand('outdent',new C(F,'outdent'));F.ui.addButton('Indent',{label:F.lang.indent,command:'indent'});F.ui.addButton('Outdent',{label:F.lang.outdent,command:'outdent'});F.on('selectionChange',q.bind(B,G));F.on('selectionChange',q.bind(B,H));if(n.ie6Compat||n.ie7Compat)F.addCss('ul,ol{\tmargin-left: 0px;\tpadding-left: 40px;}');F.on('dirChanged',function(I){var J=new p.range(F.document);
J.setStartBefore(I.data.node);J.setEndAfter(I.data.node);var K=new p.walker(J),L;while(L=K.next()){if(L.type==1){if(!L.equals(I.data.node)&&L.getDirection()){J.setStartAfter(L);K=new p.walker(J);continue;}var M=F.config.indentClasses;if(M){var N=I.data.dir=='ltr'?['_rtl','']:['','_rtl'];for(var O=0;O<M.length;O++){if(L.hasClass(M[O]+N[0])){L.removeClass(M[O]+N[0]);L.addClass(M[O]+N[1]);}}}var P=L.getStyle('margin-right'),Q=L.getStyle('margin-left');P?L.setStyle('margin-left',P):L.removeStyle('margin-left');Q?L.setStyle('margin-right',Q):L.removeStyle('margin-right');}}});},requires:['domiterator','list']});})();(function(){function y(D,E){var F=E.block||E.blockLimit;if(!F||F.getName()=='body')return 2;return z(F,D.config.useComputedState)==this.value?1:2;};function z(D,E){E=E===undefined||E;var F;if(E)F=D.getComputedStyle('text-align');else{while(!D.hasAttribute||!(D.hasAttribute('align')||D.getStyle('text-align'))){var G=D.getParent();if(!G)break;D=G;}F=D.getStyle('text-align')||D.getAttribute('align')||'';}F&&(F=F.replace(/-moz-|-webkit-|start|auto/i,''));!F&&E&&(F=D.getComputedStyle('direction')=='rtl'?'right':'left');return F;};function A(D){var E=D.editor.getCommand(this.name);E.state=y.call(this,D.editor,D.data.path);E.fire('state');};function B(D,E,F){var H=this;H.name=E;H.value=F;var G=D.config.justifyClasses;if(G){switch(F){case 'left':H.cssClassName=G[0];break;case 'center':H.cssClassName=G[1];break;case 'right':H.cssClassName=G[2];break;case 'justify':H.cssClassName=G[3];break;}H.cssClassRegex=new RegExp('(?:^|\\s+)(?:'+G.join('|')+')(?=$|\\s)');}};function C(D){var E=D.editor,F=new p.range(E.document);F.setStartBefore(D.data.node);F.setEndAfter(D.data.node);var G=new p.walker(F),H;while(H=G.next()){if(H.type==1){if(!H.equals(D.data.node)&&H.getDirection()){F.setStartAfter(H);G=new p.walker(F);continue;}var I=E.config.justifyClasses;if(I)if(H.hasClass(I[0])){H.removeClass(I[0]);H.addClass(I[2]);}else if(H.hasClass(I[2])){H.removeClass(I[2]);H.addClass(I[0]);}var J='text-align',K=H.getStyle(J);if(K=='left')H.setStyle(J,'right');else if(K=='right')H.setStyle(J,'left');}}};B.prototype={exec:function(D){var P=this;var E=D.getSelection(),F=D.config.enterMode;if(!E)return;var G=E.createBookmarks(),H=E.getRanges(true),I=P.cssClassName,J,K,L=D.config.useComputedState;L=L===undefined||L;for(var M=H.length-1;M>=0;M--){J=H[M].createIterator();J.enlargeBr=F!=2;while(K=J.getNextParagraph(F==1?'p':'div')){K.removeAttribute('align');K.removeStyle('text-align');
var N=I&&(K.$.className=q.ltrim(K.$.className.replace(P.cssClassRegex,''))),O=P.state==2&&(!L||z(K,true)!=P.value);if(I){if(O)K.addClass(I);else if(!N)K.removeAttribute('class');}else if(O)K.setStyle('text-align',P.value);}}D.focus();D.forceNextSelectionCheck();E.selectBookmarks(G);}};v.add('justify',{init:function(D){var E=new B(D,'justifyleft','left'),F=new B(D,'justifycenter','center'),G=new B(D,'justifyright','right'),H=new B(D,'justifyblock','justify');D.addCommand('justifyleft',E);D.addCommand('justifycenter',F);D.addCommand('justifyright',G);D.addCommand('justifyblock',H);D.ui.addButton('JustifyLeft',{label:D.lang.justify.left,command:'justifyleft'});D.ui.addButton('JustifyCenter',{label:D.lang.justify.center,command:'justifycenter'});D.ui.addButton('JustifyRight',{label:D.lang.justify.right,command:'justifyright'});D.ui.addButton('JustifyBlock',{label:D.lang.justify.block,command:'justifyblock'});D.on('selectionChange',q.bind(A,E));D.on('selectionChange',q.bind(A,G));D.on('selectionChange',q.bind(A,F));D.on('selectionChange',q.bind(A,H));D.on('dirChanged',C);},requires:['domiterator']});})();v.add('keystrokes',{beforeInit:function(y){y.keystrokeHandler=new m.keystrokeHandler(y);y.specialKeys={};},init:function(y){var z=y.config.keystrokes,A=y.config.blockedKeystrokes,B=y.keystrokeHandler.keystrokes,C=y.keystrokeHandler.blockedKeystrokes;for(var D=0;D<z.length;D++)B[z[D][0]]=z[D][1];for(D=0;D<A.length;D++)C[A[D]]=1;}});m.keystrokeHandler=function(y){var z=this;if(y.keystrokeHandler)return y.keystrokeHandler;z.keystrokes={};z.blockedKeystrokes={};z._={editor:y};return z;};(function(){var y,z=function(B){B=B.data;var C=B.getKeystroke(),D=this.keystrokes[C],E=this._.editor;y=E.fire('key',{keyCode:C})===true;if(!y){if(D){var F={from:'keystrokeHandler'};y=E.execCommand(D,F)!==false;}if(!y){var G=E.specialKeys[C];y=G&&G(E)===true;if(!y)y=!!this.blockedKeystrokes[C];}}if(y)B.preventDefault(true);return!y;},A=function(B){if(y){y=false;B.data.preventDefault(true);}};m.keystrokeHandler.prototype={attach:function(B){B.on('keydown',z,this);if(n.opera||n.gecko&&n.mac)B.on('keypress',A,this);}};})();u.blockedKeystrokes=[1000+66,1000+73,1000+85];u.keystrokes=[[4000+121,'toolbarFocus'],[4000+122,'elementsPathFocus'],[2000+121,'contextMenu'],[1000+2000+121,'contextMenu'],[1000+90,'undo'],[1000+89,'redo'],[1000+2000+90,'redo'],[1000+76,'link'],[1000+66,'bold'],[1000+73,'italic'],[1000+85,'underline'],[4000+109,'toolbarCollapse'],[4000+48,'a11yHelp']];v.add('link',{init:function(y){y.addCommand('link',new m.dialogCommand('link'));
y.addCommand('anchor',new m.dialogCommand('anchor'));y.addCommand('unlink',new m.unlinkCommand());y.ui.addButton('Link',{label:y.lang.link.toolbar,command:'link'});y.ui.addButton('Unlink',{label:y.lang.unlink,command:'unlink'});y.ui.addButton('Anchor',{label:y.lang.anchor.toolbar,command:'anchor'});m.dialog.add('link',this.path+'dialogs/link.js');m.dialog.add('anchor',this.path+'dialogs/anchor.js');var z=y.lang.dir=='rtl'?'right':'left';y.addCss('img.cke_anchor{background-image: url('+m.getUrl(this.path+'images/anchor.gif')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 18px !important;'+'height: 18px !important;'+'}\n'+'a.cke_anchor'+'{'+'background-image: url('+m.getUrl(this.path+'images/anchor.gif')+');'+'background-position: '+z+' center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'padding-'+z+': 18px;'+'}');y.on('selectionChange',function(A){var B=y.getCommand('unlink'),C=A.data.path.lastElement&&A.data.path.lastElement.getAscendant('a',true);if(C&&C.getName()=='a'&&C.getAttribute('href'))B.setState(2);else B.setState(0);});y.on('doubleclick',function(A){var B=v.link.getSelectedLink(y)||A.data.element;if(!B.isReadOnly())if(B.is('a'))A.data.dialog=B.getAttribute('name')&&!B.getAttribute('href')?'anchor':'link';else if(B.is('img')&&B.data('cke-real-element-type')=='anchor')A.data.dialog='anchor';});if(y.addMenuItems)y.addMenuItems({anchor:{label:y.lang.anchor.menu,command:'anchor',group:'anchor'},link:{label:y.lang.link.menu,command:'link',group:'link',order:1},unlink:{label:y.lang.unlink,command:'unlink',group:'link',order:5}});if(y.contextMenu)y.contextMenu.addListener(function(A,B){if(!A||A.isReadOnly())return null;var C=A.is('img')&&A.data('cke-real-element-type')=='anchor';if(!C){if(!(A=v.link.getSelectedLink(y)))return null;C=A.getAttribute('name')&&!A.getAttribute('href');}return C?{anchor:2}:{link:2,unlink:2};});},afterInit:function(y){var z=y.dataProcessor,A=z&&z.dataFilter;if(A)A.addRules({elements:{a:function(B){var C=B.attributes;if(C.name&&!C.href)return y.createFakeParserElement(B,'cke_anchor','anchor');}}});},requires:['fakeobjects']});v.link={getSelectedLink:function(y){try{var z=y.getSelection();if(z.getType()==3){var A=z.getSelectedElement();if(A.is('a'))return A;}var B=z.getRanges(true)[0];B.shrink(2);var C=B.getCommonAncestor();return C.getAscendant('a',true);}catch(D){return null;}}};m.unlinkCommand=function(){};m.unlinkCommand.prototype={exec:function(y){var z=y.getSelection(),A=z.createBookmarks(),B=z.getRanges(),C,D;
for(var E=0;E<B.length;E++){C=B[E].getCommonAncestor(true);D=C.getAscendant('a',true);if(!D)continue;B[E].selectNodeContents(D);}z.selectRanges(B);y.document.$.execCommand('unlink',false,null);z.selectBookmarks(A);},startDisabled:true};q.extend(u,{linkShowAdvancedTab:true,linkShowTargetTab:true});(function(){var y={ol:1,ul:1},z=/^[\n\r\t ]*$/,A=p.walker.whitespaces(),B=p.walker.bookmark(),C=function(Q){return!(A(Q)||B(Q));};v.list={listToArray:function(Q,R,S,T,U){if(!y[Q.getName()])return[];if(!T)T=0;if(!S)S=[];for(var V=0,W=Q.getChildCount();V<W;V++){var X=Q.getChild(V);if(X.$.nodeName.toLowerCase()!='li')continue;var Y={parent:Q,indent:T,element:X,contents:[]};if(!U){Y.grandparent=Q.getParent();if(Y.grandparent&&Y.grandparent.$.nodeName.toLowerCase()=='li')Y.grandparent=Y.grandparent.getParent();}else Y.grandparent=U;if(R)t.setMarker(R,X,'listarray_index',S.length);S.push(Y);for(var Z=0,aa=X.getChildCount(),ab;Z<aa;Z++){ab=X.getChild(Z);if(ab.type==1&&y[ab.getName()])v.list.listToArray(ab,R,S,T+1,Y.grandparent);else Y.contents.push(ab);}}return S;},arrayToList:function(Q,R,S,T,U){if(!S)S=0;if(!Q||Q.length<S+1)return null;var V=Q[S].parent.getDocument(),W=new p.documentFragment(V),X=null,Y=S,Z=Math.max(Q[S].indent,0),aa=null,ab=T==1?'p':'div';while(1){var ac=Q[Y];if(ac.indent==Z){if(!X||Q[Y].parent.getName()!=X.getName()){X=Q[Y].parent.clone(false,1);U&&X.setAttribute('dir',U);W.append(X);}aa=X.append(ac.element.clone(0,1));for(var ad=0;ad<ac.contents.length;ad++)aa.append(ac.contents[ad].clone(1,1));Y++;}else if(ac.indent==Math.max(Z,0)+1){var ae=v.list.arrayToList(Q,null,Y,T);if(!aa.getChildCount()&&o&&!(V.$.documentMode>7))aa.append(V.createText('\xa0'));aa.append(ae.listNode);Y=ae.nextIndex;}else if(ac.indent==-1&&!S&&ac.grandparent){aa;if(y[ac.grandparent.getName()])aa=ac.element.clone(false,true);else if(U||ac.element.hasAttributes()||T!=2){aa=V.createElement(ab);ac.element.copyAttributes(aa,{type:1,value:1});var af=ac.element.getDirection()||U;af&&aa.setAttribute('dir',af);if(!U&&T==2&&!aa.hasAttributes())aa=new p.documentFragment(V);}else aa=new p.documentFragment(V);for(ad=0;ad<ac.contents.length;ad++)aa.append(ac.contents[ad].clone(1,1));if(aa.type==11&&Y!=Q.length-1){var ag=aa.getLast();if(ag&&ag.type==1&&ag.getAttribute('type')=='_moz')ag.remove();if(!(ag=aa.getLast(C)&&ag.type==1&&ag.getName() in r.$block))aa.append(V.createElement('br'));}if(aa.type==1&&aa.getName()==ab&&aa.$.firstChild){aa.trim();var ah=aa.getFirst();if(ah.type==1&&ah.isBlockBoundary()){var ai=new p.documentFragment(V);
aa.moveChildren(ai);aa=ai;}}var aj=aa.$.nodeName.toLowerCase();if(!o&&(aj=='div'||aj=='p'))aa.appendBogus();W.append(aa);X=null;Y++;}else return null;if(Q.length<=Y||Math.max(Q[Y].indent,0)<Z)break;}if(R){var ak=W.getFirst();while(ak){if(ak.type==1)t.clearMarkers(R,ak);ak=ak.getNextSourceNode();}}return{listNode:W,nextIndex:Y};}};function D(Q){var R=Q.data.path,S=R.blockLimit,T=R.elements,U,V;for(V=0;V<T.length&&(U=T[V])&&!U.equals(S);V++){if(y[T[V].getName()])return this.setState(this.type==T[V].getName()?1:2);}return this.setState(2);};function E(Q,R,S,T){var U=v.list.listToArray(R.root,S),V=[];for(var W=0;W<R.contents.length;W++){var X=R.contents[W];X=X.getAscendant('li',true);if(!X||X.getCustomData('list_item_processed'))continue;V.push(X);t.setMarker(S,X,'list_item_processed',true);}var Y=R.root,Z=Y.getDocument().createElement(this.type);Y.copyAttributes(Z,{start:1,type:1});Z.removeStyle('list-style-type');for(W=0;W<V.length;W++){var aa=V[W].getCustomData('listarray_index');U[aa].parent=Z;}var ab=v.list.arrayToList(U,S,null,Q.config.enterMode),ac,ad=ab.listNode.getChildCount();for(W=0;W<ad&&(ac=ab.listNode.getChild(W));W++){if(ac.getName()==this.type)T.push(ac);}ab.listNode.replace(R.root);};var F=/^h[1-6]$/;function G(Q,R,S){var T=R.contents,U=R.root.getDocument(),V=[];if(T.length==1&&T[0].equals(R.root)){var W=U.createElement('div');T[0].moveChildren&&T[0].moveChildren(W);T[0].append(W);T[0]=W;}var X=R.contents[0].getParent();for(var Y=0;Y<T.length;Y++)X=X.getCommonAncestor(T[Y].getParent());var Z=Q.config.useComputedState,aa,ab;Z=Z===undefined||Z;for(Y=0;Y<T.length;Y++){var ac=T[Y],ad;while(ad=ac.getParent()){if(ad.equals(X)){V.push(ac);if(!ab&&ac.getDirection())ab=1;var ae=ac.getDirection(Z);if(aa!==null)if(aa&&aa!=ae)aa=null;else aa=ae;break;}ac=ad;}}if(V.length<1)return;var af=V[V.length-1].getNext(),ag=U.createElement(this.type);S.push(ag);var ah,ai;while(V.length){ah=V.shift();ai=U.createElement('li');if(ah.is('pre')||F.test(ah.getName()))ah.appendTo(ai);else{if(aa&&ah.getDirection()){ah.removeStyle('direction');ah.removeAttribute('dir');}ah.copyAttributes(ai);ah.moveChildren(ai);ah.remove();}ai.appendTo(ag);}if(aa&&ab)ag.setAttribute('dir',aa);if(af)ag.insertBefore(af);else ag.appendTo(X);};function H(Q,R,S){var T=v.list.listToArray(R.root,S),U=[];for(var V=0;V<R.contents.length;V++){var W=R.contents[V];W=W.getAscendant('li',true);if(!W||W.getCustomData('list_item_processed'))continue;U.push(W);t.setMarker(S,W,'list_item_processed',true);}var X=null;
for(V=0;V<U.length;V++){var Y=U[V].getCustomData('listarray_index');T[Y].indent=-1;X=Y;}for(V=X+1;V<T.length;V++){if(T[V].indent>T[V-1].indent+1){var Z=T[V-1].indent+1-T[V].indent,aa=T[V].indent;while(T[V]&&T[V].indent>=aa){T[V].indent+=Z;V++;}V--;}}var ab=v.list.arrayToList(T,S,null,Q.config.enterMode,R.root.getAttribute('dir')),ac=ab.listNode,ad,ae;function af(ag){if((ad=ac[ag?'getFirst':'getLast']())&&!(ad.is&&ad.isBlockBoundary())&&(ae=R.root[ag?'getPrevious':'getNext'](p.walker.whitespaces(true)))&&!(ae.is&&ae.isBlockBoundary({br:1})))Q.document.createElement('br')[ag?'insertBefore':'insertAfter'](ad);};af(true);af();ac.replace(R.root);};function I(Q,R){this.name=Q;this.type=R;};I.prototype={exec:function(Q){Q.focus();var R=Q.document,S=Q.getSelection(),T=S&&S.getRanges(true);if(!T||T.length<1)return;if(this.state==2){var U=R.getBody();U.trim();if(!U.getFirst()){var V=R.createElement(Q.config.enterMode==1?'p':Q.config.enterMode==3?'div':'br');V.appendTo(U);T=new p.rangeList([new p.range(R)]);if(V.is('br')){T[0].setStartBefore(V);T[0].setEndAfter(V);}else T[0].selectNodeContents(V);S.selectRanges(T);}else{var W=T.length==1&&T[0],X=W&&W.getEnclosedNode();if(X&&X.is&&this.type==X.getName())this.setState(1);}}var Y=S.createBookmarks(true),Z=[],aa={},ab=T.createIterator(),ac=0;while((W=ab.getNextRange())&&++ac){var ad=W.getBoundaryNodes(),ae=ad.startNode,af=ad.endNode;if(ae.type==1&&ae.getName()=='td')W.setStartAt(ad.startNode,1);if(af.type==1&&af.getName()=='td')W.setEndAt(ad.endNode,2);var ag=W.createIterator(),ah;ag.forceBrBreak=this.state==2;while(ah=ag.getNextParagraph()){if(ah.getCustomData('list_block'))continue;else t.setMarker(aa,ah,'list_block',1);var ai=new p.elementPath(ah),aj=ai.elements,ak=aj.length,al=null,am=0,an=ai.blockLimit,ao;for(var ap=ak-1;ap>=0&&(ao=aj[ap]);ap--){if(y[ao.getName()]&&an.contains(ao)){an.removeCustomData('list_group_object_'+ac);var aq=ao.getCustomData('list_group_object');if(aq)aq.contents.push(ah);else{aq={root:ao,contents:[ah]};Z.push(aq);t.setMarker(aa,ao,'list_group_object',aq);}am=1;break;}}if(am)continue;var ar=an;if(ar.getCustomData('list_group_object_'+ac))ar.getCustomData('list_group_object_'+ac).contents.push(ah);else{aq={root:ar,contents:[ah]};t.setMarker(aa,ar,'list_group_object_'+ac,aq);Z.push(aq);}}}var as=[];while(Z.length>0){aq=Z.shift();if(this.state==2){if(y[aq.root.getName()])E.call(this,Q,aq,aa,as);else G.call(this,Q,aq,as);}else if(this.state==1&&y[aq.root.getName()])H.call(this,Q,aq,aa);}for(ap=0;
ap<as.length;ap++){al=as[ap];var at,au=this;(at=function(av){var aw=al[av?'getPrevious':'getNext'](p.walker.whitespaces(true));if(aw&&aw.getName&&aw.getName()==au.type){aw.remove();aw.moveChildren(al,av);}})();at(1);}t.clearAllMarkers(aa);S.selectBookmarks(Y);Q.focus();}};var J=r,K=/[\t\r\n ]*(?:&nbsp;|\xa0)$/;function L(Q,R){var S,T=Q.children,U=T.length;for(var V=0;V<U;V++){S=T[V];if(S.name&&S.name in R)return V;}return U;};function M(Q){return function(R){var S=R.children,T=L(R,J.$list),U=S[T],V=U&&U.previous,W;if(V&&(V.name&&V.name=='br'||V.value&&(W=V.value.match(K)))){var X=V;if(!(W&&W.index)&&X==S[0])S[0]=Q||o?new m.htmlParser.text('\xa0'):new m.htmlParser.element('br',{});else if(X.name=='br')S.splice(T-1,1);else X.value=X.value.replace(K,'');}};};var N={elements:{}};for(var O in J.$listItem)N.elements[O]=M();var P={elements:{}};for(O in J.$listItem)P.elements[O]=M(true);v.add('list',{init:function(Q){var R=Q.addCommand('numberedlist',new I('numberedlist','ol')),S=Q.addCommand('bulletedlist',new I('bulletedlist','ul'));Q.ui.addButton('NumberedList',{label:Q.lang.numberedlist,command:'numberedlist'});Q.ui.addButton('BulletedList',{label:Q.lang.bulletedlist,command:'bulletedlist'});Q.on('selectionChange',q.bind(D,R));Q.on('selectionChange',q.bind(D,S));},afterInit:function(Q){var R=Q.dataProcessor;if(R){R.dataFilter.addRules(N);R.htmlFilter.addRules(P);}},requires:['domiterator']});})();(function(){v.liststyle={requires:['dialog'],init:function(y){y.addCommand('numberedListStyle',new m.dialogCommand('numberedListStyle'));m.dialog.add('numberedListStyle',this.path+'dialogs/liststyle.js');y.addCommand('bulletedListStyle',new m.dialogCommand('bulletedListStyle'));m.dialog.add('bulletedListStyle',this.path+'dialogs/liststyle.js');if(y.addMenuItems){y.addMenuGroup('list',108);y.addMenuItems({numberedlist:{label:y.lang.list.numberedTitle,group:'list',command:'numberedListStyle'},bulletedlist:{label:y.lang.list.bulletedTitle,group:'list',command:'bulletedListStyle'}});}if(y.contextMenu)y.contextMenu.addListener(function(z,A){if(!z||z.isReadOnly())return null;while(z){var B=z.getName();if(B=='ol')return{numberedlist:2};else if(B=='ul')return{bulletedlist:2};z=z.getParent();}return null;});}};v.add('liststyle',v.liststyle);})();(function(){function y(E){if(!E||E.type!=1||E.getName()!='form')return[];var F=[],G=['style','className'];for(var H=0;H<G.length;H++){var I=G[H],J=E.$.elements.namedItem(I);if(J){var K=new t(J);F.push([K,K.nextSibling]);K.remove();}}return F;
};function z(E,F){if(!E||E.type!=1||E.getName()!='form')return;if(F.length>0)for(var G=F.length-1;G>=0;G--){var H=F[G][0],I=F[G][1];if(I)H.insertBefore(I);else H.appendTo(E);}};function A(E,F){var G=y(E),H={},I=E.$;if(!F){H['class']=I.className||'';I.className='';}H.inline=I.style.cssText||'';if(!F)I.style.cssText='position: static; overflow: visible';z(G);return H;};function B(E,F){var G=y(E),H=E.$;if('class' in F)H.className=F['class'];if('inline' in F)H.style.cssText=F.inline;z(G);};function C(E){var F=m.instances;for(var G in F){var H=F[G];if(H.mode=='wysiwyg'){var I=H.document.getBody();I.setAttribute('contentEditable',false);I.setAttribute('contentEditable',true);}}if(E.focusManager.hasFocus){E.toolbox.focus();E.focus();}};function D(E){if(!o||n.version>6)return null;var F=t.createFromHtml('<iframe frameborder="0" tabindex="-1" src="javascript:void((function(){document.open();'+(n.isCustomDomain()?"document.domain='"+this.getDocument().$.domain+"';":'')+'document.close();'+'})())"'+' style="display:block;position:absolute;z-index:-1;'+'progid:DXImageTransform.Microsoft.Alpha(opacity=0);'+'"></iframe>');return E.append(F,true);};v.add('maximize',{init:function(E){var F=E.lang,G=m.document,H=G.getWindow(),I,J,K,L;function M(){var O=H.getViewPaneSize();L&&L.setStyles({width:O.width+'px',height:O.height+'px'});E.resize(O.width,O.height,null,true);};var N=2;E.addCommand('maximize',{modes:{wysiwyg:1,source:1},editorFocus:false,exec:function(){var O=E.container.getChild(1),P=E.getThemeSpace('contents');if(E.mode=='wysiwyg'){var Q=E.getSelection();I=Q&&Q.getRanges();J=H.getScrollPosition();}else{var R=E.textarea.$;I=!o&&[R.selectionStart,R.selectionEnd];J=[R.scrollLeft,R.scrollTop];}if(this.state==2){H.on('resize',M);K=H.getScrollPosition();var S=E.container;while(S=S.getParent()){S.setCustomData('maximize_saved_styles',A(S));S.setStyle('z-index',E.config.baseFloatZIndex-1);}P.setCustomData('maximize_saved_styles',A(P,true));O.setCustomData('maximize_saved_styles',A(O,true));var T={overflow:n.webkit?'':'hidden',width:0,height:0};G.getDocumentElement().setStyles(T);!n.gecko&&G.getDocumentElement().setStyle('position','fixed');G.getBody().setStyles(T);o?setTimeout(function(){H.$.scrollTo(0,0);},0):H.$.scrollTo(0,0);O.setStyle('position','absolute');O.$.offsetLeft;O.setStyles({'z-index':E.config.baseFloatZIndex-1,left:'0px',top:'0px'});L=D(O);O.addClass('cke_maximized');M();var U=O.getDocumentPosition();O.setStyles({left:-1*U.x+'px',top:-1*U.y+'px'});n.gecko&&C(E);
}else if(this.state==1){H.removeListener('resize',M);var V=[P,O];for(var W=0;W<V.length;W++){B(V[W],V[W].getCustomData('maximize_saved_styles'));V[W].removeCustomData('maximize_saved_styles');}S=E.container;while(S=S.getParent()){B(S,S.getCustomData('maximize_saved_styles'));S.removeCustomData('maximize_saved_styles');}o?setTimeout(function(){H.$.scrollTo(K.x,K.y);},0):H.$.scrollTo(K.x,K.y);O.removeClass('cke_maximized');if(n.webkit){O.setStyle('display','inline');setTimeout(function(){O.setStyle('display','block');},0);}if(L){L.remove();L=null;}E.fire('resize');}this.toggleState();var X=this.uiItems[0];if(X){var Y=this.state==2?F.maximize:F.minimize,Z=E.element.getDocument().getById(X._.id);Z.getChild(1).setHtml(Y);Z.setAttribute('title',Y);Z.setAttribute('href','javascript:void("'+Y+'");');}if(E.mode=='wysiwyg'){if(I){n.gecko&&C(E);E.getSelection().selectRanges(I);var aa=E.getSelection().getStartElement();aa&&aa.scrollIntoView(true);}else H.$.scrollTo(J.x,J.y);}else{if(I){R.selectionStart=I[0];R.selectionEnd=I[1];}R.scrollLeft=J[0];R.scrollTop=J[1];}I=J=null;N=this.state;},canUndo:false});E.ui.addButton('Maximize',{label:F.maximize,command:'maximize'});E.on('mode',function(){var O=E.getCommand('maximize');O.setState(O.state==0?0:N);},null,null,100);}});})();v.add('newpage',{init:function(y){y.addCommand('newpage',{modes:{wysiwyg:1,source:1},exec:function(z){var A=this;z.setData(z.config.newpage_html||'',function(){setTimeout(function(){z.fire('afterCommandExec',{name:A.name,command:A});},200);});z.focus();},async:true});y.ui.addButton('NewPage',{label:y.lang.newPage,command:'newpage'});}});v.add('pagebreak',{init:function(y){y.addCommand('pagebreak',v.pagebreakCmd);y.ui.addButton('PageBreak',{label:y.lang.pagebreak,command:'pagebreak'});y.addCss('img.cke_pagebreak{background-image: url('+m.getUrl(this.path+'images/pagebreak.gif')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'clear: both;'+'display: block;'+'float: none;'+'width:100% !important; _width:99.9% !important;'+'border-top: #999999 1px dotted;'+'border-bottom: #999999 1px dotted;'+'height: 5px !important;'+'page-break-after: always;'+'}');},afterInit:function(y){var z=y.dataProcessor,A=z&&z.dataFilter;if(A)A.addRules({elements:{div:function(B){var C=B.attributes,D=C&&C.style,E=D&&B.children.length==1&&B.children[0],F=E&&E.name=='span'&&E.attributes.style;if(F&&/page-break-after\s*:\s*always/i.test(D)&&/display\s*:\s*none/i.test(F)){var G=y.createFakeParserElement(B,'cke_pagebreak','div'),H=y.lang.pagebreakAlt;
G.attributes.alt=H;G.attributes['aria-label']=H;return G;}}}});},requires:['fakeobjects']});v.pagebreakCmd={exec:function(y){var z=y.lang.pagebreakAlt,A=t.createFromHtml('<div style="page-break-after: always;"><span style="display: none;">&nbsp;</span></div>');A=y.createFakeElement(A,'cke_pagebreak','div');A.setAttributes({alt:z,'aria-label':z,title:z});var B=y.getSelection().getRanges(true);y.fire('saveSnapshot');for(var C,D=B.length-1;D>=0;D--){C=B[D];if(D<B.length-1)A=A.clone(true);C.splitBlock('p');C.insertNode(A);if(D==B.length-1){C.moveToPosition(A,4);C.select();}var E=A.getPrevious();if(E&&r[E.getName()].div)A.move(E);}y.fire('saveSnapshot');}};(function(){v.add('pastefromword',{init:function(y){var z=0,A=function(){setTimeout(function(){z=0;},0);};y.addCommand('pastefromword',{canUndo:false,exec:function(){z=1;if(y.execCommand('paste')===false)y.on('dialogHide',function(B){B.removeListener();A();});else A();}});y.ui.addButton('PasteFromWord',{label:y.lang.pastefromword.toolbar,command:'pastefromword'});y.on('pasteState',function(B){y.getCommand('pastefromword').setState(B.data);});y.on('paste',function(B){var C=B.data,D;if((D=C.html)&&(z||/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/.test(D))){var E=this.loadFilterRules(function(){if(E)y.fire('paste',C);else if(!y.config.pasteFromWordPromptCleanup||z||confirm(y.lang.pastefromword.confirmCleanup))C.html=m.cleanWord(D,y);});E&&B.cancel();}},this);},loadFilterRules:function(y){var z=m.cleanWord;if(z)y();else{var A=m.getUrl(u.pasteFromWordCleanupFile||this.path+'filter/default.js');m.scriptLoader.load(A,y,null,true);}return!z;},requires:['clipboard']});})();(function(){var y={exec:function(z){var A=q.tryThese(function(){var B=window.clipboardData.getData('Text');if(!B)throw 0;return B;});if(!A){z.openDialog('pastetext');return false;}else z.fire('paste',{text:A});return true;}};v.add('pastetext',{init:function(z){var A='pastetext',B=z.addCommand(A,y);z.ui.addButton('PasteText',{label:z.lang.pasteText.button,command:A});m.dialog.add(A,m.getUrl(this.path+'dialogs/pastetext.js'));if(z.config.forcePasteAsPlainText)z.on('beforeCommandExec',function(C){if(C.data.name=='paste'){z.execCommand('pastetext');C.cancel();}},null,null,0);z.on('pasteState',function(C){z.getCommand('pastetext').setState(C.data);});},requires:['clipboard']});})();v.add('popup');q.extend(m.editor.prototype,{popup:function(y,z,A,B){z=z||'80%';A=A||'70%';if(typeof z=='string'&&z.length>1&&z.substr(z.length-1,1)=='%')z=parseInt(window.screen.width*parseInt(z,10)/100,10);
if(typeof A=='string'&&A.length>1&&A.substr(A.length-1,1)=='%')A=parseInt(window.screen.height*parseInt(A,10)/100,10);if(z<640)z=640;if(A<420)A=420;var C=parseInt((window.screen.height-A)/2,10),D=parseInt((window.screen.width-z)/2,10);B=(B||'location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes')+',width='+z+',height='+A+',top='+C+',left='+D;var E=window.open('',null,B,true);if(!E)return false;try{E.moveTo(D,C);E.resizeTo(z,A);E.focus();E.location.href=y;}catch(F){E=window.open(y,null,B,true);}return true;}});(function(){var y={modes:{wysiwyg:1,source:1},canUndo:false,exec:function(A){var B,C=A.config,D=C.baseHref?'<base href="'+C.baseHref+'"/>':'',E=n.isCustomDomain();if(C.fullPage)B=A.getData().replace(/<head>/,'$&'+D).replace(/[^>]*(?=<\/title>)/,'$& &mdash; '+A.lang.preview);else{var F='<body ',G=A.document&&A.document.getBody();if(G){if(G.getAttribute('id'))F+='id="'+G.getAttribute('id')+'" ';if(G.getAttribute('class'))F+='class="'+G.getAttribute('class')+'" ';}F+='>';B=A.config.docType+'<html dir="'+A.config.contentsLangDirection+'">'+'<head>'+D+'<title>'+A.lang.preview+'</title>'+q.buildStyleHtml(A.config.contentsCss)+'</head>'+F+A.getData()+'</body></html>';}var H=640,I=420,J=80;try{var K=window.screen;H=Math.round(K.width*0.8);I=Math.round(K.height*0.7);J=Math.round(K.width*0.1);}catch(N){}var L='';if(E){window._cke_htmlToLoad=B;L='javascript:void( (function(){document.open();document.domain="'+document.domain+'";'+'document.write( window.opener._cke_htmlToLoad );'+'document.close();'+'window.opener._cke_htmlToLoad = null;'+'})() )';}var M=window.open(L,null,'toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width='+H+',height='+I+',left='+J);if(!E){M.document.open();M.document.write(B);M.document.close();}}},z='preview';v.add(z,{init:function(A){A.addCommand(z,y);A.ui.addButton('Preview',{label:A.lang.preview,command:z});}});})();v.add('print',{init:function(y){var z='print',A=y.addCommand(z,v.print);y.ui.addButton('Print',{label:y.lang.print,command:z});}});v.print={exec:function(y){if(n.opera)return;else if(n.gecko)y.window.$.print();else y.document.$.execCommand('Print');},canUndo:false,modes:{wysiwyg:!n.opera}};v.add('removeformat',{requires:['selection'],init:function(y){y.addCommand('removeFormat',v.removeformat.commands.removeformat);y.ui.addButton('RemoveFormat',{label:y.lang.removeFormat,command:'removeFormat'});y._.removeFormat={filters:[]};}});v.removeformat={commands:{removeformat:{exec:function(y){var z=y._.removeFormatRegex||(y._.removeFormatRegex=new RegExp('^(?:'+y.config.removeFormatTags.replace(/,/g,'|')+')$','i')),A=y._.removeAttributes||(y._.removeAttributes=y.config.removeFormatAttributes.split(',')),B=v.removeformat.filter,C=y.getSelection().getRanges(1),D=C.createIterator(),E;
while(E=D.getNextRange()){if(!E.collapsed)E.enlarge(1);var F=E.createBookmark(),G=F.startNode,H=F.endNode,I,J=function(L){var M=new p.elementPath(L),N=M.elements;for(var O=1,P;P=N[O];O++){if(P.equals(M.block)||P.equals(M.blockLimit))break;if(z.test(P.getName())&&B(y,P))L.breakParent(P);}};J(G);if(H){J(H);I=G.getNextSourceNode(true,1);while(I){if(I.equals(H))break;var K=I.getNextSourceNode(false,1);if(!(I.getName()=='img'&&I.data('cke-realelement'))&&B(y,I))if(z.test(I.getName()))I.remove(1);else{I.removeAttributes(A);y.fire('removeFormatCleanup',I);}I=K;}}E.moveToBookmark(F);}y.getSelection().selectRanges(C);}}},filter:function(y,z){var A=y._.removeFormat.filters;for(var B=0;B<A.length;B++){if(A[B](z)===false)return false;}return true;}};m.editor.prototype.addRemoveFormatFilter=function(y){this._.removeFormat.filters.push(y);};u.removeFormatTags='b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var';u.removeFormatAttributes='class,style,lang,width,height,align,hspace,valign';v.add('resize',{init:function(y){var z=y.config;!z.resize_dir&&(z.resize_dir='both');z.resize_maxWidth==undefined&&(z.resize_maxWidth=3000);z.resize_maxHeight==undefined&&(z.resize_maxHeight=3000);z.resize_minWidth==undefined&&(z.resize_minWidth=750);z.resize_minHeight==undefined&&(z.resize_minHeight=250);if(z.resize_enabled!==false){var A=null,B,C,D=(z.resize_dir=='both'||z.resize_dir=='horizontal')&&z.resize_minWidth!=z.resize_maxWidth,E=(z.resize_dir=='both'||z.resize_dir=='vertical')&&z.resize_minHeight!=z.resize_maxHeight;function F(I){var J=I.data.$.screenX-B.x,K=I.data.$.screenY-B.y,L=C.width,M=C.height,N=L+J*(y.lang.dir=='rtl'?-1:1),O=M+K;if(D)L=Math.max(z.resize_minWidth,Math.min(N,z.resize_maxWidth));if(E)M=Math.max(z.resize_minHeight,Math.min(O,z.resize_maxHeight));y.resize(L,M);};function G(I){m.document.removeListener('mousemove',F);m.document.removeListener('mouseup',G);if(y.document){y.document.removeListener('mousemove',F);y.document.removeListener('mouseup',G);}};var H=q.addFunction(function(I){if(!A)A=y.getResizable();C={width:A.$.offsetWidth||0,height:A.$.offsetHeight||0};B={x:I.screenX,y:I.screenY};z.resize_minWidth>C.width&&(z.resize_minWidth=C.width);z.resize_minHeight>C.height&&(z.resize_minHeight=C.height);m.document.on('mousemove',F);m.document.on('mouseup',G);if(y.document){y.document.on('mousemove',F);y.document.on('mouseup',G);}});y.on('destroy',function(){q.removeFunction(H);});y.on('themeSpace',function(I){if(I.data.space=='bottom'){var J='';
if(D&&!E)J=' cke_resizer_horizontal';if(!D&&E)J=' cke_resizer_vertical';I.data.html+='<div class="cke_resizer'+J+'"'+' title="'+q.htmlEncode(y.lang.resize)+'"'+' onmousedown="CKEDITOR.tools.callFunction('+H+', event)"'+'></div>';}},y,null,100);}}});(function(){var y={modes:{wysiwyg:1,source:1},exec:function(A){var B=A.element.$.form;if(B)try{B.submit();}catch(C){if(B.submit.click)B.submit.click();}}},z='save';v.add(z,{init:function(A){var B=A.addCommand(z,y);B.modes={wysiwyg:!!A.element.$.form};A.ui.addButton('Save',{label:A.lang.save,command:z});}});})();(function(){var y='scaytcheck',z='';function A(F,G){var H=0,I;for(I in G){if(G[I]==F){H=1;break;}}return H;};var B=function(){var F=this,G=function(){var K=F.config,L={};L.srcNodeRef=F.document.getWindow().$.frameElement;L.assocApp='CKEDITOR.'+m.version+'@'+m.revision;L.customerid=K.scayt_customerid||'1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2';L.customDictionaryIds=K.scayt_customDictionaryIds||'';L.userDictionaryName=K.scayt_userDictionaryName||'';L.sLang=K.scayt_sLang||'en_US';L.onLoad=function(){if(!(o&&n.version<8))this.addStyle(this.selectorCss(),'padding-bottom: 2px !important;');if(F.focusManager.hasFocus&&!C.isControlRestored(F))this.focus();};L.onBeforeChange=function(){if(C.getScayt(F)&&!F.checkDirty())setTimeout(function(){F.resetDirty();},0);};var M=window.scayt_custom_params;if(typeof M=='object')for(var N in M)L[N]=M[N];if(C.getControlId(F))L.id=C.getControlId(F);var O=new window.scayt(L);O.afterMarkupRemove.push(function(V){new t(V,O.document).mergeSiblings();});var P=C.instances[F.name];if(P){O.sLang=P.sLang;O.option(P.option());O.paused=P.paused;}C.instances[F.name]=O;var Q='scaytButton',R=window.scayt.uiTags,S=[];for(var T=0,U=4;T<U;T++)S.push(R[T]&&C.uiTabs[T]);C.uiTabs=S;try{O.setDisabled(C.isPaused(F)===false);}catch(V){}F.fire('showScaytState');};F.on('contentDom',G);F.on('contentDomUnload',function(){var K=m.document.getElementsByTag('script'),L=/^dojoIoScript(\d+)$/i,M=/^https?:\/\/svc\.spellchecker\.net\/spellcheck\/script\/ssrv\.cgi/i;for(var N=0;N<K.count();N++){var O=K.getItem(N),P=O.getId(),Q=O.getAttribute('src');if(P&&Q&&P.match(L)&&Q.match(M))O.remove();}});F.on('beforeCommandExec',function(K){if((K.data.name=='source'||K.data.name=='newpage')&&F.mode=='wysiwyg'){var L=C.getScayt(F);if(L){C.setPaused(F,!L.disabled);C.setControlId(F,L.id);L.destroy(true);delete C.instances[F.name];}}else if(K.data.name=='source'&&F.mode=='source')C.markControlRestore(F);
});F.on('afterCommandExec',function(K){if(!C.isScaytEnabled(F))return;if(F.mode=='wysiwyg'&&(K.data.name=='undo'||K.data.name=='redo'))window.setTimeout(function(){C.getScayt(F).refresh();},10);});F.on('destroy',function(K){var L=K.editor,M=C.getScayt(L);if(!M)return;delete C.instances[L.name];C.setControlId(L,M.id);M.destroy(true);});F.on('afterSetData',function(){if(C.isScaytEnabled(F))window.setTimeout(function(){var K=C.getScayt(F);K&&K.refresh();},10);});F.on('insertElement',function(){var K=C.getScayt(F);if(C.isScaytEnabled(F)){if(o)F.getSelection().unlock(true);window.setTimeout(function(){K.focus();K.refresh();},10);}},this,null,50);F.on('insertHtml',function(){var K=C.getScayt(F);if(C.isScaytEnabled(F)){if(o)F.getSelection().unlock(true);window.setTimeout(function(){K.focus();K.refresh();},10);}},this,null,50);F.on('scaytDialog',function(K){K.data.djConfig=window.djConfig;K.data.scayt_control=C.getScayt(F);K.data.tab=z;K.data.scayt=window.scayt;});var H=F.dataProcessor,I=H&&H.htmlFilter;if(I)I.addRules({elements:{span:function(K){if(K.attributes['data-scayt_word']&&K.attributes['data-scaytid']){delete K.name;return K;}}}});var J=v.undo.Image.prototype;J.equals=q.override(J.equals,function(K){return function(L){var Q=this;var M=Q.contents,N=L.contents,O=C.getScayt(Q.editor);if(O&&C.isScaytReady(Q.editor)){Q.contents=O.reset(M)||'';L.contents=O.reset(N)||'';}var P=K.apply(Q,arguments);Q.contents=M;L.contents=N;return P;};});if(F.document)G();};v.scayt={engineLoaded:false,instances:{},controlInfo:{},setControlInfo:function(F,G){if(F&&F.name&&typeof this.controlInfo[F.name]!='object')this.controlInfo[F.name]={};for(var H in G)this.controlInfo[F.name][H]=G[H];},isControlRestored:function(F){if(F&&F.name&&this.controlInfo[F.name])return this.controlInfo[F.name].restored;return false;},markControlRestore:function(F){this.setControlInfo(F,{restored:true});},setControlId:function(F,G){this.setControlInfo(F,{id:G});},getControlId:function(F){if(F&&F.name&&this.controlInfo[F.name]&&this.controlInfo[F.name].id)return this.controlInfo[F.name].id;return null;},setPaused:function(F,G){this.setControlInfo(F,{paused:G});},isPaused:function(F){if(F&&F.name&&this.controlInfo[F.name])return this.controlInfo[F.name].paused;return undefined;},getScayt:function(F){return this.instances[F.name];},isScaytReady:function(F){return this.engineLoaded===true&&'undefined'!==typeof window.scayt&&this.getScayt(F);},isScaytEnabled:function(F){var G=this.getScayt(F);return G?G.disabled===false:false;
},loadEngine:function(F){if(n.gecko&&n.version<10900||n.opera||n.air)return F.fire('showScaytState');if(this.engineLoaded===true)return B.apply(F);else if(this.engineLoaded==-1)return m.on('scaytReady',function(){B.apply(F);});m.on('scaytReady',B,F);m.on('scaytReady',function(){this.engineLoaded=true;},this,null,0);this.engineLoaded=-1;var G=document.location.protocol;G=G.search(/https?:/)!=-1?G:'http:';var H='svc.spellchecker.net/scayt26/loader__base.js',I=F.config.scayt_srcUrl||G+'//'+H,J=C.parseUrl(I).path+'/';if(window.scayt==undefined){m._djScaytConfig={baseUrl:J,addOnLoad:[function(){m.fireOnce('scaytReady');}],isDebug:false};m.document.getHead().append(m.document.createElement('script',{attributes:{type:'text/javascript',async:'true',src:I}}));}else m.fireOnce('scaytReady');return null;},parseUrl:function(F){var G;if(F.match&&(G=F.match(/(.*)[\/\\](.*?\.\w+)$/)))return{path:G[1],file:G[2]};else return F;}};var C=v.scayt,D=function(F,G,H,I,J,K,L){F.addCommand(I,J);F.addMenuItem(I,{label:H,command:I,group:K,order:L});},E={preserveState:true,editorFocus:false,canUndo:false,exec:function(F){if(C.isScaytReady(F)){var G=C.isScaytEnabled(F);this.setState(G?2:1);var H=C.getScayt(F);H.focus();H.setDisabled(G);}else if(!F.config.scayt_autoStartup&&C.engineLoaded>=0){this.setState(0);C.loadEngine(F);}}};v.add('scayt',{requires:['menubutton'],beforeInit:function(F){var G=F.config.scayt_contextMenuItemsOrder||'suggest|moresuggest|control',H='';G=G.split('|');if(G&&G.length)for(var I=0;I<G.length;I++)H+='scayt_'+G[I]+(G.length!=parseInt(I,10)+1?',':'');F.config.menu_groups=H+','+F.config.menu_groups;},init:function(F){var G={},H={},I=F.addCommand(y,E);m.dialog.add(y,m.getUrl(this.path+'dialogs/options.js'));var J=F.config.scayt_uiTabs||'1,1,1',K=[];J=J.split(',');for(var L=0,M=3;L<M;L++){var N=parseInt(J[L]||'1',10);K.push(N);}var O='scaytButton';F.addMenuGroup(O);var P={},Q=F.lang.scayt;P.scaytToggle={label:Q.enable,command:y,group:O};if(K[0]==1)P.scaytOptions={label:Q.options,group:O,onClick:function(){z='options';F.openDialog(y);}};if(K[1]==1)P.scaytLangs={label:Q.langs,group:O,onClick:function(){z='langs';F.openDialog(y);}};if(K[2]==1)P.scaytDict={label:Q.dictionariesTab,group:O,onClick:function(){z='dictionaries';F.openDialog(y);}};P.scaytAbout={label:F.lang.scayt.about,group:O,onClick:function(){z='about';F.openDialog(y);}};K[3]=1;C.uiTabs=K;F.addMenuItems(P);F.ui.add('Scayt',5,{label:Q.title,title:n.opera?Q.opera_title:Q.title,className:'cke_button_scayt',modes:{wysiwyg:1},onRender:function(){I.on('state',function(){this.setState(I.state);
},this);},onMenu:function(){var S=C.isScaytEnabled(F);F.getMenuItem('scaytToggle').label=Q[S?'disable':'enable'];return{scaytToggle:2,scaytOptions:S&&C.uiTabs[0]?2:0,scaytLangs:S&&C.uiTabs[1]?2:0,scaytDict:S&&C.uiTabs[2]?2:0,scaytAbout:S&&C.uiTabs[3]?2:0};}});if(F.contextMenu&&F.addMenuItems)F.contextMenu.addListener(function(S,T){if(!C.isScaytEnabled(F)||T.getRanges()[0].checkReadOnly())return null;var U=C.getScayt(F),V=U.getScaytNode();if(!V)return null;var W=U.getWord(V);if(!W)return null;var X=U.getLang(),Y={},Z=window.scayt.getSuggestion(W,X);if(!Z||!Z.length)return null;for(L in G){delete F._.menuItems[L];delete F._.commands[L];}for(L in H){delete F._.menuItems[L];delete F._.commands[L];}G={};H={};var aa=F.config.scayt_moreSuggestions||'on',ab=false,ac=F.config.scayt_maxSuggestions;typeof ac!='number'&&(ac=5);!ac&&(ac=Z.length);var ad=F.config.scayt_contextCommands||'all';ad=ad.split('|');for(var ae=0,af=Z.length;ae<af;ae+=1){var ag='scayt_suggestion_'+Z[ae].replace(' ','_'),ah=(function(al,am){return{exec:function(){U.replace(al,am);}};})(V,Z[ae]);if(ae<ac){D(F,'button_'+ag,Z[ae],ag,ah,'scayt_suggest',ae+1);Y[ag]=2;H[ag]=2;}else if(aa=='on'){D(F,'button_'+ag,Z[ae],ag,ah,'scayt_moresuggest',ae+1);G[ag]=2;ab=true;}}if(ab){F.addMenuItem('scayt_moresuggest',{label:Q.moreSuggestions,group:'scayt_moresuggest',order:10,getItems:function(){return G;}});H.scayt_moresuggest=2;}if(A('all',ad)||A('ignore',ad)){var ai={exec:function(){U.ignore(V);}};D(F,'ignore',Q.ignore,'scayt_ignore',ai,'scayt_control',1);H.scayt_ignore=2;}if(A('all',ad)||A('ignoreall',ad)){var aj={exec:function(){U.ignoreAll(V);}};D(F,'ignore_all',Q.ignoreAll,'scayt_ignore_all',aj,'scayt_control',2);H.scayt_ignore_all=2;}if(A('all',ad)||A('add',ad)){var ak={exec:function(){window.scayt.addWordToUserDictionary(V);}};D(F,'add_word',Q.addWord,'scayt_add_word',ak,'scayt_control',3);H.scayt_add_word=2;}if(U.fireOnContextMenu)U.fireOnContextMenu(F);return H;});var R=function(){F.removeListener('showScaytState',R);if(!n.opera&&!n.air)I.setState(C.isScaytEnabled(F)?1:2);else I.setState(0);};F.on('showScaytState',R);if(n.opera||n.air)F.on('instanceReady',function(){R();});if(F.config.scayt_autoStartup)F.on('instanceReady',function(){C.loadEngine(F);});},afterInit:function(F){var G,H=function(I){if(I.hasAttribute('data-scaytid'))return false;};if(F._.elementsPath&&(G=F._.elementsPath.filters))G.push(H);F.addRemoveFormatFilter&&F.addRemoveFormatFilter(H);}});})();v.add('smiley',{requires:['dialog'],init:function(y){y.config.smiley_path=y.config.smiley_path||this.path+'images/';
y.addCommand('smiley',new m.dialogCommand('smiley'));y.ui.addButton('Smiley',{label:y.lang.smiley.toolbar,command:'smiley'});m.dialog.add('smiley',this.path+'dialogs/smiley.js');}});u.smiley_images=['regular_smile.gif','sad_smile.gif','wink_smile.gif','teeth_smile.gif','confused_smile.gif','tounge_smile.gif','embaressed_smile.gif','omg_smile.gif','whatchutalkingabout_smile.gif','angry_smile.gif','angel_smile.gif','shades_smile.gif','devil_smile.gif','cry_smile.gif','lightbulb.gif','thumbs_down.gif','thumbs_up.gif','heart.gif','broken_heart.gif','kiss.gif','envelope.gif'];u.smiley_descriptions=['smiley','sad','wink','laugh','frown','cheeky','blush','surprise','indecision','angry','angel','cool','devil','crying','enlightened','no','yes','heart','broken heart','kiss','mail'];(function(){var y='.%2 p,.%2 div,.%2 pre,.%2 address,.%2 blockquote,.%2 h1,.%2 h2,.%2 h3,.%2 h4,.%2 h5,.%2 h6{background-repeat: no-repeat;background-position: top %3;border: 1px dotted gray;padding-top: 8px;padding-%3: 8px;}.%2 p{%1p.png);}.%2 div{%1div.png);}.%2 pre{%1pre.png);}.%2 address{%1address.png);}.%2 blockquote{%1blockquote.png);}.%2 h1{%1h1.png);}.%2 h2{%1h2.png);}.%2 h3{%1h3.png);}.%2 h4{%1h4.png);}.%2 h5{%1h5.png);}.%2 h6{%1h6.png);}',z=/%1/g,A=/%2/g,B=/%3/g,C={preserveState:true,editorFocus:false,exec:function(D){this.toggleState();this.refresh(D);},refresh:function(D){var E=this.state==1?'addClass':'removeClass';D.document.getBody()[E]('cke_show_blocks');}};v.add('showblocks',{requires:['wysiwygarea'],init:function(D){var E=D.addCommand('showblocks',C);E.canUndo=false;if(D.config.startupOutlineBlocks)E.setState(1);D.addCss(y.replace(z,'background-image: url('+m.getUrl(this.path)+'images/block_').replace(A,'cke_show_blocks ').replace(B,D.lang.dir=='rtl'?'right':'left'));D.ui.addButton('ShowBlocks',{label:D.lang.showBlocks,command:'showblocks'});D.on('mode',function(){if(E.state!=0)E.refresh(D);});D.on('contentDom',function(){if(E.state!=0)E.refresh(D);});}});})();(function(){var y='cke_show_border',z,A=(n.ie6Compat?['.%1 table.%2,','.%1 table.%2 td, .%1 table.%2 th,','{','border : #d3d3d3 1px dotted','}']:['.%1 table.%2,','.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,','.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,','.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,','.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th','{','border : #d3d3d3 1px dotted','}']).join('');z=A.replace(/%2/g,y).replace(/%1/g,'cke_show_borders ');var B={preserveState:true,editorFocus:false,exec:function(C){this.toggleState();
this.refresh(C);},refresh:function(C){var D=this.state==1?'addClass':'removeClass';C.document.getBody()[D]('cke_show_borders');}};v.add('showborders',{requires:['wysiwygarea'],modes:{wysiwyg:1},init:function(C){var D=C.addCommand('showborders',B);D.canUndo=false;if(C.config.startupShowBorders!==false)D.setState(1);C.addCss(z);C.on('mode',function(){if(D.state!=0)D.refresh(C);},null,null,100);C.on('contentDom',function(){if(D.state!=0)D.refresh(C);});C.on('removeFormatCleanup',function(E){var F=E.data;if(C.getCommand('showborders').state==1&&F.is('table')&&(!F.hasAttribute('border')||parseInt(F.getAttribute('border'),10)<=0))F.addClass(y);});},afterInit:function(C){var D=C.dataProcessor,E=D&&D.dataFilter,F=D&&D.htmlFilter;if(E)E.addRules({elements:{table:function(G){var H=G.attributes,I=H['class'],J=parseInt(H.border,10);if(!J||J<=0)H['class']=(I||'')+' '+y;}}});if(F)F.addRules({elements:{table:function(G){var H=G.attributes,I=H['class'];I&&(H['class']=I.replace(y,'').replace(/\s{2}/,' ').replace(/^\s+|\s+$/,''));}}});}});m.on('dialogDefinition',function(C){var D=C.data.name;if(D=='table'||D=='tableProperties'){var E=C.data.definition,F=E.getContents('info'),G=F.get('txtBorder'),H=G.commit;G.commit=q.override(H,function(K){return function(L,M){K.apply(this,arguments);var N=parseInt(this.getValue(),10);M[!N||N<=0?'addClass':'removeClass'](y);};});var I=E.getContents('advanced'),J=I&&I.get('advCSSClasses');if(J){J.setup=q.override(J.setup,function(K){return function(){K.apply(this,arguments);this.setValue(this.getValue().replace(/cke_show_border/,''));};});J.commit=q.override(J.commit,function(K){return function(L,M){K.apply(this,arguments);if(!parseInt(M.getAttribute('border'),10))M.addClass('cke_show_border');};});}}});})();v.add('sourcearea',{requires:['editingblock'],init:function(y){var z=v.sourcearea,A=m.document.getWindow();y.on('editingBlockReady',function(){var B,C;y.addMode('source',{load:function(D,E){if(o&&n.version<8)D.setStyle('position','relative');y.textarea=B=new t('textarea');B.setAttributes({dir:'ltr',tabIndex:n.webkit?-1:y.tabIndex,role:'textbox','aria-label':y.lang.editorTitle.replace('%1',y.name)});B.addClass('cke_source');B.addClass('cke_enable_context_menu');var F={width:n.ie7Compat?'99%':'100%',height:'100%',resize:'none',outline:'none','text-align':'left'};if(o){C=function(){B.hide();B.setStyle('height',D.$.clientHeight+'px');B.setStyle('width',D.$.clientWidth+'px');B.show();};y.on('resize',C);A.on('resize',C);setTimeout(C,0);}D.setHtml('');
D.append(B);B.setStyles(F);y.fire('ariaWidget',B);B.on('blur',function(){y.focusManager.blur();});B.on('focus',function(){y.focusManager.focus();});y.mayBeDirty=true;this.loadData(E);var G=y.keystrokeHandler;if(G)G.attach(B);setTimeout(function(){y.mode='source';y.fire('mode');},n.gecko||n.webkit?100:0);},loadData:function(D){B.setValue(D);y.fire('dataReady');},getData:function(){return B.getValue();},getSnapshotData:function(){return B.getValue();},unload:function(D){B.clearCustomData();y.textarea=B=null;if(C){y.removeListener('resize',C);A.removeListener('resize',C);}if(o&&n.version<8)D.removeStyle('position');},focus:function(){B.focus();}});});y.addCommand('source',z.commands.source);if(y.ui.addButton)y.ui.addButton('Source',{label:y.lang.source,command:'source'});y.on('mode',function(){y.getCommand('source').setState(y.mode=='source'?1:2);});}});v.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:false,exec:function(y){if(y.mode=='wysiwyg')y.fire('saveSnapshot');y.getCommand('source').setState(0);y.setMode(y.mode=='source'?'wysiwyg':'source');},canUndo:false}}};(function(){v.add('stylescombo',{requires:['richcombo','styles'],init:function(z){var A=z.config,B=z.lang.stylesCombo,C={},D=[];function E(F){z.getStylesSet(function(G){if(!D.length){var H,I;for(var J=0,K=G.length;J<K;J++){var L=G[J];I=L.name;H=C[I]=new m.style(L);H._name=I;H._.enterMode=A.enterMode;D.push(H);}D.sort(y);}F&&F();});};z.ui.addRichCombo('Styles',{label:B.label,title:B.panelTitle,className:'cke_styles',panel:{css:z.skin.editor.css.concat(A.contentsCss),multiSelect:true,attributes:{'aria-label':B.panelTitle}},init:function(){var F=this;E(function(){var G,H,I;for(var J=0,K=D.length;J<K;J++){G=D[J];H=G._name;var L=G.type;if(L!=I){F.startGroup(B['panelTitle'+String(L)]);I=L;}F.add(H,G.type==3?H:G.buildPreview(),H);}F.commit();F.onOpen();});},onClick:function(F){z.focus();z.fire('saveSnapshot');var G=C[F],H=z.getSelection(),I=new p.elementPath(H.getStartElement());G[G.checkActive(I)?'remove':'apply'](z.document);z.fire('saveSnapshot');},onRender:function(){z.on('selectionChange',function(F){var G=this.getValue(),H=F.data.path,I=H.elements;for(var J=0,K=I.length,L;J<K;J++){L=I[J];for(var M in C){if(C[M].checkElementRemovable(L,true)){if(M!=G)this.setValue(M);return;}}}this.setValue('');},this);},onOpen:function(){var M=this;if(o||n.webkit)z.focus();var F=z.getSelection(),G=F.getSelectedElement(),H=new p.elementPath(G||F.getStartElement()),I=[0,0,0,0];M.showAll();M.unmarkAll();
for(var J in C){var K=C[J],L=K.type;if(K.checkActive(H))M.mark(J);else if(L==3&&!K.checkApplicable(H)){M.hideItem(J);I[L]--;}I[L]++;}if(!I[1])M.hideGroup(B['panelTitle'+String(1)]);if(!I[2])M.hideGroup(B['panelTitle'+String(2)]);if(!I[3])M.hideGroup(B['panelTitle'+String(3)]);}});z.on('instanceReady',function(){E();});}});function y(z,A){var B=z.type,C=A.type;return B==C?0:B==3?-1:C==3?1:C==1?1:-1;};})();v.add('table',{init:function(y){var z=v.table,A=y.lang.table;y.addCommand('table',new m.dialogCommand('table'));y.addCommand('tableProperties',new m.dialogCommand('tableProperties'));y.ui.addButton('Table',{label:A.toolbar,command:'table'});m.dialog.add('table',this.path+'dialogs/table.js');m.dialog.add('tableProperties',this.path+'dialogs/table.js');if(y.addMenuItems)y.addMenuItems({table:{label:A.menu,command:'tableProperties',group:'table',order:5},tabledelete:{label:A.deleteTable,command:'tableDelete',group:'table',order:1}});y.on('doubleclick',function(B){var C=B.data.element;if(C.is('table'))B.data.dialog='tableProperties';});if(y.contextMenu)y.contextMenu.addListener(function(B,C){if(!B||B.isReadOnly())return null;var D=B.hasAscendant('table',1);if(D)return{tabledelete:2,table:2};return null;});}});(function(){var y=/^(?:td|th)$/;function z(S){var T=S.createBookmarks(),U=S.getRanges(),V=[],W={};function X(af){if(V.length>0)return;if(af.type==1&&y.test(af.getName())&&!af.getCustomData('selected_cell')){t.setMarker(W,af,'selected_cell',true);V.push(af);}};for(var Y=0;Y<U.length;Y++){var Z=U[Y];if(Z.collapsed){var aa=Z.getCommonAncestor(),ab=aa.getAscendant('td',true)||aa.getAscendant('th',true);if(ab)V.push(ab);}else{var ac=new p.walker(Z),ad;ac.guard=X;while(ad=ac.next()){var ae=ad.getParent();if(ae&&y.test(ae.getName())&&!ae.getCustomData('selected_cell')){t.setMarker(W,ae,'selected_cell',true);V.push(ae);}}}}t.clearAllMarkers(W);S.selectBookmarks(T);return V;};function A(S){var T=0,U=S.length-1,V={},W,X,Y;while(W=S[T++])t.setMarker(V,W,'delete_cell',true);T=0;while(W=S[T++]){if((X=W.getPrevious())&&!X.getCustomData('delete_cell')||(X=W.getNext())&&!X.getCustomData('delete_cell')){t.clearAllMarkers(V);return X;}}t.clearAllMarkers(V);Y=S[0].getParent();if(Y=Y.getPrevious())return Y.getLast();Y=S[U].getParent();if(Y=Y.getNext())return Y.getChild(0);return null;};function B(S,T){var U=z(S),V=U[0],W=V.getAscendant('table'),X=V.getDocument(),Y=U[0].getParent(),Z=Y.$.rowIndex,aa=U[U.length-1],ab=aa.getParent().$.rowIndex+aa.$.rowSpan-1,ac=new t(W.$.rows[ab]),ad=T?Z:ab,ae=T?Y:ac,af=q.buildTableMap(W),ag=af[ad],ah=T?af[ad-1]:af[ad+1],ai=af[0].length,aj=X.createElement('tr');
for(var ak=0;ak<ai;ak++){var al;if(ag[ak].rowSpan>1&&ah&&ag[ak]==ah[ak]){al=ag[ak];al.rowSpan+=1;}else{al=new t(ag[ak]).clone();al.removeAttribute('rowSpan');!o&&al.appendBogus();aj.append(al);al=al.$;}ak+=al.colSpan-1;}T?aj.insertBefore(ae):aj.insertAfter(ae);};function C(S){if(S instanceof p.selection){var T=z(S),U=T[0],V=U.getAscendant('table'),W=q.buildTableMap(V),X=T[0].getParent(),Y=X.$.rowIndex,Z=T[T.length-1],aa=Z.getParent().$.rowIndex+Z.$.rowSpan-1,ab=[];for(var ac=Y;ac<=aa;ac++){var ad=W[ac],ae=new t(V.$.rows[ac]);for(var af=0;af<ad.length;af++){var ag=new t(ad[af]),ah=ag.getParent().$.rowIndex;if(ag.$.rowSpan==1)ag.remove();else{ag.$.rowSpan-=1;if(ah==ac){var ai=W[ac+1];ai[af-1]?ag.insertAfter(new t(ai[af-1])):new t(V.$.rows[ac+1]).append(ag,1);}}af+=ag.$.colSpan-1;}ab.push(ae);}var aj=V.$.rows,ak=new t(aj[Y]||aj[Y-1]||V.$.parentNode);for(ac=ab.length;ac>=0;ac--)C(ab[ac]);return ak;}else if(S instanceof t){V=S.getAscendant('table');if(V.$.rows.length==1)V.remove();else S.remove();}return null;};function D(S,T){var U=S.getParent(),V=U.$.cells,W=0;for(var X=0;X<V.length;X++){var Y=V[X];W+=T?1:Y.colSpan;if(Y==S.$)break;}return W-1;};function E(S,T){var U=T?Infinity:0;for(var V=0;V<S.length;V++){var W=D(S[V],T);if(T?W<U:W>U)U=W;}return U;};function F(S,T){var U=z(S),V=U[0],W=V.getAscendant('table'),X=E(U,1),Y=E(U),Z=T?X:Y,aa=q.buildTableMap(W),ab=[],ac=[],ad=aa.length;for(var ae=0;ae<ad;ae++){ab.push(aa[ae][Z]);var af=T?aa[ae][Z-1]:aa[ae][Z+1];af&&ac.push(af);}for(ae=0;ae<ad;ae++){var ag;if(ab[ae].colSpan>1&&ac.length&&ac[ae]==ab[ae]){ag=ab[ae];ag.colSpan+=1;}else{ag=new t(ab[ae]).clone();ag.removeAttribute('colSpan');!o&&ag.appendBogus();ag[T?'insertBefore':'insertAfter'].call(ag,new t(ab[ae]));ag=ag.$;}ae+=ag.rowSpan-1;}};function G(S){var T=z(S),U=T[0],V=T[T.length-1],W=U.getAscendant('table'),X=q.buildTableMap(W),Y,Z,aa=[];for(var ab=0,ac=X.length;ab<ac;ab++)for(var ad=0,ae=X[ab].length;ad<ae;ad++){if(X[ab][ad]==U.$)Y=ad;if(X[ab][ad]==V.$)Z=ad;}for(ab=Y;ab<=Z;ab++)for(ad=0;ad<X.length;ad++){var af=X[ad],ag=new t(W.$.rows[ad]),ah=new t(af[ab]);if(ah.$.colSpan==1)ah.remove();else ah.$.colSpan-=1;ad+=ah.$.rowSpan-1;if(!ag.$.cells.length)aa.push(ag);}var ai=W.$.rows[0]&&W.$.rows[0].cells,aj=new t(ai[Y]||(Y?ai[Y-1]:W.$.parentNode));if(aa.length==ac)W.remove();return aj;};function H(S){var T=[],U=S[0]&&S[0].getAscendant('table'),V,W,X,Y;for(V=0,W=S.length;V<W;V++)T.push(S[V].$.cellIndex);T.sort();for(V=1,W=T.length;V<W;V++){if(T[V]-T[V-1]>1){X=T[V-1]+1;
break;}}if(!X)X=T[0]>0?T[0]-1:T[T.length-1]+1;var Z=U.$.rows;for(V=0,W=Z.length;V<W;V++){Y=Z[V].cells[X];if(Y)break;}return Y?new t(Y):U.getPrevious();};function I(S,T){var U=S.getStartElement(),V=U.getAscendant('td',1)||U.getAscendant('th',1);if(!V)return;var W=V.clone();if(!o)W.appendBogus();if(T)W.insertBefore(V);else W.insertAfter(V);};function J(S){if(S instanceof p.selection){var T=z(S),U=T[0]&&T[0].getAscendant('table'),V=A(T);for(var W=T.length-1;W>=0;W--)J(T[W]);if(V)L(V,true);else if(U)U.remove();}else if(S instanceof t){var X=S.getParent();if(X.getChildCount()==1)X.remove();else S.remove();}};function K(S){var T=S.getBogus();T&&T.remove();S.trim();};function L(S,T){var U=new p.range(S.getDocument());if(!U['moveToElementEdit'+(T?'End':'Start')](S)){U.selectNodeContents(S);U.collapse(T?false:true);}U.select(true);};function M(S,T,U){var V=S[T];if(typeof U=='undefined')return V;for(var W=0;V&&W<V.length;W++){if(U.is&&V[W]==U.$)return W;else if(W==U)return new t(V[W]);}return U.is?-1:null;};function N(S,T,U){var V=[];for(var W=0;W<S.length;W++){var X=S[W];if(typeof U=='undefined')V.push(X[T]);else if(U.is&&X[T]==U.$)return W;else if(W==U)return new t(X[T]);}return typeof U=='undefined'?V:U.is?-1:null;};function O(S,T,U){var V=z(S),W;if((T?V.length!=1:V.length<2)||(W=S.getCommonAncestor())&&W.type==1&&W.is('table'))return false;var X,Y=V[0],Z=Y.getAscendant('table'),aa=q.buildTableMap(Z),ab=aa.length,ac=aa[0].length,ad=Y.getParent().$.rowIndex,ae=M(aa,ad,Y);if(T){var af;try{var ag=parseInt(Y.getAttribute('rowspan'),10)||1,ah=parseInt(Y.getAttribute('colspan'),10)||1;af=aa[T=='up'?ad-ag:T=='down'?ad+ag:ad][T=='left'?ae-ah:T=='right'?ae+ah:ae];}catch(az){return false;}if(!af||Y.$==af)return false;V[T=='up'||T=='left'?'unshift':'push'](new t(af));}var ai=Y.getDocument(),aj=ad,ak=0,al=0,am=!U&&new p.documentFragment(ai),an=0;for(var ao=0;ao<V.length;ao++){X=V[ao];var ap=X.getParent(),aq=X.getFirst(),ar=X.$.colSpan,as=X.$.rowSpan,at=ap.$.rowIndex,au=M(aa,at,X);an+=ar*as;al=Math.max(al,au-ae+ar);ak=Math.max(ak,at-ad+as);if(!U){if(K(X),X.getChildren().count()){if(at!=aj&&aq&&!(aq.isBlockBoundary&&aq.isBlockBoundary({br:1}))){var av=am.getLast(p.walker.whitespaces(true));if(av&&!(av.is&&av.is('br')))am.append('br');}X.moveChildren(am);}ao?X.remove():X.setHtml('');}aj=at;}if(!U){am.moveChildren(Y);if(!o)Y.appendBogus();if(al>=ac)Y.removeAttribute('rowSpan');else Y.$.rowSpan=ak;if(ak>=ab)Y.removeAttribute('colSpan');else Y.$.colSpan=al;var aw=new p.nodeList(Z.$.rows),ax=aw.count();
for(ao=ax-1;ao>=0;ao--){var ay=aw.getItem(ao);if(!ay.$.cells.length){ay.remove();ax++;continue;}}return Y;}else return ak*al==an;};function P(S,T){var U=z(S);if(U.length>1)return false;else if(T)return true;var V=U[0],W=V.getParent(),X=W.getAscendant('table'),Y=q.buildTableMap(X),Z=W.$.rowIndex,aa=M(Y,Z,V),ab=V.$.rowSpan,ac,ad,ae,af;if(ab>1){ad=Math.ceil(ab/2);ae=Math.floor(ab/2);af=Z+ad;var ag=new t(X.$.rows[af]),ah=M(Y,af),ai;ac=V.clone();for(var aj=0;aj<ah.length;aj++){ai=ah[aj];if(ai.parentNode==ag.$&&aj>aa){ac.insertBefore(new t(ai));break;}else ai=null;}if(!ai)ag.append(ac,true);}else{ae=ad=1;ag=W.clone();ag.insertAfter(W);ag.append(ac=V.clone());var ak=M(Y,Z);for(var al=0;al<ak.length;al++)ak[al].rowSpan++;}if(!o)ac.appendBogus();V.$.rowSpan=ad;ac.$.rowSpan=ae;if(ad==1)V.removeAttribute('rowSpan');if(ae==1)ac.removeAttribute('rowSpan');return ac;};function Q(S,T){var U=z(S);if(U.length>1)return false;else if(T)return true;var V=U[0],W=V.getParent(),X=W.getAscendant('table'),Y=q.buildTableMap(X),Z=W.$.rowIndex,aa=M(Y,Z,V),ab=V.$.colSpan,ac,ad,ae;if(ab>1){ad=Math.ceil(ab/2);ae=Math.floor(ab/2);}else{ae=ad=1;var af=N(Y,aa);for(var ag=0;ag<af.length;ag++)af[ag].colSpan++;}ac=V.clone();ac.insertAfter(V);if(!o)ac.appendBogus();V.$.colSpan=ad;ac.$.colSpan=ae;if(ad==1)V.removeAttribute('colSpan');if(ae==1)ac.removeAttribute('colSpan');return ac;};var R={thead:1,tbody:1,tfoot:1,td:1,tr:1,th:1};v.tabletools={init:function(S){var T=S.lang.table;S.addCommand('cellProperties',new m.dialogCommand('cellProperties'));m.dialog.add('cellProperties',this.path+'dialogs/tableCell.js');S.addCommand('tableDelete',{exec:function(U){var V=U.getSelection(),W=V&&V.getStartElement(),X=W&&W.getAscendant('table',1);if(!X)return;V.selectElement(X);var Y=V.getRanges()[0];Y.collapse();V.selectRanges([Y]);var Z=X.getParent();if(Z.getChildCount()==1&&!Z.is('body','td','th'))Z.remove();else X.remove();}});S.addCommand('rowDelete',{exec:function(U){var V=U.getSelection();L(C(V));}});S.addCommand('rowInsertBefore',{exec:function(U){var V=U.getSelection();B(V,true);}});S.addCommand('rowInsertAfter',{exec:function(U){var V=U.getSelection();B(V);}});S.addCommand('columnDelete',{exec:function(U){var V=U.getSelection(),W=G(V);W&&L(W,true);}});S.addCommand('columnInsertBefore',{exec:function(U){var V=U.getSelection();F(V,true);}});S.addCommand('columnInsertAfter',{exec:function(U){var V=U.getSelection();F(V);}});S.addCommand('cellDelete',{exec:function(U){var V=U.getSelection();J(V);}});S.addCommand('cellMerge',{exec:function(U){L(O(U.getSelection()),true);
}});S.addCommand('cellMergeRight',{exec:function(U){L(O(U.getSelection(),'right'),true);}});S.addCommand('cellMergeDown',{exec:function(U){L(O(U.getSelection(),'down'),true);}});S.addCommand('cellVerticalSplit',{exec:function(U){L(P(U.getSelection()));}});S.addCommand('cellHorizontalSplit',{exec:function(U){L(Q(U.getSelection()));}});S.addCommand('cellInsertBefore',{exec:function(U){var V=U.getSelection();I(V,true);}});S.addCommand('cellInsertAfter',{exec:function(U){var V=U.getSelection();I(V);}});if(S.addMenuItems)S.addMenuItems({tablecell:{label:T.cell.menu,group:'tablecell',order:1,getItems:function(){var U=S.getSelection(),V=z(U);return{tablecell_insertBefore:2,tablecell_insertAfter:2,tablecell_delete:2,tablecell_merge:O(U,null,true)?2:0,tablecell_merge_right:O(U,'right',true)?2:0,tablecell_merge_down:O(U,'down',true)?2:0,tablecell_split_vertical:P(U,true)?2:0,tablecell_split_horizontal:Q(U,true)?2:0,tablecell_properties:V.length>0?2:0};}},tablecell_insertBefore:{label:T.cell.insertBefore,group:'tablecell',command:'cellInsertBefore',order:5},tablecell_insertAfter:{label:T.cell.insertAfter,group:'tablecell',command:'cellInsertAfter',order:10},tablecell_delete:{label:T.cell.deleteCell,group:'tablecell',command:'cellDelete',order:15},tablecell_merge:{label:T.cell.merge,group:'tablecell',command:'cellMerge',order:16},tablecell_merge_right:{label:T.cell.mergeRight,group:'tablecell',command:'cellMergeRight',order:17},tablecell_merge_down:{label:T.cell.mergeDown,group:'tablecell',command:'cellMergeDown',order:18},tablecell_split_horizontal:{label:T.cell.splitHorizontal,group:'tablecell',command:'cellHorizontalSplit',order:19},tablecell_split_vertical:{label:T.cell.splitVertical,group:'tablecell',command:'cellVerticalSplit',order:20},tablecell_properties:{label:T.cell.title,group:'tablecellproperties',command:'cellProperties',order:21},tablerow:{label:T.row.menu,group:'tablerow',order:1,getItems:function(){return{tablerow_insertBefore:2,tablerow_insertAfter:2,tablerow_delete:2};}},tablerow_insertBefore:{label:T.row.insertBefore,group:'tablerow',command:'rowInsertBefore',order:5},tablerow_insertAfter:{label:T.row.insertAfter,group:'tablerow',command:'rowInsertAfter',order:10},tablerow_delete:{label:T.row.deleteRow,group:'tablerow',command:'rowDelete',order:15},tablecolumn:{label:T.column.menu,group:'tablecolumn',order:1,getItems:function(){return{tablecolumn_insertBefore:2,tablecolumn_insertAfter:2,tablecolumn_delete:2};}},tablecolumn_insertBefore:{label:T.column.insertBefore,group:'tablecolumn',command:'columnInsertBefore',order:5},tablecolumn_insertAfter:{label:T.column.insertAfter,group:'tablecolumn',command:'columnInsertAfter',order:10},tablecolumn_delete:{label:T.column.deleteColumn,group:'tablecolumn',command:'columnDelete',order:15}});
if(S.contextMenu)S.contextMenu.addListener(function(U,V){if(!U||U.isReadOnly())return null;while(U){if(U.getName() in R)return{tablecell:2,tablerow:2,tablecolumn:2};U=U.getParent();}return null;});},getSelectedCells:z};v.add('tabletools',v.tabletools);})();q.buildTableMap=function(y){var z=y.$.rows,A=-1,B=[];for(var C=0;C<z.length;C++){A++;!B[A]&&(B[A]=[]);var D=-1;for(var E=0;E<z[C].cells.length;E++){var F=z[C].cells[E];D++;while(B[A][D])D++;var G=isNaN(F.colSpan)?1:F.colSpan,H=isNaN(F.rowSpan)?1:F.rowSpan;for(var I=0;I<H;I++){if(!B[A+I])B[A+I]=[];for(var J=0;J<G;J++)B[A+I][D+J]=z[C].cells[E];}D+=G-1;}}return B;};v.add('specialchar',{availableLangs:{en:1},init:function(y){var z='specialchar',A=this;m.dialog.add(z,this.path+'dialogs/specialchar.js');y.addCommand(z,{exec:function(){var B=y.langCode;B=A.availableLangs[B]?B:'en';m.scriptLoader.load(m.getUrl(A.path+'lang/'+B+'.js'),function(){q.extend(y.lang.specialChar,A.lang[B]);y.openDialog(z);});},modes:{wysiwyg:1},canUndo:false});y.ui.addButton('SpecialChar',{label:y.lang.specialChar.toolbar,command:z});}});u.specialChars=['!','&quot;','#','$','%','&amp;',"'",'(',')','*','+','-','.','/','0','1','2','3','4','5','6','7','8','9',':',';','&lt;','=','&gt;','?','@','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','[',']','^','_','`','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','{','|','}','~','&euro;','&lsquo;','&rsquo;','&ldquo;','&rdquo;','&ndash;','&mdash;','&iexcl;','&cent;','&pound;','&curren;','&yen;','&brvbar;','&sect;','&uml;','&copy;','&ordf;','&laquo;','&not;','&reg;','&macr;','&deg;','&','&sup2;','&sup3;','&acute;','&micro;','&para;','&middot;','&cedil;','&sup1;','&ordm;','&','&frac14;','&frac12;','&frac34;','&iquest;','&Agrave;','&Aacute;','&Acirc;','&Atilde;','&Auml;','&Aring;','&AElig;','&Ccedil;','&Egrave;','&Eacute;','&Ecirc;','&Euml;','&Igrave;','&Iacute;','&Icirc;','&Iuml;','&ETH;','&Ntilde;','&Ograve;','&Oacute;','&Ocirc;','&Otilde;','&Ouml;','&times;','&Oslash;','&Ugrave;','&Uacute;','&Ucirc;','&Uuml;','&Yacute;','&THORN;','&szlig;','&agrave;','&aacute;','&acirc;','&atilde;','&auml;','&aring;','&aelig;','&ccedil;','&egrave;','&eacute;','&ecirc;','&euml;','&igrave;','&iacute;','&icirc;','&iuml;','&eth;','&ntilde;','&ograve;','&oacute;','&ocirc;','&otilde;','&ouml;','&divide;','&oslash;','&ugrave;','&uacute;','&ucirc;','&uuml;','&uuml;','&yacute;','&thorn;','&yuml;','&OElig;','&oelig;','&#372;','&#374','&#373','&#375;','&sbquo;','&#8219;','&bdquo;','&hellip;','&trade;','&#9658;','&bull;','&rarr;','&rArr;','&hArr;','&diams;','&asymp;'];
(function(){var y={editorFocus:false,modes:{wysiwyg:1,source:1}},z={exec:function(C){C.container.focusNext(true,C.tabIndex);}},A={exec:function(C){C.container.focusPrevious(true,C.tabIndex);}};function B(C){return{editorFocus:false,canUndo:false,modes:{wysiwyg:1},exec:function(D){if(D.focusManager.hasFocus){var E=D.getSelection(),F=E.getCommonAncestor(),G;if(G=F.getAscendant('td',true)||F.getAscendant('th',true)){var H=new p.range(D.document),I=q.tryThese(function(){var P=G.getParent(),Q=P.$.cells[G.$.cellIndex+(C?-1:1)];Q.parentNode.parentNode;return Q;},function(){var P=G.getParent(),Q=P.getAscendant('table'),R=Q.$.rows[P.$.rowIndex+(C?-1:1)];return R.cells[C?R.cells.length-1:0];});if(!(I||C)){var J=G.getAscendant('table').$,K=G.getParent().$.cells,L=new t(J.insertRow(-1),D.document);for(var M=0,N=K.length;M<N;M++){var O=L.append(new t(K[M],D.document).clone(false,false));!o&&O.appendBogus();}H.moveToElementEditStart(L);}else if(I){I=new t(I);H.moveToElementEditStart(I);if(!(H.checkStartOfBlock()&&H.checkEndOfBlock()))H.selectNodeContents(I);}else return true;H.select(true);return true;}}return false;}};};v.add('tab',{requires:['keystrokes'],init:function(C){var D=C.config.enableTabKeyTools!==false,E=C.config.tabSpaces||0,F='';while(E--)F+='\xa0';if(F)C.on('key',function(G){if(G.data.keyCode==9){C.insertHtml(F);G.cancel();}});if(D)C.on('key',function(G){if(G.data.keyCode==9&&C.execCommand('selectNextCell')||G.data.keyCode==2000+9&&C.execCommand('selectPreviousCell'))G.cancel();});if(n.webkit||n.gecko)C.on('key',function(G){var H=G.data.keyCode;if(H==9&&!F){G.cancel();C.execCommand('blur');}if(H==2000+9){C.execCommand('blurBack');G.cancel();}});C.addCommand('blur',q.extend(z,y));C.addCommand('blurBack',q.extend(A,y));C.addCommand('selectNextCell',B());C.addCommand('selectPreviousCell',B(true));}});})();t.prototype.focusNext=function(y,z){var I=this;var A=I.$,B=z===undefined?I.getTabIndex():z,C,D,E,F,G,H;if(B<=0){G=I.getNextSourceNode(y,1);while(G){if(G.isVisible()&&G.getTabIndex()===0){E=G;break;}G=G.getNextSourceNode(false,1);}}else{G=I.getDocument().getBody().getFirst();while(G=G.getNextSourceNode(false,1)){if(!C)if(!D&&G.equals(I)){D=true;if(y){if(!(G=G.getNextSourceNode(true,1)))break;C=1;}}else if(D&&!I.contains(G))C=1;if(!G.isVisible()||(H=G.getTabIndex())<0)continue;if(C&&H==B){E=G;break;}if(H>B&&(!E||!F||H<F)){E=G;F=H;}else if(!E&&H===0){E=G;F=H;}}}if(E)E.focus();};t.prototype.focusPrevious=function(y,z){var I=this;var A=I.$,B=z===undefined?I.getTabIndex():z,C,D,E,F=0,G,H=I.getDocument().getBody().getLast();
while(H=H.getPreviousSourceNode(false,1)){if(!C)if(!D&&H.equals(I)){D=true;if(y){if(!(H=H.getPreviousSourceNode(true,1)))break;C=1;}}else if(D&&!I.contains(H))C=1;if(!H.isVisible()||(G=H.getTabIndex())<0)continue;if(B<=0){if(C&&G===0){E=H;break;}if(G>F){E=H;F=G;}}else{if(C&&G==B){E=H;break;}if(G<B&&(!E||G>F)){E=H;F=G;}}}if(E)E.focus();};(function(){v.add('templates',{requires:['dialog'],init:function(A){m.dialog.add('templates',m.getUrl(this.path+'dialogs/templates.js'));A.addCommand('templates',new m.dialogCommand('templates'));A.ui.addButton('Templates',{label:A.lang.templates.button,command:'templates'});}});var y={},z={};m.addTemplates=function(A,B){y[A]=B;};m.getTemplates=function(A){return y[A];};m.loadTemplates=function(A,B){var C=[];for(var D=0,E=A.length;D<E;D++){if(!z[A[D]]){C.push(A[D]);z[A[D]]=1;}}if(C.length)m.scriptLoader.load(C,B);else setTimeout(B,0);};})();u.templates_files=[m.getUrl('plugins/templates/templates/default.js')];u.templates_replaceContent=true;(function(){var y=function(){this.toolbars=[];this.focusCommandExecuted=false;};y.prototype.focus=function(){for(var A=0,B;B=this.toolbars[A++];)for(var C=0,D;D=B.items[C++];){if(D.focus){D.focus();return;}}};var z={toolbarFocus:{modes:{wysiwyg:1,source:1},exec:function(A){if(A.toolbox){A.toolbox.focusCommandExecuted=true;if(o||n.air)setTimeout(function(){A.toolbox.focus();},100);else A.toolbox.focus();}}}};v.add('toolbar',{init:function(A){var B=function(C,D){var E,F,G,H=A.lang.dir=='rtl';switch(D){case H?37:39:case 9:do{E=C.next;if(!E){F=C.toolbar.next;G=F&&F.items.length;while(G===0){F=F.next;G=F&&F.items.length;}if(F)E=F.items[0];}C=E;}while(C&&!C.focus)if(C)C.focus();else A.toolbox.focus();return false;case H?39:37:case 2000+9:do{E=C.previous;if(!E){F=C.toolbar.previous;G=F&&F.items.length;while(G===0){F=F.previous;G=F&&F.items.length;}if(F)E=F.items[G-1];}C=E;}while(C&&!C.focus)if(C)C.focus();else{var I=A.toolbox.toolbars[A.toolbox.toolbars.length-1].items;I[I.length-1].focus();}return false;case 27:A.focus();return false;case 13:case 32:C.execute();return false;}return true;};A.on('themeSpace',function(C){if(C.data.space==A.config.toolbarLocation){A.toolbox=new y();var D=q.getNextId(),E=['<div class="cke_toolbox" role="toolbar" aria-labelledby="',D,'" onmousedown="return false;"'],F=A.config.toolbarStartupExpanded!==false,G;E.push(F?'>':' style="display:none">');E.push('<span id="',D,'" class="cke_voice_label">',A.lang.toolbar,'</span>');var H=A.toolbox.toolbars,I=A.config.toolbar instanceof Array?A.config.toolbar:A.config['toolbar_'+A.config.toolbar];
for(var J=0;J<I.length;J++){var K=I[J];if(!K)continue;var L=q.getNextId(),M={id:L,items:[]};if(G){E.push('</div>');G=0;}if(K==='/'){E.push('<div class="cke_break"></div>');continue;}E.push('<span id="',L,'" class="cke_toolbar" role="presentation"><span class="cke_toolbar_start"></span>');var N=H.push(M)-1;if(N>0){M.previous=H[N-1];M.previous.next=M;}for(var O=0;O<K.length;O++){var P,Q=K[O];if(Q=='-')P=w.separator;else P=A.ui.create(Q);if(P){if(P.canGroup){if(!G){E.push('<span class="cke_toolgroup" role="presentation">');G=1;}}else if(G){E.push('</span>');G=0;}var R=P.render(A,E);N=M.items.push(R)-1;if(N>0){R.previous=M.items[N-1];R.previous.next=R;}R.toolbar=M;R.onkey=B;R.onfocus=function(){if(!A.toolbox.focusCommandExecuted)A.focus();};}}if(G){E.push('</span>');G=0;}E.push('<span class="cke_toolbar_end"></span></span>');}E.push('</div>');if(A.config.toolbarCanCollapse){var S=q.addFunction(function(){A.execCommand('toolbarCollapse');});A.on('destroy',function(){q.removeFunction(S);});var T=q.getNextId();A.addCommand('toolbarCollapse',{exec:function(U){var V=m.document.getById(T),W=V.getPrevious(),X=U.getThemeSpace('contents'),Y=W.getParent(),Z=parseInt(X.$.style.height,10),aa=Y.$.offsetHeight,ab=!W.isVisible();if(!ab){W.hide();V.addClass('cke_toolbox_collapser_min');V.setAttribute('title',U.lang.toolbarExpand);}else{W.show();V.removeClass('cke_toolbox_collapser_min');V.setAttribute('title',U.lang.toolbarCollapse);}V.getFirst().setText(ab?'▲':'◀');var ac=Y.$.offsetHeight-aa;X.setStyle('height',Z-ac+'px');U.fire('resize');},modes:{wysiwyg:1,source:1}});E.push('<a title="'+(F?A.lang.toolbarCollapse:A.lang.toolbarExpand)+'" id="'+T+'" tabIndex="-1" class="cke_toolbox_collapser');if(!F)E.push(' cke_toolbox_collapser_min');E.push('" onclick="CKEDITOR.tools.callFunction('+S+')">','<span>&#9650;</span>','</a>');}C.data.html+=E.join('');}});A.on('destroy',function(){var C,D=0,E,F,G;C=this.toolbox.toolbars;for(;D<C.length;D++){F=C[D].items;for(E=0;E<F.length;E++){G=F[E];if(G.clickFn)q.removeFunction(G.clickFn);if(G.keyDownFn)q.removeFunction(G.keyDownFn);if(G.index)w.button._.instances[G.index]=null;}}});A.addCommand('toolbarFocus',z.toolbarFocus);}});})();w.separator={render:function(y,z){z.push('<span class="cke_separator" role="separator"></span>');return{};}};u.toolbarLocation='top';u.toolbar_Basic=[['Bold','Italic','-','NumberedList','BulletedList','-','Link','Unlink','-','About']];u.toolbar_Full=[['Source','-','Save','NewPage','Preview','-','Templates'],['Cut','Copy','Paste','PasteText','PasteFromWord','-','Print','SpellChecker','Scayt'],['Undo','Redo','-','Find','Replace','-','SelectAll','RemoveFormat'],['Form','Checkbox','Radio','TextField','Textarea','Select','Button','ImageButton','HiddenField'],'/',['Bold','Italic','Underline','Strike','-','Subscript','Superscript'],['NumberedList','BulletedList','-','Outdent','Indent','Blockquote','CreateDiv'],['JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock'],['BidiLtr','BidiRtl'],['Link','Unlink','Anchor'],['Image','Flash','Table','HorizontalRule','Smiley','SpecialChar','PageBreak','Iframe'],'/',['Styles','Format','Font','FontSize'],['TextColor','BGColor'],['Maximize','ShowBlocks','-','About']];
u.toolbar='Full';u.toolbarCanCollapse=true;(function(){v.add('undo',{requires:['selection','wysiwygarea'],init:function(E){var F=new A(E),G=E.addCommand('undo',{exec:function(){if(F.undo()){E.selectionChange();this.fire('afterUndo');}},state:0,canUndo:false}),H=E.addCommand('redo',{exec:function(){if(F.redo()){E.selectionChange();this.fire('afterRedo');}},state:0,canUndo:false});F.onChange=function(){G.setState(F.undoable()?2:0);H.setState(F.redoable()?2:0);};function I(J){if(F.enabled&&J.data.command.canUndo!==false)F.save();};E.on('beforeCommandExec',I);E.on('afterCommandExec',I);E.on('saveSnapshot',function(){F.save();});E.on('contentDom',function(){E.document.on('keydown',function(J){if(!J.data.$.ctrlKey&&!J.data.$.metaKey)F.type(J);});});E.on('beforeModeUnload',function(){E.mode=='wysiwyg'&&F.save(true);});E.on('mode',function(){F.enabled=E.mode=='wysiwyg';F.onChange();});E.ui.addButton('Undo',{label:E.lang.undo,command:'undo'});E.ui.addButton('Redo',{label:E.lang.redo,command:'redo'});E.resetUndo=function(){F.reset();E.fire('saveSnapshot');};E.on('updateSnapshot',function(){if(F.currentImage&&new y(E).equals(F.currentImage))setTimeout(function(){F.update();},0);});}});v.undo={};var y=v.undo.Image=function(E){this.editor=E;var F=E.getSnapshot(),G=F&&E.getSelection();o&&F&&(F=F.replace(/\s+data-cke-expando=".*?"/g,''));this.contents=F;this.bookmarks=G&&G.createBookmarks2(true);},z=/\b(?:href|src|name)="[^"]*?"/gi;y.prototype={equals:function(E,F){var G=this.contents,H=E.contents;if(o&&(n.ie7Compat||n.ie6Compat)){G=G.replace(z,'');H=H.replace(z,'');}if(G!=H)return false;if(F)return true;var I=this.bookmarks,J=E.bookmarks;if(I||J){if(!I||!J||I.length!=J.length)return false;for(var K=0;K<I.length;K++){var L=I[K],M=J[K];if(L.startOffset!=M.startOffset||L.endOffset!=M.endOffset||!q.arrayCompare(L.start,M.start)||!q.arrayCompare(L.end,M.end))return false;}}return true;}};function A(E){this.editor=E;this.reset();};var B={8:1,46:1},C={16:1,17:1,18:1},D={37:1,38:1,39:1,40:1};A.prototype={type:function(E){var F=E&&E.data.getKey(),G=F in C,H=F in B,I=this.lastKeystroke in B,J=H&&F==this.lastKeystroke,K=F in D,L=this.lastKeystroke in D,M=!H&&!K,N=H&&!J,O=!(G||this.typing)||M&&(I||L);if(O||N){var P=new y(this.editor);q.setTimeout(function(){var R=this;var Q=R.editor.getSnapshot();if(o)Q=Q.replace(/\s+data-cke-expando=".*?"/g,'');if(P.contents!=Q){R.typing=true;if(!R.save(false,P,false))R.snapshots.splice(R.index+1,R.snapshots.length-R.index-1);R.hasUndo=true;R.hasRedo=false;
R.typesCount=1;R.modifiersCount=1;R.onChange();}},0,this);}this.lastKeystroke=F;if(H){this.typesCount=0;this.modifiersCount++;if(this.modifiersCount>25){this.save(false,null,false);this.modifiersCount=1;}}else if(!K){this.modifiersCount=0;this.typesCount++;if(this.typesCount>25){this.save(false,null,false);this.typesCount=1;}}},reset:function(){var E=this;E.lastKeystroke=0;E.snapshots=[];E.index=-1;E.limit=E.editor.config.undoStackSize||20;E.currentImage=null;E.hasUndo=false;E.hasRedo=false;E.resetType();},resetType:function(){var E=this;E.typing=false;delete E.lastKeystroke;E.typesCount=0;E.modifiersCount=0;},fireChange:function(){var E=this;E.hasUndo=!!E.getNextImage(true);E.hasRedo=!!E.getNextImage(false);E.resetType();E.onChange();},save:function(E,F,G){var I=this;var H=I.snapshots;if(!F)F=new y(I.editor);if(F.contents===false)return false;if(I.currentImage&&F.equals(I.currentImage,E))return false;H.splice(I.index+1,H.length-I.index-1);if(H.length==I.limit)H.shift();I.index=H.push(F)-1;I.currentImage=F;if(G!==false)I.fireChange();return true;},restoreImage:function(E){var G=this;G.editor.loadSnapshot(E.contents);if(E.bookmarks)G.editor.getSelection().selectBookmarks(E.bookmarks);else if(o){var F=G.editor.document.getBody().$.createTextRange();F.collapse(true);F.select();}G.index=E.index;G.update();G.fireChange();},getNextImage:function(E){var J=this;var F=J.snapshots,G=J.currentImage,H,I;if(G)if(E)for(I=J.index-1;I>=0;I--){H=F[I];if(!G.equals(H,true)){H.index=I;return H;}}else for(I=J.index+1;I<F.length;I++){H=F[I];if(!G.equals(H,true)){H.index=I;return H;}}return null;},redoable:function(){return this.enabled&&this.hasRedo;},undoable:function(){return this.enabled&&this.hasUndo;},undo:function(){var F=this;if(F.undoable()){F.save(true);var E=F.getNextImage(true);if(E)return F.restoreImage(E),true;}return false;},redo:function(){var F=this;if(F.redoable()){F.save(true);if(F.redoable()){var E=F.getNextImage(false);if(E)return F.restoreImage(E),true;}}return false;},update:function(){var E=this;E.snapshots.splice(E.index,1,E.currentImage=new y(E.editor));}};})();(function(){var y={table:1,pre:1},z=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,A=p.walker.whitespaces(true);function B(P){return P.getName() in y||P.isBlockBoundary()&&r.$empty[P.getName()];};function C(P){return function(Q){if(this.mode=='wysiwyg'){this.focus();this.fire('saveSnapshot');P.call(this,Q.data);q.setTimeout(function(){this.fire('saveSnapshot');
},0,this);}};};function D(P){var V=this;if(V.dataProcessor)P=V.dataProcessor.toHtml(P);var Q=V.getSelection(),R=Q.getRanges()[0];if(R.checkReadOnly())return;if(o){var S=Q.isLocked;if(S)Q.unlock();var T=Q.getNative();if(T.type=='Control')T.clear();else if(Q.getType()==2){R=Q.getRanges()[0];var U=R&&R.endContainer;if(U&&U.type==1&&U.getAttribute('contenteditable')=='false'&&R.checkBoundaryOfElement(U,2)){R.setEndAfter(R.endContainer);R.deleteContents();}}try{T.createRange().pasteHTML(P);}catch(W){}if(S)V.getSelection().lock();}else V.document.$.execCommand('inserthtml',false,P);if(n.webkit){Q=V.getSelection();Q.scrollIntoView();}};function E(P){var Q=this.getSelection(),R=Q.getStartElement().hasAscendant('pre',true)?2:this.config.enterMode,S=R==2,T=q.htmlEncode(P.replace(/\r\n|\r/g,'\n'));T=T.replace(/^[ \t]+|[ \t]+$/g,function(Z,aa,ab){if(Z.length==1)return '&nbsp;';else if(!aa)return q.repeat('&nbsp;',Z.length-1)+' ';else return ' '+q.repeat('&nbsp;',Z.length-1);});T=T.replace(/[ \t]{2,}/g,function(Z){return q.repeat('&nbsp;',Z.length-1)+' ';});var U=R==1?'p':'div';if(!S)T=T.replace(/(\n{2})([\s\S]*?)(?:$|\1)/g,function(Z,aa,ab){return '<'+U+'>'+ab+'</'+U+'>';});T=T.replace(/\n/g,'<br>');if(!(S||o))T=T.replace(new RegExp('<br>(?=</'+U+'>)'),function(Z){return q.repeat(Z,2);});if(n.gecko||n.webkit){var V=new p.elementPath(Q.getStartElement()),W=[];for(var X=0;X<V.elements.length;X++){var Y=V.elements[X].getName();if(Y in r.$inline)W.unshift(V.elements[X].getOuterHtml().match(/^<.*?>/));else if(Y in r.$block)break;}T=W.join('')+T;}D.call(this,T);};function F(P){var Q=this.getSelection(),R=Q.getRanges(),S=P.getName(),T=r.$block[S],U=Q.isLocked;if(U)Q.unlock();var V,W,X,Y;for(var Z=R.length-1;Z>=0;Z--){V=R[Z];if(!V.checkReadOnly()){V.deleteContents(1);W=!Z&&P||P.clone(1);var aa,ab;if(T)while((aa=V.getCommonAncestor(0,1))&&(ab=r[aa.getName()])&&!(ab&&ab[S])){if(aa.getName() in r.span)V.splitElement(aa);else if(V.checkStartOfBlock()&&V.checkEndOfBlock()){V.setStartBefore(aa);V.collapse(true);aa.remove();}else V.splitBlock();}V.insertNode(W);if(!X)X=W;}}if(X){V.moveToPosition(X,4);if(T){var ac=X.getNext(A),ad=ac&&ac.type==1&&ac.getName();if(ad&&r.$block[ad]&&r[ad]['#'])V.moveToElementEditStart(ac);}}Q.selectRanges([V]);if(U)this.getSelection().lock();};function G(P){if(!P.checkDirty())setTimeout(function(){P.resetDirty();},0);};var H=p.walker.whitespaces(true),I=p.walker.bookmark(false,true);function J(P){return H(P)&&I(P);};function K(P){return P.type==3&&q.trim(P.getText()).match(/^(?:&nbsp;|\xa0)$/);
};function L(P){if(P.isLocked){P.unlock();setTimeout(function(){P.lock();},0);}};function M(P){return P.getOuterHtml().match(z);};H=p.walker.whitespaces(true);function N(P){var Q=P.window,R=P.document,S=P.document.getBody(),T=S.getChildren().count();if(!T||T==1&&S.getFirst().hasAttribute('_moz_editor_bogus_node')){G(P);var U=P.element.getDocument(),V=U.getDocumentElement(),W=V.$.scrollTop,X=V.$.scrollLeft,Y=R.$.createEvent('KeyEvents');Y.initKeyEvent('keypress',true,true,Q.$,false,false,false,false,0,32);R.$.dispatchEvent(Y);if(W!=V.$.scrollTop||X!=V.$.scrollLeft)U.getWindow().$.scrollTo(X,W);T&&S.getFirst().remove();R.getBody().appendBogus();var Z=new p.range(R);Z.setStartAt(S,1);Z.select();}};function O(P){var Q=P.editor,R=P.data.path,S=R.blockLimit,T=P.data.selection,U=T.getRanges()[0],V=Q.document.getBody(),W=Q.config.enterMode;if(n.gecko){N(Q);var X=R.block||R.blockLimit;if(X&&!X.getBogus()){Q.fire('updateSnapshot');G(Q);X.appendBogus();}}if(W!=2&&U.collapsed&&S.getName()=='body'&&!R.block){Q.fire('updateSnapshot');G(Q);o&&L(T);var Y=U.fixBlock(true,Q.config.enterMode==3?'div':'p');if(o){var Z=Y.getFirst(J);Z&&K(Z)&&Z.remove();}if(M(Y)){var aa=Y.getNext(H);if(aa&&aa.type==1&&!B(aa)){U.moveToElementEditStart(aa);Y.remove();}else{aa=Y.getPrevious(H);if(aa&&aa.type==1&&!B(aa)){U.moveToElementEditEnd(aa);Y.remove();}}}U.select();if(!o){Q.forceNextSelectionCheck();Q.selectionChange();}}var ab=new p.range(Q.document),ac=new p.walker(ab);ab.selectNodeContents(V);ac.evaluator=function(ae){return ae.type==1&&ae.getName() in y;};ac.guard=function(ae,af){return!(ae.type==3&&H(ae)||af);};if(ac.previous()){Q.fire('updateSnapshot');G(Q);o&&L(T);var ad;if(W!=2)ad=V.append(new t(W==1?'p':'div'));else ad=V;if(!o)ad.appendBogus();}};v.add('wysiwygarea',{requires:['editingblock'],init:function(P){var Q=P.config.enterMode!=2?P.config.enterMode==3?'div':'p':false,R=P.lang.editorTitle.replace('%1',P.name),S;P.on('editingBlockReady',function(){var Y,Z,aa,ab,ac,ad,ae=n.isCustomDomain(),af=function(ai){if(Z)Z.remove();var aj='document.open();'+(ae?'document.domain="'+document.domain+'";':'')+'document.close();';aj=n.air?'javascript:void(0)':o?'javascript:void(function(){'+encodeURIComponent(aj)+'}())':'';Z=t.createFromHtml('<iframe style="width:100%;height:100%" frameBorder="0" title="'+R+'"'+' src="'+aj+'"'+' tabIndex="'+(n.webkit?-1:P.tabIndex)+'"'+' allowTransparency="true"'+'></iframe>');if(document.location.protocol=='chrome:')m.event.useCapture=true;Z.on('load',function(an){ac=1;
an.removeListener();var ao=Z.getFrameDocument();ao.write(ai);n.air&&ah(ao.getWindow().$);});if(document.location.protocol=='chrome:')m.event.useCapture=false;var ak=P.element,al=n.gecko&&!ak.isVisible(),am={};if(al){ak.show();am={position:ak.getStyle('position'),top:ak.getStyle('top')};ak.setStyles({position:'absolute',top:'-3000px'});}Y.append(Z);if(al)setTimeout(function(){ak.hide();ak.setStyles(am);},1000);};S=q.addFunction(ah);var ag='<script id="cke_actscrpt" type="text/javascript" data-cke-temp="1">'+(ae?'document.domain="'+document.domain+'";':'')+'window.parent.CKEDITOR.tools.callFunction( '+S+', window );'+'</script>';function ah(ai){if(!ac)return;ac=0;P.fire('ariaWidget',Z);var aj=ai.document,ak=aj.body,al=aj.getElementById('cke_actscrpt');al&&al.parentNode.removeChild(al);ak.spellcheck=!P.config.disableNativeSpellChecker;if(o){ak.hideFocus=true;ak.disabled=true;ak.contentEditable=true;ak.removeAttribute('disabled');}else setTimeout(function(){if(n.gecko&&n.version>=10900||n.opera)aj.$.body.contentEditable=true;else if(n.webkit)aj.$.body.parentNode.contentEditable=true;else aj.$.designMode='on';},0);n.gecko&&q.setTimeout(N,0,null,P);ai=P.window=new p.window(ai);aj=P.document=new s(aj);aj.on('dblclick',function(ar){var as=ar.data.getTarget(),at={element:as,dialog:''};P.fire('doubleclick',at);at.dialog&&P.openDialog(at.dialog);});o&&aj.on('click',function(ar){var as=ar.data.getTarget();if(as.is('input')){var at=as.getAttribute('type');if(at=='submit'||at=='reset')ar.data.preventDefault();}});if(!(o||n.opera))aj.on('mousedown',function(ar){var as=ar.data.getTarget();if(as.is('img','hr','input','textarea','select'))P.getSelection().selectElement(as);});if(n.gecko)aj.on('mouseup',function(ar){if(ar.data.$.button==2){var as=ar.data.getTarget();if(!as.getOuterHtml().replace(z,'')){var at=new p.range(aj);at.moveToElementEditStart(as);at.select(true);}}});aj.on('click',function(ar){ar=ar.data;if(ar.getTarget().is('a')&&ar.$.button!=2)ar.preventDefault();});if(n.webkit){aj.on('click',function(ar){if(ar.data.getTarget().is('input','select'))ar.data.preventDefault();});aj.on('mouseup',function(ar){if(ar.data.getTarget().is('input','textarea'))ar.data.preventDefault();});}if(o&&aj.$.compatMode=='CSS1Compat'||n.gecko||n.opera){var am=aj.getDocumentElement();am.on('mousedown',function(ar){if(ar.data.getTarget().equals(am)){if(n.gecko&&n.version>=10900)W();X.focus();}});}var an=o?Z:ai;an.on('blur',function(){P.focusManager.blur();});var ao;an.on('focus',function(){var ar=P.document;
if(n.gecko&&n.version>=10900)W();else if(n.opera)ar.getBody().focus();else if(n.webkit)if(!ao){P.document.getDocumentElement().focus();ao=1;}P.focusManager.focus();});var ap=P.keystrokeHandler;if(ap)ap.attach(aj);if(o){aj.getDocumentElement().addClass(aj.$.compatMode);aj.on('keydown',function(ar){var as=ar.data.getKeystroke();if(as in {8:1,46:1}){var at=P.getSelection(),au=at.getSelectedElement();if(au){P.fire('saveSnapshot');var av=at.getRanges()[0].createBookmark();au.remove();at.selectBookmarks([av]);P.fire('saveSnapshot');ar.data.preventDefault();}}});if(aj.$.compatMode=='CSS1Compat'){var aq={33:1,34:1};aj.on('keydown',function(ar){if(ar.data.getKeystroke() in aq)setTimeout(function(){P.getSelection().scrollIntoView();},0);});}}if(P.contextMenu)P.contextMenu.addTarget(aj,P.config.browserContextMenuOnCtrl!==false);setTimeout(function(){P.fire('contentDom');if(ad){P.mode='wysiwyg';P.fire('mode');ad=false;}aa=false;if(ab){P.focus();ab=false;}setTimeout(function(){P.fire('dataReady');},0);try{P.document.$.execCommand('enableInlineTableEditing',false,!P.config.disableNativeTableHandles);}catch(ar){}if(P.config.disableObjectResizing)try{P.document.$.execCommand('enableObjectResizing',false,false);}catch(as){P.document.getBody().on(o?'resizestart':'resize',function(at){at.data.preventDefault();});}if(o)setTimeout(function(){if(P.document){var at=P.document.$.body;at.runtimeStyle.marginBottom='0px';at.runtimeStyle.marginBottom='';}},1000);},0);};P.addMode('wysiwyg',{load:function(ai,aj,ak){Y=ai;if(o&&n.quirks)ai.setStyle('position','relative');P.mayBeDirty=true;ad=true;if(ak)this.loadSnapshotData(aj);else this.loadData(aj);},loadData:function(ai){aa=true;var aj=P.config,ak=aj.fullPage,al=aj.docType,am='<style type="text/css" data-cke-temp="1">'+P._.styles.join('\n')+'</style>';!ak&&(am=q.buildStyleHtml(P.config.contentsCss)+am);var an=aj.baseHref?'<base href="'+aj.baseHref+'" data-cke-temp="1" />':'';if(ak)ai=ai.replace(/<!DOCTYPE[^>]*>/i,function(ao){P.docType=al=ao;return '';});if(P.dataProcessor)ai=P.dataProcessor.toHtml(ai,Q);if(ak){if(!/<body[\s|>]/.test(ai))ai='<body>'+ai;if(!/<html[\s|>]/.test(ai))ai='<html>'+ai+'</html>';if(!/<head[\s|>]/.test(ai))ai=ai.replace(/<html[^>]*>/,'$&<head><title></title></head>');else if(!/<title[\s|>]/.test(ai))ai=ai.replace(/<head[^>]*>/,'$&<title></title>');an&&(ai=ai.replace(/<head>/,'$&'+an));ai=ai.replace(/<\/head\s*>/,am+'$&');ai=al+ai;}else ai=aj.docType+'<html dir="'+aj.contentsLangDirection+'"'+' lang="'+(aj.contentsLanguage||P.langCode)+'">'+'<head>'+'<title>'+R+'</title>'+an+am+'</head>'+'<body'+(aj.bodyId?' id="'+aj.bodyId+'"':'')+(aj.bodyClass?' class="'+aj.bodyClass+'"':'')+'>'+ai+'</html>';
ai+=ag;this.onDispose();af(ai);},getData:function(){var ai=P.config,aj=ai.fullPage,ak=aj&&P.docType,al=Z.getFrameDocument(),am=aj?al.getDocumentElement().getOuterHtml():al.getBody().getHtml();if(P.dataProcessor)am=P.dataProcessor.toDataFormat(am,Q);if(ai.ignoreEmptyParagraph)am=am.replace(z,function(an,ao){return ao;});if(ak)am=ak+'\n'+am;return am;},getSnapshotData:function(){return Z.getFrameDocument().getBody().getHtml();},loadSnapshotData:function(ai){Z.getFrameDocument().getBody().setHtml(ai);},onDispose:function(){if(!P.document)return;P.document.getDocumentElement().clearCustomData();P.document.getBody().clearCustomData();P.window.clearCustomData();P.document.clearCustomData();Z.clearCustomData();Z.remove();},unload:function(ai){this.onDispose();P.window=P.document=Z=Y=ab=null;P.fire('contentDomUnload');},focus:function(){var ai=P.window;if(aa)ab=true;else if(n.opera&&P.document){var aj=P.window.$.frameElement;aj.blur(),aj.focus();P.document.getBody().focus();P.selectionChange();}else if(!n.opera&&ai){n.air?setTimeout(function(){ai.focus();},0):ai.focus();P.selectionChange();}}});P.on('insertHtml',C(D),null,null,20);P.on('insertElement',C(F),null,null,20);P.on('insertText',C(E),null,null,20);P.on('selectionChange',O,null,null,1);});var T;P.on('contentDom',function(){var Y=P.document.getElementsByTag('title').getItem(0);Y.data('cke-title',P.document.$.title);P.document.$.title=R;});if(n.ie8Compat){P.addCss('html.CSS1Compat [contenteditable=false]{ min-height:0 !important;}');var U=[];for(var V in r.$removeEmpty)U.push('html.CSS1Compat '+V+'[contenteditable=false]');P.addCss(U.join(',')+'{ display:inline-block;}');}else if(n.gecko)P.addCss('html { height: 100% !important; }');function W(Y){q.tryThese(function(){P.document.$.designMode='on';setTimeout(function(){P.document.$.designMode='off';if(m.currentInstance==P)P.document.getBody().focus();},50);},function(){P.document.$.designMode='off';var Z=P.document.getBody();Z.setAttribute('contentEditable',false);Z.setAttribute('contentEditable',true);!Y&&W(1);});};if(n.gecko||o||n.opera){var X;P.on('uiReady',function(){X=P.container.append(t.createFromHtml('<span tabindex="-1" style="position:absolute;" role="presentation"></span>'));X.on('focus',function(){P.focus();});P.focusGrabber=X;});P.on('destroy',function(){q.removeFunction(S);X.clearCustomData();delete P.focusGrabber;});}P.on('insertElement',function(Y){var Z=Y.data;if(Z.type==1&&(Z.is('input')||Z.is('textarea'))){if(!Z.isReadOnly())Z.data('cke-editable',Z.hasAttribute('contenteditable')?'true':'1');
Z.setAttribute('contentEditable',false);}});}});if(n.gecko)(function(){var P=document.body;if(!P)window.addEventListener('load',arguments.callee,false);else{var Q=P.getAttribute('onpageshow');P.setAttribute('onpageshow',(Q?Q+';':'')+'event.persisted && (function(){'+'var allInstances = CKEDITOR.instances, editor, doc;'+'for ( var i in allInstances )'+'{'+'\teditor = allInstances[ i ];'+'\tdoc = editor.document;'+'\tif ( doc )'+'\t{'+'\t\tdoc.$.designMode = "off";'+'\t\tdoc.$.designMode = "on";'+'\t}'+'}'+'})();');}})();})();u.disableObjectResizing=false;u.disableNativeTableHandles=true;u.disableNativeSpellChecker=true;u.ignoreEmptyParagraph=true;v.add('wsc',{requires:['dialog'],init:function(y){var z='checkspell',A=y.addCommand(z,new m.dialogCommand(z));A.modes={wysiwyg:!n.opera&&!n.air&&document.domain==window.location.hostname};y.ui.addButton('SpellChecker',{label:y.lang.spellCheck.toolbar,command:z});m.dialog.add(z,this.path+'dialogs/wsc.js');}});u.wsc_customerId=u.wsc_customerId||'1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk';u.wsc_customLoaderScript=u.wsc_customLoaderScript||null;m.DIALOG_RESIZE_NONE=0;m.DIALOG_RESIZE_WIDTH=1;m.DIALOG_RESIZE_HEIGHT=2;m.DIALOG_RESIZE_BOTH=3;(function(){var y=q.cssLength;function z(ab){return!!this._.tabs[ab][0].$.offsetHeight;};function A(){var af=this;var ab=af._.currentTabId,ac=af._.tabIdList.length,ad=q.indexOf(af._.tabIdList,ab)+ac;for(var ae=ad-1;ae>ad-ac;ae--){if(z.call(af,af._.tabIdList[ae%ac]))return af._.tabIdList[ae%ac];}return null;};function B(){var af=this;var ab=af._.currentTabId,ac=af._.tabIdList.length,ad=q.indexOf(af._.tabIdList,ab);for(var ae=ad+1;ae<ad+ac;ae++){if(z.call(af,af._.tabIdList[ae%ac]))return af._.tabIdList[ae%ac];}return null;};function C(ab,ac){var ad=ab.$.getElementsByTagName('input');for(var ae=0,af=ad.length;ae<af;ae++){var ag=new t(ad[ae]);if(ag.getAttribute('type').toLowerCase()=='text')if(ac){ag.setAttribute('value',ag.getCustomData('fake_value')||'');ag.removeCustomData('fake_value');}else{ag.setCustomData('fake_value',ag.getAttribute('value'));ag.setAttribute('value','');}}};m.dialog=function(ab,ac){var ad=m.dialog._.dialogDefinitions[ac],ae=q.clone(E),af=ab.config.dialog_buttonsOrder||'OS',ag=ab.lang.dir;if(af=='OS'&&n.mac||af=='rtl'&&ag=='ltr'||af=='ltr'&&ag=='rtl')ae.buttons.reverse();ad=q.extend(ad(ab),ae);ad=q.clone(ad);ad=new I(this,ad);var ah=m.document,ai=ab.theme.buildDialog(ab);this._={editor:ab,element:ai.element,name:ac,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:false,focusList:[],currentFocusIndex:0,hasFocus:false};
this.parts=ai.parts;q.setTimeout(function(){ab.fire('ariaWidget',this.parts.contents);},0,this);this.parts.dialog.setStyles({position:n.ie6Compat?'absolute':'fixed',top:0,left:0,visibility:'hidden'});m.event.call(this);this.definition=ad=m.fire('dialogDefinition',{name:ac,definition:ad},ab).definition;var aj={};if(!('removeDialogTabs' in ab._)&&ab.config.removeDialogTabs){var ak=ab.config.removeDialogTabs.split(';');for(i=0;i<ak.length;i++){var al=ak[i].split(':');if(al.length==2){var am=al[0];if(!aj[am])aj[am]=[];aj[am].push(al[1]);}}ab._.removeDialogTabs=aj;}if(ab._.removeDialogTabs&&(aj=ab._.removeDialogTabs[ac]))for(i=0;i<aj.length;i++)ad.removeContents(aj[i]);if(ad.onLoad)this.on('load',ad.onLoad);if(ad.onShow)this.on('show',ad.onShow);if(ad.onHide)this.on('hide',ad.onHide);if(ad.onOk)this.on('ok',function(az){ab.fire('saveSnapshot');setTimeout(function(){ab.fire('saveSnapshot');},0);if(ad.onOk.call(this,az)===false)az.data.hide=false;});if(ad.onCancel)this.on('cancel',function(az){if(ad.onCancel.call(this,az)===false)az.data.hide=false;});var an=this,ao=function(az){var aA=an._.contents,aB=false;for(var aC in aA)for(var aD in aA[aC]){aB=az.call(this,aA[aC][aD]);if(aB)return;}};this.on('ok',function(az){ao(function(aA){if(aA.validate){var aB=aA.validate(this);if(typeof aB=='string'){alert(aB);aB=false;}if(aB===false){if(aA.select)aA.select();else aA.focus();az.data.hide=false;az.stop();return true;}}});},this,null,0);this.on('cancel',function(az){ao(function(aA){if(aA.isChanged()){if(!confirm(ab.lang.common.confirmCancel))az.data.hide=false;return true;}});},this,null,0);this.parts.close.on('click',function(az){if(this.fire('cancel',{hide:true}).hide!==false)this.hide();az.data.preventDefault();},this);function ap(){var az=an._.focusList;az.sort(function(aC,aD){if(aC.tabIndex!=aD.tabIndex)return aD.tabIndex-aC.tabIndex;else return aC.focusIndex-aD.focusIndex;});var aA=az.length;for(var aB=0;aB<aA;aB++)az[aB].focusIndex=aB;};function aq(az){var aA=an._.focusList,aB=az?1:-1;if(aA.length<1)return;var aC=an._.currentFocusIndex;try{aA[aC].getInputElement().$.blur();}catch(aF){}var aD=(aC+aB+aA.length)%aA.length,aE=aD;while(!aA[aE].isFocusable()){aE=(aE+aB+aA.length)%aA.length;if(aE==aD)break;}aA[aE].focus();if(aA[aE].type=='text')aA[aE].select();};this.changeFocus=aq;var ar;function as(az){var aE=this;if(an!=m.dialog._.currentTop)return;var aA=az.data.getKeystroke(),aB=ab.lang.dir=='rtl';ar=0;if(aA==9||aA==2000+9){var aC=aA==2000+9;if(an._.tabBarMode){var aD=aC?A.call(an):B.call(an);
an.selectPage(aD);an._.tabs[aD][0].focus();}else aq(!aC);ar=1;}else if(aA==4000+121&&!an._.tabBarMode&&an.getPageCount()>1){an._.tabBarMode=true;an._.tabs[an._.currentTabId][0].focus();ar=1;}else if((aA==37||aA==39)&&an._.tabBarMode){aD=aA==(aB?39:37)?A.call(an):B.call(an);an.selectPage(aD);an._.tabs[aD][0].focus();ar=1;}else if((aA==13||aA==32)&&an._.tabBarMode){aE.selectPage(aE._.currentTabId);aE._.tabBarMode=false;aE._.currentFocusIndex=-1;aq(true);ar=1;}if(ar){az.stop();az.data.preventDefault();}};function at(az){ar&&az.data.preventDefault();};var au=this._.element;this.on('show',function(){au.on('keydown',as,this,null,0);if(n.opera||n.gecko&&n.mac)au.on('keypress',at,this);});this.on('hide',function(){au.removeListener('keydown',as);if(n.opera||n.gecko&&n.mac)au.removeListener('keypress',at);});this.on('iframeAdded',function(az){var aA=new s(az.data.iframe.$.contentWindow.document);aA.on('keydown',as,this,null,0);});this.on('show',function(){var aD=this;ap();if(ab.config.dialog_startupFocusTab&&an._.pageCount>1){an._.tabBarMode=true;an._.tabs[an._.currentTabId][0].focus();}else if(!aD._.hasFocus){aD._.currentFocusIndex=-1;if(ad.onFocus){var az=ad.onFocus.call(aD);az&&az.focus();}else aq(true);if(aD._.editor.mode=='wysiwyg'&&o){var aA=ab.document.$.selection,aB=aA.createRange();if(aB)if(aB.parentElement&&aB.parentElement().ownerDocument==ab.document.$||aB.item&&aB.item(0).ownerDocument==ab.document.$){var aC=document.body.createTextRange();aC.moveToElementText(aD.getElement().getFirst().$);aC.collapse(true);aC.select();}}}},this,null,4294967295);if(n.ie6Compat)this.on('load',function(az){var aA=this.getElement(),aB=aA.getFirst();aB.remove();aB.appendTo(aA);},this);K(this);L(this);new p.text(ad.title,m.document).appendTo(this.parts.title);for(var av=0;av<ad.contents.length;av++){var aw=ad.contents[av];aw&&this.addPage(aw);}this.parts.tabs.on('click',function(az){var aC=this;var aA=az.data.getTarget();if(aA.hasClass('cke_dialog_tab')){var aB=aA.$.id;aC.selectPage(aB.substring(4,aB.lastIndexOf('_')));if(aC._.tabBarMode){aC._.tabBarMode=false;aC._.currentFocusIndex=-1;aq(true);}az.data.preventDefault();}},this);var ax=[],ay=m.dialog._.uiElementBuilders.hbox.build(this,{type:'hbox',className:'cke_dialog_footer_buttons',widths:[],children:ad.buttons},ax).getChild();this.parts.footer.setHtml(ax.join(''));for(av=0;av<ay.length;av++)this._.buttons[ay[av].id]=ay[av];};function D(ab,ac,ad){this.element=ac;this.focusIndex=ad;this.tabIndex=0;this.isFocusable=function(){return!ac.getAttribute('disabled')&&ac.isVisible();
};this.focus=function(){ab._.currentFocusIndex=this.focusIndex;this.element.focus();};ac.on('keydown',function(ae){if(ae.data.getKeystroke() in {32:1,13:1})this.fire('click');});ac.on('focus',function(){this.fire('mouseover');});ac.on('blur',function(){this.fire('mouseout');});};m.dialog.prototype={destroy:function(){this.hide();this._.element.remove();},resize:(function(){return function(ab,ac){var ad=this;if(ad._.contentSize&&ad._.contentSize.width==ab&&ad._.contentSize.height==ac)return;m.dialog.fire('resize',{dialog:ad,skin:ad._.editor.skinName,width:ab,height:ac},ad._.editor);ad._.contentSize={width:ab,height:ac};};})(),getSize:function(){var ab=this._.element.getFirst();return{width:ab.$.offsetWidth||0,height:ab.$.offsetHeight||0};},move:(function(){var ab;return function(ac,ad,ae){var ah=this;var af=ah._.element.getFirst();if(ab===undefined)ab=af.getComputedStyle('position')=='fixed';if(ab&&ah._.position&&ah._.position.x==ac&&ah._.position.y==ad)return;ah._.position={x:ac,y:ad};if(!ab){var ag=m.document.getWindow().getScrollPosition();ac+=ag.x;ad+=ag.y;}af.setStyles({left:(ac>0?ac:0)+'px',top:(ad>0?ad:0)+'px'});ae&&(ah._.moved=1);};})(),getPosition:function(){return q.extend({},this._.position);},show:function(){var ab=this._.element,ac=this.definition;if(!(ab.getParent()&&ab.getParent().equals(m.document.getBody())))ab.appendTo(m.document.getBody());else ab.setStyle('display','block');if(n.gecko&&n.version<10900){var ad=this.parts.dialog;ad.setStyle('position','absolute');setTimeout(function(){ad.setStyle('position','fixed');},0);}this.resize(this._.contentSize&&this._.contentSize.width||ac.minWidth,this._.contentSize&&this._.contentSize.height||ac.minHeight);this.reset();this.selectPage(this.definition.contents[0].id);if(m.dialog._.currentZIndex===null)m.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex;this._.element.getFirst().setStyle('z-index',m.dialog._.currentZIndex+=10);if(m.dialog._.currentTop===null){m.dialog._.currentTop=this;this._.parentDialog=null;P(this._.editor);ab.on('keydown',T);ab.on(n.opera?'keypress':'keyup',U);for(var ae in {keyup:1,keydown:1,keypress:1})ab.on(ae,aa);}else{this._.parentDialog=m.dialog._.currentTop;var af=this._.parentDialog.getElement().getFirst();af.$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2);m.dialog._.currentTop=this;}V(this,this,'\x1b',null,function(){this.getButton('cancel')&&this.getButton('cancel').click();});this._.hasFocus=false;q.setTimeout(function(){this.layout();this.parts.dialog.setStyle('visibility','');
this.fireOnce('load',{});w.fire('ready',this);this.fire('show',{});this._.editor.fire('dialogShow',this);this.foreach(function(ag){ag.setInitValue&&ag.setInitValue();});},100,this);},layout:function(){var ad=this;var ab=m.document.getWindow().getViewPaneSize(),ac=ad.getSize();ad.move(ad._.moved?ad._.position.x:(ab.width-ac.width)/2,ad._.moved?ad._.position.y:(ab.height-ac.height)/2);},foreach:function(ab){var ae=this;for(var ac in ae._.contents)for(var ad in ae._.contents[ac])ab(ae._.contents[ac][ad]);return ae;},reset:(function(){var ab=function(ac){if(ac.reset)ac.reset(1);};return function(){this.foreach(ab);return this;};})(),setupContent:function(){var ab=arguments;this.foreach(function(ac){if(ac.setup)ac.setup.apply(ac,ab);});},commitContent:function(){var ab=arguments;this.foreach(function(ac){if(ac.commit)ac.commit.apply(ac,ab);});},hide:function(){if(!this.parts.dialog.isVisible())return;this.fire('hide',{});this._.editor.fire('dialogHide',this);var ab=this._.element;ab.setStyle('display','none');this.parts.dialog.setStyle('visibility','hidden');W(this);while(m.dialog._.currentTop!=this)m.dialog._.currentTop.hide();if(!this._.parentDialog)Q();else{var ac=this._.parentDialog.getElement().getFirst();ac.setStyle('z-index',parseInt(ac.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2));}m.dialog._.currentTop=this._.parentDialog;if(!this._.parentDialog){m.dialog._.currentZIndex=null;ab.removeListener('keydown',T);ab.removeListener(n.opera?'keypress':'keyup',U);for(var ad in {keyup:1,keydown:1,keypress:1})ab.removeListener(ad,aa);var ae=this._.editor;ae.focus();if(ae.mode=='wysiwyg'&&o){var af=ae.getSelection();af&&af.unlock(true);}}else m.dialog._.currentZIndex-=10;delete this._.parentDialog;this.foreach(function(ag){ag.resetInitValue&&ag.resetInitValue();});},addPage:function(ab){var an=this;var ac=[],ad=ab.label?' title="'+q.htmlEncode(ab.label)+'"':'',ae=ab.elements,af=m.dialog._.uiElementBuilders.vbox.build(an,{type:'vbox',className:'cke_dialog_page_contents',children:ab.elements,expand:!!ab.expand,padding:ab.padding,style:ab.style||'width: 100%;'},ac),ag=t.createFromHtml(ac.join(''));ag.setAttribute('role','tabpanel');var ah=n,ai='cke_'+ab.id+'_'+q.getNextNumber(),aj=t.createFromHtml(['<a class="cke_dialog_tab"',an._.pageCount>0?' cke_last':'cke_first',ad,!!ab.hidden?' style="display:none"':'',' id="',ai,'"',ah.gecko&&ah.version>=10900&&!ah.hc?'':' href="javascript:void(0)"',' tabIndex="-1"',' hidefocus="true"',' role="tab">',ab.label,'</a>'].join(''));
ag.setAttribute('aria-labelledby',ai);an._.tabs[ab.id]=[aj,ag];an._.tabIdList.push(ab.id);!ab.hidden&&an._.pageCount++;an._.lastTab=aj;an.updateStyle();var ak=an._.contents[ab.id]={},al,am=af.getChild();while(al=am.shift()){ak[al.id]=al;if(typeof al.getChild=='function')am.push.apply(am,al.getChild());}ag.setAttribute('name',ab.id);ag.appendTo(an.parts.contents);aj.unselectable();an.parts.tabs.append(aj);if(ab.accessKey){V(an,an,'CTRL+'+ab.accessKey,Y,X);an._.accessKeyMap['CTRL+'+ab.accessKey]=ab.id;}},selectPage:function(ab){if(this._.currentTabId==ab)return;if(this.fire('selectPage',{page:ab,currentPage:this._.currentTabId})===true)return;for(var ac in this._.tabs){var ad=this._.tabs[ac][0],ae=this._.tabs[ac][1];if(ac!=ab){ad.removeClass('cke_dialog_tab_selected');ae.hide();}ae.setAttribute('aria-hidden',ac!=ab);}var af=this._.tabs[ab];af[0].addClass('cke_dialog_tab_selected');if(n.ie6Compat||n.ie7Compat){C(af[1]);af[1].show();setTimeout(function(){C(af[1],1);},0);}else af[1].show();this._.currentTabId=ab;this._.currentTabIndex=q.indexOf(this._.tabIdList,ab);},updateStyle:function(){this.parts.dialog[(this._.pageCount===1?'add':'remove')+'Class']('cke_single_page');},hidePage:function(ab){var ad=this;var ac=ad._.tabs[ab]&&ad._.tabs[ab][0];if(!ac||ad._.pageCount==1||!ac.isVisible())return;else if(ab==ad._.currentTabId)ad.selectPage(A.call(ad));ac.hide();ad._.pageCount--;ad.updateStyle();},showPage:function(ab){var ad=this;var ac=ad._.tabs[ab]&&ad._.tabs[ab][0];if(!ac)return;ac.show();ad._.pageCount++;ad.updateStyle();},getElement:function(){return this._.element;},getName:function(){return this._.name;},getContentElement:function(ab,ac){var ad=this._.contents[ab];return ad&&ad[ac];},getValueOf:function(ab,ac){return this.getContentElement(ab,ac).getValue();},setValueOf:function(ab,ac,ad){return this.getContentElement(ab,ac).setValue(ad);},getButton:function(ab){return this._.buttons[ab];},click:function(ab){return this._.buttons[ab].click();},disableButton:function(ab){return this._.buttons[ab].disable();},enableButton:function(ab){return this._.buttons[ab].enable();},getPageCount:function(){return this._.pageCount;},getParentEditor:function(){return this._.editor;},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement();},addFocusable:function(ab,ac){var ae=this;if(typeof ac=='undefined'){ac=ae._.focusList.length;ae._.focusList.push(new D(ae,ab,ac));}else{ae._.focusList.splice(ac,0,new D(ae,ab,ac));for(var ad=ac+1;ad<ae._.focusList.length;
ad++)ae._.focusList[ad].focusIndex++;}}};q.extend(m.dialog,{add:function(ab,ac){if(!this._.dialogDefinitions[ab]||typeof ac=='function')this._.dialogDefinitions[ab]=ac;},exists:function(ab){return!!this._.dialogDefinitions[ab];},getCurrent:function(){return m.dialog._.currentTop;},okButton:(function(){var ab=function(ac,ad){ad=ad||{};return q.extend({id:'ok',type:'button',label:ac.lang.common.ok,'class':'cke_dialog_ui_button_ok',onClick:function(ae){var af=ae.data.dialog;if(af.fire('ok',{hide:true}).hide!==false)af.hide();}},ad,true);};ab.type='button';ab.override=function(ac){return q.extend(function(ad){return ab(ad,ac);},{type:'button'},true);};return ab;})(),cancelButton:(function(){var ab=function(ac,ad){ad=ad||{};return q.extend({id:'cancel',type:'button',label:ac.lang.common.cancel,'class':'cke_dialog_ui_button_cancel',onClick:function(ae){var af=ae.data.dialog;if(af.fire('cancel',{hide:true}).hide!==false)af.hide();}},ad,true);};ab.type='button';ab.override=function(ac){return q.extend(function(ad){return ab(ad,ac);},{type:'button'},true);};return ab;})(),addUIElement:function(ab,ac){this._.uiElementBuilders[ab]=ac;}});m.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null};m.event.implementOn(m.dialog);m.event.implementOn(m.dialog.prototype,true);var E={resizable:3,minWidth:600,minHeight:400,buttons:[m.dialog.okButton,m.dialog.cancelButton]},F=function(ab,ac,ad){for(var ae=0,af;af=ab[ae];ae++){if(af.id==ac)return af;if(ad&&af[ad]){var ag=F(af[ad],ac,ad);if(ag)return ag;}}return null;},G=function(ab,ac,ad,ae,af){if(ad){for(var ag=0,ah;ah=ab[ag];ag++){if(ah.id==ad){ab.splice(ag,0,ac);return ac;}if(ae&&ah[ae]){var ai=G(ah[ae],ac,ad,ae,true);if(ai)return ai;}}if(af)return null;}ab.push(ac);return ac;},H=function(ab,ac,ad){for(var ae=0,af;af=ab[ae];ae++){if(af.id==ac)return ab.splice(ae,1);if(ad&&af[ad]){var ag=H(af[ad],ac,ad);if(ag)return ag;}}return null;},I=function(ab,ac){this.dialog=ab;var ad=ac.contents;for(var ae=0,af;af=ad[ae];ae++)ad[ae]=af&&new J(ab,af);q.extend(this,ac);};I.prototype={getContents:function(ab){return F(this.contents,ab);},getButton:function(ab){return F(this.buttons,ab);},addContents:function(ab,ac){return G(this.contents,ab,ac);},addButton:function(ab,ac){return G(this.buttons,ab,ac);},removeContents:function(ab){H(this.contents,ab);},removeButton:function(ab){H(this.buttons,ab);}};function J(ab,ac){this._={dialog:ab};q.extend(this,ac);};J.prototype={get:function(ab){return F(this.elements,ab,'children');
},add:function(ab,ac){return G(this.elements,ab,ac,'children');},remove:function(ab){H(this.elements,ab,'children');}};function K(ab){var ac=null,ad=null,ae=ab.getElement().getFirst(),af=ab.getParentEditor(),ag=af.config.dialog_magnetDistance,ah=af.skin.margins||[0,0,0,0];if(typeof ag=='undefined')ag=20;function ai(ak){var al=ab.getSize(),am=m.document.getWindow().getViewPaneSize(),an=ak.data.$.screenX,ao=ak.data.$.screenY,ap=an-ac.x,aq=ao-ac.y,ar,as;ac={x:an,y:ao};ad.x+=ap;ad.y+=aq;if(ad.x+ah[3]<ag)ar=-ah[3];else if(ad.x-ah[1]>am.width-al.width-ag)ar=am.width-al.width+(af.lang.dir=='rtl'?0:ah[1]);else ar=ad.x;if(ad.y+ah[0]<ag)as=-ah[0];else if(ad.y-ah[2]>am.height-al.height-ag)as=am.height-al.height+ah[2];else as=ad.y;ab.move(ar,as,1);ak.data.preventDefault();};function aj(ak){m.document.removeListener('mousemove',ai);m.document.removeListener('mouseup',aj);if(n.ie6Compat){var al=O.getChild(0).getFrameDocument();al.removeListener('mousemove',ai);al.removeListener('mouseup',aj);}};ab.parts.title.on('mousedown',function(ak){ac={x:ak.data.$.screenX,y:ak.data.$.screenY};m.document.on('mousemove',ai);m.document.on('mouseup',aj);ad=ab.getPosition();if(n.ie6Compat){var al=O.getChild(0).getFrameDocument();al.on('mousemove',ai);al.on('mouseup',aj);}ak.data.preventDefault();},ab);};function L(ab){var ac=ab.definition,ad=ac.resizable;if(ad==0)return;var ae=ab.getParentEditor(),af,ag,ah,ai,aj,ak;function al(ap){if(ab._.moved&&ae.lang.dir=='rtl'){var aq=ab._.element.getFirst();aq.setStyle('right',ap+'px');aq.removeStyle('left');}else if(!ab._.moved)ab.layout();};var am=q.addFunction(function(ap){aj=ab.getSize();var aq=ab.parts.contents,ar=aq.$.getElementsByTagName('iframe').length;if(ar){ak=t.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>');aq.append(ak);}ag=aj.height-ab.parts.contents.getSize('height',!(n.gecko||n.opera||o&&n.quirks));af=aj.width-ab.parts.contents.getSize('width',1);ai={x:ap.screenX,y:ap.screenY};ah=m.document.getWindow().getViewPaneSize();m.document.on('mousemove',an);m.document.on('mouseup',ao);if(n.ie6Compat){var as=O.getChild(0).getFrameDocument();as.on('mousemove',an);as.on('mouseup',ao);}ap.preventDefault&&ap.preventDefault();});ab.on('load',function(){var ap='';if(ad==1)ap=' cke_resizer_horizontal';else if(ad==2)ap=' cke_resizer_vertical';var aq=t.createFromHtml('<div class="cke_resizer'+ap+'"'+' title="'+q.htmlEncode(ae.lang.resize)+'"'+' onmousedown="CKEDITOR.tools.callFunction('+am+', event )"></div>');
ab.parts.footer.append(aq,1);});ae.on('destroy',function(){q.removeFunction(am);});function an(ap){var aq=ae.lang.dir=='rtl',ar=(ap.data.$.screenX-ai.x)*(aq?-1:1),as=ap.data.$.screenY-ai.y,at=aj.width,au=aj.height,av=at+ar*(ab._.moved?1:2),aw=au+as*(ab._.moved?1:2),ax=ab._.element.getFirst(),ay=aq&&ax.getComputedStyle('right'),az=ab.getPosition();if(ay)ay=ay=='auto'?ah.width-(az.x||0)-ax.getSize('width'):parseInt(ay,10);if(az.y+aw>ah.height)aw=ah.height-az.y;if((aq?ay:az.x)+av>ah.width)av=ah.width-(aq?ay:az.x);if((ad==1||ad==3)&&!(aq&&ar>0&&!az.x))at=Math.max(ac.minWidth||0,av-af);if(ad==2||ad==3)au=Math.max(ac.minHeight||0,aw-ag);ab.resize(at,au);al(ay);ap.data.preventDefault();};function ao(){m.document.removeListener('mouseup',ao);m.document.removeListener('mousemove',an);if(ak){ak.remove();ak=null;}if(n.ie6Compat){var ap=O.getChild(0).getFrameDocument();ap.removeListener('mouseup',ao);ap.removeListener('mousemove',an);}if(ae.lang.dir=='rtl'){var aq=ab._.element.getFirst(),ar=aq.getComputedStyle('left');if(ar=='auto')ar=ah.width-parseInt(aq.getStyle('right'),10)-ab.getSize().width;else ar=parseInt(ar,10);aq.removeStyle('right');ab._.position.x+=1;ab.move(ar,ab._.position.y);}};};var M,N={},O;function P(ab){var ac=m.document.getWindow(),ad=ab.config,ae=ad.dialog_backgroundCoverColor||'white',af=ad.dialog_backgroundCoverOpacity,ag=ad.baseFloatZIndex,ah=q.genKey(ae,af,ag),ai=N[ah];if(!ai){var aj=['<div tabIndex="-1" style="position: ',n.ie6Compat?'absolute':'fixed','; z-index: ',ag,'; top: 0px; left: 0px; ',!n.ie6Compat?'background-color: '+ae:'','" class="cke_dialog_background_cover">'];if(n.ie6Compat){var ak=n.isCustomDomain(),al="<html><body style=\\'background-color:"+ae+";\\'></body></html>";aj.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:');aj.push('void((function(){document.open();'+(ak?"document.domain='"+document.domain+"';":'')+"document.write( '"+al+"' );"+'document.close();'+'})())');aj.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>');}aj.push('</div>');ai=t.createFromHtml(aj.join(''));ai.setOpacity(af!=undefined?af:0.5);ai.appendTo(m.document.getBody());N[ah]=ai;}else ai.show();O=ai;var am=function(){var ap=ac.getViewPaneSize();ai.setStyles({width:ap.width+'px',height:ap.height+'px'});},an=function(){var ap=ac.getScrollPosition(),aq=m.dialog._.currentTop;ai.setStyles({left:ap.x+'px',top:ap.y+'px'});if(aq)do{var ar=aq.getPosition();
aq.move(ar.x,ar.y);}while(aq=aq._.parentDialog)};M=am;ac.on('resize',am);am();if(!(n.mac&&n.webkit))ai.focus();if(n.ie6Compat){var ao=function(){an();arguments.callee.prevScrollHandler.apply(this,arguments);};ac.$.setTimeout(function(){ao.prevScrollHandler=window.onscroll||(function(){});window.onscroll=ao;},0);an();}};function Q(){if(!O)return;var ab=m.document.getWindow();O.hide();ab.removeListener('resize',M);if(n.ie6Compat)ab.$.setTimeout(function(){var ac=window.onscroll&&window.onscroll.prevScrollHandler;window.onscroll=ac||null;},0);M=null;};function R(){for(var ab in N)N[ab].remove();N={};};var S={},T=function(ab){var ac=ab.data.$.ctrlKey||ab.data.$.metaKey,ad=ab.data.$.altKey,ae=ab.data.$.shiftKey,af=String.fromCharCode(ab.data.$.keyCode),ag=S[(ac?'CTRL+':'')+(ad?'ALT+':'')+(ae?'SHIFT+':'')+af];if(!ag||!ag.length)return;ag=ag[ag.length-1];ag.keydown&&ag.keydown.call(ag.uiElement,ag.dialog,ag.key);ab.data.preventDefault();},U=function(ab){var ac=ab.data.$.ctrlKey||ab.data.$.metaKey,ad=ab.data.$.altKey,ae=ab.data.$.shiftKey,af=String.fromCharCode(ab.data.$.keyCode),ag=S[(ac?'CTRL+':'')+(ad?'ALT+':'')+(ae?'SHIFT+':'')+af];if(!ag||!ag.length)return;ag=ag[ag.length-1];if(ag.keyup){ag.keyup.call(ag.uiElement,ag.dialog,ag.key);ab.data.preventDefault();}},V=function(ab,ac,ad,ae,af){var ag=S[ad]||(S[ad]=[]);ag.push({uiElement:ab,dialog:ac,key:ad,keyup:af||ab.accessKeyUp,keydown:ae||ab.accessKeyDown});},W=function(ab){for(var ac in S){var ad=S[ac];for(var ae=ad.length-1;ae>=0;ae--){if(ad[ae].dialog==ab||ad[ae].uiElement==ab)ad.splice(ae,1);}if(ad.length===0)delete S[ac];}},X=function(ab,ac){if(ab._.accessKeyMap[ac])ab.selectPage(ab._.accessKeyMap[ac]);},Y=function(ab,ac){},Z={27:1,13:1},aa=function(ab){if(ab.data.getKeystroke() in Z)ab.data.stopPropagation();};(function(){w.dialog={uiElement:function(ab,ac,ad,ae,af,ag,ah){if(arguments.length<4)return;var ai=(ae.call?ae(ac):ae)||'div',aj=['<',ai,' '],ak=(af&&af.call?af(ac):af)||{},al=(ag&&ag.call?ag(ac):ag)||{},am=(ah&&ah.call?ah.call(this,ab,ac):ah)||'',an=this.domId=al.id||q.getNextId()+'_uiElement',ao=this.id=ac.id,ap;al.id=an;var aq={};if(ac.type)aq['cke_dialog_ui_'+ac.type]=1;if(ac.className)aq[ac.className]=1;var ar=al['class']&&al['class'].split?al['class'].split(' '):[];for(ap=0;ap<ar.length;ap++){if(ar[ap])aq[ar[ap]]=1;}var as=[];for(ap in aq)as.push(ap);al['class']=as.join(' ');if(ac.title)al.title=ac.title;var at=(ac.style||'').split(';');for(ap in ak)at.push(ap+':'+ak[ap]);if(ac.hidden)at.push('display:none');
for(ap=at.length-1;ap>=0;ap--){if(at[ap]==='')at.splice(ap,1);}if(at.length>0)al.style=(al.style?al.style+'; ':'')+at.join('; ');for(ap in al)aj.push(ap+'="'+q.htmlEncode(al[ap])+'" ');aj.push('>',am,'</',ai,'>');ad.push(aj.join(''));(this._||(this._={})).dialog=ab;if(typeof ac.isChanged=='boolean')this.isChanged=function(){return ac.isChanged;};if(typeof ac.isChanged=='function')this.isChanged=ac.isChanged;m.event.implementOn(this);this.registerEvents(ac);if(this.accessKeyUp&&this.accessKeyDown&&ac.accessKey)V(this,ab,'CTRL+'+ac.accessKey);var au=this;ab.on('load',function(){if(au.getInputElement())au.getInputElement().on('focus',function(){ab._.tabBarMode=false;ab._.hasFocus=true;au.fire('focus');},au);});if(this.keyboardFocusable){this.tabIndex=ac.tabIndex||0;this.focusIndex=ab._.focusList.push(this)-1;this.on('focus',function(){ab._.currentFocusIndex=au.focusIndex;});}q.extend(this,ac);},hbox:function(ab,ac,ad,ae,af){if(arguments.length<4)return;this._||(this._={});var ag=this._.children=ac,ah=af&&af.widths||null,ai=af&&af.height||null,aj={},ak,al=function(){var an=['<tbody><tr class="cke_dialog_ui_hbox">'];for(ak=0;ak<ad.length;ak++){var ao='cke_dialog_ui_hbox_child',ap=[];if(ak===0)ao='cke_dialog_ui_hbox_first';if(ak==ad.length-1)ao='cke_dialog_ui_hbox_last';an.push('<td class="',ao,'" role="presentation" ');if(ah){if(ah[ak])ap.push('width:'+y(ah[ak]));}else ap.push('width:'+Math.floor(100/ad.length)+'%');if(ai)ap.push('height:'+y(ai));if(af&&af.padding!=undefined)ap.push('padding:'+y(af.padding));if(ap.length>0)an.push('style="'+ap.join('; ')+'" ');an.push('>',ad[ak],'</td>');}an.push('</tr></tbody>');return an.join('');},am={role:'presentation'};af&&af.align&&(am.align=af.align);w.dialog.uiElement.call(this,ab,af||{type:'hbox'},ae,'table',aj,am,al);},vbox:function(ab,ac,ad,ae,af){if(arguments.length<3)return;this._||(this._={});var ag=this._.children=ac,ah=af&&af.width||null,ai=af&&af.heights||null,aj=function(){var ak=['<table role="presentation" cellspacing="0" border="0" '];ak.push('style="');if(af&&af.expand)ak.push('height:100%;');ak.push('width:'+y(ah||'100%'),';');ak.push('"');ak.push('align="',q.htmlEncode(af&&af.align||(ab.getParentEditor().lang.dir=='ltr'?'left':'right')),'" ');ak.push('><tbody>');for(var al=0;al<ad.length;al++){var am=[];ak.push('<tr><td role="presentation" ');if(ah)am.push('width:'+y(ah||'100%'));if(ai)am.push('height:'+y(ai[al]));else if(af&&af.expand)am.push('height:'+Math.floor(100/ad.length)+'%');if(af&&af.padding!=undefined)am.push('padding:'+y(af.padding));
if(am.length>0)ak.push('style="',am.join('; '),'" ');ak.push(' class="cke_dialog_ui_vbox_child">',ad[al],'</td></tr>');}ak.push('</tbody></table>');return ak.join('');};w.dialog.uiElement.call(this,ab,af||{type:'vbox'},ae,'div',null,{role:'presentation'},aj);}};})();w.dialog.uiElement.prototype={getElement:function(){return m.document.getById(this.domId);},getInputElement:function(){return this.getElement();},getDialog:function(){return this._.dialog;},setValue:function(ab,ac){this.getInputElement().setValue(ab);!ac&&this.fire('change',{value:ab});return this;},getValue:function(){return this.getInputElement().getValue();},isChanged:function(){return false;},selectParentTab:function(){var ae=this;var ab=ae.getInputElement(),ac=ab,ad;while((ac=ac.getParent())&&ac.$.className.search('cke_dialog_page_contents')==-1){}if(!ac)return ae;ad=ac.getAttribute('name');if(ae._.dialog._.currentTabId!=ad)ae._.dialog.selectPage(ad);return ae;},focus:function(){this.selectParentTab().getInputElement().focus();return this;},registerEvents:function(ab){var ac=/^on([A-Z]\w+)/,ad,ae=function(ag,ah,ai,aj){ah.on('load',function(){ag.getInputElement().on(ai,aj,ag);});};for(var af in ab){if(!(ad=af.match(ac)))continue;if(this.eventProcessors[af])this.eventProcessors[af].call(this,this._.dialog,ab[af]);else ae(this,this._.dialog,ad[1].toLowerCase(),ab[af]);}return this;},eventProcessors:{onLoad:function(ab,ac){ab.on('load',ac,this);},onShow:function(ab,ac){ab.on('show',ac,this);},onHide:function(ab,ac){ab.on('hide',ac,this);}},accessKeyDown:function(ab,ac){this.focus();},accessKeyUp:function(ab,ac){},disable:function(){var ab=this.getInputElement();ab.setAttribute('disabled','true');ab.addClass('cke_disabled');},enable:function(){var ab=this.getInputElement();ab.removeAttribute('disabled');ab.removeClass('cke_disabled');},isEnabled:function(){return!this.getInputElement().getAttribute('disabled');},isVisible:function(){return this.getInputElement().isVisible();},isFocusable:function(){if(!this.isEnabled()||!this.isVisible())return false;return true;}};w.dialog.hbox.prototype=q.extend(new w.dialog.uiElement(),{getChild:function(ab){var ac=this;if(arguments.length<1)return ac._.children.concat();if(!ab.splice)ab=[ab];if(ab.length<2)return ac._.children[ab[0]];else return ac._.children[ab[0]]&&ac._.children[ab[0]].getChild?ac._.children[ab[0]].getChild(ab.slice(1,ab.length)):null;}},true);w.dialog.vbox.prototype=new w.dialog.hbox();(function(){var ab={build:function(ac,ad,ae){var af=ad.children,ag,ah=[],ai=[];
for(var aj=0;aj<af.length&&(ag=af[aj]);aj++){var ak=[];ah.push(ak);ai.push(m.dialog._.uiElementBuilders[ag.type].build(ac,ag,ak));}return new w.dialog[ad.type](ac,ai,ah,ae,ad);}};m.dialog.addUIElement('hbox',ab);m.dialog.addUIElement('vbox',ab);})();m.dialogCommand=function(ab){this.dialogName=ab;};m.dialogCommand.prototype={exec:function(ab){ab.openDialog(this.dialogName);},canUndo:false,editorFocus:o||n.webkit};(function(){var ab=/^([a]|[^a])+$/,ac=/^\d*$/,ad=/^\d*(?:\.\d+)?$/;m.VALIDATE_OR=1;m.VALIDATE_AND=2;m.dialog.validate={functions:function(){return function(){var ak=this;var ae=ak&&ak.getValue?ak.getValue():arguments[0],af=undefined,ag=2,ah=[],ai;for(ai=0;ai<arguments.length;ai++){if(typeof arguments[ai]=='function')ah.push(arguments[ai]);else break;}if(ai<arguments.length&&typeof arguments[ai]=='string'){af=arguments[ai];ai++;}if(ai<arguments.length&&typeof arguments[ai]=='number')ag=arguments[ai];var aj=ag==2?true:false;for(ai=0;ai<ah.length;ai++){if(ag==2)aj=aj&&ah[ai](ae);else aj=aj||ah[ai](ae);}if(!aj){if(af!==undefined)alert(af);if(ak&&(ak.select||ak.focus))ak.select||ak.focus();return false;}return true;};},regex:function(ae,af){return function(){var ah=this;var ag=ah&&ah.getValue?ah.getValue():arguments[0];if(!ae.test(ag)){if(af!==undefined)alert(af);if(ah&&(ah.select||ah.focus))if(ah.select)ah.select();else ah.focus();return false;}return true;};},notEmpty:function(ae){return this.regex(ab,ae);},integer:function(ae){return this.regex(ac,ae);},number:function(ae){return this.regex(ad,ae);},equals:function(ae,af){return this.functions(function(ag){return ag==ae;},af);},notEqual:function(ae,af){return this.functions(function(ag){return ag!=ae;},af);}};m.on('instanceDestroyed',function(ae){if(q.isEmpty(m.instances)){var af;while(af=m.dialog._.currentTop)af.hide();R();}var ag=ae.editor._.storedDialogs;for(var ah in ag)ag[ah].destroy();});})();q.extend(m.editor.prototype,{openDialog:function(ab,ac){if(this.mode=='wysiwyg'&&o){var ad=this.getSelection();ad&&ad.lock();}var ae=m.dialog._.dialogDefinitions[ab],af=this.skin.dialog;if(m.dialog._.currentTop===null)P(this);if(typeof ae=='function'&&af._isLoaded){var ag=this._.storedDialogs||(this._.storedDialogs={}),ah=ag[ab]||(ag[ab]=new m.dialog(this,ab));ac&&ac.call(ah,ah);ah.show();return ah;}else if(ae=='failed')throw new Error('[CKEDITOR.dialog.openDialog] Dialog "'+ab+'" failed when loading definition.');var ai=this;function aj(al){var am=m.dialog._.dialogDefinitions[ab],an=ai.skin.dialog;if(!an._isLoaded||ak&&typeof al=='undefined')return;
if(typeof am!='function')m.dialog._.dialogDefinitions[ab]='failed';ai.openDialog(ab,ac);};if(typeof ae=='string'){var ak=1;m.scriptLoader.load(m.getUrl(ae),aj,null,0,1);}m.skins.load(this,'dialog',aj);return null;}});})();v.add('dialog',{requires:['dialogui']});v.add('styles',{requires:['selection'],init:function(y){y.on('contentDom',function(){y.document.setCustomData('cke_includeReadonly',!y.config.disableReadonlyStyling);});}});m.editor.prototype.attachStyleStateChange=function(y,z){var A=this._.styleStateChangeCallbacks;if(!A){A=this._.styleStateChangeCallbacks=[];this.on('selectionChange',function(B){for(var C=0;C<A.length;C++){var D=A[C],E=D.style.checkActive(B.data.path)?1:2;if(D.state!==E){D.fn.call(this,E);D.state=E;}}});}A.push({style:y,fn:z});};m.STYLE_BLOCK=1;m.STYLE_INLINE=2;m.STYLE_OBJECT=3;(function(){var y={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1},z={a:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1},A=/\s*(?:;\s*|$)/,B=p.walker.bookmark(0,1);m.style=function(af,ag){if(ag){af=q.clone(af);X(af.attributes,ag);X(af.styles,ag);}var ah=this.element=(af.element||'*').toLowerCase();this.type=ah=='#'||y[ah]?1:z[ah]?3:2;this._={definition:af};};m.style.prototype={apply:function(af){ae.call(this,af,false);},remove:function(af){ae.call(this,af,true);},applyToRange:function(af){var ag=this;return(ag.applyToRange=ag.type==2?D:ag.type==1?H:ag.type==3?F:null).call(ag,af);},removeFromRange:function(af){var ag=this;return(ag.removeFromRange=ag.type==2?E:ag.type==1?I:ag.type==3?G:null).call(ag,af);},applyToObject:function(af){V(af,this);},checkActive:function(af){var aj=this;switch(aj.type){case 1:return aj.checkElementRemovable(af.block||af.blockLimit,true);case 3:case 2:var ag=af.elements;for(var ah=0,ai;ah<ag.length;ah++){ai=ag[ah];if(aj.type==2&&(ai==af.block||ai==af.blockLimit))continue;if(aj.type==3&&!(ai.getName() in z))continue;if(aj.checkElementRemovable(ai,true))return true;}}return false;},checkApplicable:function(af){switch(this.type){case 2:case 1:break;case 3:return af.lastElement.getAscendant(this.element,true);}return true;},checkElementRemovable:function(af,ag){if(!af)return false;var ah=this._.definition,ai;if(af.getName()==this.element){if(!ag&&!af.hasAttributes())return true;ai=Y(ah);if(ai._length){for(var aj in ai){if(aj=='_length')continue;var ak=af.getAttribute(aj)||'';if(aj=='style'?ad(ai[aj],ab(ak,false)):ai[aj]==ak){if(!ag)return true;}else if(ag)return false;}if(ag)return true;
}else return true;}var al=Z(this)[af.getName()];if(al){if(!(ai=al.attributes))return true;for(var am=0;am<ai.length;am++){aj=ai[am][0];var an=af.getAttribute(aj);if(an){var ao=ai[am][1];if(ao===null||typeof ao=='string'&&an==ao||ao.test(an))return true;}}}return false;},buildPreview:function(){var af=this._.definition,ag=[],ah=af.element;if(ah=='bdo')ah='span';ag=['<',ah];var ai=af.attributes;if(ai)for(var aj in ai)ag.push(' ',aj,'="',ai[aj],'"');var ak=m.style.getStyleText(af);if(ak)ag.push(' style="',ak,'"');ag.push('>',af.name,'</',ah,'>');return ag.join('');}};m.style.getStyleText=function(af){var ag=af._ST;if(ag)return ag;ag=af.styles;var ah=af.attributes&&af.attributes.style||'',ai='';if(ah.length)ah=ah.replace(A,';');for(var aj in ag){var ak=ag[aj],al=(aj+':'+ak).replace(A,';');if(ak=='inherit')ai+=al;else ah+=al;}if(ah.length)ah=ab(ah);ah+=ai;return af._ST=ah;};function C(af){var ag,ah;while(af=af.getParent()){if(af.getName()=='body')break;if(af.getAttribute('data-nostyle'))ag=af;else if(!ah){var ai=af.getAttribute('contentEditable');if(ai=='false')ag=af;else if(ai=='true')ah=1;}}return ag;};function D(af){var aJ=this;var ag=af.document;if(af.collapsed){var ah=U(aJ,ag);af.insertNode(ah);af.moveToPosition(ah,2);return;}var ai=aJ.element,aj=aJ._.definition,ak,al=aj.includeReadonly;if(al==undefined)al=ag.getCustomData('cke_includeReadonly');var am=r[ai]||(ak=true,r.span);af.enlarge(1,1);af.trim();var an=af.createBookmark(),ao=an.startNode,ap=an.endNode,aq=ao,ar,as=C(ao),at=C(ap);if(as)aq=as.getNextSourceNode(true);if(at)ap=at;if(aq.getPosition(ap)==2)aq=0;while(aq){var au=false;if(aq.equals(ap)){aq=null;au=true;}else{var av=aq.type,aw=av==1?aq.getName():null,ax=aw&&aq.getAttribute('contentEditable')=='false',ay=aw&&aq.getAttribute('data-nostyle');if(aw&&aq.data('cke-bookmark')){aq=aq.getNextSourceNode(true);continue;}if(!aw||am[aw]&&!ay&&(!ax||al)&&(aq.getPosition(ap)|4|0|8)==4+0+8&&(!aj.childRule||aj.childRule(aq))){var az=aq.getParent();if(az&&((az.getDtd()||r.span)[ai]||ak)&&(!aj.parentRule||aj.parentRule(az))){if(!ar&&(!aw||!r.$removeEmpty[aw]||(aq.getPosition(ap)|4|0|8)==4+0+8)){ar=new p.range(ag);ar.setStartBefore(aq);}if(av==3||ax||av==1&&!aq.getChildCount()){var aA=aq,aB;while((au=!aA.getNext(B))&&(aB=aA.getParent(),am[aB.getName()])&&(aB.getPosition(ao)|2|0|8)==2+0+8&&(!aj.childRule||aj.childRule(aB)))aA=aB;ar.setEndAfter(aA);}}else au=true;}else au=true;aq=aq.getNextSourceNode(ay||ax);}if(au&&ar&&!ar.collapsed){var aC=U(aJ,ag),aD=aC.hasAttributes(),aE=ar.getCommonAncestor(),aF={styles:{},attrs:{},blockedStyles:{},blockedAttrs:{}},aG,aH,aI;
while(aC&&aE){if(aE.getName()==ai){for(aG in aj.attributes){if(aF.blockedAttrs[aG]||!(aI=aE.getAttribute(aH)))continue;if(aC.getAttribute(aG)==aI)aF.attrs[aG]=1;else aF.blockedAttrs[aG]=1;}for(aH in aj.styles){if(aF.blockedStyles[aH]||!(aI=aE.getStyle(aH)))continue;if(aC.getStyle(aH)==aI)aF.styles[aH]=1;else aF.blockedStyles[aH]=1;}}aE=aE.getParent();}for(aG in aF.attrs)aC.removeAttribute(aG);for(aH in aF.styles)aC.removeStyle(aH);if(aD&&!aC.hasAttributes())aC=null;if(aC){ar.extractContents().appendTo(aC);R(aJ,aC);ar.insertNode(aC);aC.mergeSiblings();if(!o)aC.$.normalize();}else{aC=new t('span');ar.extractContents().appendTo(aC);ar.insertNode(aC);R(aJ,aC);aC.remove(true);}ar=null;}}af.moveToBookmark(an);af.shrink(2);};function E(af){af.enlarge(1,1);var ag=af.createBookmark(),ah=ag.startNode;if(af.collapsed){var ai=new p.elementPath(ah.getParent()),aj;for(var ak=0,al;ak<ai.elements.length&&(al=ai.elements[ak]);ak++){if(al==ai.block||al==ai.blockLimit)break;if(this.checkElementRemovable(al)){var am;if(af.collapsed&&(af.checkBoundaryOfElement(al,2)||(am=af.checkBoundaryOfElement(al,1)))){aj=al;aj.match=am?'start':'end';}else{al.mergeSiblings();Q(this,al);}}}if(aj){var an=ah;for(ak=0;true;ak++){var ao=ai.elements[ak];if(ao.equals(aj))break;else if(ao.match)continue;else ao=ao.clone();ao.append(an);an=ao;}an[aj.match=='start'?'insertBefore':'insertAfter'](aj);}}else{var ap=ag.endNode,aq=this;function ar(){var au=new p.elementPath(ah.getParent()),av=new p.elementPath(ap.getParent()),aw=null,ax=null;for(var ay=0;ay<au.elements.length;ay++){var az=au.elements[ay];if(az==au.block||az==au.blockLimit)break;if(aq.checkElementRemovable(az))aw=az;}for(ay=0;ay<av.elements.length;ay++){az=av.elements[ay];if(az==av.block||az==av.blockLimit)break;if(aq.checkElementRemovable(az))ax=az;}if(ax)ap.breakParent(ax);if(aw)ah.breakParent(aw);};ar();var as=ah.getNext();while(!as.equals(ap)){var at=as.getNextSourceNode();if(as.type==1&&this.checkElementRemovable(as)){if(as.getName()==this.element)Q(this,as);else S(as,Z(this)[as.getName()]);if(at.type==1&&at.contains(ah)){ar();at=ah.getNext();}}as=at;}}af.moveToBookmark(ag);};function F(af){var ag=af.getCommonAncestor(true,true),ah=ag.getAscendant(this.element,true);ah&&V(ah,this);};function G(af){var ag=af.getCommonAncestor(true,true),ah=ag.getAscendant(this.element,true);if(!ah)return;var ai=this,aj=ai._.definition,ak=aj.attributes,al=m.style.getStyleText(aj);if(ak)for(var am in ak)ah.removeAttribute(am,ak[am]);if(aj.styles)for(var an in aj.styles){if(!aj.styles.hasOwnProperty(an))continue;
ah.removeStyle(an);}};function H(af){var ag=af.createBookmark(true),ah=af.createIterator();ah.enforceRealBlocks=true;if(this._.enterMode)ah.enlargeBr=this._.enterMode!=2;var ai,aj=af.document,ak;while(ai=ah.getNextParagraph()){var al=U(this,aj,ai);J(ai,al);}af.moveToBookmark(ag);};function I(af){var ak=this;var ag=af.createBookmark(1),ah=af.createIterator();ah.enforceRealBlocks=true;ah.enlargeBr=ak._.enterMode!=2;var ai;while(ai=ah.getNextParagraph()){if(ak.checkElementRemovable(ai))if(ai.is('pre')){var aj=ak._.enterMode==2?null:af.document.createElement(ak._.enterMode==1?'p':'div');aj&&ai.copyAttributes(aj);J(ai,aj);}else Q(ak,ai,1);}af.moveToBookmark(ag);};function J(af,ag){var ah=!ag;if(ah){ag=af.getDocument().createElement('div');af.copyAttributes(ag);}var ai=ag&&ag.is('pre'),aj=af.is('pre'),ak=ai&&!aj,al=!ai&&aj;if(ak)ag=P(af,ag);else if(al)ag=O(ah?[af.getHtml()]:M(af),ag);else af.moveChildren(ag);ag.replace(af);if(ai)L(ag);else if(ah)T(ag);};var K=p.walker.whitespaces(1);function L(af){var ag;if(!((ag=af.getPrevious(K))&&ag.is&&ag.is('pre')))return;var ah=N(ag.getHtml(),/\n$/,'')+'\n\n'+N(af.getHtml(),/^\n/,'');if(o)af.$.outerHTML='<pre>'+ah+'</pre>';else af.setHtml(ah);ag.remove();};function M(af){var ag=/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,ah=af.getName(),ai=N(af.getOuterHtml(),ag,function(ak,al,am){return al+'</pre>'+am+'<pre>';}),aj=[];ai.replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(ak,al){aj.push(al);});return aj;};function N(af,ag,ah){var ai='',aj='';af=af.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(ak,al,am){al&&(ai=al);am&&(aj=am);return '';});return ai+af.replace(ag,ah)+aj;};function O(af,ag){var ah;if(af.length>1)ah=new p.documentFragment(ag.getDocument());for(var ai=0;ai<af.length;ai++){var aj=af[ai];aj=aj.replace(/(\r\n|\r)/g,'\n');aj=N(aj,/^[ \t]*\n/,'');aj=N(aj,/\n$/,'');aj=N(aj,/^[ \t]+|[ \t]+$/g,function(al,am,an){if(al.length==1)return '&nbsp;';else if(!am)return q.repeat('&nbsp;',al.length-1)+' ';else return ' '+q.repeat('&nbsp;',al.length-1);});aj=aj.replace(/\n/g,'<br>');aj=aj.replace(/[ \t]{2,}/g,function(al){return q.repeat('&nbsp;',al.length-1)+' ';});if(ah){var ak=ag.clone();ak.setHtml(aj);ah.append(ak);}else ag.setHtml(aj);}return ah||ag;};function P(af,ag){var ah=af.getBogus();ah&&ah.remove();var ai=af.getHtml();ai=N(ai,/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,'');ai=ai.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,'$1');ai=ai.replace(/([ \t\n\r]+|&nbsp;)/g,' ');
ai=ai.replace(/<br\b[^>]*>/gi,'\n');if(o){var aj=af.getDocument().createElement('div');aj.append(ag);ag.$.outerHTML='<pre>'+ai+'</pre>';ag.copyAttributes(aj.getFirst());ag=aj.getFirst().remove();}else ag.setHtml(ai);return ag;};function Q(af,ag){var ah=af._.definition,ai=q.extend({},ah.attributes,Z(af)[ag.getName()]),aj=ah.styles,ak=q.isEmpty(ai)&&q.isEmpty(aj);for(var al in ai){if((al=='class'||af._.definition.fullMatch)&&ag.getAttribute(al)!=aa(al,ai[al]))continue;ak=ag.hasAttribute(al);ag.removeAttribute(al);}for(var am in aj){if(af._.definition.fullMatch&&ag.getStyle(am)!=aa(am,aj[am],true))continue;ak=ak||!!ag.getStyle(am);ag.removeStyle(am);}if(ak)!r.$block[ag.getName()]||af._.enterMode==2&&!ag.hasAttributes()?T(ag):ag.renameNode(af._.enterMode==1?'p':'div');};function R(af,ag){var ah=af._.definition,ai=ah.attributes,aj=ah.styles,ak=Z(af),al=ag.getElementsByTag(af.element);for(var am=al.count();--am>=0;)Q(af,al.getItem(am));for(var an in ak){if(an!=af.element){al=ag.getElementsByTag(an);for(am=al.count()-1;am>=0;am--){var ao=al.getItem(am);S(ao,ak[an]);}}}};function S(af,ag){var ah=ag&&ag.attributes;if(ah)for(var ai=0;ai<ah.length;ai++){var aj=ah[ai][0],ak;if(ak=af.getAttribute(aj)){var al=ah[ai][1];if(al===null||al.test&&al.test(ak)||typeof al=='string'&&ak==al)af.removeAttribute(aj);}}T(af);};function T(af){if(!af.hasAttributes())if(r.$block[af.getName()]){var ag=af.getPrevious(K),ah=af.getNext(K);if(ag&&(ag.type==3||!ag.isBlockBoundary({br:1})))af.append('br',1);if(ah&&(ah.type==3||!ah.isBlockBoundary({br:1})))af.append('br');af.remove(true);}else{var ai=af.getFirst(),aj=af.getLast();af.remove(true);if(ai){ai.type==1&&ai.mergeSiblings();if(aj&&!ai.equals(aj)&&aj.type==1)aj.mergeSiblings();}}};function U(af,ag,ah){var ai,aj=af._.definition,ak=af.element;if(ak=='*')ak='span';ai=new t(ak,ag);if(ah)ah.copyAttributes(ai);ai=V(ai,af);if(ag.getCustomData('doc_processing_style')&&ai.hasAttribute('id'))ai.removeAttribute('id');else ag.setCustomData('doc_processing_style',1);return ai;};function V(af,ag){var ah=ag._.definition,ai=ah.attributes,aj=m.style.getStyleText(ah);if(ai)for(var ak in ai)af.setAttribute(ak,ai[ak]);if(aj)af.setAttribute('style',aj);return af;};var W=/#\((.+?)\)/g;function X(af,ag){for(var ah in af)af[ah]=af[ah].replace(W,function(ai,aj){return ag[aj];});};function Y(af){var ag=af._AC;if(ag)return ag;ag={};var ah=0,ai=af.attributes;if(ai)for(var aj in ai){ah++;ag[aj]=ai[aj];}var ak=m.style.getStyleText(af);if(ak){if(!ag.style)ah++;ag.style=ak;
}ag._length=ah;return af._AC=ag;};function Z(af){if(af._.overrides)return af._.overrides;var ag=af._.overrides={},ah=af._.definition.overrides;if(ah){if(!q.isArray(ah))ah=[ah];for(var ai=0;ai<ah.length;ai++){var aj=ah[ai],ak,al,am;if(typeof aj=='string')ak=aj.toLowerCase();else{ak=aj.element?aj.element.toLowerCase():af.element;am=aj.attributes;}al=ag[ak]||(ag[ak]={});if(am){var an=al.attributes=al.attributes||[];for(var ao in am)an.push([ao.toLowerCase(),am[ao]]);}}}return ag;};function aa(af,ag,ah){var ai=new t('span');ai[ah?'setStyle':'setAttribute'](af,ag);return ai[ah?'getStyle':'getAttribute'](af);};function ab(af,ag){var ah;if(ag!==false){var ai=new t('span');ai.setAttribute('style',af);ah=ai.getAttribute('style')||'';}else ah=af;return ah.replace(/\s*([;:])\s*/,'$1').replace(/([^\s;])$/,'$1;').replace(/,\s+/g,',').replace(/\"/g,'').toLowerCase();};function ac(af){var ag={};af.replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(ah,ai,aj){ag[ai]=aj;});return ag;};function ad(af,ag){typeof af=='string'&&(af=ac(af));typeof ag=='string'&&(ag=ac(ag));for(var ah in af){if(!(ah in ag&&(ag[ah]==af[ah]||af[ah]=='inherit'||ag[ah]=='inherit')))return false;}return true;};function ae(af,ag){var ah=af.getSelection(),ai=ah.getRanges(),aj=ag?this.removeFromRange:this.applyToRange,ak,al=ai.createIterator();while(ak=al.getNextRange())aj.call(this,ak);ah.selectRanges(ai);af.removeCustomData('doc_processing_style');};})();m.styleCommand=function(y){this.style=y;};m.styleCommand.prototype.exec=function(y){var A=this;y.focus();var z=y.document;if(z)if(A.state==2)A.style.apply(z);else if(A.state==1)A.style.remove(z);return!!z;};m.stylesSet=new m.resourceManager('','stylesSet');m.addStylesSet=q.bind(m.stylesSet.add,m.stylesSet);m.loadStylesSet=function(y,z,A){m.stylesSet.addExternal(y,z,'');m.stylesSet.load(y,A);};m.editor.prototype.getStylesSet=function(y){if(!this._.stylesDefinitions){var z=this,A=z.config.stylesCombo_stylesSet||z.config.stylesSet||'default';if(A instanceof Array){z._.stylesDefinitions=A;y(A);return;}var B=A.split(':'),C=B[0],D=B[1],E=v.registered.styles.path;m.stylesSet.addExternal(C,D?B.slice(1).join(':'):E+'styles/'+C+'.js','');m.stylesSet.load(C,function(F){z._.stylesDefinitions=F[C];y(z._.stylesDefinitions);});}else y(this._.stylesDefinitions);};v.add('domiterator');(function(){function y(C){var D=this;if(arguments.length<1)return;D.range=C;D.forceBrBreak=0;D.enlargeBr=1;D.enforceRealBlocks=0;D._||(D._={});};var z=/^[\r\n\t ]+$/,A=p.walker.bookmark(false,true);
function B(C,D,E){var F=C.getNextSourceNode(D,null,E);while(!A(F))F=F.getNextSourceNode(D,null,E);return F;};y.prototype={getNextParagraph:function(C){var ac=this;var D,E,F,G,H,I;if(!ac._.lastNode){E=ac.range.clone();E.shrink(1,true);G=E.endContainer.hasAscendant('pre',true)||E.startContainer.hasAscendant('pre',true);E.enlarge(ac.forceBrBreak&&!G||!ac.enlargeBr?3:2);var J=new p.walker(E),K=p.walker.bookmark(true,true);J.evaluator=K;ac._.nextNode=J.next();J=new p.walker(E);J.evaluator=K;var L=J.previous();ac._.lastNode=L.getNextSourceNode(true);if(ac._.lastNode&&ac._.lastNode.type==3&&!q.trim(ac._.lastNode.getText())&&ac._.lastNode.getParent().isBlockBoundary()){var M=new p.range(E.document);M.moveToPosition(ac._.lastNode,4);if(M.checkEndOfBlock()){var N=new p.elementPath(M.endContainer),O=N.block||N.blockLimit;ac._.lastNode=O.getNextSourceNode(true);}}if(!ac._.lastNode){ac._.lastNode=ac._.docEndMarker=E.document.createText('');ac._.lastNode.insertAfter(L);}E=null;}var P=ac._.nextNode;L=ac._.lastNode;ac._.nextNode=null;while(P){var Q=0,R=P.hasAscendant('pre'),S=P.type!=1,T=0;if(!S){var U=P.getName();if(P.isBlockBoundary(ac.forceBrBreak&&!R&&{br:1})){if(U=='br')S=1;else if(!E&&!P.getChildCount()&&U!='hr'){D=P;F=P.equals(L);break;}if(E){E.setEndAt(P,3);if(U!='br')ac._.nextNode=P;}Q=1;}else{if(P.getFirst()){if(!E){E=new p.range(ac.range.document);E.setStartAt(P,3);}P=P.getFirst();continue;}S=1;}}else if(P.type==3)if(z.test(P.getText()))S=0;if(S&&!E){E=new p.range(ac.range.document);E.setStartAt(P,3);}F=(!Q||S)&&P.equals(L);if(E&&!Q)while(!P.getNext(A)&&!F){var V=P.getParent();if(V.isBlockBoundary(ac.forceBrBreak&&!R&&{br:1})){Q=1;F=F||V.equals(L);break;}P=V;S=1;F=P.equals(L);T=1;}if(S)E.setEndAt(P,4);P=B(P,T,L);F=!P;if(F||Q&&E)break;}if(!D){if(!E){ac._.docEndMarker&&ac._.docEndMarker.remove();ac._.nextNode=null;return null;}var W=new p.elementPath(E.startContainer),X=W.blockLimit,Y={div:1,th:1,td:1};D=W.block;if(!D&&!ac.enforceRealBlocks&&Y[X.getName()]&&E.checkStartOfBlock()&&E.checkEndOfBlock())D=X;else if(!D||ac.enforceRealBlocks&&D.getName()=='li'){D=ac.range.document.createElement(C||'p');E.extractContents().appendTo(D);D.trim();E.insertNode(D);H=I=true;}else if(D.getName()!='li'){if(!E.checkStartOfBlock()||!E.checkEndOfBlock()){D=D.clone(false);E.extractContents().appendTo(D);D.trim();var Z=E.splitBlock();H=!Z.wasStartOfBlock;I=!Z.wasEndOfBlock;E.insertNode(D);}}else if(!F)ac._.nextNode=D.equals(L)?null:B(E.getBoundaryNodes().endNode,1,L);}if(H){var aa=D.getPrevious();
if(aa&&aa.type==1)if(aa.getName()=='br')aa.remove();else if(aa.getLast()&&aa.getLast().$.nodeName.toLowerCase()=='br')aa.getLast().remove();}if(I){var ab=D.getLast();if(ab&&ab.type==1&&ab.getName()=='br')if(o||ab.getPrevious(A)||ab.getNext(A))ab.remove();}if(!ac._.nextNode)ac._.nextNode=F||D.equals(L)?null:B(D,1,L);return D;}};p.range.prototype.createIterator=function(){return new y(this);};})();v.add('panelbutton',{requires:['button'],beforeInit:function(y){y.ui.addHandler(4,w.panelButton.handler);}});m.UI_PANELBUTTON=4;(function(){var y=function(z){var B=this;var A=B._;if(A.state==0)return;B.createPanel(z);if(A.on){A.panel.hide();return;}A.panel.showBlock(B._.id,B.document.getById(B._.id),4);};w.panelButton=q.createClass({base:w.button,$:function(z){var B=this;var A=z.panel;delete z.panel;B.base(z);B.document=A&&A.parent&&A.parent.getDocument()||m.document;A.block={attributes:A.attributes};B.hasArrow=true;B.click=y;B._={panelDefinition:A};},statics:{handler:{create:function(z){return new w.panelButton(z);}}},proto:{createPanel:function(z){var A=this._;if(A.panel)return;var B=this._.panelDefinition||{},C=this._.panelDefinition.block,D=B.parent||m.document.getBody(),E=this._.panel=new w.floatPanel(z,D,B),F=E.addBlock(A.id,C),G=this;E.onShow=function(){if(G.className)this.element.getFirst().addClass(G.className+'_panel');G.setState(1);A.on=1;if(G.onOpen)G.onOpen();};E.onHide=function(H){if(G.className)this.element.getFirst().removeClass(G.className+'_panel');G.setState(G.modes&&G.modes[z.mode]?2:0);A.on=0;if(!H&&G.onClose)G.onClose();};E.onEscape=function(){E.hide();G.document.getById(A.id).focus();};if(this.onBlock)this.onBlock(E,F);F.onHide=function(){A.on=0;G.setState(2);};}}});})();v.add('floatpanel',{requires:['panel']});(function(){var y={},z=false;function A(B,C,D,E,F){var G=q.genKey(C.getUniqueId(),D.getUniqueId(),B.skinName,B.lang.dir,B.uiColor||'',E.css||'',F||''),H=y[G];if(!H){H=y[G]=new w.panel(C,E);H.element=D.append(t.createFromHtml(H.renderHtml(B),C));H.element.setStyles({display:'none',position:'absolute'});}return H;};w.floatPanel=q.createClass({$:function(B,C,D,E){D.forceIFrame=1;var F=C.getDocument(),G=A(B,F,C,D,E||0),H=G.element,I=H.getFirst().getFirst();this.element=H;this._={panel:G,parentElement:C,definition:D,document:F,iframe:I,children:[],dir:B.lang.dir};B.on('mode',function(){this.hide();},this);},proto:{addBlock:function(B,C){return this._.panel.addBlock(B,C);},addListBlock:function(B,C){return this._.panel.addListBlock(B,C);},getBlock:function(B){return this._.panel.getBlock(B);
},showBlock:function(B,C,D,E,F){var G=this._.panel,H=G.showBlock(B);this.allowBlur(false);z=1;var I=this.element,J=this._.iframe,K=this._.definition,L=C.getDocumentPosition(I.getDocument()),M=this._.dir=='rtl',N=L.x+(E||0),O=L.y+(F||0);if(M&&(D==1||D==4))N+=C.$.offsetWidth;else if(!M&&(D==2||D==3))N+=C.$.offsetWidth-1;if(D==3||D==4)O+=C.$.offsetHeight-1;this._.panel._.offsetParentId=C.getId();I.setStyles({top:O+'px',left:0,display:''});I.setOpacity(0);I.getFirst().removeStyle('width');if(!this._.blurSet){var P=o?J:new p.window(J.$.contentWindow);m.event.useCapture=true;P.on('blur',function(Q){var S=this;if(!S.allowBlur())return;var R;if(o&&!S.allowBlur()||(R=Q.data.getTarget())&&R.getName&&R.getName()!='iframe')return;if(S.visible&&!S._.activeChild&&!z)S.hide();},this);P.on('focus',function(){this._.focused=true;this.hideChild();this.allowBlur(true);},this);m.event.useCapture=false;this._.blurSet=1;}G.onEscape=q.bind(function(Q){if(this.onEscape&&this.onEscape(Q)===false)return false;},this);q.setTimeout(function(){if(M)N-=I.$.offsetWidth;var Q=q.bind(function(){var R=I.getFirst();if(H.autoSize){var S=H.element.$;if(n.gecko||n.opera)S=S.parentNode;if(o)S=S.document.body;var T=S.scrollWidth;if(o&&n.quirks&&T>0)T+=(R.$.offsetWidth||0)-(R.$.clientWidth||0);T+=4;R.setStyle('width',T+'px');H.element.addClass('cke_frameLoaded');var U=H.element.$.scrollHeight;if(o&&n.quirks&&U>0)U+=(R.$.offsetHeight||0)-(R.$.clientHeight||0);R.setStyle('height',U+'px');G._.currentBlock.element.setStyle('display','none').removeStyle('display');}else R.removeStyle('height');var V=G.element,W=V.getWindow(),X=W.getScrollPosition(),Y=W.getViewPaneSize(),Z={height:V.$.offsetHeight,width:V.$.offsetWidth};if(M?N<0:N+Z.width>Y.width+X.x)N+=Z.width*(M?1:-1);if(O+Z.height>Y.height+X.y)O-=Z.height;if(o){var aa=new t(I.$.offsetParent),ab=aa;if(ab.getName()=='html')ab=ab.getDocument().getBody();if(ab.getComputedStyle('direction')=='rtl')if(n.ie8Compat)N-=I.getDocument().getDocumentElement().$.scrollLeft*2;else N-=aa.$.scrollWidth-aa.$.clientWidth;}var ac=I.getFirst(),ad;if(ad=ac.getCustomData('activePanel'))ad.onHide&&ad.onHide.call(this,1);ac.setCustomData('activePanel',this);I.setStyles({top:O+'px',left:N+'px'});I.setOpacity(1);},this);G.isLoaded?Q():G.onLoad=Q;q.setTimeout(function(){J.$.contentWindow.focus();this.allowBlur(true);},0,this);},n.air?200:0,this);this.visible=1;if(this.onShow)this.onShow.call(this);z=0;},hide:function(){var B=this;if(B.visible&&(!B.onHide||B.onHide.call(B)!==true)){B.hideChild();
B.element.setStyle('display','none');B.visible=0;B.element.getFirst().removeCustomData('activePanel');}},allowBlur:function(B){var C=this._.panel;if(B!=undefined)C.allowBlur=B;return C.allowBlur;},showAsChild:function(B,C,D,E,F,G){if(this._.activeChild==B&&B._.panel._.offsetParentId==D.getId())return;this.hideChild();B.onHide=q.bind(function(){q.setTimeout(function(){if(!this._.focused)this.hide();},0,this);},this);this._.activeChild=B;this._.focused=false;B.showBlock(C,D,E,F,G);if(n.ie7Compat||n.ie8&&n.ie6Compat)setTimeout(function(){B.element.getChild(0).$.style.cssText+='';},100);},hideChild:function(){var B=this._.activeChild;if(B){delete B.onHide;delete this._.activeChild;B.hide();}}}});m.on('instanceDestroyed',function(){var B=q.isEmpty(m.instances);for(var C in y){var D=y[C];if(B)D.destroy();else D.element.hide();}B&&(y={});});})();v.add('menu',{beforeInit:function(y){var z=y.config.menu_groups.split(','),A=y._.menuGroups={},B=y._.menuItems={};for(var C=0;C<z.length;C++)A[z[C]]=C+1;y.addMenuGroup=function(D,E){A[D]=E||100;};y.addMenuItem=function(D,E){if(A[E.group])B[D]=new m.menuItem(this,D,E);};y.addMenuItems=function(D){for(var E in D)this.addMenuItem(E,D[E]);};y.getMenuItem=function(D){return B[D];};},requires:['floatpanel']});(function(){m.menu=q.createClass({$:function(z,A){var D=this;A=D._.definition=A||{};D.id=q.getNextId();D.editor=z;D.items=[];D._.listeners=[];D._.level=A.level||1;var B=q.extend({},A.panel,{css:z.skin.editor.css,level:D._.level-1,block:{}}),C=B.block.attributes=B.attributes||{};!C.role&&(C.role='menu');D._.panelDefinition=B;},_:{onShow:function(){var H=this;var z=H.editor.getSelection();if(o)z&&z.lock();var A=z&&z.getStartElement(),B=H._.listeners,C=[];H.removeAll();for(var D=0;D<B.length;D++){var E=B[D](A,z);if(E)for(var F in E){var G=H.editor.getMenuItem(F);if(G){G.state=E[F];H.add(G);}}}},onClick:function(z){this.hide();if(z.onClick)z.onClick();else if(z.command)this.editor.execCommand(z.command);},onEscape:function(z){var A=this.parent;if(A){A._.panel.hideChild();var B=A._.panel._.panel._.currentBlock,C=B._.focusIndex;B._.markItem(C);}else if(z==27){this.hide();this.editor.focus();}return false;},onHide:function(){if(o){var z=this.editor.getSelection();z&&z.unlock();}this.onHide&&this.onHide();},showSubMenu:function(z){var H=this;var A=H._.subMenu,B=H.items[z],C=B.getItems&&B.getItems();if(!C){H._.panel.hideChild();return;}var D=H._.panel.getBlock(H.id);D._.focusIndex=z;if(A)A.removeAll();else{A=H._.subMenu=new m.menu(H.editor,q.extend({},H._.definition,{level:H._.level+1},true));
A.parent=H;A._.onClick=q.bind(H._.onClick,H);}for(var E in C){var F=H.editor.getMenuItem(E);if(F){F.state=C[E];A.add(F);}}var G=H._.panel.getBlock(H.id).element.getDocument().getById(H.id+String(z));A.show(G,2);}},proto:{add:function(z){if(!z.order)z.order=this.items.length;this.items.push(z);},removeAll:function(){this.items=[];},show:function(z,A,B,C){if(!this.parent){this._.onShow();if(!this.items.length)return;}A=A||(this.editor.lang.dir=='rtl'?2:1);var D=this.items,E=this.editor,F=this._.panel,G=this._.element;if(!F){F=this._.panel=new w.floatPanel(this.editor,m.document.getBody(),this._.panelDefinition,this._.level);F.onEscape=q.bind(function(R){if(this._.onEscape(R)===false)return false;},this);F.onHide=q.bind(function(){this._.onHide&&this._.onHide();},this);var H=F.addBlock(this.id,this._.panelDefinition.block);H.autoSize=true;var I=H.keys;I[40]='next';I[9]='next';I[38]='prev';I[2000+9]='prev';I[32]='click';I[E.lang.dir=='rtl'?37:39]='click';G=this._.element=H.element;G.addClass(E.skinClass);var J=G.getDocument();J.getBody().setStyle('overflow','hidden');J.getElementsByTag('html').getItem(0).setStyle('overflow','hidden');this._.itemOverFn=q.addFunction(function(R){var S=this;clearTimeout(S._.showSubTimeout);S._.showSubTimeout=q.setTimeout(S._.showSubMenu,E.config.menu_subMenuDelay||400,S,[R]);},this);this._.itemOutFn=q.addFunction(function(R){clearTimeout(this._.showSubTimeout);},this);this._.itemClickFn=q.addFunction(function(R){var T=this;var S=T.items[R];if(S.state==0){T.hide();return;}if(S.getItems)T._.showSubMenu(R);else T._.onClick(S);},this);}y(D);var K=E.container.getChild(1),L=K.hasClass('cke_mixed_dir_content')?' cke_mixed_dir_content':'',M=['<div class="cke_menu'+L+'" role="presentation">'],N=D.length,O=N&&D[0].group;for(var P=0;P<N;P++){var Q=D[P];if(O!=Q.group){M.push('<div class="cke_menuseparator" role="separator"></div>');O=Q.group;}Q.render(this,P,M);}M.push('</div>');G.setHtml(M.join(''));w.fire('ready',this);if(this.parent)this.parent._.panel.showAsChild(F,this.id,z,A,B,C);else F.showBlock(this.id,z,A,B,C);E.fire('menuShow',[F]);},addListener:function(z){this._.listeners.push(z);},hide:function(){var z=this;z._.onHide&&z._.onHide();z._.panel&&z._.panel.hide();}}});function y(z){z.sort(function(A,B){if(A.group<B.group)return-1;else if(A.group>B.group)return 1;return A.order<B.order?-1:A.order>B.order?1:0;});};m.menuItem=q.createClass({$:function(z,A,B){var C=this;q.extend(C,B,{order:0,className:'cke_button_'+A});C.group=z._.menuGroups[C.group];
C.editor=z;C.name=A;},proto:{render:function(z,A,B){var I=this;var C=z.id+String(A),D=typeof I.state=='undefined'?2:I.state,E=' cke_'+(D==1?'on':D==0?'disabled':'off'),F=I.label;if(I.className)E+=' '+I.className;var G=I.getItems;B.push('<span class="cke_menuitem'+(I.icon&&I.icon.indexOf('.png')==-1?' cke_noalphafix':'')+'">'+'<a id="',C,'" class="',E,'" href="javascript:void(\'',(I.label||'').replace("'",''),'\')" title="',I.label,'" tabindex="-1"_cke_focus=1 hidefocus="true" role="menuitem"'+(G?'aria-haspopup="true"':'')+(D==0?'aria-disabled="true"':'')+(D==1?'aria-pressed="true"':''));if(n.opera||n.gecko&&n.mac)B.push(' onkeypress="return false;"');if(n.gecko)B.push(' onblur="this.style.cssText = this.style.cssText;"');var H=(I.iconOffset||0)*-16;B.push(' onmouseover="CKEDITOR.tools.callFunction(',z._.itemOverFn,',',A,');" onmouseout="CKEDITOR.tools.callFunction(',z._.itemOutFn,',',A,');" onclick="CKEDITOR.tools.callFunction(',z._.itemClickFn,',',A,'); return false;"><span class="cke_icon_wrapper"><span class="cke_icon"'+(I.icon?' style="background-image:url('+m.getUrl(I.icon)+');background-position:0 '+H+'px;"':'')+'></span></span>'+'<span class="cke_label">');if(G)B.push('<span class="cke_menuarrow">','<span>&#',I.editor.lang.dir=='rtl'?'9668':'9658',';</span>','</span>');B.push(F,'</span></a></span>');}}});})();u.menu_groups='clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div';(function(){var y=function(A,B){return A._.modes&&A._.modes[B||A.mode];},z;v.add('editingblock',{init:function(A){if(!A.config.editingBlock)return;A.on('themeSpace',function(B){if(B.data.space=='contents')B.data.html+='<br>';});A.on('themeLoaded',function(){A.fireOnce('editingBlockReady');});A.on('uiReady',function(){A.setMode(A.config.startupMode);});A.on('afterSetData',function(){if(!z){function B(){z=true;y(A).loadData(A.getData());z=false;};if(A.mode)B();else A.on('mode',function(){B();A.removeListener('mode',arguments.callee);});}});A.on('beforeGetData',function(){if(!z&&A.mode){z=true;A.setData(y(A).getData());z=false;}});A.on('getSnapshot',function(B){if(A.mode)B.data=y(A).getSnapshotData();});A.on('loadSnapshot',function(B){if(A.mode)y(A).loadSnapshotData(B.data);});A.on('mode',function(B){B.removeListener();n.webkit&&A.container.on('focus',function(){A.focus();});if(A.config.startupFocus)A.focus();setTimeout(function(){A.fireOnce('instanceReady');m.fire('instanceReady',null,A);
},0);});A.on('destroy',function(){var B=this;if(B.mode)B._.modes[B.mode].unload(B.getThemeSpace('contents'));});}});m.editor.prototype.mode='';m.editor.prototype.addMode=function(A,B){B.name=A;(this._.modes||(this._.modes={}))[A]=B;};m.editor.prototype.setMode=function(A){var B,C=this.getThemeSpace('contents'),D=this.checkDirty();if(this.mode){if(A==this.mode)return;this.fire('beforeModeUnload');var E=y(this);B=E.getData();E.unload(C);this.mode='';}C.setHtml('');var F=y(this,A);if(!F)throw '[CKEDITOR.editor.setMode] Unknown mode "'+A+'".';if(!D)this.on('mode',function(){this.resetDirty();this.removeListener('mode',arguments.callee);});F.load(C,typeof B!='string'?this.getData():B);};m.editor.prototype.focus=function(){var A=y(this);if(A)A.focus();};})();u.startupMode='wysiwyg';u.editingBlock=true;(function(){function y(){var I=this;try{var F=I.getSelection();if(!F||!F.document.getWindow().$)return;var G=F.getStartElement(),H=new p.elementPath(G);if(!H.compare(I._.selectionPreviousPath)){I._.selectionPreviousPath=H;I.fire('selectionChange',{selection:F,path:H,element:G});}}catch(J){}};var z,A;function B(){A=true;if(z)return;C.call(this);z=q.setTimeout(C,200,this);};function C(){z=null;if(A){q.setTimeout(y,0,this);A=false;}};var D={modes:{wysiwyg:1,source:1},exec:function(F){switch(F.mode){case 'wysiwyg':F.document.$.execCommand('SelectAll',false,null);F.forceNextSelectionCheck();F.selectionChange();break;case 'source':var G=F.textarea.$;if(o)G.createTextRange().execCommand('SelectAll');else{G.selectionStart=0;G.selectionEnd=G.value.length;}G.focus();}},canUndo:false};v.add('selection',{init:function(F){F.on('contentDom',function(){var G=F.document,H=G.getBody(),I=G.getDocumentElement();if(o){var J,K,L=1;H.on('focusin',function(P){if(P.data.$.srcElement.nodeName!='BODY')return;if(J){var Q=G.getCustomData('cke_locked_selection');if(L&&!Q)try{J.select();}catch(R){}J=null;}});H.on('focus',function(){K=1;O();});H.on('beforedeactivate',function(P){if(P.data.$.toElement)return;K=0;L=1;});if(o&&n.version<8)F.on('blur',function(P){try{F.document&&F.document.$.selection.empty();}catch(Q){}});I.on('mousedown',function(){L=0;});I.on('mouseup',function(){L=1;});if(o&&(n.ie7Compat||n.version<8||n.quirks))I.on('click',function(P){if(P.data.getTarget().getName()=='html')F.getSelection().getRanges()[0].select();});var M;H.on('mousedown',function(P){if(P.data.$.button==2){var Q=F.document.$.selection;if(Q.type=='None')M=F.window.getScrollPosition();}N();});H.on('mouseup',function(P){if(P.data.$.button==2&&M){F.document.$.documentElement.scrollLeft=M.x;
F.document.$.documentElement.scrollTop=M.y;}M=null;K=1;setTimeout(function(){O(true);},0);});H.on('keydown',N);H.on('keyup',function(){K=1;O();});G.on('selectionchange',O);function N(){K=0;};function O(P){if(K){var Q=F.document,R=F.getSelection(),S=R&&R.getNative();if(P&&S&&S.type=='None')if(!Q.$.queryCommandEnabled('InsertImage')){q.setTimeout(O,50,this,true);return;}var T;if(S&&S.type&&S.type!='Control'&&(T=S.createRange())&&(T=T.parentElement())&&(T=T.nodeName)&&T.toLowerCase() in {input:1,textarea:1})return;J=S&&R.getRanges()[0];B.call(F);}};}else{G.on('mouseup',B,F);G.on('keyup',B,F);}});F.addCommand('selectAll',D);F.ui.addButton('SelectAll',{label:F.lang.selectAll,command:'selectAll'});F.selectionChange=B;}});m.editor.prototype.getSelection=function(){return this.document&&this.document.getSelection();};m.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath;};s.prototype.getSelection=function(){var F=new p.selection(this);return!F||F.isInvalid?null:F;};m.SELECTION_NONE=1;m.SELECTION_TEXT=2;m.SELECTION_ELEMENT=3;p.selection=function(F){var I=this;var G=F.getCustomData('cke_locked_selection');if(G)return G;I.document=F;I.isLocked=0;I._={cache:{}};if(o){var H=I.getNative().createRange();if(!H||H.item&&H.item(0).ownerDocument!=I.document.$||H.parentElement&&H.parentElement().ownerDocument!=I.document.$)I.isInvalid=true;}return I;};var E={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,th:1,thead:1,tfoot:1};p.selection.prototype={getNative:o?function(){return this._.cache.nativeSel||(this._.cache.nativeSel=this.document.$.selection);}:function(){return this._.cache.nativeSel||(this._.cache.nativeSel=this.document.getWindow().$.getSelection());},getType:o?function(){var F=this._.cache;if(F.type)return F.type;var G=1;try{var H=this.getNative(),I=H.type;if(I=='Text')G=2;if(I=='Control')G=3;if(H.createRange().parentElement)G=2;}catch(J){}return F.type=G;}:function(){var F=this._.cache;if(F.type)return F.type;var G=2,H=this.getNative();if(!H)G=1;else if(H.rangeCount==1){var I=H.getRangeAt(0),J=I.startContainer;if(J==I.endContainer&&J.nodeType==1&&I.endOffset-I.startOffset==1&&E[J.childNodes[I.startOffset].nodeName.toLowerCase()])G=3;}return F.type=G;},getRanges:(function(){var F=o?(function(){function G(I){return new p.node(I).getIndex();};var H=function(I,J){I=I.duplicate();I.collapse(J);var K=I.parentElement();if(!K.hasChildNodes())return{container:K,offset:0};
var L=K.children,M,N=I.duplicate(),O=0,P=L.length-1,Q=-1,R,S;while(O<=P){Q=Math.floor((O+P)/2);M=L[Q];N.moveToElementText(M);R=N.compareEndPoints('StartToStart',I);if(R>0)P=Q-1;else if(R<0)O=Q+1;else return{container:K,offset:G(M)};}if(Q==-1||Q==L.length-1&&R<0){N.moveToElementText(K);N.setEndPoint('StartToStart',I);S=N.text.replace(/(\r\n|\r)/g,'\n').length;L=K.childNodes;if(!S){M=L[L.length-1];if(M.nodeType==1)return{container:K,offset:L.length};else return{container:M,offset:M.nodeValue.length};}var T=L.length;while(S>0)S-=L[--T].nodeValue.length;return{container:L[T],offset:-S};}else{N.collapse(R>0?true:false);N.setEndPoint(R>0?'StartToStart':'EndToStart',I);S=N.text.replace(/(\r\n|\r)/g,'\n').length;if(!S)return{container:K,offset:G(M)+(R>0?0:1)};while(S>0){M=M[R>0?'previousSibling':'nextSibling'];try{S-=M.nodeValue.length;}catch(U){return{container:K,offset:G(M)};}}return{container:M,offset:R>0?-S:M.nodeValue.length+S};}};return function(){var S=this;var I=S.getNative(),J=I&&I.createRange(),K=S.getType(),L;if(!I)return[];if(K==2){L=new p.range(S.document);var M=H(J,true);L.setStart(new p.node(M.container),M.offset);M=H(J);L.setEnd(new p.node(M.container),M.offset);if(L.endContainer.getPosition(L.startContainer)&4&&L.endOffset<=L.startContainer.getIndex())L.collapse();return[L];}else if(K==3){var N=[];for(var O=0;O<J.length;O++){var P=J.item(O),Q=P.parentNode,R=0;L=new p.range(S.document);for(;R<Q.childNodes.length&&Q.childNodes[R]!=P;R++){}L.setStart(new p.node(Q),R);L.setEnd(new p.node(Q),R+1);N.push(L);}return N;}return[];};})():function(){var G=[],H,I=this.document,J=this.getNative();if(!J)return G;if(!J.rangeCount){H=new p.range(I);H.moveToElementEditStart(I.getBody());G.push(H);}for(var K=0;K<J.rangeCount;K++){var L=J.getRangeAt(K);H=new p.range(I);H.setStart(new p.node(L.startContainer),L.startOffset);H.setEnd(new p.node(L.endContainer),L.endOffset);G.push(H);}return G;};return function(G){var H=this._.cache;if(H.ranges&&!G)return H.ranges;else if(!H.ranges)H.ranges=new p.rangeList(F.call(this));if(G){var I=H.ranges;for(var J=0;J<I.length;J++){var K=I[J],L=K.getCommonAncestor();if(L.isReadOnly())I.splice(J,1);if(K.collapsed)continue;var M=K.startContainer,N=K.endContainer,O=K.startOffset,P=K.endOffset,Q=K.clone(),R;if(R=M.isReadOnly())K.setStartAfter(R);if(M&&M.type==3)if(O>=M.getLength())Q.setStartAfter(M);else Q.setStartBefore(M);if(N&&N.type==3)if(!P)Q.setEndBefore(N);else Q.setEndAfter(N);var S=new p.walker(Q);S.evaluator=function(T){if(T.type==1&&T.isReadOnly()){var U=K.clone();
K.setEndBefore(T);if(K.collapsed)I.splice(J--,1);if(!(T.getPosition(Q.endContainer)&16)){U.setStartAfter(T);if(!U.collapsed)I.splice(J+1,0,U);}return true;}return false;};S.next();}}return H.ranges;};})(),getStartElement:function(){var M=this;var F=M._.cache;if(F.startElement!==undefined)return F.startElement;var G,H=M.getNative();switch(M.getType()){case 3:return M.getSelectedElement();case 2:var I=M.getRanges()[0];if(I){if(!I.collapsed){I.optimize();while(1){var J=I.startContainer,K=I.startOffset;if(K==(J.getChildCount?J.getChildCount():J.getLength())&&!J.isBlockBoundary())I.setStartAfter(J);else break;}G=I.startContainer;if(G.type!=1)return G.getParent();G=G.getChild(I.startOffset);if(!G||G.type!=1)G=I.startContainer;else{var L=G.getFirst();while(L&&L.type==1){G=L;L=L.getFirst();}}}else{G=I.startContainer;if(G.type!=1)G=G.getParent();}G=G.$;}}return F.startElement=G?new t(G):null;},getSelectedElement:function(){var F=this._.cache;if(F.selectedElement!==undefined)return F.selectedElement;var G=this,H=q.tryThese(function(){return G.getNative().createRange().item(0);},function(){var I=G.getRanges()[0],J,K;for(var L=2;L&&!((J=I.getEnclosedNode())&&J.type==1&&E[J.getName()]&&(K=J));L--)I.shrink(1);return K.$;});return F.selectedElement=H?new t(H):null;},lock:function(){var F=this;F.getRanges();F.getStartElement();F.getSelectedElement();F._.cache.nativeSel={};F.isLocked=1;F.document.setCustomData('cke_locked_selection',F);},unlock:function(F){var K=this;var G=K.document,H=G.getCustomData('cke_locked_selection');if(H){G.setCustomData('cke_locked_selection',null);if(F){var I=H.getSelectedElement(),J=!I&&H.getRanges();K.isLocked=0;K.reset();G.getBody().focus();if(I)K.selectElement(I);else K.selectRanges(J);}}if(!H||!F){K.isLocked=0;K.reset();}},reset:function(){this._.cache={};},selectElement:function(F){var I=this;if(I.isLocked){var G=new p.range(I.document);G.setStartBefore(F);G.setEndAfter(F);I._.cache.selectedElement=F;I._.cache.startElement=F;I._.cache.ranges=new p.rangeList(G);I._.cache.type=3;return;}if(o){I.getNative().empty();try{G=I.document.$.body.createControlRange();G.addElement(F.$);G.select();}catch(J){G=I.document.$.body.createTextRange();G.moveToElementText(F.$);G.select();}finally{I.document.fire('selectionchange');}I.reset();}else{G=I.document.$.createRange();G.selectNode(F.$);var H=I.getNative();H.removeAllRanges();H.addRange(G);I.reset();}},selectRanges:function(F){var R=this;if(R.isLocked){R._.cache.selectedElement=null;R._.cache.startElement=F[0]&&F[0].getTouchedStartNode();
R._.cache.ranges=new p.rangeList(F);R._.cache.type=2;return;}if(o){if(F.length>1){var G=F[F.length-1];F[0].setEnd(G.endContainer,G.endOffset);F.length=1;}if(F[0])F[0].select();R.reset();}else{var H=R.getNative();if(F.length)H.removeAllRanges();for(var I=0;I<F.length;I++){if(I<F.length-1){var J=F[I],K=F[I+1],L=J.clone();L.setStart(J.endContainer,J.endOffset);L.setEnd(K.startContainer,K.startOffset);if(!L.collapsed){L.shrink(1,true);var M=L.getCommonAncestor(),N=L.getEnclosedNode();if(M.isReadOnly()||N&&N.isReadOnly()){K.setStart(J.startContainer,J.startOffset);F.splice(I--,1);continue;}}}var O=F[I],P=R.document.$.createRange(),Q=O.startContainer;if(O.collapsed&&(n.opera||n.gecko&&n.version<10900)&&Q.type==1&&!Q.getChildCount())Q.appendText('');P.setStart(Q.$,O.startOffset);P.setEnd(O.endContainer.$,O.endOffset);H.addRange(P);}R.reset();}},createBookmarks:function(F){return this.getRanges().createBookmarks(F);},createBookmarks2:function(F){return this.getRanges().createBookmarks2(F);},selectBookmarks:function(F){var G=[];for(var H=0;H<F.length;H++){var I=new p.range(this.document);I.moveToBookmark(F[H]);G.push(I);}this.selectRanges(G);return this;},getCommonAncestor:function(){var F=this.getRanges(),G=F[0].startContainer,H=F[F.length-1].endContainer;return G.getCommonAncestor(H);},scrollIntoView:function(){var F=this.getStartElement();F.scrollIntoView();}};})();(function(){var y=p.walker.whitespaces(true),z=/\ufeff|\u00a0/,A={table:1,tbody:1,tr:1};p.range.prototype.select=o?function(B){var L=this;var C=L.collapsed,D,E;if(L.startContainer.type==1&&L.startContainer.getName() in A||L.endContainer.type==1&&L.endContainer.getName() in A)L.shrink(1,true);var F=L.createBookmark(),G=F.startNode,H;if(!C)H=F.endNode;var I=L.document.$.body.createTextRange();I.moveToElementText(G.$);I.moveStart('character',1);if(H){var J=L.document.$.body.createTextRange();J.moveToElementText(H.$);I.setEndPoint('EndToEnd',J);I.moveEnd('character',-1);}else{var K=G.getNext(y);D=!(K&&K.getText&&K.getText().match(z))&&(B||!G.hasPrevious()||G.getPrevious().is&&G.getPrevious().is('br'));E=L.document.createElement('span');E.setHtml('&#65279;');E.insertBefore(G);if(D)L.document.createText('\ufeff').insertBefore(G);}L.setStartBefore(G);G.remove();if(C){if(D){I.moveStart('character',-1);I.select();L.document.$.selection.clear();}else I.select();L.moveToPosition(E,3);E.remove();}else{L.setEndBefore(H);H.remove();I.select();}L.document.fire('selectionchange');}:function(){var E=this;var B=E.startContainer;
if(E.collapsed&&B.type==1&&!B.getChildCount())B.append(new p.text(''));var C=E.document.$.createRange();C.setStart(B.$,E.startOffset);try{C.setEnd(E.endContainer.$,E.endOffset);}catch(F){if(F.toString().indexOf('NS_ERROR_ILLEGAL_VALUE')>=0){E.collapse(true);C.setEnd(E.endContainer.$,E.endOffset);}else throw F;}var D=E.document.getSelection().getNative();if(D){D.removeAllRanges();D.addRange(C);}};})();(function(){var y={elements:{$:function(z){var A=z.attributes,B=A&&A['data-cke-realelement'],C=B&&new m.htmlParser.fragment.fromHtml(decodeURIComponent(B)),D=C&&C.children[0];if(D&&z.attributes['data-cke-resizable']){var E=z.attributes.style;if(E){var F=/(?:^|\s)width\s*:\s*(\d+)/i.exec(E),G=F&&F[1];F=/(?:^|\s)height\s*:\s*(\d+)/i.exec(E);var H=F&&F[1];if(G)D.attributes.width=G;if(H)D.attributes.height=H;}}return D;}}};v.add('fakeobjects',{requires:['htmlwriter'],afterInit:function(z){var A=z.dataProcessor,B=A&&A.htmlFilter;if(B)B.addRules(y);}});})();m.editor.prototype.createFakeElement=function(y,z,A,B){var C=this.lang.fakeobjects,D=C[A]||C.unknown,E={'class':z,src:m.getUrl('images/spacer.gif'),'data-cke-realelement':encodeURIComponent(y.getOuterHtml()),'data-cke-real-node-type':y.type,alt:D,title:D,align:y.getAttribute('align')||''};if(A)E['data-cke-real-element-type']=A;if(B)E['data-cke-resizable']=B;return this.document.createElement('img',{attributes:E});};m.editor.prototype.createFakeParserElement=function(y,z,A,B){var C=this.lang.fakeobjects,D=C[A]||C.unknown,E,F=new m.htmlParser.basicWriter();y.writeHtml(F);E=F.getHtml();var G={'class':z,src:m.getUrl('images/spacer.gif'),'data-cke-realelement':encodeURIComponent(E),'data-cke-real-node-type':y.type,alt:D,title:D,align:y.attributes.align||''};if(A)G['data-cke-real-element-type']=A;if(B)G['data-cke-resizable']=B;return new m.htmlParser.element('img',G);};m.editor.prototype.restoreRealElement=function(y){if(y.data('cke-real-node-type')!=1)return null;return t.createFromHtml(decodeURIComponent(y.data('cke-realelement')),this.document);};v.add('richcombo',{requires:['floatpanel','listblock','button'],beforeInit:function(y){y.ui.addHandler(3,w.richCombo.handler);}});m.UI_RICHCOMBO=3;w.richCombo=q.createClass({$:function(y){var A=this;q.extend(A,y,{title:y.label,modes:{wysiwyg:1}});var z=A.panel||{};delete A.panel;A.id=q.getNextNumber();A.document=z&&z.parent&&z.parent.getDocument()||m.document;z.className=(z.className||'')+' cke_rcombopanel';z.block={multiSelect:z.multiSelect,attributes:z.attributes};A._={panelDefinition:z,items:{},state:2};
},statics:{handler:{create:function(y){return new w.richCombo(y);}}},proto:{renderHtml:function(y){var z=[];this.render(y,z);return z.join('');},render:function(y,z){var A=n,B='cke_'+this.id,C=q.addFunction(function(F){var I=this;var G=I._;if(G.state==0)return;I.createPanel(y);if(G.on){G.panel.hide();return;}I.commit();var H=I.getValue();if(H)G.list.mark(H);else G.list.unmarkAll();G.panel.showBlock(I.id,new t(F),4);},this),D={id:B,combo:this,focus:function(){var F=m.document.getById(B).getChild(1);F.focus();},clickFn:C};y.on('mode',function(){this.setState(this.modes[y.mode]?2:0);this.setValue('');},this);var E=q.addFunction(function(F,G){F=new p.event(F);var H=F.getKeystroke();switch(H){case 13:case 32:case 40:q.callFunction(C,G);break;default:D.onkey(D,H);}F.preventDefault();});D.keyDownFn=E;z.push('<span class="cke_rcombo">','<span id=',B);if(this.className)z.push(' class="',this.className,' cke_off"');z.push('>','<span id="'+B+'_label" class=cke_label>',this.label,'</span>','<a hidefocus=true title="',this.title,'" tabindex="-1"',A.gecko&&A.version>=10900&&!A.hc?'':" href=\"javascript:void('"+this.label+"')\"",' role="button" aria-labelledby="',B,'_label" aria-describedby="',B,'_text" aria-haspopup="true"');if(n.opera||n.gecko&&n.mac)z.push(' onkeypress="return false;"');if(n.gecko)z.push(' onblur="this.style.cssText = this.style.cssText;"');z.push(' onkeydown="CKEDITOR.tools.callFunction( ',E,', event, this );" onclick="CKEDITOR.tools.callFunction(',C,', this); return false;"><span><span id="'+B+'_text" class="cke_text cke_inline_label">'+this.label+'</span>'+'</span>'+'<span class=cke_openbutton>'+(n.hc?'<span>&#9660;</span>':n.air?'&nbsp;':'')+'</span>'+'</a>'+'</span>'+'</span>');if(this.onRender)this.onRender();return D;},createPanel:function(y){if(this._.panel)return;var z=this._.panelDefinition,A=this._.panelDefinition.block,B=z.parent||m.document.getBody(),C=new w.floatPanel(y,B,z),D=C.addListBlock(this.id,A),E=this;C.onShow=function(){if(E.className)this.element.getFirst().addClass(E.className+'_panel');E.setState(1);D.focus(!E.multiSelect&&E.getValue());E._.on=1;if(E.onOpen)E.onOpen();};C.onHide=function(F){if(E.className)this.element.getFirst().removeClass(E.className+'_panel');E.setState(E.modes&&E.modes[y.mode]?2:0);E._.on=0;if(!F&&E.onClose)E.onClose();};C.onEscape=function(){C.hide();E.document.getById('cke_'+E.id).getFirst().getNext().focus();};D.onClick=function(F,G){E.document.getWindow().focus();if(E.onClick)E.onClick.call(E,F,G);if(G)E.setValue(F,E._.items[F]);
else E.setValue('');C.hide();};this._.panel=C;this._.list=D;C.getBlock(this.id).onHide=function(){E._.on=0;E.setState(2);};if(this.init)this.init();},setValue:function(y,z){var B=this;B._.value=y;var A=B.document.getById('cke_'+B.id+'_text');if(A){if(!(y||z)){z=B.label;A.addClass('cke_inline_label');}else A.removeClass('cke_inline_label');A.setHtml(typeof z!='undefined'?z:y);}},getValue:function(){return this._.value||'';},unmarkAll:function(){this._.list.unmarkAll();},mark:function(y){this._.list.mark(y);},hideItem:function(y){this._.list.hideItem(y);},hideGroup:function(y){this._.list.hideGroup(y);},showAll:function(){this._.list.showAll();},add:function(y,z,A){this._.items[y]=A||y;this._.list.add(y,z,A);},startGroup:function(y){this._.list.startGroup(y);},commit:function(){var y=this;if(!y._.committed){y._.list.commit();y._.committed=1;w.fire('ready',y);}y._.committed=1;},setState:function(y){var z=this;if(z._.state==y)return;z.document.getById('cke_'+z.id).setState(y);z._.state=y;}}});w.prototype.addRichCombo=function(y,z){this.add(y,3,z);};v.add('htmlwriter');m.htmlWriter=q.createClass({base:m.htmlParser.basicWriter,$:function(){var A=this;A.base();A.indentationChars='\t';A.selfClosingEnd=' />';A.lineBreakChars='\n';A.forceSimpleAmpersand=0;A.sortAttributes=1;A._.indent=0;A._.indentation='';A._.inPre=0;A._.rules={};var y=r;for(var z in q.extend({},y.$nonBodyContent,y.$block,y.$listItem,y.$tableContent))A.setRules(z,{indent:1,breakBeforeOpen:1,breakAfterOpen:1,breakBeforeClose:!y[z]['#'],breakAfterClose:1});A.setRules('br',{breakAfterOpen:1});A.setRules('title',{indent:0,breakAfterOpen:0});A.setRules('style',{indent:0,breakBeforeClose:1});A.setRules('pre',{indent:0});},proto:{openTag:function(y,z){var B=this;var A=B._.rules[y];if(B._.indent)B.indentation();else if(A&&A.breakBeforeOpen){B.lineBreak();B.indentation();}B._.output.push('<',y);},openTagClose:function(y,z){var B=this;var A=B._.rules[y];if(z)B._.output.push(B.selfClosingEnd);else{B._.output.push('>');if(A&&A.indent)B._.indentation+=B.indentationChars;}if(A&&A.breakAfterOpen)B.lineBreak();y=='pre'&&(B._.inPre=1);},attribute:function(y,z){if(typeof z=='string'){this.forceSimpleAmpersand&&(z=z.replace(/&amp;/g,'&'));z=q.htmlEncodeAttr(z);}this._.output.push(' ',y,'="',z,'"');},closeTag:function(y){var A=this;var z=A._.rules[y];if(z&&z.indent)A._.indentation=A._.indentation.substr(A.indentationChars.length);if(A._.indent)A.indentation();else if(z&&z.breakBeforeClose){A.lineBreak();A.indentation();
}A._.output.push('</',y,'>');y=='pre'&&(A._.inPre=0);if(z&&z.breakAfterClose)A.lineBreak();},text:function(y){var z=this;if(z._.indent){z.indentation();!z._.inPre&&(y=q.ltrim(y));}z._.output.push(y);},comment:function(y){if(this._.indent)this.indentation();this._.output.push('<!--',y,'-->');},lineBreak:function(){var y=this;if(!y._.inPre&&y._.output.length>0)y._.output.push(y.lineBreakChars);y._.indent=1;},indentation:function(){var y=this;if(!y._.inPre)y._.output.push(y._.indentation);y._.indent=0;},setRules:function(y,z){var A=this._.rules[y];if(A)q.extend(A,z,true);else this._.rules[y]=z;}}});v.add('menubutton',{requires:['button','menu'],beforeInit:function(y){y.ui.addHandler(5,w.menuButton.handler);}});m.UI_MENUBUTTON=5;(function(){var y=function(z){var A=this._;if(A.state===0)return;A.previousState=A.state;var B=A.menu;if(!B){B=A.menu=new m.menu(z,{panel:{className:z.skinClass+' cke_contextmenu',attributes:{'aria-label':z.lang.common.options}}});B.onHide=q.bind(function(){this.setState(this.modes&&this.modes[z.mode]?A.previousState:0);},this);if(this.onMenu)B.addListener(this.onMenu);}if(A.on){B.hide();return;}this.setState(1);B.show(m.document.getById(this._.id),4);};w.menuButton=q.createClass({base:w.button,$:function(z){var A=z.panel;delete z.panel;this.base(z);this.hasArrow=true;this.click=y;},statics:{handler:{create:function(z){return new w.menuButton(z);}}}});})();v.add('dialogui');(function(){var y=function(G){var J=this;J._||(J._={});J._['default']=J._.initValue=G['default']||'';J._.required=G.required||false;var H=[J._];for(var I=1;I<arguments.length;I++)H.push(arguments[I]);H.push(true);q.extend.apply(q,H);return J._;},z={build:function(G,H,I){return new w.dialog.textInput(G,H,I);}},A={build:function(G,H,I){return new w.dialog[H.type](G,H,I);}},B={build:function(G,H,I){var J=H.children,K,L=[],M=[];for(var N=0;N<J.length&&(K=J[N]);N++){var O=[];L.push(O);M.push(m.dialog._.uiElementBuilders[K.type].build(G,K,O));}return new w.dialog[H.type](G,M,L,I,H);}},C={isChanged:function(){return this.getValue()!=this.getInitValue();},reset:function(G){this.setValue(this.getInitValue(),G);},setInitValue:function(){this._.initValue=this.getValue();},resetInitValue:function(){this._.initValue=this._['default'];},getInitValue:function(){return this._.initValue;}},D=q.extend({},w.dialog.uiElement.prototype.eventProcessors,{onChange:function(G,H){if(!this._.domOnChangeRegistered){G.on('load',function(){this.getInputElement().on('change',function(){if(!G.parts.dialog.isVisible())return;
this.fire('change',{value:this.getValue()});},this);},this);this._.domOnChangeRegistered=true;}this.on('change',H);}},true),E=/^on([A-Z]\w+)/,F=function(G){for(var H in G){if(E.test(H)||H=='title'||H=='type')delete G[H];}return G;};q.extend(w.dialog,{labeledElement:function(G,H,I,J){if(arguments.length<4)return;var K=y.call(this,H);K.labelId=q.getNextId()+'_label';var L=this._.children=[],M=function(){var N=[],O=H.required?' cke_required':'';if(H.labelLayout!='horizontal')N.push('<label class="cke_dialog_ui_labeled_label'+O+'" ',' id="'+K.labelId+'"',' for="'+K.inputId+'"',' style="'+H.labelStyle+'">',H.label,'</label>','<div class="cke_dialog_ui_labeled_content" role="presentation">',J.call(this,G,H),'</div>');else{var P={type:'hbox',widths:H.widths,padding:0,children:[{type:'html',html:'<label class="cke_dialog_ui_labeled_label'+O+'"'+' id="'+K.labelId+'"'+' for="'+K.inputId+'"'+' style="'+H.labelStyle+'">'+q.htmlEncode(H.label)+'</span>'},{type:'html',html:'<span class="cke_dialog_ui_labeled_content">'+J.call(this,G,H)+'</span>'}]};m.dialog._.uiElementBuilders.hbox.build(G,P,N);}return N.join('');};w.dialog.uiElement.call(this,G,H,I,'div',null,{role:'presentation'},M);},textInput:function(G,H,I){if(arguments.length<3)return;y.call(this,H);var J=this._.inputId=q.getNextId()+'_textInput',K={'class':'cke_dialog_ui_input_'+H.type,id:J,type:'text'},L;if(H.validate)this.validate=H.validate;if(H.maxLength)K.maxlength=H.maxLength;if(H.size)K.size=H.size;if(H.controlStyle)K.style=H.controlStyle;var M=this,N=false;G.on('load',function(){M.getInputElement().on('keydown',function(P){if(P.data.getKeystroke()==13)N=true;});M.getInputElement().on('keyup',function(P){if(P.data.getKeystroke()==13&&N){G.getButton('ok')&&setTimeout(function(){G.getButton('ok').click();},0);N=false;}},null,null,1000);});var O=function(){var P=['<div class="cke_dialog_ui_input_',H.type,'" role="presentation"'];if(H.width)P.push('style="width:'+H.width+'" ');P.push('><input ');K['aria-labelledby']=this._.labelId;this._.required&&(K['aria-required']=this._.required);for(var Q in K)P.push(Q+'="'+K[Q]+'" ');P.push(' /></div>');return P.join('');};w.dialog.labeledElement.call(this,G,H,I,O);},textarea:function(G,H,I){if(arguments.length<3)return;y.call(this,H);var J=this,K=this._.inputId=q.getNextId()+'_textarea',L={};if(H.validate)this.validate=H.validate;L.rows=H.rows||5;L.cols=H.cols||20;var M=function(){L['aria-labelledby']=this._.labelId;this._.required&&(L['aria-required']=this._.required);var N=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea class="cke_dialog_ui_input_textarea" id="',K,'" '];
for(var O in L)N.push(O+'="'+q.htmlEncode(L[O])+'" ');N.push('>',q.htmlEncode(J._['default']),'</textarea></div>');return N.join('');};w.dialog.labeledElement.call(this,G,H,I,M);},checkbox:function(G,H,I){if(arguments.length<3)return;var J=y.call(this,H,{'default':!!H['default']});if(H.validate)this.validate=H.validate;var K=function(){var L=q.extend({},H,{id:H.id?H.id+'_checkbox':q.getNextId()+'_checkbox'},true),M=[],N=q.getNextId()+'_label',O={'class':'cke_dialog_ui_checkbox_input',type:'checkbox','aria-labelledby':N};F(L);if(H['default'])O.checked='checked';if(typeof L.controlStyle!='undefined')L.style=L.controlStyle;J.checkbox=new w.dialog.uiElement(G,L,M,'input',null,O);M.push(' <label id="',N,'" for="',O.id,'">',q.htmlEncode(H.label),'</label>');return M.join('');};w.dialog.uiElement.call(this,G,H,I,'span',null,null,K);},radio:function(G,H,I){if(arguments.length<3)return;y.call(this,H);if(!this._['default'])this._['default']=this._.initValue=H.items[0][1];if(H.validate)this.validate=H.valdiate;var J=[],K=this,L=function(){var M=[],N=[],O={'class':'cke_dialog_ui_radio_item','aria-labelledby':this._.labelId},P=H.id?H.id+'_radio':q.getNextId()+'_radio';for(var Q=0;Q<H.items.length;Q++){var R=H.items[Q],S=R[2]!==undefined?R[2]:R[0],T=R[1]!==undefined?R[1]:R[0],U=q.getNextId()+'_radio_input',V=U+'_label',W=q.extend({},H,{id:U,title:null,type:null},true),X=q.extend({},W,{title:S},true),Y={type:'radio','class':'cke_dialog_ui_radio_input',name:P,value:T,'aria-labelledby':V},Z=[];if(K._['default']==T)Y.checked='checked';F(W);F(X);if(typeof W.controlStyle!='undefined')W.style=W.controlStyle;J.push(new w.dialog.uiElement(G,W,Z,'input',null,Y));Z.push(' ');new w.dialog.uiElement(G,X,Z,'label',null,{id:V,'for':Y.id},R[0]);M.push(Z.join(''));}new w.dialog.hbox(G,[],M,N);return N.join('');};w.dialog.labeledElement.call(this,G,H,I,L);this._.children=J;},button:function(G,H,I){if(!arguments.length)return;if(typeof H=='function')H=H(G.getParentEditor());y.call(this,H,{disabled:H.disabled||false});m.event.implementOn(this);var J=this;G.on('load',function(M){var N=this.getElement();(function(){N.on('click',function(O){J.fire('click',{dialog:J.getDialog()});O.data.preventDefault();});N.on('keydown',function(O){if(O.data.getKeystroke() in {32:1}){J.click();O.data.preventDefault();}});})();N.unselectable();},this);var K=q.extend({},H);delete K.style;var L=q.getNextId()+'_label';w.dialog.uiElement.call(this,G,K,I,'a',null,{style:H.style,href:'javascript:void(0)',title:H.label,hidefocus:'true','class':H['class'],role:'button','aria-labelledby':L},'<span id="'+L+'" class="cke_dialog_ui_button">'+q.htmlEncode(H.label)+'</span>');
},select:function(G,H,I){if(arguments.length<3)return;var J=y.call(this,H);if(H.validate)this.validate=H.validate;J.inputId=q.getNextId()+'_select';var K=function(){var L=q.extend({},H,{id:H.id?H.id+'_select':q.getNextId()+'_select'},true),M=[],N=[],O={id:J.inputId,'class':'cke_dialog_ui_input_select','aria-labelledby':this._.labelId};if(H.size!=undefined)O.size=H.size;if(H.multiple!=undefined)O.multiple=H.multiple;F(L);for(var P=0,Q;P<H.items.length&&(Q=H.items[P]);P++)N.push('<option value="',q.htmlEncode(Q[1]!==undefined?Q[1]:Q[0]),'" /> ',q.htmlEncode(Q[0]));if(typeof L.controlStyle!='undefined')L.style=L.controlStyle;J.select=new w.dialog.uiElement(G,L,M,'select',null,O,N.join(''));return M.join('');};w.dialog.labeledElement.call(this,G,H,I,K);},file:function(G,H,I){if(arguments.length<3)return;if(H['default']===undefined)H['default']='';var J=q.extend(y.call(this,H),{definition:H,buttons:[]});if(H.validate)this.validate=H.validate;var K=function(){J.frameId=q.getNextId()+'_fileInput';var L=n.isCustomDomain(),M=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" id="',J.frameId,'" title="',H.label,'" src="javascript:void('];M.push(L?"(function(){document.open();document.domain='"+document.domain+"';"+'document.close();'+'})()':'0');M.push(')"></iframe>');return M.join('');};G.on('load',function(){var L=m.document.getById(J.frameId),M=L.getParent();M.addClass('cke_dialog_ui_input_file');});w.dialog.labeledElement.call(this,G,H,I,K);},fileButton:function(G,H,I){if(arguments.length<3)return;var J=y.call(this,H),K=this;if(H.validate)this.validate=H.validate;var L=q.extend({},H),M=L.onClick;L.className=(L.className?L.className+' ':'')+'cke_dialog_ui_button';L.onClick=function(N){var O=H['for'];if(!M||M.call(this,N)!==false){G.getContentElement(O[0],O[1]).submit();this.disable();}};G.on('load',function(){G.getContentElement(H['for'][0],H['for'][1])._.buttons.push(K);});w.dialog.button.call(this,G,L,I);},html:(function(){var G=/^\s*<[\w:]+\s+([^>]*)?>/,H=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,I=/\/$/;return function(J,K,L){if(arguments.length<3)return;var M=[],N,O=K.html,P,Q;if(O.charAt(0)!='<')O='<span>'+O+'</span>';var R=K.focus;if(R){var S=this.focus;this.focus=function(){S.call(this);typeof R=='function'&&R.call(this);this.fire('focus');};if(K.isFocusable){var T=this.isFocusable;this.isFocusable=T;}this.keyboardFocusable=true;}w.dialog.uiElement.call(this,J,K,M,'span',null,null,'');N=M.join('');P=N.match(G);Q=O.match(H)||['','',''];
if(I.test(Q[1])){Q[1]=Q[1].slice(0,-1);Q[2]='/'+Q[2];}L.push([Q[1],' ',P[1]||'',Q[2]].join(''));};})(),fieldset:function(G,H,I,J,K){var L=K.label,M=function(){var N=[];L&&N.push('<legend>'+L+'</legend>');for(var O=0;O<I.length;O++)N.push(I[O]);return N.join('');};this._={children:H};w.dialog.uiElement.call(this,G,K,J,'fieldset',null,null,M);}},true);w.dialog.html.prototype=new w.dialog.uiElement();w.dialog.labeledElement.prototype=q.extend(new w.dialog.uiElement(),{setLabel:function(G){var H=m.document.getById(this._.labelId);if(H.getChildCount()<1)new p.text(G,m.document).appendTo(H);else H.getChild(0).$.nodeValue=G;return this;},getLabel:function(){var G=m.document.getById(this._.labelId);if(!G||G.getChildCount()<1)return '';else return G.getChild(0).getText();},eventProcessors:D},true);w.dialog.button.prototype=q.extend(new w.dialog.uiElement(),{click:function(){var G=this;if(!G._.disabled)return G.fire('click',{dialog:G._.dialog});G.getElement().$.blur();return false;},enable:function(){this._.disabled=false;var G=this.getElement();G&&G.removeClass('cke_disabled');},disable:function(){this._.disabled=true;this.getElement().addClass('cke_disabled');},isVisible:function(){return this.getElement().getFirst().isVisible();},isEnabled:function(){return!this._.disabled;},eventProcessors:q.extend({},w.dialog.uiElement.prototype.eventProcessors,{onClick:function(G,H){this.on('click',H);}},true),accessKeyUp:function(){this.click();},accessKeyDown:function(){this.focus();},keyboardFocusable:true},true);w.dialog.textInput.prototype=q.extend(new w.dialog.labeledElement(),{getInputElement:function(){return m.document.getById(this._.inputId);},focus:function(){var G=this.selectParentTab();setTimeout(function(){var H=G.getInputElement();H&&H.$.focus();},0);},select:function(){var G=this.selectParentTab();setTimeout(function(){var H=G.getInputElement();if(H){H.$.focus();H.$.select();}},0);},accessKeyUp:function(){this.select();},setValue:function(G){!G&&(G='');return w.dialog.uiElement.prototype.setValue.apply(this,arguments);},keyboardFocusable:true},C,true);w.dialog.textarea.prototype=new w.dialog.textInput();w.dialog.select.prototype=q.extend(new w.dialog.labeledElement(),{getInputElement:function(){return this._.select.getElement();},add:function(G,H,I){var J=new t('option',this.getDialog().getParentEditor().document),K=this.getInputElement().$;J.$.text=G;J.$.value=H===undefined||H===null?G:H;if(I===undefined||I===null){if(o)K.add(J.$);else K.add(J.$,null);}else K.add(J.$,I);
return this;},remove:function(G){var H=this.getInputElement().$;H.remove(G);return this;},clear:function(){var G=this.getInputElement().$;while(G.length>0)G.remove(0);return this;},keyboardFocusable:true},C,true);w.dialog.checkbox.prototype=q.extend(new w.dialog.uiElement(),{getInputElement:function(){return this._.checkbox.getElement();},setValue:function(G,H){this.getInputElement().$.checked=G;!H&&this.fire('change',{value:G});},getValue:function(){return this.getInputElement().$.checked;},accessKeyUp:function(){this.setValue(!this.getValue());},eventProcessors:{onChange:function(G,H){if(!o)return D.onChange.apply(this,arguments);else{G.on('load',function(){var I=this._.checkbox.getElement();I.on('propertychange',function(J){J=J.data.$;if(J.propertyName=='checked')this.fire('change',{value:I.$.checked});},this);},this);this.on('change',H);}return null;}},keyboardFocusable:true},C,true);w.dialog.radio.prototype=q.extend(new w.dialog.uiElement(),{setValue:function(G,H){var I=this._.children,J;for(var K=0;K<I.length&&(J=I[K]);K++)J.getElement().$.checked=J.getValue()==G;!H&&this.fire('change',{value:G});},getValue:function(){var G=this._.children;for(var H=0;H<G.length;H++){if(G[H].getElement().$.checked)return G[H].getValue();}return null;},accessKeyUp:function(){var G=this._.children,H;for(H=0;H<G.length;H++){if(G[H].getElement().$.checked){G[H].getElement().focus();return;}}G[0].getElement().focus();},eventProcessors:{onChange:function(G,H){if(!o)return D.onChange.apply(this,arguments);else{G.on('load',function(){var I=this._.children,J=this;for(var K=0;K<I.length;K++){var L=I[K].getElement();L.on('propertychange',function(M){M=M.data.$;if(M.propertyName=='checked'&&this.$.checked)J.fire('change',{value:this.getAttribute('value')});});}},this);this.on('change',H);}return null;}},keyboardFocusable:true},C,true);w.dialog.file.prototype=q.extend(new w.dialog.labeledElement(),C,{getInputElement:function(){var G=m.document.getById(this._.frameId).getFrameDocument();return G.$.forms.length>0?new t(G.$.forms[0].elements[0]):this.getElement();},submit:function(){this.getInputElement().getParent().$.submit();return this;},getAction:function(){return this.getInputElement().getParent().$.action;},registerEvents:function(G){var H=/^on([A-Z]\w+)/,I,J=function(L,M,N,O){L.on('formLoaded',function(){L.getInputElement().on(N,O,L);});};for(var K in G){if(!(I=K.match(H)))continue;if(this.eventProcessors[K])this.eventProcessors[K].call(this,this._.dialog,G[K]);else J(this,this._.dialog,I[1].toLowerCase(),G[K]);
}return this;},reset:function(){var G=this._,H=m.document.getById(G.frameId),I=H.getFrameDocument(),J=G.definition,K=G.buttons,L=this.formLoadedNumber,M=this.formUnloadNumber,N=G.dialog._.editor.lang.dir,O=G.dialog._.editor.langCode;if(!L){L=this.formLoadedNumber=q.addFunction(function(){this.fire('formLoaded');},this);M=this.formUnloadNumber=q.addFunction(function(){this.getInputElement().clearCustomData();},this);this.getDialog()._.editor.on('destroy',function(){q.removeFunction(L);q.removeFunction(M);});}function P(){I.$.open();if(n.isCustomDomain())I.$.domain=document.domain;var Q='';if(J.size)Q=J.size-(o?7:0);I.$.write(['<html dir="'+N+'" lang="'+O+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+N+'" lang="'+O+'" action="',q.htmlEncode(J.action),'">','<input type="file" name="',q.htmlEncode(J.id||'cke_upload'),'" size="',q.htmlEncode(Q>0?Q:''),'" />','</form>','</body></html>','<script>window.parent.CKEDITOR.tools.callFunction('+L+');','window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction('+M+')}</script>'].join(''));I.$.close();for(var R=0;R<K.length;R++)K[R].enable();};if(n.gecko)setTimeout(P,500);else P();},getValue:function(){return this.getInputElement().$.value||'';},setInitValue:function(){this._.initValue='';},eventProcessors:{onChange:function(G,H){if(!this._.domOnChangeRegistered){this.on('formLoaded',function(){this.getInputElement().on('change',function(){this.fire('change',{value:this.getValue()});},this);},this);this._.domOnChangeRegistered=true;}this.on('change',H);}},keyboardFocusable:true},true);w.dialog.fileButton.prototype=new w.dialog.button();w.dialog.fieldset.prototype=q.clone(w.dialog.hbox.prototype);m.dialog.addUIElement('text',z);m.dialog.addUIElement('password',z);m.dialog.addUIElement('textarea',A);m.dialog.addUIElement('checkbox',A);m.dialog.addUIElement('radio',A);m.dialog.addUIElement('button',A);m.dialog.addUIElement('select',A);m.dialog.addUIElement('file',A);m.dialog.addUIElement('fileButton',A);m.dialog.addUIElement('html',A);m.dialog.addUIElement('fieldset',B);})();v.add('panel',{beforeInit:function(y){y.ui.addHandler(2,w.panel.handler);}});m.UI_PANEL=2;w.panel=function(y,z){var A=this;if(z)q.extend(A,z);q.extend(A,{className:'',css:[]});A.id=q.getNextId();A.document=y;A._={blocks:{}};};w.panel.handler={create:function(y){return new w.panel(y);}};w.panel.prototype={renderHtml:function(y){var z=[];
this.render(y,z);return z.join('');},render:function(y,z){var B=this;var A=B.id;z.push('<div class="',y.skinClass,'" lang="',y.langCode,'" role="presentation" style="display:none;z-index:'+(y.config.baseFloatZIndex+1)+'">'+'<div'+' id=',A,' dir=',y.lang.dir,' role="presentation" class="cke_panel cke_',y.lang.dir);if(B.className)z.push(' ',B.className);z.push('">');if(B.forceIFrame||B.css.length){z.push('<iframe id="',A,'_frame" frameborder="0" role="application" src="javascript:void(');z.push(n.isCustomDomain()?"(function(){document.open();document.domain='"+document.domain+"';"+'document.close();'+'})()':'0');z.push(')"></iframe>');}z.push('</div></div>');return A;},getHolderElement:function(){var y=this._.holder;if(!y){if(this.forceIFrame||this.css.length){var z=this.document.getById(this.id+'_frame'),A=z.getParent(),B=A.getAttribute('dir'),C=A.getParent().getAttribute('class'),D=A.getParent().getAttribute('lang'),E=z.getFrameDocument(),F=q.addFunction(q.bind(function(I){this.isLoaded=true;if(this.onLoad)this.onLoad();},this)),G='<!DOCTYPE html><html dir="'+B+'" class="'+C+'_container" lang="'+D+'">'+'<head>'+'<style>.'+C+'_container{visibility:hidden}</style>'+'</head>'+'<body class="cke_'+B+' cke_panel_frame '+n.cssClass+'" style="margin:0;padding:0"'+' onload="( window.CKEDITOR || window.parent.CKEDITOR ).tools.callFunction('+F+');"></body>'+q.buildStyleHtml(this.css)+'</html>';E.write(G);var H=E.getWindow();H.$.CKEDITOR=m;E.on('key'+(n.opera?'press':'down'),function(I){var L=this;var J=I.data.getKeystroke(),K=L.document.getById(L.id).getAttribute('dir');if(L._.onKeyDown&&L._.onKeyDown(J)===false){I.data.preventDefault();return;}if(J==27||J==(K=='rtl'?39:37))if(L.onEscape&&L.onEscape(J)===false)I.data.preventDefault();},this);y=E.getBody();y.unselectable();n.air&&q.callFunction(F);}else y=this.document.getById(this.id);this._.holder=y;}return y;},addBlock:function(y,z){var A=this;z=A._.blocks[y]=z instanceof w.panel.block?z:new w.panel.block(A.getHolderElement(),z);if(!A._.currentBlock)A.showBlock(y);return z;},getBlock:function(y){return this._.blocks[y];},showBlock:function(y){var z=this._.blocks,A=z[y],B=this._.currentBlock,C=this.forceIFrame?this.document.getById(this.id+'_frame'):this._.holder;C.getParent().getParent().disableContextMenu();if(B){C.removeAttributes(B.attributes);B.hide();}this._.currentBlock=A;C.setAttributes(A.attributes);m.fire('ariaWidget',C);A._.focusIndex=-1;this._.onKeyDown=A.onKeyDown&&q.bind(A.onKeyDown,A);A.onMark=function(D){C.setAttribute('aria-activedescendant',D.getId()+'_option');
};A.onUnmark=function(){C.removeAttribute('aria-activedescendant');};A.show();return A;},destroy:function(){this.element&&this.element.remove();}};w.panel.block=q.createClass({$:function(y,z){var A=this;A.element=y.append(y.getDocument().createElement('div',{attributes:{tabIndex:-1,'class':'cke_panel_block',role:'presentation'},styles:{display:'none'}}));if(z)q.extend(A,z);if(!A.attributes.title)A.attributes.title=A.attributes['aria-label'];A.keys={};A._.focusIndex=-1;A.element.disableContextMenu();},_:{markItem:function(y){var B=this;if(y==-1)return;var z=B.element.getElementsByTag('a'),A=z.getItem(B._.focusIndex=y);if(n.webkit||n.opera)A.getDocument().getWindow().focus();A.focus();B.onMark&&B.onMark(A);}},proto:{show:function(){this.element.setStyle('display','');},hide:function(){var y=this;if(!y.onHide||y.onHide.call(y)!==true)y.element.setStyle('display','none');},onKeyDown:function(y){var D=this;var z=D.keys[y];switch(z){case 'next':var A=D._.focusIndex,B=D.element.getElementsByTag('a'),C;while(C=B.getItem(++A)){if(C.getAttribute('_cke_focus')&&C.$.offsetWidth){D._.focusIndex=A;C.focus();break;}}return false;case 'prev':A=D._.focusIndex;B=D.element.getElementsByTag('a');while(A>0&&(C=B.getItem(--A))){if(C.getAttribute('_cke_focus')&&C.$.offsetWidth){D._.focusIndex=A;C.focus();break;}}return false;case 'click':A=D._.focusIndex;C=A>=0&&D.element.getElementsByTag('a').getItem(A);if(C)C.$.click?C.$.click():C.$.onclick();return false;}return true;}}});v.add('listblock',{requires:['panel'],onLoad:function(){w.panel.prototype.addListBlock=function(y,z){return this.addBlock(y,new w.listBlock(this.getHolderElement(),z));};w.listBlock=q.createClass({base:w.panel.block,$:function(y,z){var C=this;z=z||{};var A=z.attributes||(z.attributes={});(C.multiSelect=!!z.multiSelect)&&(A['aria-multiselectable']=true);!A.role&&(A.role='listbox');C.base.apply(C,arguments);var B=C.keys;B[40]='next';B[9]='next';B[38]='prev';B[2000+9]='prev';B[32]='click';C._.pendingHtml=[];C._.items={};C._.groups={};},_:{close:function(){if(this._.started){this._.pendingHtml.push('</ul>');delete this._.started;}},getClick:function(){if(!this._.click)this._.click=q.addFunction(function(y){var A=this;var z=true;if(A.multiSelect)z=A.toggle(y);else A.mark(y);if(A.onClick)A.onClick(y,z);},this);return this._.click;}},proto:{add:function(y,z,A){var D=this;var B=D._.pendingHtml,C=q.getNextId();if(!D._.started){B.push('<ul role="presentation" class=cke_panel_list>');D._.started=1;D._.size=D._.size||0;}D._.items[y]=C;
B.push('<li id=',C,' class=cke_panel_listItem role=presentation><a id="',C,'_option" _cke_focus=1 hidefocus=true title="',A||y,'" href="javascript:void(\'',y,'\')" onclick="CKEDITOR.tools.callFunction(',D._.getClick(),",'",y,"'); return false;\"",' role="option" aria-posinset="'+ ++D._.size+'">',z||y,'</a></li>');},startGroup:function(y){this._.close();var z=q.getNextId();this._.groups[y]=z;this._.pendingHtml.push('<h1 role="presentation" id=',z,' class=cke_panel_grouptitle>',y,'</h1>');},commit:function(){var B=this;B._.close();B.element.appendHtml(B._.pendingHtml.join(''));var y=B._.items,z=B.element.getDocument();for(var A in y)z.getById(y[A]+'_option').setAttribute('aria-setsize',B._.size);delete B._.size;B._.pendingHtml=[];},toggle:function(y){var z=this.isMarked(y);if(z)this.unmark(y);else this.mark(y);return!z;},hideGroup:function(y){var z=this.element.getDocument().getById(this._.groups[y]),A=z&&z.getNext();if(z){z.setStyle('display','none');if(A&&A.getName()=='ul')A.setStyle('display','none');}},hideItem:function(y){this.element.getDocument().getById(this._.items[y]).setStyle('display','none');},showAll:function(){var y=this._.items,z=this._.groups,A=this.element.getDocument();for(var B in y)A.getById(y[B]).setStyle('display','');for(var C in z){var D=A.getById(z[C]),E=D.getNext();D.setStyle('display','');if(E&&E.getName()=='ul')E.setStyle('display','');}},mark:function(y){var B=this;if(!B.multiSelect)B.unmarkAll();var z=B._.items[y],A=B.element.getDocument().getById(z);A.addClass('cke_selected');B.element.getDocument().getById(z+'_option').setAttribute('aria-selected',true);B.element.setAttribute('aria-activedescendant',z+'_option');B.onMark&&B.onMark(A);},unmark:function(y){var z=this;z.element.getDocument().getById(z._.items[y]).removeClass('cke_selected');z.onUnmark&&z.onUnmark(z._.items[y]);},unmarkAll:function(){var B=this;var y=B._.items,z=B.element.getDocument();for(var A in y)z.getById(y[A]).removeClass('cke_selected');B.onUnmark&&B.onUnmark();},isMarked:function(y){return this.element.getDocument().getById(this._.items[y]).hasClass('cke_selected');},focus:function(y){this._.focusIndex=-1;if(y){var z=this.element.getDocument().getById(this._.items[y]).getFirst(),A=this.element.getElementsByTag('a'),B,C=-1;while(B=A.getItem(++C)){if(B.equals(z)){this._.focusIndex=C;break;}}setTimeout(function(){z.focus();},0);}}}});}});m.themes.add('default',(function(){function y(z,A){var B,C;C=z.config.sharedSpaces;C=C&&C[A];C=C&&m.document.getById(C);if(C){var D='<span class="cke_shared " dir="'+z.lang.dir+'"'+'>'+'<span class="'+z.skinClass+' '+z.id+' cke_editor_'+z.name+'">'+'<span class="'+n.cssClass+'">'+'<span class="cke_wrapper cke_'+z.lang.dir+'">'+'<span class="cke_editor">'+'<div class="cke_'+A+'">'+'</div></span></span></span></span></span>',E=C.append(t.createFromHtml(D,C.getDocument()));
if(C.getCustomData('cke_hasshared'))E.hide();else C.setCustomData('cke_hasshared',1);B=E.getChild([0,0,0,0]);!z.sharedSpaces&&(z.sharedSpaces={});z.sharedSpaces[A]=B;z.on('focus',function(){for(var F=0,G,H=C.getChildren();G=H.getItem(F);F++){if(G.type==1&&!G.equals(E)&&G.hasClass('cke_shared'))G.hide();}E.show();});z.on('destroy',function(){E.remove();});}return B;};return{build:function(z,A){var B=z.name,C=z.element,D=z.elementMode;if(!C||D==0)return;if(D==1)C.hide();var E=z.fire('themeSpace',{space:'top',html:''}).html,F=z.fire('themeSpace',{space:'contents',html:''}).html,G=z.fireOnce('themeSpace',{space:'bottom',html:''}).html,H=F&&z.config.height,I=z.config.tabIndex||z.element.getAttribute('tabindex')||0;if(!F)H='auto';else if(!isNaN(H))H+='px';var J='',K=z.config.width;if(K){if(!isNaN(K))K+='px';J+='width: '+K+';';}var L=E&&y(z,'top'),M=y(z,'bottom');L&&(L.setHtml(E),E='');M&&(M.setHtml(G),G='');var N=t.createFromHtml(['<span id="cke_',B,'" class="',z.skinClass,' ',z.id,' cke_editor_',B,'" dir="',z.lang.dir,'" title="',n.gecko?' ':'','" lang="',z.langCode,'"'+(n.webkit?' tabindex="'+I+'"':'')+' role="application"'+' aria-labelledby="cke_',B,'_arialbl"'+(J?' style="'+J+'"':'')+'>'+'<span id="cke_',B,'_arialbl" class="cke_voice_label">'+z.lang.editor+'</span>'+'<span class="',n.cssClass,'" role="presentation"><span class="cke_wrapper cke_',z.lang.dir,'" role="presentation"><table class="cke_editor" border="0" cellspacing="0" cellpadding="0" role="presentation"><tbody><tr',E?'':' style="display:none"',' role="presentation"><td id="cke_top_',B,'" class="cke_top" role="presentation">',E,'</td></tr><tr',F?'':' style="display:none"',' role="presentation"><td id="cke_contents_',B,'" class="cke_contents" style="height:',H,'" role="presentation">',F,'</td></tr><tr',G?'':' style="display:none"',' role="presentation"><td id="cke_bottom_',B,'" class="cke_bottom" role="presentation">',G,'</td></tr></tbody></table><style>.',z.skinClass,'{visibility:hidden;}</style></span></span></span>'].join(''));N.getChild([1,0,0,0,0]).unselectable();N.getChild([1,0,0,0,2]).unselectable();if(D==1)N.insertAfter(C);else C.append(N);z.container=N;N.disableContextMenu();z.fireOnce('themeLoaded');z.fireOnce('uiReady');},buildDialog:function(z){var A=q.getNextNumber(),B=t.createFromHtml(['<div class="',z.id,'_dialog cke_editor_',z.name.replace('.','\\.'),'_dialog cke_skin_',z.skinName,'" dir="',z.lang.dir,'" lang="',z.langCode,'" role="dialog" aria-labelledby="%title#"><table class="cke_dialog',' '+n.cssClass,' cke_',z.lang.dir,'" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="%body" role="presentation"><div id="%title#" class="%title" role="presentation"></div><a id="%close_button#" class="%close_button" href="javascript:void(0)" title="'+z.lang.common.close+'" role="button"><span class="cke_label">X</span></a>'+'<div id="%tabs#" class="%tabs" role="tablist"></div>'+'<table class="%contents" role="presentation">'+'<tr>'+'<td id="%contents#" class="%contents" role="presentation"></td>'+'</tr>'+'<tr>'+'<td id="%footer#" class="%footer" role="presentation"></td>'+'</tr>'+'</table>'+'</div>'+'<div id="%tl#" class="%tl"></div>'+'<div id="%tc#" class="%tc"></div>'+'<div id="%tr#" class="%tr"></div>'+'<div id="%ml#" class="%ml"></div>'+'<div id="%mr#" class="%mr"></div>'+'<div id="%bl#" class="%bl"></div>'+'<div id="%bc#" class="%bc"></div>'+'<div id="%br#" class="%br"></div>'+'</td></tr>'+'</table>',o?'':'<style>.cke_dialog{visibility:hidden;}</style>','</div>'].join('').replace(/#/g,'_'+A).replace(/%/g,'cke_dialog_')),C=B.getChild([0,0,0,0,0]),D=C.getChild(0),E=C.getChild(1);
D.unselectable();E.unselectable();return{element:B,parts:{dialog:B.getChild(0),title:D,close:E,tabs:C.getChild(2),contents:C.getChild([3,0,0,0]),footer:C.getChild([3,0,1,0])}};},destroy:function(z){var A=z.container,B=z.element;if(A){A.clearCustomData();A.remove();}if(B){B.clearCustomData();z.elementMode==1&&B.show();delete z.element;}}};})());m.editor.prototype.getThemeSpace=function(y){var z='cke_'+y,A=this._[z]||(this._[z]=m.document.getById(z+'_'+this.name));return A;};m.editor.prototype.resize=function(y,z,A,B){var C=this.container,D=m.document.getById('cke_contents_'+this.name),E=B?C.getChild(1):C;n.webkit&&E.setStyle('display','none');E.setSize('width',y,true);if(n.webkit){E.$.offsetWidth;E.setStyle('display','');}var F=A?0:(E.$.offsetHeight||0)-(D.$.clientHeight||0);D.setStyle('height',Math.max(z-F,0)+'px');this.fire('resize');};m.editor.prototype.getResizable=function(){return this.container;};})();
