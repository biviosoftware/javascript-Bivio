/*
Copyright (c) 2003-2011, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/

(function(){if(!window.CKEDITOR)window.CKEDITOR=(function(){var o={timestamp:'B0VI4XQ',version:'3.5.1',revision:'6398',_:{},status:'unloaded',basePath:(function(){var r=window.CKEDITOR_BASEPATH||'';if(!r){var s=document.getElementsByTagName('script');for(var t=0;t<s.length;t++){var u=s[t].src.match(/(^|.*[\\\/])ckeditor(?:_basic)?(?:_source)?.js(?:\?.*)?$/i);if(u){r=u[1];break;}}}if(r.indexOf(':/')==-1)if(r.indexOf('/')===0)r=location.href.match(/^.*?:\/\/[^\/]*/)[0]+r;else r=location.href.match(/^[^\?]*\/(?:)/)[0]+r;if(!r)throw 'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return r;})(),getUrl:function(r){if(r.indexOf(':/')==-1&&r.indexOf('/')!==0)r=this.basePath+r;if(this.timestamp&&r.charAt(r.length-1)!='/'&&!/[&?]t=/.test(r))r+=(r.indexOf('?')>=0?'&':'?')+'t='+this.timestamp;return r;}},p=window.CKEDITOR_GETURL;if(p){var q=o.getUrl;o.getUrl=function(r){return p.call(o,r)||q.call(o,r);};}return o;})();var o=CKEDITOR;if(!o.event){o.event=function(){};o.event.implementOn=function(p){var q=o.event.prototype;for(var r in q){if(p[r]==undefined)p[r]=q[r];}};o.event.prototype=(function(){var p=function(r){var s=r.getPrivate&&r.getPrivate()||r._||(r._={});return s.events||(s.events={});},q=function(r){this.name=r;this.listeners=[];};q.prototype={getListenerIndex:function(r){for(var s=0,t=this.listeners;s<t.length;s++){if(t[s].fn==r)return s;}return-1;}};return{on:function(r,s,t,u,v){var w=p(this),x=w[r]||(w[r]=new q(r));if(x.getListenerIndex(s)<0){var y=x.listeners;if(!t)t=this;if(isNaN(v))v=10;var z=this,A=function(C,D,E,F){var G={name:r,sender:this,editor:C,data:D,listenerData:u,stop:E,cancel:F,removeListener:function(){z.removeListener(r,s);}};s.call(t,G);return G.data;};A.fn=s;A.priority=v;for(var B=y.length-1;B>=0;B--){if(y[B].priority<=v){y.splice(B+1,0,A);return;}}y.unshift(A);}},fire:(function(){var r=false,s=function(){r=true;},t=false,u=function(){t=true;};return function(v,w,x){var y=p(this)[v],z=r,A=t;r=t=false;if(y){var B=y.listeners;if(B.length){B=B.slice(0);for(var C=0;C<B.length;C++){var D=B[C].call(this,x,w,s,u);if(typeof D!='undefined')w=D;if(r||t)break;}}}var E=t||(typeof w=='undefined'?false:w);r=z;t=A;return E;};})(),fireOnce:function(r,s,t){var u=this.fire(r,s,t);delete p(this)[r];return u;},removeListener:function(r,s){var t=p(this)[r];if(t){var u=t.getListenerIndex(s);if(u>=0)t.listeners.splice(u,1);}},hasListeners:function(r){var s=p(this)[r];
return s&&s.listeners.length>0;}};})();}if(!o.editor){o.ELEMENT_MODE_NONE=0;o.ELEMENT_MODE_REPLACE=1;o.ELEMENT_MODE_APPENDTO=2;o.editor=function(p,q,r,s){var t=this;t._={instanceConfig:p,element:q,data:s};t.elementMode=r||0;o.event.call(t);t._init();};o.editor.replace=function(p,q){var r=p;if(typeof r!='object'){r=document.getElementById(p);if(r&&r.tagName.toLowerCase() in {style:1,script:1,base:1,link:1,meta:1,title:1})r=null;if(!r){var s=0,t=document.getElementsByName(p);while((r=t[s++])&&r.tagName.toLowerCase()!='textarea'){}}if(!r)throw '[CKEDITOR.editor.replace] The element with id or name "'+p+'" was not found.';}r.style.visibility='hidden';return new o.editor(q,r,1);};o.editor.appendTo=function(p,q,r){var s=p;if(typeof s!='object'){s=document.getElementById(p);if(!s)throw '[CKEDITOR.editor.appendTo] The element with id "'+p+'" was not found.';}return new o.editor(q,s,2,r);};o.editor.prototype={_init:function(){var p=o.editor._pending||(o.editor._pending=[]);p.push(this);},fire:function(p,q){return o.event.prototype.fire.call(this,p,q,this);},fireOnce:function(p,q){return o.event.prototype.fireOnce.call(this,p,q,this);}};o.event.implementOn(o.editor.prototype,true);}if(!o.env)o.env=(function(){var p=navigator.userAgent.toLowerCase(),q=window.opera,r={ie:/*@cc_on!@*/false,opera:!!q&&q.version,webkit:p.indexOf(' applewebkit/')>-1,air:p.indexOf(' adobeair/')>-1,mac:p.indexOf('macintosh')>-1,quirks:document.compatMode=='BackCompat',mobile:p.indexOf('mobile')>-1,isCustomDomain:function(){if(!this.ie)return false;var u=document.domain,v=window.location.hostname;return u!=v&&u!='['+v+']';}};r.gecko=navigator.product=='Gecko'&&!r.webkit&&!r.opera;var s=0;if(r.ie){s=parseFloat(p.match(/msie (\d+)/)[1]);r.ie8=!!document.documentMode;r.ie8Compat=document.documentMode==8;r.ie7Compat=s==7&&!document.documentMode||document.documentMode==7;r.ie6Compat=s<7||r.quirks;}if(r.gecko){var t=p.match(/rv:([\d\.]+)/);if(t){t=t[1].split('.');s=t[0]*10000+(t[1]||0)*100+ +(t[2]||0);}}if(r.opera)s=parseFloat(q.version());if(r.air)s=parseFloat(p.match(/ adobeair\/(\d+)/)[1]);if(r.webkit)s=parseFloat(p.match(/ applewebkit\/(\d+)/)[1]);r.version=s;r.isCompatible=!r.mobile&&(r.ie&&s>=6||r.gecko&&s>=10801||r.opera&&s>=9.5||r.air&&s>=1||r.webkit&&s>=522||false);r.cssClass='cke_browser_'+(r.ie?'ie':r.gecko?'gecko':r.opera?'opera':r.webkit?'webkit':'unknown');if(r.quirks)r.cssClass+=' cke_browser_quirks';if(r.ie){r.cssClass+=' cke_browser_ie'+(r.version<7?'6':r.version>=8?document.documentMode:'7');
if(r.quirks)r.cssClass+=' cke_browser_iequirks';}if(r.gecko&&s<10900)r.cssClass+=' cke_browser_gecko18';if(r.air)r.cssClass+=' cke_browser_air';return r;})();var p=o.env;var q=p.ie;if(o.status=='unloaded')(function(){o.event.implementOn(o);o.loadFullCore=function(){if(o.status!='basic_ready'){o.loadFullCore._load=1;return;}delete o.loadFullCore;var s=document.createElement('script');s.type='text/javascript';s.src=o.basePath+'ckeditor.js';document.getElementsByTagName('head')[0].appendChild(s);};o.loadFullCoreTimeout=0;o.replaceClass='ckeditor';o.replaceByClassEnabled=1;var r=function(s,t,u,v){if(p.isCompatible){if(o.loadFullCore)o.loadFullCore();var w=u(s,t,v);o.add(w);return w;}return null;};o.replace=function(s,t){return r(s,t,o.editor.replace);};o.appendTo=function(s,t,u){return r(s,t,o.editor.appendTo,u);};o.add=function(s){var t=this._.pending||(this._.pending=[]);t.push(s);};o.replaceAll=function(){var s=document.getElementsByTagName('textarea');for(var t=0;t<s.length;t++){var u=null,v=s[t],w=v.name;if(!v.name&&!v.id)continue;if(typeof arguments[0]=='string'){var x=new RegExp('(?:^|\\s)'+arguments[0]+'(?:$|\\s)');if(!x.test(v.className))continue;}else if(typeof arguments[0]=='function'){u={};if(arguments[0](v,u)===false)continue;}this.replace(v,u);}};(function(){var s=function(){var t=o.loadFullCore,u=o.loadFullCoreTimeout;if(o.replaceByClassEnabled)o.replaceAll(o.replaceClass);o.status='basic_ready';if(t&&t._load)t();else if(u)setTimeout(function(){if(o.loadFullCore)o.loadFullCore();},u*1000);};if(window.addEventListener)window.addEventListener('load',s,false);else if(window.attachEvent)window.attachEvent('onload',s);})();o.status='basic_loaded';})();o.dom={};var r=o.dom;(function(){var s=[];o.on('reset',function(){s=[];});o.tools={arrayCompare:function(t,u){if(!t&&!u)return true;if(!t||!u||t.length!=u.length)return false;for(var v=0;v<t.length;v++){if(t[v]!=u[v])return false;}return true;},clone:function(t){var u;if(t&&t instanceof Array){u=[];for(var v=0;v<t.length;v++)u[v]=this.clone(t[v]);return u;}if(t===null||typeof t!='object'||t instanceof String||t instanceof Number||t instanceof Boolean||t instanceof Date||t instanceof RegExp)return t;u=new t.constructor();for(var w in t){var x=t[w];u[w]=this.clone(x);}return u;},capitalize:function(t){return t.charAt(0).toUpperCase()+t.substring(1).toLowerCase();},extend:function(t){var u=arguments.length,v,w;if(typeof (v=arguments[u-1])=='boolean')u--;else if(typeof (v=arguments[u-2])=='boolean'){w=arguments[u-1];
u-=2;}for(var x=1;x<u;x++){var y=arguments[x];for(var z in y){if(v===true||t[z]==undefined)if(!w||z in w)t[z]=y[z];}}return t;},prototypedCopy:function(t){var u=function(){};u.prototype=t;return new u();},isArray:function(t){return!!t&&t instanceof Array;},isEmpty:function(t){for(var u in t){if(t.hasOwnProperty(u))return false;}return true;},cssStyleToDomStyle:(function(){var t=document.createElement('div').style,u=typeof t.cssFloat!='undefined'?'cssFloat':typeof t.styleFloat!='undefined'?'styleFloat':'float';return function(v){if(v=='float')return u;else return v.replace(/-./g,function(w){return w.substr(1).toUpperCase();});};})(),buildStyleHtml:function(t){t=[].concat(t);var u,v=[];for(var w=0;w<t.length;w++){u=t[w];if(/@import|[{}]/.test(u))v.push('<style>'+u+'</style>');else v.push('<link type="text/css" rel=stylesheet href="'+u+'">');}return v.join('');},htmlEncode:function(t){var u=function(y){var z=new r.element('span');z.setText(y);return z.getHtml();},v=u('\n').toLowerCase()=='<br>'?function(y){return u(y).replace(/<br>/gi,'\n');}:u,w=u('>')=='>'?function(y){return v(y).replace(/>/g,'&gt;');}:v,x=u('  ')=='&nbsp; '?function(y){return w(y).replace(/&nbsp;/g,' ');}:w;this.htmlEncode=x;return this.htmlEncode(t);},htmlEncodeAttr:function(t){return t.replace(/"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;');},getNextNumber:(function(){var t=0;return function(){return++t;};})(),getNextId:function(){return 'cke_'+this.getNextNumber();},override:function(t,u){return u(t);},setTimeout:function(t,u,v,w,x){if(!x)x=window;if(!v)v=x;return x.setTimeout(function(){if(w)t.apply(v,[].concat(w));else t.apply(v);},u||0);},trim:(function(){var t=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(u){return u.replace(t,'');};})(),ltrim:(function(){var t=/^[ \t\n\r]+/g;return function(u){return u.replace(t,'');};})(),rtrim:(function(){var t=/[ \t\n\r]+$/g;return function(u){return u.replace(t,'');};})(),indexOf:Array.prototype.indexOf?function(t,u){return t.indexOf(u);}:function(t,u){for(var v=0,w=t.length;v<w;v++){if(t[v]===u)return v;}return-1;},bind:function(t,u){return function(){return t.apply(u,arguments);};},createClass:function(t){var u=t.$,v=t.base,w=t.privates||t._,x=t.proto,y=t.statics;if(w){var z=u;u=function(){var D=this;var A=D._||(D._={});for(var B in w){var C=w[B];A[B]=typeof C=='function'?o.tools.bind(C,D):C;}z.apply(D,arguments);};}if(v){u.prototype=this.prototypedCopy(v.prototype);u.prototype['constructor']=u;u.prototype.base=function(){this.base=v.prototype.base;
v.apply(this,arguments);this.base=arguments.callee;};}if(x)this.extend(u.prototype,x,true);if(y)this.extend(u,y,true);return u;},addFunction:function(t,u){return s.push(function(){return t.apply(u||this,arguments);})-1;},removeFunction:function(t){s[t]=null;},callFunction:function(t){var u=s[t];return u&&u.apply(window,Array.prototype.slice.call(arguments,1));},cssLength:(function(){var t=/^\d+(?:\.\d+)?$/;return function(u){return u+(t.test(u)?'px':'');};})(),repeat:function(t,u){return new Array(u+1).join(t);},tryThese:function(){var t;for(var u=0,v=arguments.length;u<v;u++){var w=arguments[u];try{t=w();break;}catch(x){}}return t;},genKey:function(){return Array.prototype.slice.call(arguments).join('-');}};})();var s=o.tools;o.dtd=(function(){var t=s.extend,u={isindex:1,fieldset:1},v={input:1,button:1,select:1,textarea:1,label:1},w=t({a:1},v),x=t({iframe:1},w),y={hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1},z={ins:1,del:1,script:1,style:1},A=t({b:1,acronym:1,bdo:1,'var':1,'#':1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1},z),B=t({sub:1,img:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1},A),C=t({p:1},B),D=t({iframe:1},B,v),E={img:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,'#':1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,'var':1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1},F=t({a:1},D),G={tr:1},H={'#':1},I=t({param:1},E),J=t({form:1},u,x,y,C),K={li:1},L={style:1,script:1},M={base:1,link:1,meta:1,title:1},N=t(M,L),O={head:1,body:1},P={html:1},Q={address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1};return{$nonBodyContent:t(P,O,M),$block:Q,$blockLimit:{body:1,div:1,td:1,th:1,caption:1,form:1},$inline:F,$body:t({script:1,style:1},Q),$cdata:{script:1,style:1},$empty:{area:1,base:1,br:1,col:1,hr:1,img:1,input:1,link:1,meta:1,param:1},$listItem:{dd:1,dt:1,li:1},$list:{ul:1,ol:1,dl:1},$nonEditable:{applet:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,script:1,textarea:1,param:1},$removeEmpty:{abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,'var':1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},html:O,head:N,style:H,script:H,body:J,base:{},link:{},meta:{},title:H,col:{},tr:{td:1,th:1},img:{},colgroup:{col:1},noscript:J,td:J,br:{},th:J,center:J,kbd:F,button:t(C,y),basefont:{},h5:F,h4:F,samp:F,h6:F,ol:K,h1:F,h3:F,option:H,h2:F,form:t(u,x,y,C),select:{optgroup:1,option:1},font:F,ins:F,menu:K,abbr:F,label:F,table:{thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1},code:F,script:H,tfoot:G,cite:F,li:J,input:{},iframe:J,strong:F,textarea:H,noframes:J,big:F,small:F,span:F,hr:{},dt:F,sub:F,optgroup:{option:1},param:{},bdo:F,'var':F,div:J,object:I,sup:F,dd:J,strike:F,area:{},dir:K,map:t({area:1,form:1,p:1},u,z,y),applet:I,dl:{dt:1,dd:1},del:F,isindex:{},fieldset:t({legend:1},E),thead:G,ul:K,acronym:F,b:F,a:D,blockquote:J,caption:F,i:F,u:F,tbody:G,s:F,address:t(x,C),tt:F,legend:F,q:F,pre:t(A,w),p:F,em:F,dfn:F};
})();var t=o.dtd;r.event=function(u){this.$=u;};r.event.prototype={getKey:function(){return this.$.keyCode||this.$.which;},getKeystroke:function(){var v=this;var u=v.getKey();if(v.$.ctrlKey||v.$.metaKey)u+=1000;if(v.$.shiftKey)u+=2000;if(v.$.altKey)u+=4000;return u;},preventDefault:function(u){var v=this.$;if(v.preventDefault)v.preventDefault();else v.returnValue=false;if(u)this.stopPropagation();},stopPropagation:function(){var u=this.$;if(u.stopPropagation)u.stopPropagation();else u.cancelBubble=true;},getTarget:function(){var u=this.$.target||this.$.srcElement;return u?new r.node(u):null;}};o.CTRL=1000;o.SHIFT=2000;o.ALT=4000;r.domObject=function(u){if(u)this.$=u;};r.domObject.prototype=(function(){var u=function(v,w){return function(x){if(typeof o!='undefined')v.fire(w,new r.event(x));};};return{getPrivate:function(){var v;if(!(v=this.getCustomData('_')))this.setCustomData('_',v={});return v;},on:function(v){var y=this;var w=y.getCustomData('_cke_nativeListeners');if(!w){w={};y.setCustomData('_cke_nativeListeners',w);}if(!w[v]){var x=w[v]=u(y,v);if(y.$.attachEvent)y.$.attachEvent('on'+v,x);else if(y.$.addEventListener)y.$.addEventListener(v,x,!!o.event.useCapture);}return o.event.prototype.on.apply(y,arguments);},removeListener:function(v){var y=this;o.event.prototype.removeListener.apply(y,arguments);if(!y.hasListeners(v)){var w=y.getCustomData('_cke_nativeListeners'),x=w&&w[v];if(x){if(y.$.detachEvent)y.$.detachEvent('on'+v,x);else if(y.$.removeEventListener)y.$.removeEventListener(v,x,false);delete w[v];}}},removeAllListeners:function(){var y=this;var v=y.getCustomData('_cke_nativeListeners');for(var w in v){var x=v[w];if(y.$.detachEvent)y.$.detachEvent('on'+w,x);else if(y.$.removeEventListener)y.$.removeEventListener(w,x,false);delete v[w];}}};})();(function(u){var v={};o.on('reset',function(){v={};});u.equals=function(w){return w&&w.$===this.$;};u.setCustomData=function(w,x){var y=this.getUniqueId(),z=v[y]||(v[y]={});z[w]=x;return this;};u.getCustomData=function(w){var x=this.$['data-cke-expando'],y=x&&v[x];return y&&y[w];};u.removeCustomData=function(w){var x=this.$['data-cke-expando'],y=x&&v[x],z=y&&y[w];if(typeof z!='undefined')delete y[w];return z||null;};u.clearCustomData=function(){this.removeAllListeners();var w=this.$['data-cke-expando'];w&&delete v[w];};u.getUniqueId=function(){return this.$['data-cke-expando']||(this.$['data-cke-expando']=s.getNextNumber());};o.event.implementOn(u);})(r.domObject.prototype);r.window=function(u){r.domObject.call(this,u);
};r.window.prototype=new r.domObject();s.extend(r.window.prototype,{focus:function(){if(p.webkit&&this.$.parent)this.$.parent.focus();this.$.focus();},getViewPaneSize:function(){var u=this.$.document,v=u.compatMode=='CSS1Compat';return{width:(v?u.documentElement.clientWidth:u.body.clientWidth)||0,height:(v?u.documentElement.clientHeight:u.body.clientHeight)||0};},getScrollPosition:function(){var u=this.$;if('pageXOffset' in u)return{x:u.pageXOffset||0,y:u.pageYOffset||0};else{var v=u.document;return{x:v.documentElement.scrollLeft||v.body.scrollLeft||0,y:v.documentElement.scrollTop||v.body.scrollTop||0};}}});r.document=function(u){r.domObject.call(this,u);};var u=r.document;u.prototype=new r.domObject();s.extend(u.prototype,{appendStyleSheet:function(v){if(this.$.createStyleSheet)this.$.createStyleSheet(v);else{var w=new r.element('link');w.setAttributes({rel:'stylesheet',type:'text/css',href:v});this.getHead().append(w);}},appendStyleText:function(v){var y=this;if(y.$.createStyleSheet){var w=y.$.createStyleSheet('');w.cssText=v;}else{var x=new r.element('style',y);x.append(new r.text(v,y));y.getHead().append(x);}},createElement:function(v,w){var x=new r.element(v,this);if(w){if(w.attributes)x.setAttributes(w.attributes);if(w.styles)x.setStyles(w.styles);}return x;},createText:function(v){return new r.text(v,this);},focus:function(){this.getWindow().focus();},getById:function(v){var w=this.$.getElementById(v);return w?new r.element(w):null;},getByAddress:function(v,w){var x=this.$.documentElement;for(var y=0;x&&y<v.length;y++){var z=v[y];if(!w){x=x.childNodes[z];continue;}var A=-1;for(var B=0;B<x.childNodes.length;B++){var C=x.childNodes[B];if(w===true&&C.nodeType==3&&C.previousSibling&&C.previousSibling.nodeType==3)continue;A++;if(A==z){x=C;break;}}}return x?new r.node(x):null;},getElementsByTag:function(v,w){if(!(q&&!(document.documentMode>8))&&w)v=w+':'+v;return new r.nodeList(this.$.getElementsByTagName(v));},getHead:function(){var v=this.$.getElementsByTagName('head')[0];if(!v)v=this.getDocumentElement().append(new r.element('head'),true);else v=new r.element(v);return(this.getHead=function(){return v;})();},getBody:function(){var v=new r.element(this.$.body);return(this.getBody=function(){return v;})();},getDocumentElement:function(){var v=new r.element(this.$.documentElement);return(this.getDocumentElement=function(){return v;})();},getWindow:function(){var v=new r.window(this.$.parentWindow||this.$.defaultView);return(this.getWindow=function(){return v;
})();},write:function(v){var w=this;w.$.open('text/html','replace');p.isCustomDomain()&&(w.$.domain=document.domain);w.$.write(v);w.$.close();}});r.node=function(v){if(v){switch(v.nodeType){case 9:return new u(v);case 1:return new r.element(v);case 3:return new r.text(v);}r.domObject.call(this,v);}return this;};r.node.prototype=new r.domObject();o.NODE_ELEMENT=1;o.NODE_DOCUMENT=9;o.NODE_TEXT=3;o.NODE_COMMENT=8;o.NODE_DOCUMENT_FRAGMENT=11;o.POSITION_IDENTICAL=0;o.POSITION_DISCONNECTED=1;o.POSITION_FOLLOWING=2;o.POSITION_PRECEDING=4;o.POSITION_IS_CONTAINED=8;o.POSITION_CONTAINS=16;s.extend(r.node.prototype,{appendTo:function(v,w){v.append(this,w);return v;},clone:function(v,w){var x=this.$.cloneNode(v),y=function(z){if(z.nodeType!=1)return;if(!w)z.removeAttribute('id',false);z.removeAttribute('data-cke-expando',false);if(v){var A=z.childNodes;for(var B=0;B<A.length;B++)y(A[B]);}};y(x);return new r.node(x);},hasPrevious:function(){return!!this.$.previousSibling;},hasNext:function(){return!!this.$.nextSibling;},insertAfter:function(v){v.$.parentNode.insertBefore(this.$,v.$.nextSibling);return v;},insertBefore:function(v){v.$.parentNode.insertBefore(this.$,v.$);return v;},insertBeforeMe:function(v){this.$.parentNode.insertBefore(v.$,this.$);return v;},getAddress:function(v){var w=[],x=this.getDocument().$.documentElement,y=this.$;while(y&&y!=x){var z=y.parentNode,A=-1;if(z){for(var B=0;B<z.childNodes.length;B++){var C=z.childNodes[B];if(v&&C.nodeType==3&&C.previousSibling&&C.previousSibling.nodeType==3)continue;A++;if(C==y)break;}w.unshift(A);}y=z;}return w;},getDocument:function(){return new u(this.$.ownerDocument||this.$.parentNode.ownerDocument);},getIndex:function(){var v=this.$,w=v.parentNode&&v.parentNode.firstChild,x=-1;while(w){x++;if(w==v)return x;w=w.nextSibling;}return-1;},getNextSourceNode:function(v,w,x){if(x&&!x.call){var y=x;x=function(B){return!B.equals(y);};}var z=!v&&this.getFirst&&this.getFirst(),A;if(!z){if(this.type==1&&x&&x(this,true)===false)return null;z=this.getNext();}while(!z&&(A=(A||this).getParent())){if(x&&x(A,true)===false)return null;z=A.getNext();}if(!z)return null;if(x&&x(z)===false)return null;if(w&&w!=z.type)return z.getNextSourceNode(false,w,x);return z;},getPreviousSourceNode:function(v,w,x){if(x&&!x.call){var y=x;x=function(B){return!B.equals(y);};}var z=!v&&this.getLast&&this.getLast(),A;if(!z){if(this.type==1&&x&&x(this,true)===false)return null;z=this.getPrevious();}while(!z&&(A=(A||this).getParent())){if(x&&x(A,true)===false)return null;
z=A.getPrevious();}if(!z)return null;if(x&&x(z)===false)return null;if(w&&z.type!=w)return z.getPreviousSourceNode(false,w,x);return z;},getPrevious:function(v){var w=this.$,x;do{w=w.previousSibling;x=w&&new r.node(w);}while(x&&v&&!v(x))return x;},getNext:function(v){var w=this.$,x;do{w=w.nextSibling;x=w&&new r.node(w);}while(x&&v&&!v(x))return x;},getParent:function(){var v=this.$.parentNode;return v&&v.nodeType==1?new r.node(v):null;},getParents:function(v){var w=this,x=[];do x[v?'push':'unshift'](w);while(w=w.getParent())return x;},getCommonAncestor:function(v){var x=this;if(v.equals(x))return x;if(v.contains&&v.contains(x))return v;var w=x.contains?x:x.getParent();do{if(w.contains(v))return w;}while(w=w.getParent())return null;},getPosition:function(v){var w=this.$,x=v.$;if(w.compareDocumentPosition)return w.compareDocumentPosition(x);if(w==x)return 0;if(this.type==1&&v.type==1){if(w.contains){if(w.contains(x))return 16+4;if(x.contains(w))return 8+2;}if('sourceIndex' in w)return w.sourceIndex<0||x.sourceIndex<0?1:w.sourceIndex<x.sourceIndex?4:2;}var y=this.getAddress(),z=v.getAddress(),A=Math.min(y.length,z.length);for(var B=0;B<=A-1;B++){if(y[B]!=z[B]){if(B<A)return y[B]<z[B]?4:2;break;}}return y.length<z.length?16+4:8+2;},getAscendant:function(v,w){var x=this.$;if(!w)x=x.parentNode;while(x){if(x.nodeName&&x.nodeName.toLowerCase()==v)return new r.node(x);x=x.parentNode;}return null;},hasAscendant:function(v,w){var x=this.$;if(!w)x=x.parentNode;while(x){if(x.nodeName&&x.nodeName.toLowerCase()==v)return true;x=x.parentNode;}return false;},move:function(v,w){v.append(this.remove(),w);},remove:function(v){var w=this.$,x=w.parentNode;if(x){if(v)for(var y;y=w.firstChild;)x.insertBefore(w.removeChild(y),w);x.removeChild(w);}return this;},replace:function(v){this.insertBefore(v);v.remove();},trim:function(){this.ltrim();this.rtrim();},ltrim:function(){var y=this;var v;while(y.getFirst&&(v=y.getFirst())){if(v.type==3){var w=s.ltrim(v.getText()),x=v.getLength();if(!w){v.remove();continue;}else if(w.length<x){v.split(x-w.length);y.$.removeChild(y.$.firstChild);}}break;}},rtrim:function(){var y=this;var v;while(y.getLast&&(v=y.getLast())){if(v.type==3){var w=s.rtrim(v.getText()),x=v.getLength();if(!w){v.remove();continue;}else if(w.length<x){v.split(w.length);y.$.lastChild.parentNode.removeChild(y.$.lastChild);}}break;}if(!q&&!p.opera){v=y.$.lastChild;if(v&&v.type==1&&v.nodeName.toLowerCase()=='br')v.parentNode.removeChild(v);}},isReadOnly:function(){var v=this;while(v){if(v.type==1){if(v.is('body')||!!v.data('cke-editable'))break;
if(v.getAttribute('contentEditable')=='false')return v;else if(v.getAttribute('contentEditable')=='true')break;}v=v.getParent();}return false;}});r.nodeList=function(v){this.$=v;};r.nodeList.prototype={count:function(){return this.$.length;},getItem:function(v){var w=this.$[v];return w?new r.node(w):null;}};r.element=function(v,w){if(typeof v=='string')v=(w?w.$:document).createElement(v);r.domObject.call(this,v);};var v=r.element;v.get=function(w){return w&&(w.$?w:new v(w));};v.prototype=new r.node();v.createFromHtml=function(w,x){var y=new v('div',x);y.setHtml(w);return y.getFirst().remove();};v.setMarker=function(w,x,y,z){var A=x.getCustomData('list_marker_id')||x.setCustomData('list_marker_id',s.getNextNumber()).getCustomData('list_marker_id'),B=x.getCustomData('list_marker_names')||x.setCustomData('list_marker_names',{}).getCustomData('list_marker_names');w[A]=x;B[y]=1;return x.setCustomData(y,z);};v.clearAllMarkers=function(w){for(var x in w)v.clearMarkers(w,w[x],1);};v.clearMarkers=function(w,x,y){var z=x.getCustomData('list_marker_names'),A=x.getCustomData('list_marker_id');for(var B in z)x.removeCustomData(B);x.removeCustomData('list_marker_names');if(y){x.removeCustomData('list_marker_id');delete w[A];}};s.extend(v.prototype,{type:1,addClass:function(w){var x=this.$.className;if(x){var y=new RegExp('(?:^|\\s)'+w+'(?:\\s|$)','');if(!y.test(x))x+=' '+w;}this.$.className=x||w;},removeClass:function(w){var x=this.getAttribute('class');if(x){var y=new RegExp('(?:^|\\s+)'+w+'(?=\\s|$)','i');if(y.test(x)){x=x.replace(y,'').replace(/^\s+/,'');if(x)this.setAttribute('class',x);else this.removeAttribute('class');}}},hasClass:function(w){var x=new RegExp('(?:^|\\s+)'+w+'(?=\\s|$)','');return x.test(this.getAttribute('class'));},append:function(w,x){var y=this;if(typeof w=='string')w=y.getDocument().createElement(w);if(x)y.$.insertBefore(w.$,y.$.firstChild);else y.$.appendChild(w.$);return w;},appendHtml:function(w){var y=this;if(!y.$.childNodes.length)y.setHtml(w);else{var x=new v('div',y.getDocument());x.setHtml(w);x.moveChildren(y);}},appendText:function(w){if(this.$.text!=undefined)this.$.text+=w;else this.append(new r.text(w));},appendBogus:function(){var y=this;var w=y.getLast();while(w&&w.type==3&&!s.rtrim(w.getText()))w=w.getPrevious();if(!w||!w.is||!w.is('br')){var x=p.opera?y.getDocument().createText(''):y.getDocument().createElement('br');p.gecko&&x.setAttribute('type','_moz');y.append(x);}},breakParent:function(w){var z=this;var x=new r.range(z.getDocument());
x.setStartAfter(z);x.setEndAfter(w);var y=x.extractContents();x.insertNode(z.remove());y.insertAfterNode(z);},contains:q||p.webkit?function(w){var x=this.$;return w.type!=1?x.contains(w.getParent().$):x!=w.$&&x.contains(w.$);}:function(w){return!!(this.$.compareDocumentPosition(w.$)&16);},focus:(function(){function w(){try{this.$.focus();}catch(x){}};return function(x){if(x)s.setTimeout(w,100,this);else w.call(this);};})(),getHtml:function(){var w=this.$.innerHTML;return q?w.replace(/<\?[^>]*>/g,''):w;},getOuterHtml:function(){var x=this;if(x.$.outerHTML)return x.$.outerHTML.replace(/<\?[^>]*>/,'');var w=x.$.ownerDocument.createElement('div');w.appendChild(x.$.cloneNode(true));return w.innerHTML;},setHtml:function(w){return this.$.innerHTML=w;},setText:function(w){v.prototype.setText=this.$.innerText!=undefined?function(x){return this.$.innerText=x;}:function(x){return this.$.textContent=x;};return this.setText(w);},getAttribute:(function(){var w=function(x){return this.$.getAttribute(x,2);};if(q&&(p.ie7Compat||p.ie6Compat))return function(x){var B=this;switch(x){case 'class':x='className';break;case 'tabindex':var y=w.call(B,x);if(y!==0&&B.$.tabIndex===0)y=null;return y;break;case 'checked':var z=B.$.attributes.getNamedItem(x),A=z.specified?z.nodeValue:B.$.checked;return A?'checked':null;case 'hspace':case 'value':return B.$[x];case 'style':return B.$.style.cssText;}return w.call(B,x);};else return w;})(),getChildren:function(){return new r.nodeList(this.$.childNodes);},getComputedStyle:q?function(w){return this.$.currentStyle[s.cssStyleToDomStyle(w)];}:function(w){return this.getWindow().$.getComputedStyle(this.$,'').getPropertyValue(w);},getDtd:function(){var w=t[this.getName()];this.getDtd=function(){return w;};return w;},getElementsByTag:u.prototype.getElementsByTag,getTabIndex:q?function(){var w=this.$.tabIndex;if(w===0&&!t.$tabIndex[this.getName()]&&parseInt(this.getAttribute('tabindex'),10)!==0)w=-1;return w;}:p.webkit?function(){var w=this.$.tabIndex;if(w==undefined){w=parseInt(this.getAttribute('tabindex'),10);if(isNaN(w))w=-1;}return w;}:function(){return this.$.tabIndex;},getText:function(){return this.$.textContent||this.$.innerText||'';},getWindow:function(){return this.getDocument().getWindow();},getId:function(){return this.$.id||null;},getNameAtt:function(){return this.$.name||null;},getName:function(){var w=this.$.nodeName.toLowerCase();if(q&&!(document.documentMode>8)){var x=this.$.scopeName;if(x!='HTML')w=x.toLowerCase()+':'+w;}return(this.getName=function(){return w;
})();},getValue:function(){return this.$.value;},getFirst:function(w){var x=this.$.firstChild,y=x&&new r.node(x);if(y&&w&&!w(y))y=y.getNext(w);return y;},getLast:function(w){var x=this.$.lastChild,y=x&&new r.node(x);if(y&&w&&!w(y))y=y.getPrevious(w);return y;},getStyle:function(w){return this.$.style[s.cssStyleToDomStyle(w)];},is:function(){var w=this.getName();for(var x=0;x<arguments.length;x++){if(arguments[x]==w)return true;}return false;},isEditable:function(){var w=this.getName(),x=!t.$nonEditable[w]&&(t[w]||t.span);return x&&x['#'];},isIdentical:function(w){if(this.getName()!=w.getName())return false;var x=this.$.attributes,y=w.$.attributes,z=x.length,A=y.length;for(var B=0;B<z;B++){var C=x[B];if(C.nodeName=='_moz_dirty')continue;if((!q||C.specified&&C.nodeName!='data-cke-expando')&&C.nodeValue!=w.getAttribute(C.nodeName))return false;}if(q)for(B=0;B<A;B++){C=y[B];if(C.specified&&C.nodeName!='data-cke-expando'&&C.nodeValue!=this.getAttribute(C.nodeName))return false;}return true;},isVisible:function(){var w=!!this.$.offsetHeight&&this.getComputedStyle('visibility')!='hidden',x,y;if(w&&(p.webkit||p.opera)){x=this.getWindow();if(!x.equals(o.document.getWindow())&&(y=x.$.frameElement))w=new v(y).isVisible();}return w;},isEmptyInlineRemoveable:function(){if(!t.$removeEmpty[this.getName()])return false;var w=this.getChildren();for(var x=0,y=w.count();x<y;x++){var z=w.getItem(x);if(z.type==1&&z.data('cke-bookmark'))continue;if(z.type==1&&!z.isEmptyInlineRemoveable()||z.type==3&&s.trim(z.getText()))return false;}return true;},hasAttributes:q&&(p.ie7Compat||p.ie6Compat)?function(){var w=this.$.attributes;for(var x=0;x<w.length;x++){var y=w[x];switch(y.nodeName){case 'class':if(this.getAttribute('class'))return true;case 'data-cke-expando':continue;default:if(y.specified)return true;}}return false;}:function(){var w=this.$.attributes,x=w.length,y={'data-cke-expando':1,_moz_dirty:1};return x>0&&(x>2||!y[w[0].nodeName]||x==2&&!y[w[1].nodeName]);},hasAttribute:function(w){var x=this.$.attributes.getNamedItem(w);return!!(x&&x.specified);},hide:function(){this.setStyle('display','none');},moveChildren:function(w,x){var y=this.$;w=w.$;if(y==w)return;var z;if(x)while(z=y.lastChild)w.insertBefore(y.removeChild(z),w.firstChild);else while(z=y.firstChild)w.appendChild(y.removeChild(z));},mergeSiblings:(function(){function w(x,y,z){if(y&&y.type==1){var A=[];while(y.data('cke-bookmark')||y.isEmptyInlineRemoveable()){A.push(y);y=z?y.getNext():y.getPrevious();if(!y||y.type!=1)return;
}if(x.isIdentical(y)){var B=z?x.getLast():x.getFirst();while(A.length)A.shift().move(x,!z);y.moveChildren(x,!z);y.remove();if(B&&B.type==1)B.mergeSiblings();}}};return function(x){var y=this;if(!(x===false||t.$removeEmpty[y.getName()]||y.is('a')))return;w(y,y.getNext(),true);w(y,y.getPrevious());};})(),show:function(){this.setStyles({display:'',visibility:''});},setAttribute:(function(){var w=function(x,y){this.$.setAttribute(x,y);return this;};if(q&&(p.ie7Compat||p.ie6Compat))return function(x,y){var z=this;if(x=='class')z.$.className=y;else if(x=='style')z.$.style.cssText=y;else if(x=='tabindex')z.$.tabIndex=y;else if(x=='checked')z.$.checked=y;else w.apply(z,arguments);return z;};else return w;})(),setAttributes:function(w){for(var x in w)this.setAttribute(x,w[x]);return this;},setValue:function(w){this.$.value=w;return this;},removeAttribute:(function(){var w=function(x){this.$.removeAttribute(x);};if(q&&(p.ie7Compat||p.ie6Compat))return function(x){if(x=='class')x='className';else if(x=='tabindex')x='tabIndex';w.call(this,x);};else return w;})(),removeAttributes:function(w){if(s.isArray(w))for(var x=0;x<w.length;x++)this.removeAttribute(w[x]);else for(var y in w)w.hasOwnProperty(y)&&this.removeAttribute(y);},removeStyle:function(w){var x=this;x.setStyle(w,'');if(x.$.style.removeAttribute)x.$.style.removeAttribute(s.cssStyleToDomStyle(w));if(!x.$.style.cssText)x.removeAttribute('style');},setStyle:function(w,x){this.$.style[s.cssStyleToDomStyle(w)]=x;return this;},setStyles:function(w){for(var x in w)this.setStyle(x,w[x]);return this;},setOpacity:function(w){if(q){w=Math.round(w*100);this.setStyle('filter',w>=100?'':'progid:DXImageTransform.Microsoft.Alpha(opacity='+w+')');}else this.setStyle('opacity',w);},unselectable:p.gecko?function(){this.$.style.MozUserSelect='none';this.on('dragstart',function(w){w.data.preventDefault();});}:p.webkit?function(){this.$.style.KhtmlUserSelect='none';this.on('dragstart',function(w){w.data.preventDefault();});}:function(){if(q||p.opera){var w=this.$,x,y=0;w.unselectable='on';while(x=w.all[y++])switch(x.tagName.toLowerCase()){case 'iframe':case 'textarea':case 'input':case 'select':break;default:x.unselectable='on';}}},getPositionedAncestor:function(){var w=this;while(w.getName()!='html'){if(w.getComputedStyle('position')!='static')return w;w=w.getParent();}return null;},getDocumentPosition:function(w){var R=this;var x=0,y=0,z=R.getDocument().getBody(),A=R.getDocument().$.compatMode=='BackCompat',B=R.getDocument();if(document.documentElement.getBoundingClientRect){var C=R.$.getBoundingClientRect(),D=B.$,E=D.documentElement,F=E.clientTop||z.$.clientTop||0,G=E.clientLeft||z.$.clientLeft||0,H=true;
if(q){var I=B.getDocumentElement().contains(R),J=B.getBody().contains(R);H=A&&J||!A&&I;}if(H){x=C.left+(!A&&E.scrollLeft||z.$.scrollLeft);x-=G;y=C.top+(!A&&E.scrollTop||z.$.scrollTop);y-=F;}}else{var K=R,L=null,M;while(K&&!(K.getName()=='body'||K.getName()=='html')){x+=K.$.offsetLeft-K.$.scrollLeft;y+=K.$.offsetTop-K.$.scrollTop;if(!K.equals(R)){x+=K.$.clientLeft||0;y+=K.$.clientTop||0;}var N=L;while(N&&!N.equals(K)){x-=N.$.scrollLeft;y-=N.$.scrollTop;N=N.getParent();}L=K;K=(M=K.$.offsetParent)?new v(M):null;}}if(w){var O=R.getWindow(),P=w.getWindow();if(!O.equals(P)&&O.$.frameElement){var Q=new v(O.$.frameElement).getDocumentPosition(w);x+=Q.x;y+=Q.y;}}if(!document.documentElement.getBoundingClientRect)if(p.gecko&&!A){x+=R.$.clientLeft?1:0;y+=R.$.clientTop?1:0;}return{x:x,y:y};},scrollIntoView:function(w){var C=this;var x=C.getWindow(),y=x.getViewPaneSize().height,z=y*-1;if(w)z+=y;else{z+=C.$.offsetHeight||0;z+=parseInt(C.getComputedStyle('marginBottom')||0,10)||0;}var A=C.getDocumentPosition();z+=A.y;z=z<0?0:z;var B=x.getScrollPosition().y;if(z>B||z<B-y)x.$.scrollTo(0,z);},setState:function(w){var x=this;switch(w){case 1:x.addClass('cke_on');x.removeClass('cke_off');x.removeClass('cke_disabled');break;case 0:x.addClass('cke_disabled');x.removeClass('cke_off');x.removeClass('cke_on');break;default:x.addClass('cke_off');x.removeClass('cke_on');x.removeClass('cke_disabled');break;}},getFrameDocument:function(){var w=this.$;try{w.contentWindow.document;}catch(x){w.src=w.src;if(q&&p.version<7)window.showModalDialog('javascript:document.write("<script>window.setTimeout(function(){window.close();},50);</script>")');}return w&&new u(w.contentWindow.document);},copyAttributes:function(w,x){var D=this;var y=D.$.attributes;x=x||{};for(var z=0;z<y.length;z++){var A=y[z],B=A.nodeName.toLowerCase(),C;if(B in x)continue;if(B=='checked'&&(C=D.getAttribute(B)))w.setAttribute(B,C);else if(A.specified||q&&A.nodeValue&&B=='value'){C=D.getAttribute(B);if(C===null)C=A.nodeValue;w.setAttribute(B,C);}}if(D.$.style.cssText!=='')w.$.style.cssText=D.$.style.cssText;},renameNode:function(w){var z=this;if(z.getName()==w)return;var x=z.getDocument(),y=new v(w,x);z.copyAttributes(y);z.moveChildren(y);z.getParent()&&z.$.parentNode.replaceChild(y.$,z.$);y.$['data-cke-expando']=z.$['data-cke-expando'];z.$=y.$;},getChild:function(w){var x=this.$;if(!w.slice)x=x.childNodes[w];else while(w.length>0&&x)x=x.childNodes[w.shift()];return x?new r.node(x):null;},getChildCount:function(){return this.$.childNodes.length;
},disableContextMenu:function(){this.on('contextmenu',function(w){if(!w.data.getTarget().hasClass('cke_enable_context_menu'))w.data.preventDefault();});},getDirection:function(w){return w?this.getComputedStyle('direction'):this.getStyle('direction')||this.getAttribute('dir');},data:function(w,x){w='data-'+w;if(x===undefined)return this.getAttribute(w);else if(x===false)this.removeAttribute(w);else this.setAttribute(w,x);return null;}});(function(){var w={width:['border-left-width','border-right-width','padding-left','padding-right'],height:['border-top-width','border-bottom-width','padding-top','padding-bottom']};function x(y){var z=0;for(var A=0,B=w[y].length;A<B;A++)z+=parseInt(this.getComputedStyle(w[y][A])||0,10)||0;return z;};v.prototype.setSize=function(y,z,A){if(typeof z=='number'){if(A&&!(q&&p.quirks))z-=x.call(this,y);this.setStyle(y,z+'px');}};v.prototype.getSize=function(y,z){var A=Math.max(this.$['offset'+s.capitalize(y)],this.$['client'+s.capitalize(y)])||0;if(z)A-=x.call(this,y);return A;};})();o.command=function(w,x){this.uiItems=[];this.exec=function(y){if(this.state==0)return false;if(this.editorFocus)w.focus();return x.exec.call(this,w,y)!==false;};s.extend(this,x,{modes:{wysiwyg:1},editorFocus:1,state:2});o.event.call(this);};o.command.prototype={enable:function(){var w=this;if(w.state==0)w.setState(!w.preserveState||typeof w.previousState=='undefined'?2:w.previousState);},disable:function(){this.setState(0);},setState:function(w){var x=this;if(x.state==w)return false;x.previousState=x.state;x.state=w;x.fire('state');return true;},toggleState:function(){var w=this;if(w.state==2)w.setState(1);else if(w.state==1)w.setState(2);}};o.event.implementOn(o.command.prototype,true);o.ENTER_P=1;o.ENTER_BR=2;o.ENTER_DIV=3;o.config={customConfig:'config.js',autoUpdateElement:true,baseHref:'',contentsCss:o.basePath+'contents.css',contentsLangDirection:'ui',contentsLanguage:'',language:'',defaultLanguage:'en',enterMode:1,forceEnterMode:false,shiftEnterMode:2,corePlugins:'',docType:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',bodyId:'',bodyClass:'',fullPage:false,height:200,plugins:'about,a11yhelp,basicstyles,bidi,blockquote,button,clipboard,colorbutton,colordialog,contextmenu,dialogadvtab,div,elementspath,enterkey,entities,filebrowser,find,flash,font,format,forms,horizontalrule,htmldataprocessor,iframe,image,indent,justify,keystrokes,link,list,liststyle,maximize,newpage,pagebreak,pastefromword,pastetext,popup,preview,print,removeformat,resize,save,scayt,smiley,showblocks,showborders,sourcearea,stylescombo,table,tabletools,specialchar,tab,templates,toolbar,undo,wysiwygarea,wsc',extraPlugins:'bwikidataprocessor',removePlugins:'htmldataprocessor',protectedSource:[],tabIndex:0,theme:'default',skin:'kama',width:'',baseFloatZIndex:10000};
var w=o.config;o.focusManager=function(x){if(x.focusManager)return x.focusManager;this.hasFocus=false;this._={editor:x};return this;};o.focusManager.prototype={focus:function(){var y=this;if(y._.timer)clearTimeout(y._.timer);if(!y.hasFocus){if(o.currentInstance)o.currentInstance.focusManager.forceBlur();var x=y._.editor;x.container.getChild(1).addClass('cke_focus');y.hasFocus=true;x.fire('focus');}},blur:function(){var x=this;if(x._.timer)clearTimeout(x._.timer);x._.timer=setTimeout(function(){delete x._.timer;x.forceBlur();},100);},forceBlur:function(){if(this.hasFocus){var x=this._.editor;x.container.getChild(1).removeClass('cke_focus');this.hasFocus=false;x.fire('blur');}}};(function(){var x={};o.lang={languages:{af:1,ar:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,el:1,'en-au':1,'en-ca':1,'en-gb':1,en:1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,'fr-ca':1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,is:1,it:1,ja:1,km:1,ko:1,lt:1,lv:1,mn:1,ms:1,nb:1,nl:1,no:1,pl:1,'pt-br':1,pt:1,ro:1,ru:1,sk:1,sl:1,'sr-latn':1,sr:1,sv:1,th:1,tr:1,uk:1,vi:1,'zh-cn':1,zh:1},load:function(y,z,A){if(!y||!o.lang.languages[y])y=this.detect(z,y);if(!this[y])o.scriptLoader.load(o.getUrl('lang/'+y+'.js'),function(){A(y,this[y]);},this);else A(y,this[y]);},detect:function(y,z){var A=this.languages;z=z||navigator.userLanguage||navigator.language;var B=z.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),C=B[1],D=B[2];if(A[C+'-'+D])C=C+'-'+D;else if(!A[C])C=null;o.lang.detect=C?function(){return C;}:function(E){return E;};return C||y;}};})();o.scriptLoader=(function(){var x={},y={};return{load:function(z,A,B,C){var D=typeof z=='string';if(D)z=[z];if(!B)B=o;var E=z.length,F=[],G=[],H=function(M){if(A)if(D)A.call(B,M);else A.call(B,F,G);};if(E===0){H(true);return;}var I=function(M,N){(N?F:G).push(M);if(--E<=0){C&&o.document.getDocumentElement().removeStyle('cursor');H(N);}},J=function(M,N){x[M]=1;var O=y[M];delete y[M];for(var P=0;P<O.length;P++)O[P](M,N);},K=function(M){if(x[M]){I(M,true);return;}var N=y[M]||(y[M]=[]);N.push(I);if(N.length>1)return;var O=new v('script');O.setAttributes({type:'text/javascript',src:M});if(A)if(q)O.$.onreadystatechange=function(){if(O.$.readyState=='loaded'||O.$.readyState=='complete'){O.$.onreadystatechange=null;J(M,true);}};else{O.$.onload=function(){setTimeout(function(){J(M,true);},0);};O.$.onerror=function(){J(M,false);};}O.appendTo(o.document.getHead());};C&&o.document.getDocumentElement().setStyle('cursor','wait');for(var L=0;L<E;L++)K(z[L]);}};})();o.resourceManager=function(x,y){var z=this;
z.basePath=x;z.fileName=y;z.registered={};z.loaded={};z.externals={};z._={waitingList:{}};};o.resourceManager.prototype={add:function(x,y){if(this.registered[x])throw '[CKEDITOR.resourceManager.add] The resource name "'+x+'" is already registered.';o.fire(x+s.capitalize(this.fileName)+'Ready',this.registered[x]=y||{});},get:function(x){return this.registered[x]||null;},getPath:function(x){var y=this.externals[x];return o.getUrl(y&&y.dir||this.basePath+x+'/');},getFilePath:function(x){var y=this.externals[x];return o.getUrl(this.getPath(x)+(y&&typeof y.file=='string'?y.file:this.fileName+'.js'));},addExternal:function(x,y,z){x=x.split(',');for(var A=0;A<x.length;A++){var B=x[A];this.externals[B]={dir:y,file:z};}},load:function(x,y,z){if(!s.isArray(x))x=x?[x]:[];var A=this.loaded,B=this.registered,C=[],D={},E={};for(var F=0;F<x.length;F++){var G=x[F];if(!G)continue;if(!A[G]&&!B[G]){var H=this.getFilePath(G);C.push(H);if(!(H in D))D[H]=[];D[H].push(G);}else E[G]=this.get(G);}o.scriptLoader.load(C,function(I,J){if(J.length)throw '[CKEDITOR.resourceManager.load] Resource name "'+D[J[0]].join(',')+'" was not found at "'+J[0]+'".';for(var K=0;K<I.length;K++){var L=D[I[K]];for(var M=0;M<L.length;M++){var N=L[M];E[N]=this.get(N);A[N]=1;}}y.call(z,E);},this);}};o.plugins=new o.resourceManager('plugins/','plugin');var x=o.plugins;x.load=s.override(x.load,function(y){return function(z,A,B){var C={},D=function(E){y.call(this,E,function(F){s.extend(C,F);var G=[];for(var H in F){var I=F[H],J=I&&I.requires;if(J)for(var K=0;K<J.length;K++){if(!C[J[K]])G.push(J[K]);}}if(G.length)D.call(this,G);else{for(H in C){I=C[H];if(I.onLoad&&!I.onLoad._called){I.onLoad();I.onLoad._called=1;}}if(A)A.call(B||window,C);}},this);};D.call(this,z);};});x.setLang=function(y,z,A){var B=this.get(y),C=B.lang||(B.lang={});C[z]=A;};o.skins=(function(){var y={},z={},A=function(B,C,D,E){var F=y[C];if(!B.skin){B.skin=F;if(F.init)F.init(B);}var G=function(P){for(var Q=0;Q<P.length;Q++)P[Q]=o.getUrl(z[C]+P[Q]);};function H(P,Q){return P.replace(/url\s*\(([\s'"]*)(.*?)([\s"']*)\)/g,function(R,S,T,U){if(/^\/|^\w?:/.test(T))return R;else return 'url('+Q+S+T+U+')';});};D=F[D];var I=!D||!!D._isLoaded;if(I)E&&E();else{var J=D._pending||(D._pending=[]);J.push(E);if(J.length>1)return;var K=!D.css||!D.css.length,L=!D.js||!D.js.length,M=function(){if(K&&L){D._isLoaded=1;for(var P=0;P<J.length;P++){if(J[P])J[P]();}}};if(!K){var N=D.css;if(s.isArray(N)){G(N);for(var O=0;O<N.length;O++)o.document.appendStyleSheet(N[O]);
}else{N=H(N,o.getUrl(z[C]));o.document.appendStyleText(N);}D.css=N;K=1;}if(!L){G(D.js);o.scriptLoader.load(D.js,function(){L=1;M();});}M();}};return{add:function(B,C){y[B]=C;C.skinPath=z[B]||(z[B]=o.getUrl('skins/'+B+'/'));},load:function(B,C,D){var E=B.skinName,F=B.skinPath;if(y[E])A(B,E,C,D);else{z[E]=F;o.scriptLoader.load(o.getUrl(F+'skin.js'),function(){A(B,E,C,D);});}}};})();o.themes=new o.resourceManager('themes/','theme');o.ui=function(y){if(y.ui)return y.ui;this._={handlers:{},items:{},editor:y};return this;};var y=o.ui;y.prototype={add:function(z,A,B){this._.items[z]={type:A,command:B.command||null,args:Array.prototype.slice.call(arguments,2)};},create:function(z){var E=this;var A=E._.items[z],B=A&&E._.handlers[A.type],C=A&&A.command&&E._.editor.getCommand(A.command),D=B&&B.create.apply(E,A.args);if(C)C.uiItems.push(D);return D;},addHandler:function(z,A){this._.handlers[z]=A;}};o.event.implementOn(y);(function(){var z=0,A=function(){var L='editor'+ ++z;return o.instances&&o.instances[L]?A():L;},B={},C=function(L){var M=L.config.customConfig;if(!M)return false;M=o.getUrl(M);var N=B[M]||(B[M]={});if(N.fn){N.fn.call(L,L.config);if(o.getUrl(L.config.customConfig)==M||!C(L))L.fireOnce('customConfigLoaded');}else o.scriptLoader.load(M,function(){if(o.editorConfig)N.fn=o.editorConfig;else N.fn=function(){};C(L);});return true;},D=function(L,M){L.on('customConfigLoaded',function(){if(M){if(M.on)for(var N in M.on)L.on(N,M.on[N]);s.extend(L.config,M,true);delete L.config.on;}E(L);});if(M&&M.customConfig!=undefined)L.config.customConfig=M.customConfig;if(!C(L))L.fireOnce('customConfigLoaded');},E=function(L){var M=L.config.skin.split(','),N=M[0],O=o.getUrl(M[1]||'skins/'+N+'/');L.skinName=N;L.skinPath=O;L.skinClass='cke_skin_'+N;L.tabIndex=L.config.tabIndex||L.element.getAttribute('tabindex')||0;L.fireOnce('configLoaded');H(L);},F=function(L){o.lang.load(L.config.language,L.config.defaultLanguage,function(M,N){L.langCode=M;L.lang=s.prototypedCopy(N);if(p.gecko&&p.version<10900&&L.lang.dir=='rtl')L.lang.dir='ltr';var O=L.config;O.contentsLangDirection=='ui'&&(O.contentsLangDirection=L.lang.dir);G(L);});},G=function(L){var M=L.config,N=M.plugins,O=M.extraPlugins,P=M.removePlugins;if(O){var Q=new RegExp('(?:^|,)(?:'+O.replace(/\s*,\s*/g,'|')+')(?=,|$)','g');N=N.replace(Q,'');N+=','+O;}if(P){Q=new RegExp('(?:^|,)(?:'+P.replace(/\s*,\s*/g,'|')+')(?=,|$)','g');N=N.replace(Q,'');}p.air&&(N+=',adobeair');x.load(N.split(','),function(R){var S=[],T=[],U=[];L.plugins=R;
for(var V in R){var W=R[V],X=W.lang,Y=x.getPath(V),Z=null;W.path=Y;if(X){Z=s.indexOf(X,L.langCode)>=0?L.langCode:X[0];if(!W.lang[Z])U.push(o.getUrl(Y+'lang/'+Z+'.js'));else{s.extend(L.lang,W.lang[Z]);Z=null;}}T.push(Z);S.push(W);}o.scriptLoader.load(U,function(){var aa=['beforeInit','init','afterInit'];for(var ab=0;ab<aa.length;ab++)for(var ac=0;ac<S.length;ac++){var ad=S[ac];if(ab===0&&T[ac]&&ad.lang)s.extend(L.lang,ad.lang[T[ac]]);if(ad[aa[ab]])ad[aa[ab]](L);}L.fire('pluginsLoaded');I(L);});});},H=function(L){o.skins.load(L,'editor',function(){F(L);});},I=function(L){var M=L.config.theme;o.themes.load(M,function(){var N=L.theme=o.themes.get(M);N.path=o.themes.getPath(M);N.build(L);if(L.config.autoUpdateElement)J(L);});},J=function(L){var M=L.element;if(L.elementMode==1&&M.is('textarea')){var N=M.$.form&&new v(M.$.form);if(N){function O(){L.updateElement();};N.on('submit',O);if(!N.$.submit.nodeName&&!N.$.submit.length)N.$.submit=s.override(N.$.submit,function(P){return function(){L.updateElement();if(P.apply)P.apply(this,arguments);else P();};});L.on('destroy',function(){N.removeListener('submit',O);});}}};function K(){var L,M=this._.commands,N=this.mode;for(var O in M){L=M[O];L[L.startDisabled?'disable':L.modes[N]?'enable':'disable']();}};o.editor.prototype._init=function(){var N=this;var L=v.get(N._.element),M=N._.instanceConfig;delete N._.element;delete N._.instanceConfig;N._.commands={};N._.styles=[];N.element=L;N.name=L&&N.elementMode==1&&(L.getId()||L.getNameAtt())||A();if(N.name in o.instances)throw '[CKEDITOR.editor] The instance "'+N.name+'" already exists.';N.id=s.getNextId();N.config=s.prototypedCopy(w);N.ui=new y(N);N.focusManager=new o.focusManager(N);o.fire('instanceCreated',null,N);N.on('mode',K,null,null,1);D(N,M);};})();s.extend(o.editor.prototype,{addCommand:function(z,A){return this._.commands[z]=new o.command(this,A);},addCss:function(z){this._.styles.push(z);},destroy:function(z){var A=this;if(!z)A.updateElement();A.theme&&A.theme.destroy(A);A.fire('destroy');o.remove(A);o.fire('instanceDestroyed',null,A);},execCommand:function(z,A){var B=this.getCommand(z),C={name:z,commandData:A,command:B};if(B&&B.state!=0)if(this.fire('beforeCommandExec',C)!==true){C.returnValue=B.exec(C.commandData);if(!B.async&&this.fire('afterCommandExec',C)!==true)return C.returnValue;}return false;},getCommand:function(z){return this._.commands[z];},getData:function(){var B=this;B.fire('beforeGetData');var z=B._.data;if(typeof z!='string'){var A=B.element;if(A&&B.elementMode==1)z=A.is('textarea')?A.getValue():A.getHtml();
else z='';}z={dataValue:z};B.fire('getData',z);return z.dataValue;},getSnapshot:function(){var z=this.fire('getSnapshot');if(typeof z!='string'){var A=this.element;if(A&&this.elementMode==1)z=A.is('textarea')?A.getValue():A.getHtml();}return z;},loadSnapshot:function(z){this.fire('loadSnapshot',z);},setData:function(z,A){if(A)this.on('dataReady',function(C){C.removeListener();A.call(C.editor);});var B={dataValue:z};this.fire('setData',B);this._.data=B.dataValue;this.fire('afterSetData',B);},insertHtml:function(z){this.fire('insertHtml',z);},insertText:function(z){this.fire('insertText',z);},insertElement:function(z){this.fire('insertElement',z);},checkDirty:function(){return this.mayBeDirty&&this._.previousValue!==this.getSnapshot();},resetDirty:function(){if(this.mayBeDirty)this._.previousValue=this.getSnapshot();},updateElement:function(){var B=this;var z=B.element;if(z&&B.elementMode==1){var A=B.getData();if(B.config.htmlEncodeOutput)A=s.htmlEncode(A);if(z.is('textarea'))z.setValue(A);else z.setHtml(A);}}});o.on('loaded',function(){var z=o.editor._pending;if(z){delete o.editor._pending;for(var A=0;A<z.length;A++)z[A]._init();}});o.htmlParser=function(){this._={htmlPartsRegex:new RegExp("<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)-->)|(?:([^\\s>]+)\\s*((?:(?:[^\"'>]+)|(?:\"[^\"]*\")|(?:'[^']*'))*)\\/?>))",'g')};};(function(){var z=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,A={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};o.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(B){var O=this;var C,D,E=0,F;while(C=O._.htmlPartsRegex.exec(B)){var G=C.index;if(G>E){var H=B.substring(E,G);if(F)F.push(H);else O.onText(H);}E=O._.htmlPartsRegex.lastIndex;if(D=C[1]){D=D.toLowerCase();if(F&&t.$cdata[D]){O.onCDATA(F.join(''));F=null;}if(!F){O.onTagClose(D);continue;}}if(F){F.push(C[0]);continue;}if(D=C[3]){D=D.toLowerCase();if(/="/.test(D))continue;var I={},J,K=C[4],L=!!(K&&K.charAt(K.length-1)=='/');if(K)while(J=z.exec(K)){var M=J[1].toLowerCase(),N=J[2]||J[3]||J[4]||'';if(!N&&A[M])I[M]=M;else I[M]=N;}O.onTagOpen(D,I,L);if(!F&&t.$cdata[D])F=[];continue;}if(D=C[2])O.onComment(D);}if(B.length>E)O.onText(B.substring(E,B.length));}};})();o.htmlParser.comment=function(z){this.value=z;this._={isBlockLike:false};};o.htmlParser.comment.prototype={type:8,writeHtml:function(z,A){var B=this.value;
if(A){if(!(B=A.onComment(B,this)))return;if(typeof B!='string'){B.parent=this.parent;B.writeHtml(z,A);return;}}z.comment(B);}};(function(){var z=/[\t\r\n ]{2,}|[\t\r\n]/g;o.htmlParser.text=function(A){this.value=A;this._={isBlockLike:false};};o.htmlParser.text.prototype={type:3,writeHtml:function(A,B){var C=this.value;if(B&&!(C=B.onText(C,this)))return;A.text(C);}};})();(function(){o.htmlParser.cdata=function(z){this.value=z;};o.htmlParser.cdata.prototype={type:3,writeHtml:function(z){z.write(this.value);}};})();o.htmlParser.fragment=function(){this.children=[];this.parent=null;this._={isBlockLike:true,hasInlineStarted:false};};(function(){var z={colgroup:1,dd:1,dt:1,li:1,option:1,p:1,td:1,tfoot:1,th:1,thead:1,tr:1},A=s.extend({table:1,ul:1,ol:1,dl:1},t.table,t.ul,t.ol,t.dl),B=t.$list,C=t.$listItem;o.htmlParser.fragment.fromHtml=function(D,E){var F=new o.htmlParser(),G=[],H=new o.htmlParser.fragment(),I=[],J=[],K=H,L=false,M;function N(S){var T;if(I.length>0)for(var U=0;U<I.length;U++){var V=I[U],W=V.name,X=t[W],Y=K.name&&t[K.name];if((!Y||Y[W])&&(!S||!X||X[S]||!t[S])){if(!T){O();T=1;}V=V.clone();V.parent=K;K=V;I.splice(U,1);U--;}}};function O(S){while(J.length-(S||0)>0)K.add(J.shift());};function P(S,T,U){T=T||K||H;if(E&&!T.type){var V,W;if(S.attributes&&(W=S.attributes['data-cke-real-element-type']))V=W;else V=S.name;if(V&&V in t.$inline){var X=K;K=T;F.onTagOpen(E,{});T=K;if(U)K=X;}}if(S._.isBlockLike&&S.name!='pre'){var Y=S.children.length,Z=S.children[Y-1],aa;if(Z&&Z.type==3)if(!(aa=s.rtrim(Z.value)))S.children.length=Y-1;else Z.value=aa;}T.add(S);if(S.returnPoint){K=S.returnPoint;delete S.returnPoint;}};F.onTagOpen=function(S,T,U){var V=new o.htmlParser.element(S,T);if(V.isUnknown&&U)V.isEmpty=true;if(t.$removeEmpty[S]){I.push(V);return;}else if(S=='pre')L=true;else if(S=='br'&&L){K.add(new o.htmlParser.text('\n'));return;}if(S=='br'){J.push(V);return;}var W=K.name,X=W&&(t[W]||(K._.isBlockLike?t.div:t.span));if(X&&!V.isUnknown&&!K.isUnknown&&!X[S]){var Y=false,Z;if(S in B&&W in B){var aa=K.children,ab=aa[aa.length-1];if(!(ab&&ab.name in C))P(ab=new o.htmlParser.element('li'),K);M=K,Z=ab;}else if(S==W)P(K,K.parent);else if(S in t.$listItem){F.onTagOpen('ul',{});Z=K;Y=true;}else{if(A[W]){if(!M)M=K;}else{P(K,K.parent,true);if(!z[W])I.unshift(K);}Y=true;}if(Z)K=Z;else K=K.returnPoint||K.parent;if(Y){F.onTagOpen.apply(this,arguments);return;}}N(S);O();V.parent=K;V.returnPoint=M;M=0;if(V.isEmpty)P(V);else K=V;};F.onTagClose=function(S){for(var T=I.length-1;T>=0;
T--){if(S==I[T].name){I.splice(T,1);return;}}var U=[],V=[],W=K;while(W.type&&W.name!=S){if(!W._.isBlockLike)V.unshift(W);U.push(W);W=W.parent;}if(W.type){for(T=0;T<U.length;T++){var X=U[T];P(X,X.parent);}K=W;if(K.name=='pre')L=false;if(W._.isBlockLike)O();P(W,W.parent);if(W==K)K=K.parent;I=I.concat(V);}if(S=='body')E=false;};F.onText=function(S){if(!K._.hasInlineStarted&&!L){S=s.ltrim(S);if(S.length===0)return;}O();N();if(E&&(!K.type||K.name=='body')&&s.trim(S))this.onTagOpen(E,{});if(!L)S=S.replace(/[\t\r\n ]{2,}|[\t\r\n]/g,' ');K.add(new o.htmlParser.text(S));};F.onCDATA=function(S){K.add(new o.htmlParser.cdata(S));};F.onComment=function(S){O();N();K.add(new o.htmlParser.comment(S));};F.parse(D);O(!q&&1);while(K.type){var Q=K.parent,R=K;if(E&&(!Q.type||Q.name=='body')&&!t.$body[R.name]){K=Q;F.onTagOpen(E,{});Q=K;}Q.add(R);K=Q;}return H;};o.htmlParser.fragment.prototype={add:function(D){var G=this;var E=G.children.length,F=E>0&&G.children[E-1]||null;if(F){if(D._.isBlockLike&&F.type==3){F.value=s.rtrim(F.value);if(F.value.length===0){G.children.pop();G.add(D);return;}}F.next=D;}D.previous=F;D.parent=G;G.children.push(D);G._.hasInlineStarted=D.type==3||D.type==1&&!D._.isBlockLike;},writeHtml:function(D,E){var F;this.filterChildren=function(){var G=new o.htmlParser.basicWriter();this.writeChildrenHtml.call(this,G,E,true);var H=G.getHtml();this.children=new o.htmlParser.fragment.fromHtml(H).children;F=1;};!this.name&&E&&E.onFragment(this);this.writeChildrenHtml(D,F?null:E);},writeChildrenHtml:function(D,E){for(var F=0;F<this.children.length;F++)this.children[F].writeHtml(D,E);}};})();o.htmlParser.element=function(z,A){var G=this;G.name=z;G.attributes=A||(A={});G.children=[];var B=A['data-cke-real-element-type']||z,C=B.match(/^cke:(.*)/);C&&(B=C[1]);var D=t,E=!!(D.$nonBodyContent[B]||D.$block[B]||D.$listItem[B]||D.$tableContent[B]||D.$nonEditable[B]||B=='br'),F=!!D.$empty[z];G.isEmpty=F;G.isUnknown=!D[z];G._={isBlockLike:E,hasInlineStarted:F||!E};};(function(){var z=function(A,B){A=A[0];B=B[0];return A<B?-1:A>B?1:0;};o.htmlParser.element.prototype={type:1,add:o.htmlParser.fragment.prototype.add,clone:function(){return new o.htmlParser.element(this.name,this.attributes);},writeHtml:function(A,B){var C=this.attributes,D=this,E=D.name,F,G,H,I;D.filterChildren=function(){if(!I){var N=new o.htmlParser.basicWriter();o.htmlParser.fragment.prototype.writeChildrenHtml.call(D,N,B);D.children=new o.htmlParser.fragment.fromHtml(N.getHtml()).children;I=1;}};if(B){for(;;){if(!(E=B.onElementName(E)))return;
D.name=E;if(!(D=B.onElement(D)))return;D.parent=this.parent;if(D.name==E)break;if(D.type!=1){D.writeHtml(A,B);return;}E=D.name;if(!E){this.writeChildrenHtml.call(D,A,I?null:B);return;}}C=D.attributes;}A.openTag(E,C);var J=[];for(var K=0;K<2;K++)for(F in C){G=F;H=C[F];if(K==1)J.push([F,H]);else if(B){for(;;){if(!(G=B.onAttributeName(F))){delete C[F];break;}else if(G!=F){delete C[F];F=G;continue;}else break;}if(G)if((H=B.onAttribute(D,G,H))===false)delete C[G];else C[G]=H;}}if(A.sortAttributes)J.sort(z);var L=J.length;for(K=0;K<L;K++){var M=J[K];A.attribute(M[0],M[1]);}A.openTagClose(E,D.isEmpty);if(!D.isEmpty){this.writeChildrenHtml.call(D,A,I?null:B);A.closeTag(E);}},writeChildrenHtml:function(A,B){o.htmlParser.fragment.prototype.writeChildrenHtml.apply(this,arguments);}};})();(function(){o.htmlParser.filter=s.createClass({$:function(E){this._={elementNames:[],attributeNames:[],elements:{$length:0},attributes:{$length:0}};if(E)this.addRules(E,10);},proto:{addRules:function(E,F){var G=this;if(typeof F!='number')F=10;A(G._.elementNames,E.elementNames,F);A(G._.attributeNames,E.attributeNames,F);B(G._.elements,E.elements,F);B(G._.attributes,E.attributes,F);G._.text=C(G._.text,E.text,F)||G._.text;G._.comment=C(G._.comment,E.comment,F)||G._.comment;G._.root=C(G._.root,E.root,F)||G._.root;},onElementName:function(E){return z(E,this._.elementNames);},onAttributeName:function(E){return z(E,this._.attributeNames);},onText:function(E){var F=this._.text;return F?F.filter(E):E;},onComment:function(E,F){var G=this._.comment;return G?G.filter(E,F):E;},onFragment:function(E){var F=this._.root;return F?F.filter(E):E;},onElement:function(E){var J=this;var F=[J._.elements['^'],J._.elements[E.name],J._.elements.$],G,H;for(var I=0;I<3;I++){G=F[I];if(G){H=G.filter(E,J);if(H===false)return null;if(H&&H!=E)return J.onNode(H);if(E.parent&&!E.name)break;}}return E;},onNode:function(E){var F=E.type;return F==1?this.onElement(E):F==3?new o.htmlParser.text(this.onText(E.value)):F==8?new o.htmlParser.comment(this.onComment(E.value)):null;},onAttribute:function(E,F,G){var H=this._.attributes[F];if(H){var I=H.filter(G,E,this);if(I===false)return false;if(typeof I!='undefined')return I;}return G;}}});function z(E,F){for(var G=0;E&&G<F.length;G++){var H=F[G];E=E.replace(H[0],H[1]);}return E;};function A(E,F,G){if(typeof F=='function')F=[F];var H,I,J=E.length,K=F&&F.length;if(K){for(H=0;H<J&&E[H].pri<G;H++){}for(I=K-1;I>=0;I--){var L=F[I];if(L){L.pri=G;E.splice(H,0,L);}}}};function B(E,F,G){if(F)for(var H in F){var I=E[H];
E[H]=C(I,F[H],G);if(!I)E.$length++;}};function C(E,F,G){if(F){F.pri=G;if(E){if(!E.splice){if(E.pri>G)E=[F,E];else E=[E,F];E.filter=D;}else A(E,F,G);return E;}else{F.filter=F;return F;}}};function D(E){var F=E.type||E instanceof o.htmlParser.fragment;for(var G=0;G<this.length;G++){if(F)var H=E.type,I=E.name;var J=this[G],K=J.apply(window,arguments);if(K===false)return K;if(F){if(K&&(K.name!=I||K.type!=H))return K;}else if(typeof K!='string')return K;K!=undefined&&(E=K);}return E;};})();o.htmlParser.basicWriter=s.createClass({$:function(){this._={output:[]};},proto:{openTag:function(z,A){this._.output.push('<',z);},openTagClose:function(z,A){if(A)this._.output.push(' />');else this._.output.push('>');},attribute:function(z,A){if(typeof A=='string')A=s.htmlEncodeAttr(A);this._.output.push(' ',z,'="',A,'"');},closeTag:function(z){this._.output.push('</',z,'>');},text:function(z){this._.output.push(z);},comment:function(z){this._.output.push('<!--',z,'-->');},write:function(z){this._.output.push(z);},reset:function(){this._.output=[];this._.indent=false;},getHtml:function(z){var A=this._.output.join('');if(z)this.reset();return A;}}});delete o.loadFullCore;o.instances={};o.document=new u(document);o.add=function(z){o.instances[z.name]=z;z.on('focus',function(){if(o.currentInstance!=z){o.currentInstance=z;o.fire('currentInstance');}});z.on('blur',function(){if(o.currentInstance==z){o.currentInstance=null;o.fire('currentInstance');}});};o.remove=function(z){delete o.instances[z.name];};o.on('instanceDestroyed',function(){if(s.isEmpty(this.instances))o.fire('reset');});o.TRISTATE_ON=1;o.TRISTATE_OFF=2;o.TRISTATE_DISABLED=0;r.comment=s.createClass({base:r.node,$:function(z,A){if(typeof z=='string')z=(A?A.$:document).createComment(z);this.base(z);},proto:{type:8,getOuterHtml:function(){return '<!--'+this.$.nodeValue+'-->';}}});(function(){var z={address:1,blockquote:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,li:1,dt:1,dd:1,legend:1},A={body:1,div:1,table:1,tbody:1,tr:1,td:1,th:1,caption:1,form:1,fieldset:1},B=function(C){var D=C.getChildren();for(var E=0,F=D.count();E<F;E++){var G=D.getItem(E);if(G.type==1&&t.$block[G.getName()])return true;}return false;};r.elementPath=function(C){var I=this;var D=null,E=null,F=[],G=C;while(G){if(G.type==1){if(!I.lastElement)I.lastElement=G;var H=G.getName();if(q&&G.$.scopeName!='HTML')H=G.$.scopeName.toLowerCase()+':'+H;if(!E){if(!D&&z[H])D=G;if(A[H])if(!D&&H=='div'&&!B(G))D=G;else E=G;}F.push(G);if(H=='body')break;}G=G.getParent();
}I.block=D;I.blockLimit=E;I.elements=F;};})();r.elementPath.prototype={compare:function(z){var A=this.elements,B=z&&z.elements;if(!B||A.length!=B.length)return false;for(var C=0;C<A.length;C++){if(!A[C].equals(B[C]))return false;}return true;},contains:function(z){var A=this.elements;for(var B=0;B<A.length;B++){if(A[B].getName() in z)return A[B];}return null;}};r.text=function(z,A){if(typeof z=='string')z=(A?A.$:document).createTextNode(z);this.$=z;};r.text.prototype=new r.node();s.extend(r.text.prototype,{type:3,getLength:function(){return this.$.nodeValue.length;},getText:function(){return this.$.nodeValue;},split:function(z){var E=this;if(q&&z==E.getLength()){var A=E.getDocument().createText('');A.insertAfter(E);return A;}var B=E.getDocument(),C=new r.text(E.$.splitText(z),B);if(p.ie8){var D=new r.text('',B);D.insertAfter(C);D.remove();}return C;},substring:function(z,A){if(typeof A!='number')return this.$.nodeValue.substr(z);else return this.$.nodeValue.substring(z,A);}});r.documentFragment=function(z){z=z||o.document;this.$=z.$.createDocumentFragment();};s.extend(r.documentFragment.prototype,v.prototype,{type:11,insertAfterNode:function(z){z=z.$;z.parentNode.insertBefore(this.$,z.nextSibling);}},true,{append:1,appendBogus:1,getFirst:1,getLast:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1});(function(){function z(G,H){if(this._.end)return null;var I,J=this.range,K,L=this.guard,M=this.type,N=G?'getPreviousSourceNode':'getNextSourceNode';if(!this._.start){this._.start=1;J.trim();if(J.collapsed){this.end();return null;}}if(!G&&!this._.guardLTR){var O=J.endContainer,P=O.getChild(J.endOffset);this._.guardLTR=function(T,U){return(!U||!O.equals(T))&&(!P||!T.equals(P))&&(T.type!=1||!U||T.getName()!='body');};}if(G&&!this._.guardRTL){var Q=J.startContainer,R=J.startOffset>0&&Q.getChild(J.startOffset-1);this._.guardRTL=function(T,U){return(!U||!Q.equals(T))&&(!R||!T.equals(R))&&(T.type!=1||!U||T.getName()!='body');};}var S=G?this._.guardRTL:this._.guardLTR;if(L)K=function(T,U){if(S(T,U)===false)return false;return L(T,U);};else K=S;if(this.current)I=this.current[N](false,M,K);else if(G){I=J.endContainer;if(J.endOffset>0){I=I.getChild(J.endOffset-1);if(K(I)===false)I=null;}else I=K(I,true)===false?null:I.getPreviousSourceNode(true,M,K);}else{I=J.startContainer;I=I.getChild(J.startOffset);if(I){if(K(I)===false)I=null;}else I=K(J.startContainer,true)===false?null:J.startContainer.getNextSourceNode(true,M,K);
}while(I&&!this._.end){this.current=I;if(!this.evaluator||this.evaluator(I)!==false){if(!H)return I;}else if(H&&this.evaluator)return false;I=I[N](false,M,K);}this.end();return this.current=null;};function A(G){var H,I=null;while(H=z.call(this,G))I=H;return I;};r.walker=s.createClass({$:function(G){this.range=G;this._={};},proto:{end:function(){this._.end=1;},next:function(){return z.call(this);},previous:function(){return z.call(this,1);},checkForward:function(){return z.call(this,0,1)!==false;},checkBackward:function(){return z.call(this,1,1)!==false;},lastForward:function(){return A.call(this);},lastBackward:function(){return A.call(this,1);},reset:function(){delete this.current;this._={};}}});var B={block:1,'list-item':1,table:1,'table-row-group':1,'table-header-group':1,'table-footer-group':1,'table-row':1,'table-column-group':1,'table-column':1,'table-cell':1,'table-caption':1};v.prototype.isBlockBoundary=function(G){var H=s.extend({},t.$block,G||{});return this.getComputedStyle('float')=='none'&&B[this.getComputedStyle('display')]||H[this.getName()];};r.walker.blockBoundary=function(G){return function(H,I){return!(H.type==1&&H.isBlockBoundary(G));};};r.walker.listItemBoundary=function(){return this.blockBoundary({br:1});};r.walker.bookmark=function(G,H){function I(J){return J&&J.getName&&J.getName()=='span'&&J.data('cke-bookmark');};return function(J){var K,L;K=J&&!J.getName&&(L=J.getParent())&&I(L);K=G?K:K||I(J);return!!(H^K);};};r.walker.whitespaces=function(G){return function(H){var I=H&&H.type==3&&!s.trim(H.getText());return!!(G^I);};};r.walker.invisible=function(G){var H=r.walker.whitespaces();return function(I){var J=H(I)||I.is&&!I.$.offsetHeight;return!!(G^J);};};r.walker.nodeType=function(G,H){return function(I){return!!(H^I.type==G);};};var C=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,D=r.walker.whitespaces(),E=r.walker.bookmark(),F=function(G){return E(G)||D(G)||G.type==1&&G.getName() in t.$inline&&!(G.getName() in t.$empty);};v.prototype.getBogus=function(){var G=this;do G=G.getPreviousSourceNode();while(F(G))if(G&&(!q?G.is&&G.is('br'):G.getText&&C.test(G.getText())))return G;return false;};})();r.range=function(z){var A=this;A.startContainer=null;A.startOffset=null;A.endContainer=null;A.endOffset=null;A.collapsed=true;A.document=z;};(function(){var z=function(H){H.collapsed=H.startContainer&&H.endContainer&&H.startContainer.equals(H.endContainer)&&H.startOffset==H.endOffset;},A=function(H,I,J,K){H.optimizeBookmark();var L=H.startContainer,M=H.endContainer,N=H.startOffset,O=H.endOffset,P,Q;
if(M.type==3)M=M.split(O);else if(M.getChildCount()>0)if(O>=M.getChildCount()){M=M.append(H.document.createText(''));Q=true;}else M=M.getChild(O);if(L.type==3){L.split(N);if(L.equals(M))M=L.getNext();}else if(!N){L=L.getFirst().insertBeforeMe(H.document.createText(''));P=true;}else if(N>=L.getChildCount()){L=L.append(H.document.createText(''));P=true;}else L=L.getChild(N).getPrevious();var R=L.getParents(),S=M.getParents(),T,U,V;for(T=0;T<R.length;T++){U=R[T];V=S[T];if(!U.equals(V))break;}var W=J,X,Y,Z,aa;for(var ab=T;ab<R.length;ab++){X=R[ab];if(W&&!X.equals(L))Y=W.append(X.clone());Z=X.getNext();while(Z){if(Z.equals(S[ab])||Z.equals(M))break;aa=Z.getNext();if(I==2)W.append(Z.clone(true));else{Z.remove();if(I==1)W.append(Z);}Z=aa;}if(W)W=Y;}W=J;for(var ac=T;ac<S.length;ac++){X=S[ac];if(I>0&&!X.equals(M))Y=W.append(X.clone());if(!R[ac]||X.$.parentNode!=R[ac].$.parentNode){Z=X.getPrevious();while(Z){if(Z.equals(R[ac])||Z.equals(L))break;aa=Z.getPrevious();if(I==2)W.$.insertBefore(Z.$.cloneNode(true),W.$.firstChild);else{Z.remove();if(I==1)W.$.insertBefore(Z.$,W.$.firstChild);}Z=aa;}}if(W)W=Y;}if(I==2){var ad=H.startContainer;if(ad.type==3){ad.$.data+=ad.$.nextSibling.data;ad.$.parentNode.removeChild(ad.$.nextSibling);}var ae=H.endContainer;if(ae.type==3&&ae.$.nextSibling){ae.$.data+=ae.$.nextSibling.data;ae.$.parentNode.removeChild(ae.$.nextSibling);}}else{if(U&&V&&(L.$.parentNode!=U.$.parentNode||M.$.parentNode!=V.$.parentNode)){var af=V.getIndex();if(P&&V.$.parentNode==L.$.parentNode)af--;if(K&&U.type==1){var ag=v.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',H.document);ag.insertAfter(U);U.mergeSiblings(false);H.moveToBookmark({startNode:ag});}else H.setStart(V.getParent(),af);}H.collapse(true);}if(P)L.remove();if(Q&&M.$.parentNode)M.remove();},B={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,'var':1};function C(H){var I=false,J=r.walker.bookmark(true);return function(K){if(J(K))return true;if(K.type==3){if(s.trim(K.getText()).length)return false;}else if(K.type==1)if(!B[K.getName()])if(!H&&!q&&K.getName()=='br'&&!I)I=true;else return false;return true;};};function D(H){return H.type!=3&&H.getName() in t.$removeEmpty||!s.trim(H.getText())||!!H.getParent().data('cke-bookmark');};var E=new r.walker.whitespaces(),F=new r.walker.bookmark();function G(H){return!E(H)&&!F(H);};r.range.prototype={clone:function(){var I=this;
var H=new r.range(I.document);H.startContainer=I.startContainer;H.startOffset=I.startOffset;H.endContainer=I.endContainer;H.endOffset=I.endOffset;H.collapsed=I.collapsed;return H;},collapse:function(H){var I=this;if(H){I.endContainer=I.startContainer;I.endOffset=I.startOffset;}else{I.startContainer=I.endContainer;I.startOffset=I.endOffset;}I.collapsed=true;},cloneContents:function(){var H=new r.documentFragment(this.document);if(!this.collapsed)A(this,2,H);return H;},deleteContents:function(H){if(this.collapsed)return;A(this,0,null,H);},extractContents:function(H){var I=new r.documentFragment(this.document);if(!this.collapsed)A(this,1,I,H);return I;},createBookmark:function(H){var N=this;var I,J,K,L,M=N.collapsed;I=N.document.createElement('span');I.data('cke-bookmark',1);I.setStyle('display','none');I.setHtml('&nbsp;');if(H){K='cke_bm_'+s.getNextNumber();I.setAttribute('id',K+'S');}if(!M){J=I.clone();J.setHtml('&nbsp;');if(H)J.setAttribute('id',K+'E');L=N.clone();L.collapse();L.insertNode(J);}L=N.clone();L.collapse(true);L.insertNode(I);if(J){N.setStartAfter(I);N.setEndBefore(J);}else N.moveToPosition(I,4);return{startNode:H?K+'S':I,endNode:H?K+'E':J,serializable:H,collapsed:M};},createBookmark2:function(H){var P=this;var I=P.startContainer,J=P.endContainer,K=P.startOffset,L=P.endOffset,M=P.collapsed,N,O;if(!I||!J)return{start:0,end:0};if(H){if(I.type==1){N=I.getChild(K);if(N&&N.type==3&&K>0&&N.getPrevious().type==3){I=N;K=0;}}while(I.type==3&&(O=I.getPrevious())&&O.type==3){I=O;K+=O.getLength();}if(!M){if(J.type==1){N=J.getChild(L);if(N&&N.type==3&&L>0&&N.getPrevious().type==3){J=N;L=0;}}while(J.type==3&&(O=J.getPrevious())&&O.type==3){J=O;L+=O.getLength();}}}return{start:I.getAddress(H),end:M?null:J.getAddress(H),startOffset:K,endOffset:L,normalized:H,collapsed:M,is2:true};},moveToBookmark:function(H){var P=this;if(H.is2){var I=P.document.getByAddress(H.start,H.normalized),J=H.startOffset,K=H.end&&P.document.getByAddress(H.end,H.normalized),L=H.endOffset;P.setStart(I,J);if(K)P.setEnd(K,L);else P.collapse(true);}else{var M=H.serializable,N=M?P.document.getById(H.startNode):H.startNode,O=M?P.document.getById(H.endNode):H.endNode;P.setStartBefore(N);N.remove();if(O){P.setEndBefore(O);O.remove();}else P.collapse(true);}},getBoundaryNodes:function(){var M=this;var H=M.startContainer,I=M.endContainer,J=M.startOffset,K=M.endOffset,L;if(H.type==1){L=H.getChildCount();if(L>J)H=H.getChild(J);else if(L<1)H=H.getPreviousSourceNode();else{H=H.$;while(H.lastChild)H=H.lastChild;
H=new r.node(H);H=H.getNextSourceNode()||H;}}if(I.type==1){L=I.getChildCount();if(L>K)I=I.getChild(K).getPreviousSourceNode(true);else if(L<1)I=I.getPreviousSourceNode();else{I=I.$;while(I.lastChild)I=I.lastChild;I=new r.node(I);}}if(H.getPosition(I)&2)H=I;return{startNode:H,endNode:I};},getCommonAncestor:function(H,I){var M=this;var J=M.startContainer,K=M.endContainer,L;if(J.equals(K)){if(H&&J.type==1&&M.startOffset==M.endOffset-1)L=J.getChild(M.startOffset);else L=J;}else L=J.getCommonAncestor(K);return I&&!L.is?L.getParent():L;},optimize:function(){var J=this;var H=J.startContainer,I=J.startOffset;if(H.type!=1)if(!I)J.setStartBefore(H);else if(I>=H.getLength())J.setStartAfter(H);H=J.endContainer;I=J.endOffset;if(H.type!=1)if(!I)J.setEndBefore(H);else if(I>=H.getLength())J.setEndAfter(H);},optimizeBookmark:function(){var J=this;var H=J.startContainer,I=J.endContainer;if(H.is&&H.is('span')&&H.data('cke-bookmark'))J.setStartAt(H,3);if(I&&I.is&&I.is('span')&&I.data('cke-bookmark'))J.setEndAt(I,4);},trim:function(H,I){var P=this;var J=P.startContainer,K=P.startOffset,L=P.collapsed;if((!H||L)&&J&&J.type==3){if(!K){K=J.getIndex();J=J.getParent();}else if(K>=J.getLength()){K=J.getIndex()+1;J=J.getParent();}else{var M=J.split(K);K=J.getIndex()+1;J=J.getParent();if(P.startContainer.equals(P.endContainer))P.setEnd(M,P.endOffset-P.startOffset);else if(J.equals(P.endContainer))P.endOffset+=1;}P.setStart(J,K);if(L){P.collapse(true);return;}}var N=P.endContainer,O=P.endOffset;if(!(I||L)&&N&&N.type==3){if(!O){O=N.getIndex();N=N.getParent();}else if(O>=N.getLength()){O=N.getIndex()+1;N=N.getParent();}else{N.split(O);O=N.getIndex()+1;N=N.getParent();}P.setEnd(N,O);}},enlarge:function(H,I){switch(H){case 1:if(this.collapsed)return;var J=this.getCommonAncestor(),K=this.document.getBody(),L,M,N,O,P,Q=false,R,S,T=this.startContainer,U=this.startOffset;if(T.type==3){if(U){T=!s.trim(T.substring(0,U)).length&&T;Q=!!T;}if(T)if(!(O=T.getPrevious()))N=T.getParent();}else{if(U)O=T.getChild(U-1)||T.getLast();if(!O)N=T;}while(N||O){if(N&&!O){if(!P&&N.equals(J))P=true;if(!K.contains(N))break;if(!Q||N.getComputedStyle('display')!='inline'){Q=false;if(P)L=N;else this.setStartBefore(N);}O=N.getPrevious();}while(O){R=false;if(O.type==3){S=O.getText();if(/[^\s\ufeff]/.test(S))O=null;R=/[\s\ufeff]$/.test(S);}else if((O.$.offsetWidth>0||I&&O.is('br'))&&!O.data('cke-bookmark'))if(Q&&t.$removeEmpty[O.getName()]){S=O.getText();if(/[^\s\ufeff]/.test(S))O=null;else{var V=O.$.all||O.$.getElementsByTagName('*');
for(var W=0,X;X=V[W++];){if(!t.$removeEmpty[X.nodeName.toLowerCase()]){O=null;break;}}}if(O)R=!!S.length;}else O=null;if(R)if(Q){if(P)L=N;else if(N)this.setStartBefore(N);}else Q=true;if(O){var Y=O.getPrevious();if(!N&&!Y){N=O;O=null;break;}O=Y;}else N=null;}if(N)N=N.getParent();}T=this.endContainer;U=this.endOffset;N=O=null;P=Q=false;if(T.type==3){T=!s.trim(T.substring(U)).length&&T;Q=!(T&&T.getLength());if(T)if(!(O=T.getNext()))N=T.getParent();}else{O=T.getChild(U);if(!O)N=T;}while(N||O){if(N&&!O){if(!P&&N.equals(J))P=true;if(!K.contains(N))break;if(!Q||N.getComputedStyle('display')!='inline'){Q=false;if(P)M=N;else if(N)this.setEndAfter(N);}O=N.getNext();}while(O){R=false;if(O.type==3){S=O.getText();if(/[^\s\ufeff]/.test(S))O=null;R=/^[\s\ufeff]/.test(S);}else if((O.$.offsetWidth>0||I&&O.is('br'))&&!O.data('cke-bookmark'))if(Q&&t.$removeEmpty[O.getName()]){S=O.getText();if(/[^\s\ufeff]/.test(S))O=null;else{V=O.$.all||O.$.getElementsByTagName('*');for(W=0;X=V[W++];){if(!t.$removeEmpty[X.nodeName.toLowerCase()]){O=null;break;}}}if(O)R=!!S.length;}else O=null;if(R)if(Q)if(P)M=N;else this.setEndAfter(N);if(O){Y=O.getNext();if(!N&&!Y){N=O;O=null;break;}O=Y;}else N=null;}if(N)N=N.getParent();}if(L&&M){J=L.contains(M)?M:L;this.setStartBefore(J);this.setEndAfter(J);}break;case 2:case 3:var Z=new r.range(this.document);K=this.document.getBody();Z.setStartAt(K,1);Z.setEnd(this.startContainer,this.startOffset);var aa=new r.walker(Z),ab,ac,ad=r.walker.blockBoundary(H==3?{br:1}:null),ae=function(ag){var ah=ad(ag);if(!ah)ab=ag;return ah;},af=function(ag){var ah=ae(ag);if(!ah&&ag.is&&ag.is('br'))ac=ag;return ah;};aa.guard=ae;N=aa.lastBackward();ab=ab||K;this.setStartAt(ab,!ab.is('br')&&(!N&&this.checkStartOfBlock()||N&&ab.contains(N))?1:4);Z=this.clone();Z.collapse();Z.setEndAt(K,2);aa=new r.walker(Z);aa.guard=H==3?af:ae;ab=null;N=aa.lastForward();ab=ab||K;this.setEndAt(ab,!N&&this.checkEndOfBlock()||N&&ab.contains(N)?2:3);if(ac)this.setEndAfter(ac);}},shrink:function(H,I){if(!this.collapsed){H=H||2;var J=this.clone(),K=this.startContainer,L=this.endContainer,M=this.startOffset,N=this.endOffset,O=this.collapsed,P=1,Q=1;if(K&&K.type==3)if(!M)J.setStartBefore(K);else if(M>=K.getLength())J.setStartAfter(K);else{J.setStartBefore(K);P=0;}if(L&&L.type==3)if(!N)J.setEndBefore(L);else if(N>=L.getLength())J.setEndAfter(L);else{J.setEndAfter(L);Q=0;}var R=new r.walker(J),S=r.walker.bookmark();R.evaluator=function(W){return W.type==(H==1?1:3);};var T;R.guard=function(W,X){if(S(W))return true;
if(H==1&&W.type==3)return false;if(X&&W.equals(T))return false;if(!X&&W.type==1)T=W;return true;};if(P){var U=R[H==1?'lastForward':'next']();U&&this.setStartAt(U,I?1:3);}if(Q){R.reset();var V=R[H==1?'lastBackward':'previous']();V&&this.setEndAt(V,I?2:4);}return!!(P||Q);}},insertNode:function(H){var L=this;L.optimizeBookmark();L.trim(false,true);var I=L.startContainer,J=L.startOffset,K=I.getChild(J);if(K)H.insertBefore(K);else I.append(H);if(H.getParent().equals(L.endContainer))L.endOffset++;L.setStartBefore(H);},moveToPosition:function(H,I){this.setStartAt(H,I);this.collapse(true);},selectNodeContents:function(H){this.setStart(H,0);this.setEnd(H,H.type==3?H.getLength():H.getChildCount());},setStart:function(H,I){var J=this;if(H.type==1&&t.$empty[H.getName()])I=H.getIndex(),H=H.getParent();J.startContainer=H;J.startOffset=I;if(!J.endContainer){J.endContainer=H;J.endOffset=I;}z(J);},setEnd:function(H,I){var J=this;if(H.type==1&&t.$empty[H.getName()])I=H.getIndex()+1,H=H.getParent();J.endContainer=H;J.endOffset=I;if(!J.startContainer){J.startContainer=H;J.startOffset=I;}z(J);},setStartAfter:function(H){this.setStart(H.getParent(),H.getIndex()+1);},setStartBefore:function(H){this.setStart(H.getParent(),H.getIndex());},setEndAfter:function(H){this.setEnd(H.getParent(),H.getIndex()+1);},setEndBefore:function(H){this.setEnd(H.getParent(),H.getIndex());},setStartAt:function(H,I){var J=this;switch(I){case 1:J.setStart(H,0);break;case 2:if(H.type==3)J.setStart(H,H.getLength());else J.setStart(H,H.getChildCount());break;case 3:J.setStartBefore(H);break;case 4:J.setStartAfter(H);}z(J);},setEndAt:function(H,I){var J=this;switch(I){case 1:J.setEnd(H,0);break;case 2:if(H.type==3)J.setEnd(H,H.getLength());else J.setEnd(H,H.getChildCount());break;case 3:J.setEndBefore(H);break;case 4:J.setEndAfter(H);}z(J);},fixBlock:function(H,I){var L=this;var J=L.createBookmark(),K=L.document.createElement(I);L.collapse(H);L.enlarge(2);L.extractContents().appendTo(K);K.trim();if(!q)K.appendBogus();L.insertNode(K);L.moveToBookmark(J);return K;},splitBlock:function(H){var R=this;var I=new r.elementPath(R.startContainer),J=new r.elementPath(R.endContainer),K=I.blockLimit,L=J.blockLimit,M=I.block,N=J.block,O=null;if(!K.equals(L))return null;if(H!='br'){if(!M){M=R.fixBlock(true,H);N=new r.elementPath(R.endContainer).block;}if(!N)N=R.fixBlock(false,H);}var P=M&&R.checkStartOfBlock(),Q=N&&R.checkEndOfBlock();R.deleteContents();if(M&&M.equals(N))if(Q){O=new r.elementPath(R.startContainer);R.moveToPosition(N,4);
N=null;}else if(P){O=new r.elementPath(R.startContainer);R.moveToPosition(M,3);M=null;}else{N=R.splitElement(M);if(!q&&!M.is('ul','ol'))M.appendBogus();}return{previousBlock:M,nextBlock:N,wasStartOfBlock:P,wasEndOfBlock:Q,elementPath:O};},splitElement:function(H){var K=this;if(!K.collapsed)return null;K.setEndAt(H,2);var I=K.extractContents(),J=H.clone(false);I.appendTo(J);J.insertAfter(H);K.moveToPosition(H,4);return J;},checkBoundaryOfElement:function(H,I){var J=I==1,K=this.clone();K.collapse(J);K[J?'setStartAt':'setEndAt'](H,J?1:2);var L=new r.walker(K);L.evaluator=D;return L[J?'checkBackward':'checkForward']();},checkStartOfBlock:function(){var N=this;var H=N.startContainer,I=N.startOffset;if(I&&H.type==3){var J=s.ltrim(H.substring(0,I));if(J.length)return false;}N.trim();var K=new r.elementPath(N.startContainer),L=N.clone();L.collapse(true);L.setStartAt(K.block||K.blockLimit,1);var M=new r.walker(L);M.evaluator=C(true);return M.checkBackward();},checkEndOfBlock:function(){var N=this;var H=N.endContainer,I=N.endOffset;if(H.type==3){var J=s.rtrim(H.substring(I));if(J.length)return false;}N.trim();var K=new r.elementPath(N.endContainer),L=N.clone();L.collapse(false);L.setEndAt(K.block||K.blockLimit,2);var M=new r.walker(L);M.evaluator=C(false);return M.checkForward();},checkReadOnly:(function(){function H(I,J){while(I){if(I.type==1)if(I.getAttribute('contentEditable')=='false'&&!I.data('cke-editable'))return 0;else if(I.is('body')||I.getAttribute('contentEditable')=='true'&&(I.contains(J)||I.equals(J)))break;I=I.getParent();}return 1;};return function(){var I=this.startContainer,J=this.endContainer;return!(H(I,J)&&H(J,I));};})(),moveToElementEditablePosition:function(H,I){var J;if(t.$empty[H.getName()])return false;while(H&&H.type==1){J=H.isEditable();if(J)this.moveToPosition(H,I?2:1);else if(t.$inline[H.getName()]){this.moveToPosition(H,I?4:3);return true;}if(t.$empty[H.getName()])H=H[I?'getPrevious':'getNext'](G);else H=H[I?'getLast':'getFirst'](G);if(H&&H.type==3){this.moveToPosition(H,I?4:3);return true;}}return J;},moveToElementEditStart:function(H){return this.moveToElementEditablePosition(H);},moveToElementEditEnd:function(H){return this.moveToElementEditablePosition(H,true);},getEnclosedNode:function(){var H=this.clone();H.optimize();if(H.startContainer.type!=1||H.endContainer.type!=1)return null;var I=new r.walker(H),J=r.walker.bookmark(true),K=r.walker.whitespaces(true),L=function(N){return K(N)&&J(N);};H.evaluator=L;var M=I.next();I.reset();return M&&M.equals(I.previous())?M:null;
},getTouchedStartNode:function(){var H=this.startContainer;if(this.collapsed||H.type!=1)return H;return H.getChild(this.startOffset)||H;},getTouchedEndNode:function(){var H=this.endContainer;if(this.collapsed||H.type!=1)return H;return H.getChild(this.endOffset-1)||H;}};})();o.POSITION_AFTER_START=1;o.POSITION_BEFORE_END=2;o.POSITION_BEFORE_START=3;o.POSITION_AFTER_END=4;o.ENLARGE_ELEMENT=1;o.ENLARGE_BLOCK_CONTENTS=2;o.ENLARGE_LIST_ITEM_CONTENTS=3;o.START=1;o.END=2;o.STARTEND=3;o.SHRINK_ELEMENT=1;o.SHRINK_TEXT=2;(function(){r.rangeList=function(B){if(B instanceof r.rangeList)return B;if(!B)B=[];else if(B instanceof r.range)B=[B];return s.extend(B,z);};var z={createIterator:function(){var B=this,C=r.walker.bookmark(),D=function(G){return!(G.is&&G.is('tr'));},E=[],F;return{getNextRange:function(G){F=F==undefined?0:F+1;var H=B[F];if(H&&B.length>1){if(!F)for(var I=B.length-1;I>=0;I--)E.unshift(B[I].createBookmark(true));if(G){var J=0;while(B[F+J+1]){var K=H.document,L=0,M=K.getById(E[J].endNode),N=K.getById(E[J+1].startNode),O;while(1){O=M.getNextSourceNode(false);if(!N.equals(O)){if(C(O)||O.type==1&&O.isBlockBoundary()){M=O;continue;}}else L=1;break;}if(!L)break;J++;}}H.moveToBookmark(E.shift());while(J--){O=B[++F];O.moveToBookmark(E.shift());H.setEnd(O.endContainer,O.endOffset);}}return H;}};},createBookmarks:function(B){var G=this;var C=[],D;for(var E=0;E<G.length;E++){C.push(D=G[E].createBookmark(B,true));for(var F=E+1;F<G.length;F++){G[F]=A(D,G[F]);G[F]=A(D,G[F],true);}}return C;},createBookmarks2:function(B){var C=[];for(var D=0;D<this.length;D++)C.push(this[D].createBookmark2(B));return C;},moveToBookmarks:function(B){for(var C=0;C<this.length;C++)this[C].moveToBookmark(B[C]);}};function A(B,C,D){var E=B.serializable,F=C[D?'endContainer':'startContainer'],G=D?'endOffset':'startOffset',H=E?C.document.getById(B.startNode):B.startNode,I=E?C.document.getById(B.endNode):B.endNode;if(F.equals(H.getPrevious())){C.startOffset=C.startOffset-F.getLength()-I.getPrevious().getLength();F=I.getNext();}else if(F.equals(I.getPrevious())){C.startOffset=C.startOffset-F.getLength();F=I.getNext();}F.equals(H.getParent())&&C[G]++;F.equals(I.getParent())&&C[G]++;C[D?'endContainer':'startContainer']=F;return C;};})();(function(){if(p.webkit){p.hc=false;return;}var z=q&&p.version<7,A=q&&p.version==7,B=z?o.basePath+'images/spacer.gif':A?'about:blank':'data:image/png;base64,',C=v.createFromHtml('<div style="width:0px;height:0px;position:absolute;left:-10000px;background-image:url('+B+')"></div>',o.document);
C.appendTo(o.document.getHead());try{p.hc=C.getComputedStyle('background-image')=='none';}catch(D){p.hc=false;}if(p.hc)p.cssClass+=' cke_hc';C.remove();})();x.load(w.corePlugins.split(','),function(){o.status='loaded';o.fire('loaded');var z=o._.pending;if(z){delete o._.pending;for(var A=0;A<z.length;A++)o.add(z[A]);}});if(q)try{document.execCommand('BackgroundImageCache',false,true);}catch(z){}o.skins.add('kama',(function(){var A='cke_ui_color';return{editor:{css:['editor.css']},dialog:{css:['dialog.css']},templates:{css:['templates.css']},margins:[0,0,0,0],init:function(B){if(B.config.width&&!isNaN(B.config.width))B.config.width-=12;var C=[],D=/\$color/g,E='/* UI Color Support */.cke_skin_kama .cke_menuitem .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_label,.cke_skin_kama .cke_menuitem a:focus .cke_label,.cke_skin_kama .cke_menuitem a:active .cke_label{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_label{\tbackground-color: transparent !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuseparator{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover,.cke_skin_kama .cke_menuitem a:focus,.cke_skin_kama .cke_menuitem a:active{\tbackground-color: $color !important;}';if(p.webkit){E=E.split('}').slice(0,-1);for(var F=0;F<E.length;F++)E[F]=E[F].split('{');}function G(J){var K=J.getById(A);if(!K){K=J.getHead().append('style');K.setAttribute('id',A);K.setAttribute('type','text/css');}return K;};function H(J,K,L){var M,N,O;for(var P=0;P<J.length;P++){if(p.webkit)for(N=0;N<K.length;N++){O=K[N][1];for(M=0;M<L.length;M++)O=O.replace(L[M][0],L[M][1]);J[P].$.sheet.addRule(K[N][0],O);
}else{O=K;for(M=0;M<L.length;M++)O=O.replace(L[M][0],L[M][1]);if(q)J[P].$.styleSheet.cssText+=O;else J[P].$.innerHTML+=O;}}};var I=/\$color/g;s.extend(B,{uiColor:null,getUiColor:function(){return this.uiColor;},setUiColor:function(J){var K,L=G(o.document),M='.'+B.id,N=[M+' .cke_wrapper',M+'_dialog .cke_dialog_contents',M+'_dialog a.cke_dialog_tab',M+'_dialog .cke_dialog_footer'].join(','),O='background-color: $color !important;';if(p.webkit)K=[[N,O]];else K=N+'{'+O+'}';return(this.setUiColor=function(P){var Q=[[I,P]];B.uiColor=P;H([L],K,Q);H(C,E,Q);})(J);}});B.on('menuShow',function(J){var K=J.data[0],L=K.element.getElementsByTag('iframe').getItem(0).getFrameDocument();if(!L.getById('cke_ui_color')){var M=G(L);C.push(M);var N=B.getUiColor();if(N)H([M],E,[[I,N]]);}});if(B.config.uiColor)B.setUiColor(B.config.uiColor);}};})());(function(){o.dialog?A():o.on('dialogPluginReady',A);function A(){o.dialog.on('resize',function(B){var C=B.data,D=C.width,E=C.height,F=C.dialog,G=F.parts.contents;if(C.skin!='kama')return;G.setStyles({width:D+'px',height:E+'px'});});};})();o.lang.en={dir:'ltr',editorTitle:'Rich text editor, %1, press ALT 0 for help.',toolbar:'Toolbar',editor:'Rich Text Editor',source:'Wiki',newPage:'New Page',save:'Save',preview:'Preview',cut:'Cut',copy:'Copy',paste:'Paste',print:'Print',underline:'Underline',bold:'Bold',italic:'Italic',selectAll:'Select All',removeFormat:'Remove Format',strike:'Strike Through',subscript:'Subscript',superscript:'Superscript',horizontalrule:'Insert Horizontal Line',pagebreak:'Insert Page Break for Printing',pagebreakAlt:'Page Break',unlink:'Unlink',undo:'Undo',redo:'Redo',common:{browseServer:'Browse Server',url:'URL',protocol:'Protocol',upload:'Upload',uploadSubmit:'Send it to the Server',image:'Image',flash:'Flash',form:'Form',checkbox:'Checkbox',radio:'Radio Button',textField:'Text Field',textarea:'Textarea',hiddenField:'Hidden Field',button:'Button',select:'Selection Field',imageButton:'Image Button',notSet:'<not set>',id:'Id',name:'Name',langDir:'Language Direction',langDirLtr:'Left to Right (LTR)',langDirRtl:'Right to Left (RTL)',langCode:'Language Code',longDescr:'Long Description URL',cssClass:'Stylesheet Classes',advisoryTitle:'Advisory Title',cssStyle:'Style',ok:'OK',cancel:'Cancel',close:'Close',preview:'Preview',generalTab:'General',advancedTab:'Advanced',validateNumberFailed:'This value is not a number.',confirmNewPage:'Any unsaved changes to this content will be lost. Are you sure you want to load new page?',confirmCancel:'Some of the options have been changed. Are you sure to close the dialog?',options:'Options',target:'Target',targetNew:'New Window (_blank)',targetTop:'Topmost Window (_top)',targetSelf:'Same Window (_self)',targetParent:'Parent Window (_parent)',langDirLTR:'Left to Right (LTR)',langDirRTL:'Right to Left (RTL)',styles:'Style',cssClasses:'Stylesheet Classes',width:'Width',height:'Height',align:'Alignment',alignLeft:'Left',alignRight:'Right',alignCenter:'Center',alignTop:'Top',alignMiddle:'Middle',alignBottom:'Bottom',invalidHeight:'Height must be a number.',invalidWidth:'Width must be a number.',unavailable:'%1<span class="cke_accessibility">, unavailable</span>'},contextmenu:{options:'Context Menu Options'},specialChar:{toolbar:'Insert Special Character',title:'Select Special Character',options:'Special Character Options'},link:{toolbar:'Link',other:'<other>',menu:'Edit Link',title:'Link',info:'Link Info',target:'Target',upload:'Upload',advanced:'Advanced',type:'Link Type',toUrl:'URL',toAnchor:'Link to anchor in the text',toEmail:'E-mail',targetFrame:'<frame>',targetPopup:'<popup window>',targetFrameName:'Target Frame Name',targetPopupName:'Popup Window Name',popupFeatures:'Popup Window Features',popupResizable:'Resizable',popupStatusBar:'Status Bar',popupLocationBar:'Location Bar',popupToolbar:'Toolbar',popupMenuBar:'Menu Bar',popupFullScreen:'Full Screen (IE)',popupScrollBars:'Scroll Bars',popupDependent:'Dependent (Netscape)',popupLeft:'Left Position',popupTop:'Top Position',id:'Id',langDir:'Language Direction',langDirLTR:'Left to Right (LTR)',langDirRTL:'Right to Left (RTL)',acccessKey:'Access Key',name:'Name',langCode:'Language Code',tabIndex:'Tab Index',advisoryTitle:'Advisory Title',advisoryContentType:'Advisory Content Type',cssClasses:'Stylesheet Classes',charset:'Linked Resource Charset',styles:'Style',selectAnchor:'Select an Anchor',anchorName:'By Anchor Name',anchorId:'By Element Id',emailAddress:'E-Mail Address',emailSubject:'Message Subject',emailBody:'Message Body',noAnchors:'(No anchors available in the document)',noUrl:'Please type the link URL',noEmail:'Please type the e-mail address'},anchor:{toolbar:'Anchor',menu:'Edit Anchor',title:'Anchor Properties',name:'Anchor Name',errorName:'Please type the anchor name'},list:{numberedTitle:'Numbered List Properties',bulletedTitle:'Bulleted List Properties',type:'Type',start:'Start',validateStartNumber:'List start number must be a whole number.',circle:'Circle',disc:'Disc',square:'Square',none:'None',notset:'<not set>',armenian:'Armenian numbering',georgian:'Georgian numbering (an, ban, gan, etc.)',lowerRoman:'Lower Roman (i, ii, iii, iv, v, etc.)',upperRoman:'Upper Roman (I, II, III, IV, V, etc.)',lowerAlpha:'Lower Alpha (a, b, c, d, e, etc.)',upperAlpha:'Upper Alpha (A, B, C, D, E, etc.)',lowerGreek:'Lower Greek (alpha, beta, gamma, etc.)',decimal:'Decimal (1, 2, 3, etc.)',decimalLeadingZero:'Decimal leading zero (01, 02, 03, etc.)'},findAndReplace:{title:'Find and Replace',find:'Find',replace:'Replace',findWhat:'Find what:',replaceWith:'Replace with:',notFoundMsg:'The specified text was not found.',matchCase:'Match case',matchWord:'Match whole word',matchCyclic:'Match cyclic',replaceAll:'Replace All',replaceSuccessMsg:'%1 occurrence(s) replaced.'},table:{toolbar:'Table',title:'Table Properties',menu:'Table Properties',deleteTable:'Delete Table',rows:'Rows',columns:'Columns',border:'Border size',widthPx:'pixels',widthPc:'percent',widthUnit:'width unit',cellSpace:'Cell spacing',cellPad:'Cell padding',caption:'Caption',summary:'Summary',headers:'Headers',headersNone:'None',headersColumn:'First column',headersRow:'First Row',headersBoth:'Both',invalidRows:'Number of rows must be a number greater than 0.',invalidCols:'Number of columns must be a number greater than 0.',invalidBorder:'Border size must be a number.',invalidWidth:'Table width must be a number.',invalidHeight:'Table height must be a number.',invalidCellSpacing:'Cell spacing must be a number.',invalidCellPadding:'Cell padding must be a number.',cell:{menu:'Cell',insertBefore:'Insert Cell Before',insertAfter:'Insert Cell After',deleteCell:'Delete Cells',merge:'Merge Cells',mergeRight:'Merge Right',mergeDown:'Merge Down',splitHorizontal:'Split Cell Horizontally',splitVertical:'Split Cell Vertically',title:'Cell Properties',cellType:'Cell Type',rowSpan:'Rows Span',colSpan:'Columns Span',wordWrap:'Word Wrap',hAlign:'Horizontal Alignment',vAlign:'Vertical Alignment',alignBaseline:'Baseline',bgColor:'Background Color',borderColor:'Border Color',data:'Data',header:'Header',yes:'Yes',no:'No',invalidWidth:'Cell width must be a number.',invalidHeight:'Cell height must be a number.',invalidRowSpan:'Rows span must be a whole number.',invalidColSpan:'Columns span must be a whole number.',chooseColor:'Choose'},row:{menu:'Row',insertBefore:'Insert Row Before',insertAfter:'Insert Row After',deleteRow:'Delete Rows'},column:{menu:'Column',insertBefore:'Insert Column Before',insertAfter:'Insert Column After',deleteColumn:'Delete Columns'}},button:{title:'Button Properties',text:'Text (Value)',type:'Type',typeBtn:'Button',typeSbm:'Submit',typeRst:'Reset'},checkboxAndRadio:{checkboxTitle:'Checkbox Properties',radioTitle:'Radio Button Properties',value:'Value',selected:'Selected'},form:{title:'Form Properties',menu:'Form Properties',action:'Action',method:'Method',encoding:'Encoding'},select:{title:'Selection Field Properties',selectInfo:'Select Info',opAvail:'Available Options',value:'Value',size:'Size',lines:'lines',chkMulti:'Allow multiple selections',opText:'Text',opValue:'Value',btnAdd:'Add',btnModify:'Modify',btnUp:'Up',btnDown:'Down',btnSetValue:'Set as selected value',btnDelete:'Delete'},textarea:{title:'Textarea Properties',cols:'Columns',rows:'Rows'},textfield:{title:'Text Field Properties',name:'Name',value:'Value',charWidth:'Character Width',maxChars:'Maximum Characters',type:'Type',typeText:'Text',typePass:'Password'},hidden:{title:'Hidden Field Properties',name:'Name',value:'Value'},image:{title:'Image Properties',titleButton:'Image Button Properties',menu:'Image Properties',infoTab:'Image Info',btnUpload:'Send it to the Server',upload:'Upload',alt:'Alternative Text',lockRatio:'Lock Ratio',unlockRatio:'Unlock Ratio',resetSize:'Reset Size',border:'Border',hSpace:'HSpace',vSpace:'VSpace',alertUrl:'Please type the image URL',linkTab:'Link',button2Img:'Do you want to transform the selected image button on a simple image?',img2Button:'Do you want to transform the selected image on a image button?',urlMissing:'Image source URL is missing.',validateBorder:'Border must be a whole number.',validateHSpace:'HSpace must be a whole number.',validateVSpace:'VSpace must be a whole number.'},flash:{properties:'Flash Properties',propertiesTab:'Properties',title:'Flash Properties',chkPlay:'Auto Play',chkLoop:'Loop',chkMenu:'Enable Flash Menu',chkFull:'Allow Fullscreen',scale:'Scale',scaleAll:'Show all',scaleNoBorder:'No Border',scaleFit:'Exact Fit',access:'Script Access',accessAlways:'Always',accessSameDomain:'Same domain',accessNever:'Never',alignAbsBottom:'Abs Bottom',alignAbsMiddle:'Abs Middle',alignBaseline:'Baseline',alignTextTop:'Text Top',quality:'Quality',qualityBest:'Best',qualityHigh:'High',qualityAutoHigh:'Auto High',qualityMedium:'Medium',qualityAutoLow:'Auto Low',qualityLow:'Low',windowModeWindow:'Window',windowModeOpaque:'Opaque',windowModeTransparent:'Transparent',windowMode:'Window mode',flashvars:'Variables for Flash',bgcolor:'Background color',hSpace:'HSpace',vSpace:'VSpace',validateSrc:'URL must not be empty.',validateHSpace:'HSpace must be a number.',validateVSpace:'VSpace must be a number.'},spellCheck:{toolbar:'Check Spelling',title:'Spell Check',notAvailable:'Sorry, but service is unavailable now.',errorLoading:'Error loading application service host: %s.',notInDic:'Not in dictionary',changeTo:'Change to',btnIgnore:'Ignore',btnIgnoreAll:'Ignore All',btnReplace:'Replace',btnReplaceAll:'Replace All',btnUndo:'Undo',noSuggestions:'- No suggestions -',progress:'Spell check in progress...',noMispell:'Spell check complete: No misspellings found',noChanges:'Spell check complete: No words changed',oneChange:'Spell check complete: One word changed',manyChanges:'Spell check complete: %1 words changed',ieSpellDownload:'Spell checker not installed. Do you want to download it now?'},smiley:{toolbar:'Smiley',title:'Insert a Smiley',options:'Smiley Options'},elementsPath:{eleLabel:'Elements path',eleTitle:'%1 element'},numberedlist:'Insert/Remove Numbered List',bulletedlist:'Insert/Remove Bulleted List',indent:'Increase Indent',outdent:'Decrease Indent',justify:{left:'Align Left',center:'Center',right:'Align Right',block:'Justify'},blockquote:'Block Quote',clipboard:{title:'Paste',cutError:"Your browser security settings don't permit the editor to automatically execute cutting operations. Please use the keyboard for that (Ctrl/Cmd+X).",copyError:"Your browser security settings don't permit the editor to automatically execute copying operations. Please use the keyboard for that (Ctrl/Cmd+C).",pasteMsg:'Please paste inside the following box using the keyboard (<strong>Ctrl/Cmd+V</strong>) and hit OK',securityMsg:'Because of your browser security settings, the editor is not able to access your clipboard data directly. You are required to paste it again in this window.',pasteArea:'Paste Area'},pastefromword:{confirmCleanup:'The text you want to paste seems to be copied from Word. Do you want to clean it before pasting?',toolbar:'Paste from Word',title:'Paste from Word',error:'It was not possible to clean up the pasted data due to an internal error'},pasteText:{button:'Paste as plain text',title:'Paste as Plain Text'},templates:{button:'Templates',title:'Content Templates',options:'Template Options',insertOption:'Replace actual contents',selectPromptMsg:'Please select the template to open in the editor',emptyListMsg:'(No templates defined)'},showBlocks:'Show Blocks',stylesCombo:{label:'Styles',panelTitle:'Formatting Styles',panelTitle1:'Block Styles',panelTitle2:'Inline Styles',panelTitle3:'Object Styles'},format:{label:'Format',panelTitle:'Paragraph Format',tag_p:'Normal',tag_pre:'Formatted',tag_address:'Address',tag_h1:'Heading 1',tag_h2:'Heading 2',tag_h3:'Heading 3',tag_h4:'Heading 4',tag_h5:'Heading 5',tag_h6:'Heading 6',tag_div:'Normal (DIV)'},div:{title:'Create Div Container',toolbar:'Create Div Container',cssClassInputLabel:'Stylesheet Classes',styleSelectLabel:'Style',IdInputLabel:'Id',languageCodeInputLabel:' Language Code',inlineStyleInputLabel:'Inline Style',advisoryTitleInputLabel:'Advisory Title',langDirLabel:'Language Direction',langDirLTRLabel:'Left to Right (LTR)',langDirRTLLabel:'Right to Left (RTL)',edit:'Edit Div',remove:'Remove Div'},iframe:{title:'IFrame Properties',toolbar:'IFrame',noUrl:'Please type the iframe URL',scrolling:'Enable scrollbars',border:'Show frame border'},font:{label:'Font',voiceLabel:'Font',panelTitle:'Font Name'},fontSize:{label:'Size',voiceLabel:'Font Size',panelTitle:'Font Size'},colorButton:{textColorTitle:'Text Color',bgColorTitle:'Background Color',panelTitle:'Colors',auto:'Automatic',more:'More Colors...'},colors:{'000':'Black',800000:'Maroon','8B4513':'Saddle Brown','2F4F4F':'Dark Slate Gray','008080':'Teal','000080':'Navy','4B0082':'Indigo',696969:'Dark Gray',B22222:'Fire Brick',A52A2A:'Brown',DAA520:'Golden Rod','006400':'Dark Green','40E0D0':'Turquoise','0000CD':'Medium Blue',800080:'Purple',808080:'Gray',F00:'Red',FF8C00:'Dark Orange',FFD700:'Gold','008000':'Green','0FF':'Cyan','00F':'Blue',EE82EE:'Violet',A9A9A9:'Dim Gray',FFA07A:'Light Salmon',FFA500:'Orange',FFFF00:'Yellow','00FF00':'Lime',AFEEEE:'Pale Turquoise',ADD8E6:'Light Blue',DDA0DD:'Plum',D3D3D3:'Light Grey',FFF0F5:'Lavender Blush',FAEBD7:'Antique White',FFFFE0:'Light Yellow',F0FFF0:'Honeydew',F0FFFF:'Azure',F0F8FF:'Alice Blue',E6E6FA:'Lavender',FFF:'White'},scayt:{title:'Spell Check As You Type',opera_title:'Not supported by Opera',enable:'Enable SCAYT',disable:'Disable SCAYT',about:'About SCAYT',toggle:'Toggle SCAYT',options:'Options',langs:'Languages',moreSuggestions:'More suggestions',ignore:'Ignore',ignoreAll:'Ignore All',addWord:'Add Word',emptyDic:'Dictionary name should not be empty.',optionsTab:'Options',allCaps:'Ignore All-Caps Words',ignoreDomainNames:'Ignore Domain Names',mixedCase:'Ignore Words with Mixed Case',mixedWithDigits:'Ignore Words with Numbers',languagesTab:'Languages',dictionariesTab:'Dictionaries',dic_field_name:'Dictionary name',dic_create:'Create',dic_restore:'Restore',dic_delete:'Delete',dic_rename:'Rename',dic_info:'Initially the User Dictionary is stored in a Cookie. However, Cookies are limited in size. When the User Dictionary grows to a point where it cannot be stored in a Cookie, then the dictionary may be stored on our server. To store your personal dictionary on our server you should specify a name for your dictionary. If you already have a stored dictionary, please type its name and click the Restore button.',aboutTab:'About'},about:{title:'About CKEditor',dlgTitle:'About CKEditor',moreInfo:'For licensing information please visit our web site:',copy:'Copyright &copy; $1. All rights reserved.'},maximize:'Maximize',minimize:'Minimize',fakeobjects:{anchor:'Anchor',flash:'Flash Animation',iframe:'IFrame',hiddenfield:'Hidden Field',unknown:'Unknown Object'},resize:'Drag to resize',colordialog:{title:'Select color',options:'Color Options',highlight:'Highlight',selected:'Selected Color',clear:'Clear'},toolbarCollapse:'Collapse Toolbar',toolbarExpand:'Expand Toolbar',bidi:{ltr:'Text direction from left to right',rtl:'Text direction from right to left'}};
x.add('about',{requires:['dialog'],init:function(A){var B=A.addCommand('about',new o.dialogCommand('about'));B.modes={wysiwyg:1,source:1};B.canUndo=false;A.ui.addButton('About',{label:A.lang.about.title,command:'about'});o.dialog.add('about',this.path+'dialogs/about.js');}});(function(){var A='a11yhelp',B='a11yHelp';x.add(A,{availableLangs:{en:1,he:1},init:function(C){var D=this;C.addCommand(B,{exec:function(){var E=C.langCode;E=D.availableLangs[E]?E:'en';o.scriptLoader.load(o.getUrl(D.path+'lang/'+E+'.js'),function(){s.extend(C.lang,D.lang[E]);C.openDialog(B);});},modes:{wysiwyg:1,source:1},canUndo:false});o.dialog.add(B,this.path+'dialogs/a11yhelp.js');}});})();x.add('basicstyles',{requires:['styles','button'],init:function(A){var B=function(E,F,G,H){var I=new o.style(H);A.attachStyleStateChange(I,function(J){A.getCommand(G).setState(J);});A.addCommand(G,new o.styleCommand(I));A.ui.addButton(E,{label:F,command:G});},C=A.config,D=A.lang;B('Bold',D.bold,'bold',C.coreStyles_bold);B('Italic',D.italic,'italic',C.coreStyles_italic);B('Underline',D.underline,'underline',C.coreStyles_underline);B('Strike',D.strike,'strike',C.coreStyles_strike);B('Subscript',D.subscript,'subscript',C.coreStyles_subscript);B('Superscript',D.superscript,'superscript',C.coreStyles_superscript);}});w.coreStyles_bold={element:'strong',overrides:'b'};w.coreStyles_italic={element:'em',overrides:'i'};w.coreStyles_underline={element:'u'};w.coreStyles_strike={element:'strike'};w.coreStyles_subscript={element:'sub'};w.coreStyles_superscript={element:'sup'};(function(){var A={table:1,ul:1,ol:1,blockquote:1,div:1},B={},C={};s.extend(B,A,{tr:1,p:1,div:1,li:1});s.extend(C,B,{td:1});function D(K){E(K);F(K);};function E(K){var L=K.editor,M=K.data.path,N=L.config.useComputedState,O;N=N===undefined||N;if(!N)O=G(M.lastElement);O=O||M.block||M.blockLimit;O.is('body')&&(O=L.getSelection().getRanges()[0].getEnclosedNode());if(!O)return;var P=N?O.getComputedStyle('direction'):O.getStyle('direction')||O.getAttribute('dir');L.getCommand('bidirtl').setState(P=='rtl'?1:2);L.getCommand('bidiltr').setState(P=='ltr'?1:2);};function F(K){var L=K.editor,M=L.container.getChild(1),N=K.data.path.block||K.data.path.blockLimit;if(N&&L.lang.dir!=N.getComputedStyle('direction'))M.addClass('cke_mixed_dir_content');else M.removeClass('cke_mixed_dir_content');};function G(K){while(K&&!(K.getName() in C||K.is('body'))){var L=K.getParent();if(!L)break;K=L;}return K;};function H(K,L,M,N){v.setMarker(N,K,'bidi_processed',1);var O=K;
while((O=O.getParent())&&!O.is('body')){if(O.getCustomData('bidi_processed')){K.removeStyle('direction');K.removeAttribute('dir');return null;}}var P='useComputedState' in M.config?M.config.useComputedState:1,Q=P?K.getComputedStyle('direction'):K.getStyle('direction')||K.hasAttribute('dir');if(Q==L)return null;var R=P?Q:K.getComputedStyle('direction');K.removeStyle('direction');if(P){K.removeAttribute('dir');if(L!=K.getComputedStyle('direction'))K.setAttribute('dir',L);}else K.setAttribute('dir',L);if(L!=R)M.fire('dirChanged',{node:K,dir:L});M.forceNextSelectionCheck();return null;};function I(K,L,M){var N=K.getCommonAncestor(false,true);K=K.clone();K.enlarge(M==2?3:2);if(K.checkBoundaryOfElement(N,1)&&K.checkBoundaryOfElement(N,2)){var O;while(N&&N.type==1&&(O=N.getParent())&&O.getChildCount()==1&&!(N.getName() in L))N=O;return N.type==1&&N.getName() in L&&N;}};function J(K){return function(L){var M=L.getSelection(),N=L.config.enterMode,O=M.getRanges();if(O&&O.length){var P={},Q=M.createBookmarks(),R=O.createIterator(),S,T=0;while(S=R.getNextRange(1)){var U=S.getEnclosedNode();if(!U||U&&!(U.type==1&&U.getName() in B))U=I(S,A,N);if(U&&!U.isReadOnly())H(U,K,L,P);var V,W,X=new r.walker(S),Y=Q[T].startNode,Z=Q[T++].endNode;X.evaluator=function(aa){return!!(aa.type==1&&aa.getName() in A&&!(aa.getName()==(N==1?'p':'div')&&aa.getParent().type==1&&aa.getParent().getName()=='blockquote')&&aa.getPosition(Y)&2&&(aa.getPosition(Z)&4+16)==4);};while(W=X.next())H(W,K,L,P);V=S.createIterator();V.enlargeBr=N!=2;while(W=V.getNextParagraph(N==1?'p':'div'))!W.isReadOnly()&&H(W,K,L,P);}v.clearAllMarkers(P);L.forceNextSelectionCheck();M.selectBookmarks(Q);L.focus();}};};x.add('bidi',{requires:['styles','button'],init:function(K){var L=function(N,O,P,Q){K.addCommand(P,new o.command(K,{exec:Q}));K.ui.addButton(N,{label:O,command:P});},M=K.lang.bidi;L('BidiLtr',M.ltr,'bidiltr',J('ltr'));L('BidiRtl',M.rtl,'bidirtl',J('rtl'));K.on('selectionChange',D);}});})();(function(){function A(E,F){var G=F.block||F.blockLimit;if(!G||G.getName()=='body')return 2;if(G.getAscendant('blockquote',true))return 1;return 2;};function B(E){var F=E.editor,G=F.getCommand('blockquote');G.state=A(F,E.data.path);G.fire('state');};function C(E){for(var F=0,G=E.getChildCount(),H;F<G&&(H=E.getChild(F));F++){if(H.type==1&&H.isBlockBoundary())return false;}return true;};var D={exec:function(E){var F=E.getCommand('blockquote').state,G=E.getSelection(),H=G&&G.getRanges(true)[0];if(!H)return;var I=G.createBookmarks();
if(q){var J=I[0].startNode,K=I[0].endNode,L;if(J&&J.getParent().getName()=='blockquote'){L=J;while(L=L.getNext()){if(L.type==1&&L.isBlockBoundary()){J.move(L,true);break;}}}if(K&&K.getParent().getName()=='blockquote'){L=K;while(L=L.getPrevious()){if(L.type==1&&L.isBlockBoundary()){K.move(L);break;}}}}var M=H.createIterator(),N;M.enlargeBr=E.config.enterMode!=2;if(F==2){var O=[];while(N=M.getNextParagraph())O.push(N);if(O.length<1){var P=E.document.createElement(E.config.enterMode==1?'p':'div'),Q=I.shift();H.insertNode(P);P.append(new r.text('\ufeff',E.document));H.moveToBookmark(Q);H.selectNodeContents(P);H.collapse(true);Q=H.createBookmark();O.push(P);I.unshift(Q);}var R=O[0].getParent(),S=[];for(var T=0;T<O.length;T++){N=O[T];R=R.getCommonAncestor(N.getParent());}var U={table:1,tbody:1,tr:1,ol:1,ul:1};while(U[R.getName()])R=R.getParent();var V=null;while(O.length>0){N=O.shift();while(!N.getParent().equals(R))N=N.getParent();if(!N.equals(V))S.push(N);V=N;}while(S.length>0){N=S.shift();if(N.getName()=='blockquote'){var W=new r.documentFragment(E.document);while(N.getFirst()){W.append(N.getFirst().remove());O.push(W.getLast());}W.replace(N);}else O.push(N);}var X=E.document.createElement('blockquote');X.insertBefore(O[0]);while(O.length>0){N=O.shift();X.append(N);}}else if(F==1){var Y=[],Z={};while(N=M.getNextParagraph()){var aa=null,ab=null;while(N.getParent()){if(N.getParent().getName()=='blockquote'){aa=N.getParent();ab=N;break;}N=N.getParent();}if(aa&&ab&&!ab.getCustomData('blockquote_moveout')){Y.push(ab);v.setMarker(Z,ab,'blockquote_moveout',true);}}v.clearAllMarkers(Z);var ac=[],ad=[];Z={};while(Y.length>0){var ae=Y.shift();X=ae.getParent();if(!ae.getPrevious())ae.remove().insertBefore(X);else if(!ae.getNext())ae.remove().insertAfter(X);else{ae.breakParent(ae.getParent());ad.push(ae.getNext());}if(!X.getCustomData('blockquote_processed')){ad.push(X);v.setMarker(Z,X,'blockquote_processed',true);}ac.push(ae);}v.clearAllMarkers(Z);for(T=ad.length-1;T>=0;T--){X=ad[T];if(C(X))X.remove();}if(E.config.enterMode==2){var af=true;while(ac.length){ae=ac.shift();if(ae.getName()=='div'){W=new r.documentFragment(E.document);var ag=af&&ae.getPrevious()&&!(ae.getPrevious().type==1&&ae.getPrevious().isBlockBoundary());if(ag)W.append(E.document.createElement('br'));var ah=ae.getNext()&&!(ae.getNext().type==1&&ae.getNext().isBlockBoundary());while(ae.getFirst())ae.getFirst().remove().appendTo(W);if(ah)W.append(E.document.createElement('br'));W.replace(ae);af=false;}}}}G.selectBookmarks(I);
E.focus();}};x.add('blockquote',{init:function(E){E.addCommand('blockquote',D);E.ui.addButton('Blockquote',{label:E.lang.blockquote,command:'blockquote'});E.on('selectionChange',B);},requires:['domiterator']});})();x.add('button',{beforeInit:function(A){A.ui.addHandler(1,y.button.handler);}});o.UI_BUTTON=1;y.button=function(A){s.extend(this,A,{title:A.label,className:A.className||A.command&&'cke_button_'+A.command||'',click:A.click||(function(B){B.execCommand(A.command);})});this._={};};y.button.handler={create:function(A){return new y.button(A);}};y.button._={instances:[],keydown:function(A,B){var C=y.button._.instances[A];if(C.onkey){B=new r.event(B);return C.onkey(C,B.getKeystroke())!==false;}},focus:function(A,B){var C=y.button._.instances[A],D;if(C.onfocus)D=C.onfocus(C,new r.event(B))!==false;if(p.gecko&&p.version<10900)B.preventBubble();return D;}};(function(){var A=s.addFunction(y.button._.keydown,y.button._),B=s.addFunction(y.button._.focus,y.button._);y.button.prototype={canGroup:true,render:function(C,D){var E=p,F=this._.id=s.getNextId(),G='',H=this.command,I,J;this._.editor=C;var K={id:F,button:this,editor:C,focus:function(){var N=o.document.getById(F);N.focus();},execute:function(){this.button.click(C);}};K.clickFn=I=s.addFunction(K.execute,K);K.index=J=y.button._.instances.push(K)-1;if(this.modes){var L={};C.on('beforeModeUnload',function(){L[C.mode]=this._.state;},this);C.on('mode',function(){var N=C.mode;this.setState(this.modes[N]?L[N]!=undefined?L[N]:2:0);},this);}else if(H){H=C.getCommand(H);if(H){H.on('state',function(){this.setState(H.state);},this);G+='cke_'+(H.state==1?'on':H.state==0?'disabled':'off');}}if(!H)G+='cke_off';if(this.className)G+=' '+this.className;D.push('<span class="cke_button'+(this.icon&&this.icon.indexOf('.png')==-1?' cke_noalphafix':'')+'">','<a id="',F,'" class="',G,'"',E.gecko&&E.version>=10900&&!E.hc?'':'" href="javascript:void(\''+(this.title||'').replace("'",'')+"')\"",' title="',this.title,'" tabindex="-1" hidefocus="true" role="button" aria-labelledby="'+F+'_label"'+(this.hasArrow?' aria-haspopup="true"':''));if(E.opera||E.gecko&&E.mac)D.push(' onkeypress="return false;"');if(E.gecko)D.push(' onblur="this.style.cssText = this.style.cssText;"');D.push(' onkeydown="return CKEDITOR.tools.callFunction(',A,', ',J,', event);" onfocus="return CKEDITOR.tools.callFunction(',B,', ',J,', event);" onclick="CKEDITOR.tools.callFunction(',I,', this); return false;"><span class="cke_icon"');if(this.icon){var M=(this.iconOffset||0)*-16;
D.push(' style="background-image:url(',o.getUrl(this.icon),');background-position:0 '+M+'px;"');}D.push('>&nbsp;</span><span id="',F,'_label" class="cke_label">',this.label,'</span>');if(this.hasArrow)D.push('<span class="cke_buttonarrow">'+(p.hc?'&#9660;':'&nbsp;')+'</span>');D.push('</a>','</span>');if(this.onRender)this.onRender();return K;},setState:function(C){if(this._.state==C)return false;this._.state=C;var D=o.document.getById(this._.id);if(D){D.setState(C);C==0?D.setAttribute('aria-disabled',true):D.removeAttribute('aria-disabled');C==1?D.setAttribute('aria-pressed',true):D.removeAttribute('aria-pressed');return true;}else return false;}};})();y.prototype.addButton=function(A,B){this.add(A,1,B);};o.on('reset',function(){y.button._.instances=[];});function a(A,B,C,D){var E='',F=null;for(var G=0;G<A.length;G++){var H=A.charAt(G),I=G<A.length-1?A.charAt(G+1):0;if(H==B){if(F==null){if(G==0||A.charAt(G-1)==' '||A.charAt(G-1)=='\t')F='';else E+=H;}else if(I==0||I=='\t'||I==' '){E+=C+F+D;F=null;}else F+=' ';}else if(F==null)E+=H;else F+=H;}if(F!=null)E+=F;return E;};function b(A){return A.replace(/^\s*|\s*$/g,'');};function c(A){var B='',C='',D;if(A.match(/^\s*@a\s/)||!A.match(/\s\^\w+/))B=A;else{while((D=(' '+A).search(/\s\^\w+/))>=0){B+='\n'+b(A.substr(0,D));arg=A.substr(D).match(/^\^\w+/)[0];A=A.substr(D+arg.length);B+="\n<a href='"+arg+"'>"+b(arg.replace(/^[\s^]*|\s*$/g,'').replace(/[_^]/g,' '))+'</a>';if(!A.match(/^[\w\s]/)){B+=A.charAt(0);A=A.substr(1);}A=b(A);}B+='\n'+b(A);}return B;};function d(A){var B=A.replace(/src\s*=\s*("|"|'|')?\^([^""''\s]*)("|"|'|')?/,"src='/site/bp/$2?bwiki=^$2'");return B;};function e(A){var B=A;B=b(B.replace(/</g,'&lt;'));B=a(B,'*','<strong>','</strong>');B=a(B,'_','<em>','</em>');B=c(B);return B;};var f={hr:true,br:true,img:true};function g(A,B){if(B.match(/^\s*@\S+/)){directive=B.replace(/^\s*@/,'');var C=directive;directive=directive.replace(/^(\S+).*/,'$1');var D=directive.indexOf('.'),E='';C=C.substr(directive.length);if(D>0){E=" class='"+directive.substr(D+1)+"'";directive=directive.substr(0,D).toLowerCase();}var F=C.match(/^\s*(\w+=([\"\'][^\"\']*[\"\']|\S*)\s*)+/),G=F==null?'':F[0];C=C.substr(G.length);C=b(e(C));if(directive=='img')G=d(G);G=b(G);if(G.length)G=' '+G;if(f[directive])A.html+='\n<'+directive+E+G+'/>';else if(directive[0]=='/')A.html+='\n<'+directive+'>';else{A.html+='\n<'+directive+E+G+'>';if(b(C).length)A.html+=b(C)+'</'+directive+'>';}}else A.html+='\n'+b(e(B));};function h(A){var B=A,C={html:''};
A=A.replace(/\r/g,'');while(A.length>0){var D=A.indexOf('\n'),E;if(D<0){E=A;A='';}else{E=A.substr(0,D);A=A.substr(D+1);}if(b(E).length==0&&C.html.length)C.html+='\n<br/>\n<br/>';else g(C,E);}return C.html;};var i={strike:'del'};function j(A){A=A.replace(/src=('|'|"|")\/site\/bp\/.*?bwiki=/,'src=$1');return A;};function k(A){if(document=='unit-test')return A;var B=document.createElement('DIV');B.innerHTML=A;if(B.innerText!==undefined)return B.innerText;return B.textContent;};function l(A,B,C){A.bwiki+=B+k(C.replace(/^\s+/,' ').replace(/\s*$/,''));};function m(A){var B=++A.cur;while(A.cur<A.html.length&&A.html.charAt(A.cur)!=' '&&A.html.charAt(A.cur)!='\t'&&A.html.charAt(A.cur)!='/'&&A.html.charAt(A.cur)!='>')A.cur++;var C=A.html.substr(B,A.cur-B),D=i[C]?i[C]:C;while(A.cur<A.html.length&&A.html.substr(A.cur,2)!='/>'&&A.html.charAt(A.cur)!='>')A.cur++;var E='',F='';if(A.cur<A.html.length){E=A.html.substr(B+C.length,A.cur-B-C.length);var G=E.match(/class=[\'\"][^\'\"]*[\'\"]/);if(G!=null){F='.'+G[0].substr(6).replace(/[\'\"]/g,'');E=E.replace(G[0],'');}}if(A.html.charAt(A.cur)=='/'){A.cur+=2;if(D=='img')E=j(E);A.bwiki+='\n@'+C+F+E;}else{if(A.cur<A.html.length)A.cur++;var H='',I=0,J=false;while(A.cur<A.html.length){var K=' ';while(A.cur<A.html.length&&A.html.charAt(A.cur)!='<'){var L;if(A.html.substr(A.cur,6)=='&nbsp;'){A.cur+=6;L=' ';}else L=A.html.charAt(A.cur++);if(L=='\n'||L==' '||L=='\t'){H+=K;K='';}else{H+=L;K=' ';}}if(A.html.charAt(A.cur+1)!='/'){if(!J){A.bwiki+='\n@'+D+F+E;J=true;}if(!H.match(/^\s*$/))l(A,'\n',H);H='';m(A);I++;}else{if(H.match(/^\s*$/)){if(I==0)A.bwiki+='\n@'+D+F+E+'\n@/'+D;}else if(I==0){A.bwiki+='\n@'+D+F+E;l(A,' ',H);}else l(A,'\n',H);break;}}if(A.cur<A.html.length){A.cur+=2;while(A.cur<A.html.length&&A.html.charAt(A.cur)!='>')A.cur++;A.cur++;if(I>0)A.bwiki+='\n@/'+D;}}};function n(A){var B={bwiki:'',html:A.replace(/<!--.*?-->/g,''),cur:0};B.html=B.html.replace(/^(\s*<p>\s*\&nbsp;<\/p>)+/,'');while(B.cur<B.html.length){while(B.cur<B.html.length&&B.html.charAt(B.cur)!='<')B.cur++;if(B.cur<B.html.length){var C=m(B);if(C)B.bwiki+=C;}}B.bwiki=B.bwiki.replace(/^\s*|\s*$/g,'');return B.bwiki;};(function(){var A=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,B='{cke_protected}';function C(af){var ag=af.children.length,ah=af.children[ag-1];while(ah&&ah.type==3&&!s.trim(ah.value))ah=af.children[--ag];return ah;};function D(af,ag){var ah=af.children,ai=C(af);if(ai){if((ag||!q)&&ai.type==1&&ai.name=='br')ah.pop();if(ai.type==3&&A.test(ai.value))ah.pop();}};function E(af,ag,ah){if(!ag&&(!ah||typeof ah=='function'&&ah(af)===false))return false;
if(ag&&q&&(document.documentMode>7||af.name in t.tr||af.name in t.$listItem))return false;var ai=C(af);return!ai||ai&&(ai.type==1&&ai.name=='br'||af.name=='form'&&ai.name=='input');};function F(af,ag){return function(ah){D(ah,!af);if(E(ah,!af,ag))if(af||q)ah.add(new o.htmlParser.text('\xa0'));else ah.add(new o.htmlParser.element('br',{}));};};var G=t,H=s.extend({},G.$block,G.$listItem,G.$tableContent);for(var I in H){if(!('br' in G[I]))delete H[I];}delete H.pre;var J={elements:{a:function(af){var ag=af.attributes;if(ag&&ag['data-cke-saved-name'])ag['class']=(ag['class']?ag['class']+' ':'')+'cke_anchor';}},attributeNames:[[/^on/,'data-cke-pa-on']]},K={elements:{}};for(I in H)K.elements[I]=F();var L={elementNames:[[/^cke:/,''],[/^\?xml:namespace$/,'']],attributeNames:[[/^data-cke-(saved|pa)-/,''],[/^data-cke-.*/,''],['hidefocus','']],elements:{$:function(af){var ag=af.attributes;if(ag){if(ag['data-cke-temp'])return false;var ah=['name','href','src'],ai;for(var aj=0;aj<ah.length;aj++){ai='data-cke-saved-'+ah[aj];ai in ag&&delete ag[ah[aj]];}}return af;},embed:function(af){var ag=af.parent;if(ag&&ag.name=='object'){var ah=ag.attributes.width,ai=ag.attributes.height;ah&&(af.attributes.width=ah);ai&&(af.attributes.height=ai);}},param:function(af){af.children=[];af.isEmpty=true;return af;},a:function(af){if(!(af.children.length||af.attributes.name||af.attributes['data-cke-saved-name']))return false;},span:function(af){if(af.attributes['class']=='Apple-style-span')delete af.name;},pre:function(af){q&&D(af);},html:function(af){delete af.attributes.contenteditable;delete af.attributes['class'];},body:function(af){delete af.attributes.spellcheck;delete af.attributes.contenteditable;},style:function(af){var ag=af.children[0];ag&&ag.value&&(ag.value=s.trim(ag.value));if(!af.attributes.type)af.attributes.type='text/css';},title:function(af){var ag=af.children[0];ag&&(ag.value=af.attributes['data-cke-title']||'');}},attributes:{'class':function(af,ag){return s.ltrim(af.replace(/(?:^|\s+)cke_[^\s]*/g,''))||false;}},comment:function(af){if(af.substr(0,B.length)==B){if(af.substr(B.length,3)=='{C}')af=af.substr(B.length+3);else af=af.substr(B.length);return new o.htmlParser.cdata(decodeURIComponent(af));}return af;}};if(q)L.attributes.style=function(af,ag){return af.replace(/(^|;)([^\:]+)/g,function(ah){return ah.toLowerCase();});};function M(af){var ag=af.attributes;if(ag.contenteditable!='false')ag['data-cke-editable']=ag.contenteditable?'true':1;ag.contenteditable='false';
};function N(af){var ag=af.attributes;switch(ag['data-cke-editable']){case 'true':ag.contenteditable='true';break;case '1':delete ag.contenteditable;break;}};for(I in {input:1,textarea:1}){J.elements[I]=M;L.elements[I]=N;}var O=/<(a|area|img|input)\b([^>]*)>/gi,P=/\b(href|src|name)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,Q=/(?:<style(?=[ >])[^>]*>[\s\S]*<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,R=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,S=/(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,T=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,U=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi;function V(af){return af.replace(O,function(ag,ah,ai){return '<'+ah+ai.replace(P,function(aj,ak){if(ai.indexOf('data-cke-saved-'+ak)==-1)return ' data-cke-saved-'+aj+' '+aj;return aj;})+'>';});};function W(af){return af.replace(Q,function(ag){return '<cke:encoded>'+encodeURIComponent(ag)+'</cke:encoded>';});};function X(af){return af.replace(R,function(ag,ah){return decodeURIComponent(ah);});};function Y(af){return af.replace(S,'$1cke:$2');};function Z(af){return af.replace(T,'$1$2');};function aa(af){return af.replace(U,'<cke:$1$2></cke:$1>');};function ab(af){return af.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,'$1$2$2');};function ac(af){return af.replace(/<!--(?!{cke_protected})[\s\S]+?-->/g,function(ag){return '<!--'+B+'{C}'+encodeURIComponent(ag).replace(/--/g,'%2D%2D')+'-->';});};function ad(af){return af.replace(/<!--\{cke_protected\}\{C\}([\s\S]+?)-->/g,function(ag,ah){return decodeURIComponent(ah);});};function ae(af,ag){var ah=[],ai=/<\!--\{cke_temp(comment)?\}(\d*?)-->/g,aj=[/<script[\s\S]*?<\/script>/gi,/<noscript[\s\S]*?<\/noscript>/gi].concat(ag);af=af.replace(/<!--[\s\S]*?-->/g,function(al){return '<!--{cke_tempcomment}'+(ah.push(al)-1)+'-->';});for(var ak=0;ak<aj.length;ak++)af=af.replace(aj[ak],function(al){al=al.replace(ai,function(am,an,ao){return ah[ao];});return '<!--{cke_temp}'+(ah.push(al)-1)+'-->';});af=af.replace(ai,function(al,am,an){return '<!--'+B+(am?'{C}':'')+encodeURIComponent(ah[an]).replace(/--/g,'%2D%2D')+'-->';});return af;};x.add('bwikidataprocessor',{requires:['htmlwriter'],init:function(af){var ag=af.dataProcessor=new o.htmlDataProcessor(af);ag.writer.forceSimpleAmpersand=af.config.forceSimpleAmpersand;ag.dataFilter.addRules(J);ag.dataFilter.addRules(K);ag.htmlFilter.addRules(L);var ah={elements:{}};for(I in H)ah.elements[I]=F(true,af.config.fillEmptyBlocks);ag.htmlFilter.addRules(ah);},onLoad:function(){!('fillEmptyBlocks' in w)&&(w.fillEmptyBlocks=1);
}});o.htmlDataProcessor=function(af){var ag=this;ag.editor=af;ag.writer=new o.htmlWriter();ag.dataFilter=new o.htmlParser.filter();ag.htmlFilter=new o.htmlParser.filter();};o.htmlDataProcessor.prototype={toHtml:function(af,ag){if(ag)af=h(af);af=ae(af,this.editor.config.protectedSource);af=V(af);af=W(af);af=Y(af);af=aa(af);af=ab(af);var ah=new v('div');ah.setHtml('a'+af);af=ah.getHtml().substr(1);af=Z(af);af=X(af);af=ad(af);var ai=o.htmlParser.fragment.fromHtml(af,ag),aj=new o.htmlParser.basicWriter();ai.writeHtml(aj,this.dataFilter);af=aj.getHtml(true);af=ac(af);return af;},toDataFormat:function(af,ag){var ah=this.writer,ai=o.htmlParser.fragment.fromHtml(af,ag);ah.reset();ai.writeHtml(ah,this.htmlFilter);var af=ah.getHtml(true),aj=n(af);return aj;}};})();(function(){var A=function(L,M){var N=L.document,O=N.getBody(),P=0,Q=function(){P=1;};O.on(M,Q);(p.version>7?N.$:N.$.selection.createRange()).execCommand(M);O.removeListener(M,Q);return P;},B=q?function(L,M){return A(L,M);}:function(L,M){try{return L.document.$.execCommand(M,false,null);}catch(N){return false;}},C=function(L){var M=this;M.type=L;M.canUndo=M.type=='cut';M.startDisabled=true;};C.prototype={exec:function(L,M){this.type=='cut'&&G(L);var N=B(L,this.type);if(!N)alert(L.lang.clipboard[this.type+'Error']);return N;}};var D={canUndo:false,exec:q?function(L){L.focus();if(!L.document.getBody().fire('beforepaste')&&!A(L,'paste')){L.fire('pasteDialog');return false;}}:function(L){try{if(!L.document.getBody().fire('beforepaste')&&!L.document.$.execCommand('Paste',false,null))throw 0;}catch(M){setTimeout(function(){L.fire('pasteDialog');},0);return false;}}},E=function(L){if(this.mode!='wysiwyg')return;switch(L.data.keyCode){case 1000+86:case 2000+45:var M=this.document.getBody();if(!q&&M.fire('beforepaste'))L.cancel();else if(p.opera||p.gecko&&p.version<10900)M.fire('paste');return;case 1000+88:case 2000+46:var N=this;this.fire('saveSnapshot');setTimeout(function(){N.fire('saveSnapshot');},0);}};function F(L,M,N){var O=this.document;if(O.getById('cke_pastebin'))return;if(M=='text'&&L.data&&L.data.$.clipboardData){var P=L.data.$.clipboardData.getData('text/plain');if(P){L.data.preventDefault();N(P);return;}}var Q=this.getSelection(),R=new r.range(O),S=new v(M=='text'?'textarea':p.webkit?'body':'div',O);S.setAttribute('id','cke_pastebin');p.webkit&&S.append(O.createText('\xa0'));O.getBody().append(S);S.setStyles({position:'absolute',top:Q.getStartElement().getDocumentPosition().y+'px',width:'1px',height:'1px',overflow:'hidden'});
S.setStyle(this.config.contentsLangDirection=='ltr'?'left':'right','-1000px');var T=Q.createBookmarks();if(M=='text'){if(q){var U=O.getBody().$.createTextRange();U.moveToElementText(S.$);U.execCommand('Paste');L.data.preventDefault();}else S.$.focus();}else{R.setStartAt(S,1);R.setEndAt(S,2);R.select(true);}var V=this;window.setTimeout(function(){M=='text'&&p.gecko&&V.focusGrabber.focus();S.remove();var W;S=p.webkit&&(W=S.getFirst())&&W.is&&W.hasClass('Apple-style-span')?W:S;Q.selectBookmarks(T);N(S['get'+(M=='text'?'Value':'Html')]());},0);};function G(L){if(!q||p.quirks)return;var M=L.getSelection(),N;if(M.getType()==3&&(N=M.getSelectedElement())){var O=M.getRanges()[0],P=L.document.createText('');P.insertBefore(N);O.setStartBefore(P);O.setEndAfter(N);M.selectRanges([O]);setTimeout(function(){if(N.getParent()){P.remove();M.selectElement(N);}},0);}};var H;function I(L,M){q&&(H=1);var N=M.document.$.queryCommandEnabled(L)?2:0;H=0;return N;};var J;function K(){var M=this;if(M.mode!='wysiwyg')return;M.getCommand('cut').setState(J?0:I('Cut',M));M.getCommand('copy').setState(I('Copy',M));var L=J?0:p.webkit?2:I('Paste',M);M.fire('pasteState',L);};x.add('clipboard',{requires:['dialog','bwikidataprocessor'],init:function(L){L.on('paste',function(O){var P=O.data;if(P.html)L.insertHtml(P.html);else if(P.text)L.insertText(P.text);},null,null,1000);L.on('pasteDialog',function(O){setTimeout(function(){L.openDialog('paste');},0);});L.on('pasteState',function(O){L.getCommand('paste').setState(O.data);});function M(O,P,Q,R){var S=L.lang[P];L.addCommand(P,Q);L.ui.addButton(O,{label:S,command:P});if(L.addMenuItems)L.addMenuItem(P,{label:S,command:P,group:'clipboard',order:R});};M('Cut','cut',new C('cut'),1);M('Copy','copy',new C('copy'),4);M('Paste','paste',D,8);o.dialog.add('paste',o.getUrl(this.path+'dialogs/paste.js'));L.on('key',E,L);var N=L.config.forcePasteAsPlainText?'text':'html';L.on('contentDom',function(){var O=L.document.getBody();O.on(N=='text'&&q||p.webkit?'paste':'beforepaste',function(P){if(H)return;F.call(L,P,N,function(Q){if(!Q)return;var R={};R[N]=Q;L.fire('paste',R);});});O.on('beforecut',function(){!H&&G(L);});O.on('mouseup',function(){setTimeout(function(){K.call(L);},0);},L);O.on('keyup',K,L);});L.on('selectionChange',function(O){J=O.data.selection.getRanges()[0].checkReadOnly();K.call(L);});if(L.contextMenu)L.contextMenu.addListener(function(O,P){var Q=P.getRanges()[0].checkReadOnly();return{cut:!Q&&I('Cut',L),copy:I('Copy',L),paste:!Q&&(p.webkit?2:I('Paste',L))};
});}});})();x.add('colorbutton',{requires:['panelbutton','floatpanel','styles'],init:function(A){var B=A.config,C=A.lang.colorButton,D;if(!p.hc){E('TextColor','fore',C.textColorTitle);E('BGColor','back',C.bgColorTitle);}function E(H,I,J){var K=s.getNextId()+'_colorBox';A.ui.add(H,4,{label:J,title:J,className:'cke_button_'+H.toLowerCase(),modes:{wysiwyg:1},panel:{css:A.skin.editor.css,attributes:{role:'listbox','aria-label':C.panelTitle}},onBlock:function(L,M){M.autoSize=true;M.element.addClass('cke_colorblock');M.element.setHtml(F(L,I,K));M.element.getDocument().getBody().setStyle('overflow','hidden');y.fire('ready',this);var N=M.keys,O=A.lang.dir=='rtl';N[O?37:39]='next';N[40]='next';N[9]='next';N[O?39:37]='prev';N[38]='prev';N[2000+9]='prev';N[32]='click';},onOpen:function(){var L=A.getSelection(),M=L&&L.getStartElement(),N=new r.elementPath(M),O;M=N.block||N.blockLimit;do O=M&&M.getComputedStyle(I=='back'?'background-color':'color')||'transparent';while(I=='back'&&O=='transparent'&&M&&(M=M.getParent()))if(!O||O=='transparent')O='#ffffff';this._.panel._.iframe.getFrameDocument().getById(K).setStyle('background-color',O);}});};function F(H,I,J){var K=[],L=B.colorButton_colors.split(','),M=L.length+(B.colorButton_enableMore?2:1),N=s.addFunction(function(T,U){if(T=='?'){var V=arguments.callee;function W(Y){this.removeListener('ok',W);this.removeListener('cancel',W);Y.name=='ok'&&V(this.getContentElement('picker','selectedColor').getValue(),U);};A.openDialog('colordialog',function(){this.on('ok',W);this.on('cancel',W);});return;}A.focus();H.hide();A.fire('saveSnapshot');new o.style(B['colorButton_'+U+'Style'],{color:'inherit'}).remove(A.document);if(T){var X=B['colorButton_'+U+'Style'];X.childRule=U=='back'?function(Y){return G(Y);}:function(Y){return Y.getName()!='a'||G(Y);};new o.style(X,{color:T}).apply(A.document);}A.fire('saveSnapshot');});K.push('<a class="cke_colorauto" _cke_focus=1 hidefocus=true title="',C.auto,'" onclick="CKEDITOR.tools.callFunction(',N,",null,'",I,"');return false;\" href=\"javascript:void('",C.auto,'\')" role="option" aria-posinset="1" aria-setsize="',M,'"><table role="presentation" cellspacing=0 cellpadding=0 width="100%"><tr><td><span class="cke_colorbox" id="',J,'"></span></td><td colspan=7 align=center>',C.auto,'</td></tr></table></a><table role="presentation" cellspacing=0 cellpadding=0 width="100%">');for(var O=0;O<L.length;O++){if(O%8===0)K.push('</tr><tr>');var P=L[O].split('/'),Q=P[0],R=P[1]||Q;if(!P[1])Q='#'+Q.replace(/^(.)(.)(.)$/,'$1$1$2$2$3$3');
var S=A.lang.colors[R]||R;K.push('<td><a class="cke_colorbox" _cke_focus=1 hidefocus=true title="',S,'" onclick="CKEDITOR.tools.callFunction(',N,",'",Q,"','",I,"'); return false;\" href=\"javascript:void('",S,'\')" role="option" aria-posinset="',O+2,'" aria-setsize="',M,'"><span class="cke_colorbox" style="background-color:#',R,'"></span></a></td>');}if(B.colorButton_enableMore===undefined||B.colorButton_enableMore)K.push('</tr><tr><td colspan=8 align=center><a class="cke_colormore" _cke_focus=1 hidefocus=true title="',C.more,'" onclick="CKEDITOR.tools.callFunction(',N,",'?','",I,"');return false;\" href=\"javascript:void('",C.more,"')\"",' role="option" aria-posinset="',M,'" aria-setsize="',M,'">',C.more,'</a></td>');K.push('</tr></table>');return K.join('');};function G(H){return H.getAttribute('contentEditable')=='false'||H.getAttribute('data-nostyle');};}});w.colorButton_colors='000,800000,8B4513,2F4F4F,008080,000080,4B0082,696969,B22222,A52A2A,DAA520,006400,40E0D0,0000CD,800080,808080,F00,FF8C00,FFD700,008000,0FF,00F,EE82EE,A9A9A9,FFA07A,FFA500,FFFF00,00FF00,AFEEEE,ADD8E6,DDA0DD,D3D3D3,FFF0F5,FAEBD7,FFFFE0,F0FFF0,F0FFFF,F0F8FF,E6E6FA,FFF';w.colorButton_foreStyle={element:'span',styles:{color:'#(color)'},overrides:[{element:'font',attributes:{color:null}}]};w.colorButton_backStyle={element:'span',styles:{'background-color':'#(color)'}};(function(){x.colordialog={init:function(A){A.addCommand('colordialog',new o.dialogCommand('colordialog'));o.dialog.add('colordialog',this.path+'dialogs/colordialog.js');}};x.add('colordialog',x.colordialog);})();x.add('contextmenu',{requires:['menu'],onLoad:function(){x.contextMenu=s.createClass({base:o.menu,$:function(A){this.base.call(this,A,{panel:{className:A.skinClass+' cke_contextmenu',attributes:{'aria-label':A.lang.contextmenu.options}}});},proto:{addTarget:function(A,B){if(p.opera&&!('oncontextmenu' in document.body)){var C;A.on('mousedown',function(G){G=G.data;if(G.$.button!=2){if(G.getKeystroke()==1000+1)A.fire('contextmenu',G);return;}if(B&&(p.mac?G.$.metaKey:G.$.ctrlKey))return;var H=G.getTarget();if(!C){var I=H.getDocument();C=I.createElement('input');C.$.type='button';I.getBody().append(C);}C.setAttribute('style','position:absolute;top:'+(G.$.clientY-2)+'px;left:'+(G.$.clientX-2)+'px;width:5px;height:5px;opacity:0.01');});A.on('mouseup',function(G){if(C){C.remove();C=undefined;A.fire('contextmenu',G.data);}});}A.on('contextmenu',function(G){var H=G.data;if(B&&(p.webkit?D:p.mac?H.$.metaKey:H.$.ctrlKey))return;
H.preventDefault();var I=H.getTarget().getDocument().getDocumentElement(),J=H.$.clientX,K=H.$.clientY;s.setTimeout(function(){this.open(I,null,J,K);},0,this);},this);if(p.opera)A.on('keypress',function(G){var H=G.data;if(H.$.keyCode===0)H.preventDefault();});if(p.webkit){var D,E=function(G){D=p.mac?G.data.$.metaKey:G.data.$.ctrlKey;},F=function(){D=0;};A.on('keydown',E);A.on('keyup',F);A.on('contextmenu',F);}},open:function(A,B,C,D){this.editor.focus();A=A||o.document.getDocumentElement();this.show(A,B,C,D);}}});},beforeInit:function(A){A.contextMenu=new x.contextMenu(A);A.addCommand('contextMenu',{exec:function(){A.contextMenu.open(A.document.getBody());}});}});(function(){function A(C){var D=this.att,E=C&&C.hasAttribute(D)&&C.getAttribute(D)||'';if(E!==undefined)this.setValue(E);};function B(){var C;for(var D=0;D<arguments.length;D++){if(arguments[D] instanceof v){C=arguments[D];break;}}if(C){var E=this.att,F=this.getValue();if(E=='dir'){var G=C.getAttribute(E);if(G!=F&&C.getParent())this._.dialog._.editor.fire('dirChanged',{node:C,dir:F||C.getDirection(1)});}if(F)C.setAttribute(E,F);else C.removeAttribute(E,F);}};x.add('dialogadvtab',{createAdvancedTab:function(C,D){if(!D)D={id:1,dir:1,classes:1,styles:1};var E=C.lang.common,F={id:'advanced',label:E.advancedTab,title:E.advancedTab,elements:[{type:'vbox',padding:1,children:[]}]},G=[];if(D.id||D.dir){if(D.id)G.push({id:'advId',att:'id',type:'text',label:E.id,setup:A,commit:B});if(D.dir)G.push({id:'advLangDir',att:'dir',type:'select',label:E.langDir,'default':'',style:'width:100%',items:[[E.notSet,''],[E.langDirLTR,'ltr'],[E.langDirRTL,'rtl']],setup:A,commit:B});F.elements[0].children.push({type:'hbox',widths:['50%','50%'],children:[].concat(G)});}if(D.styles||D.classes){G=[];if(D.styles)G.push({id:'advStyles',att:'style',type:'text',label:E.styles,'default':'',getStyle:function(H,I){var J=this.getValue().match(new RegExp(H+'\\s*:s*([^;]*)','i'));return J?J[1]:I;},updateStyle:function(H,I){var J=this.getValue();if(J)J=J.replace(new RegExp('\\s*'+H+'s*:[^;]*(?:$|;s*)','i'),'').replace(/^[;\s]+/,'').replace(/\s+$/,'');if(I){J&&!/;\s*$/.test(J)&&(J+='; ');J+=H+': '+I;}this.setValue(J,1);},setup:A,commit:B});if(D.classes)G.push({type:'hbox',widths:['45%','55%'],children:[{id:'advCSSClasses',att:'class',type:'text',label:E.cssClasses,'default':'',setup:A,commit:B}]});F.elements[0].children.push({type:'hbox',widths:['50%','50%'],children:[].concat(G)});}return F;}});})();(function(){x.add('div',{requires:['editingblock','domiterator','styles'],init:function(A){var B=A.lang.div;
A.addCommand('creatediv',new o.dialogCommand('creatediv'));A.addCommand('editdiv',new o.dialogCommand('editdiv'));A.addCommand('removediv',{exec:function(C){var D=C.getSelection(),E=D&&D.getRanges(),F,G=D.createBookmarks(),H,I=[];function J(L){var M=new r.elementPath(L),N=M.blockLimit,O=N.is('div')&&N;if(O&&!O.data('cke-div-added')){I.push(O);O.data('cke-div-added');}};for(var K=0;K<E.length;K++){F=E[K];if(F.collapsed)J(D.getStartElement());else{H=new r.walker(F);H.evaluator=J;H.lastForward();}}for(K=0;K<I.length;K++)I[K].remove(true);D.selectBookmarks(G);}});A.ui.addButton('CreateDiv',{label:B.toolbar,command:'creatediv'});if(A.addMenuItems){A.addMenuItems({editdiv:{label:B.edit,command:'editdiv',group:'div',order:1},removediv:{label:B.remove,command:'removediv',group:'div',order:5}});if(A.contextMenu)A.contextMenu.addListener(function(C,D){if(!C||C.isReadOnly())return null;var E=new r.elementPath(C),F=E.blockLimit;if(F&&F.getAscendant('div',true))return{editdiv:2,removediv:2};return null;});}o.dialog.add('creatediv',this.path+'dialogs/div.js');o.dialog.add('editdiv',this.path+'dialogs/div.js');}});})();(function(){var A={toolbarFocus:{exec:function(C){var D=C._.elementsPath.idBase,E=o.document.getById(D+'0');E&&E.focus(q||p.air);}}},B='<span class="cke_empty">&nbsp;</span>';x.add('elementspath',{requires:['selection'],init:function(C){var D='cke_path_'+C.name,E,F=function(){if(!E)E=o.document.getById(D);return E;},G='cke_elementspath_'+s.getNextNumber()+'_';C._.elementsPath={idBase:G,filters:[]};C.on('themeSpace',function(K){if(K.data.space=='bottom')K.data.html+='<span id="'+D+'_label" class="cke_voice_label">'+C.lang.elementsPath.eleLabel+'</span>'+'<div id="'+D+'" class="cke_path" role="group" aria-labelledby="'+D+'_label">'+B+'</div>';});function H(K){C.focus();var L=C._.elementsPath.list[K];if(L.is('body')){var M=new r.range(C.document);M.selectNodeContents(L);M.select();}else C.getSelection().selectElement(L);};var I=s.addFunction(H),J=s.addFunction(function(K,L){var M=C._.elementsPath.idBase,N;L=new r.event(L);var O=C.lang.dir=='rtl';switch(L.getKeystroke()){case O?39:37:case 9:N=o.document.getById(M+(K+1));if(!N)N=o.document.getById(M+'0');N.focus();return false;case O?37:39:case 2000+9:N=o.document.getById(M+(K-1));if(!N)N=o.document.getById(M+(C._.elementsPath.list.length-1));N.focus();return false;case 27:C.focus();return false;case 13:case 32:H(K);return false;}return true;});C.on('selectionChange',function(K){var L=p,M=K.data.selection,N=M.getStartElement(),O=[],P=K.editor,Q=P._.elementsPath.list=[],R=P._.elementsPath.filters;
while(N){var S=0;for(var T=0;T<R.length;T++){if(R[T](N)===false){S=1;break;}}if(!S){var U=Q.push(N)-1,V;if(N.data('cke-real-element-type'))V=N.data('cke-real-element-type');else V=N.getName();var W='';if(L.opera||L.gecko&&L.mac)W+=' onkeypress="return false;"';if(L.gecko)W+=' onblur="this.style.cssText = this.style.cssText;"';var X=P.lang.elementsPath.eleTitle.replace(/%1/,V);O.unshift('<a id="',G,U,'" href="javascript:void(\'',V,'\')" tabindex="-1" title="',X,'"'+(p.gecko&&p.version<10900?' onfocus="event.preventBubble();"':'')+' hidefocus="true" '+' onkeydown="return CKEDITOR.tools.callFunction(',J,',',U,', event );"'+W,' onclick="CKEDITOR.tools.callFunction('+I,',',U,'); return false;"',' role="button" aria-labelledby="'+G+U+'_label">',V,'<span id="',G,U,'_label" class="cke_label">'+X+'</span>','</a>');}if(V=='body')break;N=N.getParent();}var Y=F();Y.setHtml(O.join('')+B);P.fire('elementsPathUpdate',{space:Y});});C.on('contentDomUnload',function(){E&&E.setHtml(B);});C.addCommand('elementsPathFocus',A.toolbarFocus);}});})();(function(){x.add('enterkey',{requires:['keystrokes','indent'],init:function(H){var I=H.specialKeys;I[13]=F;I[2000+13]=E;}});x.enterkey={enterBlock:function(H,I,J,K){J=J||G(H);if(!J)return;var L=J.document;if(J.checkStartOfBlock()&&J.checkEndOfBlock()){var M=new r.elementPath(J.startContainer),N=M.block;if(N&&(N.is('li')||N.getParent().is('li'))){H.execCommand('outdent');return;}}var O=I==3?'div':'p',P=J.splitBlock(O);if(!P)return;var Q=P.previousBlock,R=P.nextBlock,S=P.wasStartOfBlock,T=P.wasEndOfBlock,U;if(R){U=R.getParent();if(U.is('li')){R.breakParent(U);R.move(R.getNext(),1);}}else if(Q&&(U=Q.getParent())&&U.is('li')){Q.breakParent(U);J.moveToElementEditStart(Q.getNext());Q.move(Q.getPrevious());}if(!S&&!T){if(R.is('li')&&(U=R.getFirst(r.walker.invisible(true)))&&U.is&&U.is('ul','ol'))(q?L.createText('\xa0'):L.createElement('br')).insertBefore(U);if(R)J.moveToElementEditStart(R);}else{var V,W;if(Q){if(Q.is('li')||!D.test(Q.getName()))V=Q.clone();}else if(R)V=R.clone();if(!V){V=L.createElement(O);if(Q&&(W=Q.getDirection()))V.setAttribute('dir',W);}else if(K&&!V.is('li'))V.renameNode(O);var X=P.elementPath;if(X)for(var Y=0,Z=X.elements.length;Y<Z;Y++){var aa=X.elements[Y];if(aa.equals(X.block)||aa.equals(X.blockLimit))break;if(t.$removeEmpty[aa.getName()]){aa=aa.clone();V.moveChildren(aa);V.append(aa);}}if(!q)V.appendBogus();J.insertNode(V);if(q&&S&&(!T||!Q.getChildCount())){J.moveToElementEditStart(T?Q:V);J.select();}J.moveToElementEditStart(S&&!T?R:V);
}if(!q)if(R){var ab=L.createElement('span');ab.setHtml('&nbsp;');J.insertNode(ab);ab.scrollIntoView();J.deleteContents();}else V.scrollIntoView();J.select();},enterBr:function(H,I,J,K){J=J||G(H);if(!J)return;var L=J.document,M=I==3?'div':'p',N=J.checkEndOfBlock(),O=new r.elementPath(H.getSelection().getStartElement()),P=O.block,Q=P&&O.block.getName(),R=false;if(!K&&Q=='li'){C(H,I,J,K);return;}if(!K&&N&&D.test(Q)){var S,T;if(T=P.getDirection()){S=L.createElement('div');S.setAttribute('dir',T);S.insertAfter(P);J.setStart(S,0);}else{L.createElement('br').insertAfter(P);if(p.gecko)L.createText('').insertAfter(P);J.setStartAt(P.getNext(),q?3:1);}}else{var U;R=Q=='pre';if(R&&!p.gecko)U=L.createText(q?'\r':'\n');else U=L.createElement('br');J.deleteContents();J.insertNode(U);if(!q)L.createText('\ufeff').insertAfter(U);if(N&&!q)U.getParent().appendBogus();if(!q)U.getNext().$.nodeValue='';if(q)J.setStartAt(U,4);else J.setStartAt(U.getNext(),1);if(!q){var V=null;if(!p.gecko){V=L.createElement('span');V.setHtml('&nbsp;');}else V=L.createElement('br');V.insertBefore(U.getNext());V.scrollIntoView();V.remove();}}J.collapse(true);J.select(R);}};var A=x.enterkey,B=A.enterBr,C=A.enterBlock,D=/^h[1-6]$/;function E(H){if(H.mode!='wysiwyg')return false;if(H.getSelection().getStartElement().hasAscendant('pre',true)){setTimeout(function(){C(H,H.config.enterMode,null,true);},0);return true;}else return F(H,H.config.shiftEnterMode,1);};function F(H,I,J){J=H.config.forceEnterMode||J;if(H.mode!='wysiwyg')return false;if(!I)I=H.config.enterMode;setTimeout(function(){H.fire('saveSnapshot');if(I==2||H.getSelection().getStartElement().hasAscendant('pre',1))B(H,I,null,J);else C(H,I,null,J);},0);return true;};function G(H){var I=H.getSelection().getRanges(true);for(var J=I.length-1;J>0;J--)I[J].deleteContents();return I[0];};})();(function(){var A='nbsp,gt,lt',B='quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro',C='Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml',D='Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv';
function E(F,G){var H={},I=[],J={nbsp:'\xa0',shy:'­',gt:'>',lt:'<'};F=F.replace(/\b(nbsp|shy|gt|lt|amp)(?:,|$)/g,function(O,P){var Q=G?'&'+P+';':J[P],R=G?J[P]:'&'+P+';';H[Q]=R;I.push(Q);return '';});if(!G&&F){F=F.split(',');var K=document.createElement('div'),L;K.innerHTML='&'+F.join(';&')+';';L=K.innerHTML;K=null;for(var M=0;M<L.length;M++){var N=L.charAt(M);H[N]='&'+F[M]+';';I.push(N);}}H.regex=I.join(G?'|':'');return H;};x.add('entities',{afterInit:function(F){var G=F.config,H=F.dataProcessor,I=H&&H.htmlFilter;if(I){var J=A;if(G.entities){J+=','+B;if(G.entities_latin)J+=','+C;if(G.entities_greek)J+=','+D;if(G.entities_additional)J+=','+G.entities_additional;}var K=E(J),L='['+K.regex+']';delete K.regex;if(G.entities&&G.entities_processNumerical)L='[^ -~]|'+L;L=new RegExp(L,'g');function M(Q){return G.entities_processNumerical=='force'||!K[Q]?'&#'+Q.charCodeAt(0)+';':K[Q];};var N=E([A,'shy'].join(','),true),O=new RegExp(N.regex,'g');function P(Q){return N[Q];};I.addRules({text:function(Q){return Q.replace(O,P).replace(L,M);}});}}});})();w.entities=true;w.entities_latin=true;w.entities_greek=true;w.entities_additional='#39';(function(){function A(J,K){var L=[];if(!K)return J;else for(var M in K)L.push(M+'='+encodeURIComponent(K[M]));return J+(J.indexOf('?')!=-1?'&':'?')+L.join('&');};function B(J){J+='';var K=J.charAt(0).toUpperCase();return K+J.substr(1);};function C(J){var Q=this;var K=Q.getDialog(),L=K.getParentEditor();L._.filebrowserSe=Q;var M=L.config['filebrowser'+B(K.getName())+'WindowWidth']||L.config.filebrowserWindowWidth||'80%',N=L.config['filebrowser'+B(K.getName())+'WindowHeight']||L.config.filebrowserWindowHeight||'70%',O=Q.filebrowser.params||{};O.CKEditor=L.name;O.CKEditorFuncNum=L._.filebrowserFn;if(!O.langCode)O.langCode=L.langCode;var P=A(Q.filebrowser.url,O);L.popup(P,M,N,L.config.fileBrowserWindowFeatures);};function D(J){var M=this;var K=M.getDialog(),L=K.getParentEditor();L._.filebrowserSe=M;if(!K.getContentElement(M['for'][0],M['for'][1]).getInputElement().$.value)return false;if(!K.getContentElement(M['for'][0],M['for'][1]).getAction())return false;return true;};function E(J,K,L){var M=L.params||{};M.CKEditor=J.name;M.CKEditorFuncNum=J._.filebrowserFn;if(!M.langCode)M.langCode=J.langCode;K.action=A(L.url,M);K.filebrowser=L;};function F(J,K,L,M){var N,O;for(var P in M){N=M[P];if(N.type=='hbox'||N.type=='vbox')F(J,K,L,N.children);if(!N.filebrowser)continue;if(typeof N.filebrowser=='string'){var Q={action:N.type=='fileButton'?'QuickUpload':'Browse',target:N.filebrowser};
N.filebrowser=Q;}if(N.filebrowser.action=='Browse'){var R=N.filebrowser.url;if(R===undefined){R=J.config['filebrowser'+B(K)+'BrowseUrl'];if(R===undefined)R=J.config.filebrowserBrowseUrl;}if(R){N.onClick=C;N.filebrowser.url=R;N.hidden=false;}}else if(N.filebrowser.action=='QuickUpload'&&N['for']){R=N.filebrowser.url;if(R===undefined){R=J.config['filebrowser'+B(K)+'UploadUrl'];if(R===undefined)R=J.config.filebrowserUploadUrl;}if(R){var S=N.onClick;N.onClick=function(T){var U=T.sender;if(S&&S.call(U,T)===false)return false;return D.call(U,T);};N.filebrowser.url=R;N.hidden=false;E(J,L.getContents(N['for'][0]).get(N['for'][1]),N.filebrowser);}}}};function G(J,K){var L=K.getDialog(),M=K.filebrowser.target||null;J=J.replace(/#/g,'%23');if(M){var N=M.split(':'),O=L.getContentElement(N[0],N[1]);if(O){O.setValue(J);L.selectPage(N[0]);}}};function H(J,K,L){if(L.indexOf(';')!==-1){var M=L.split(';');for(var N=0;N<M.length;N++){if(H(J,K,M[N]))return true;}return false;}var O=J.getContents(K).get(L).filebrowser;return O&&O.url;};function I(J,K){var O=this;var L=O._.filebrowserSe.getDialog(),M=O._.filebrowserSe['for'],N=O._.filebrowserSe.filebrowser.onSelect;if(M)L.getContentElement(M[0],M[1]).reset();if(typeof K=='function'&&K.call(O._.filebrowserSe)===false)return;if(N&&N.call(O._.filebrowserSe,J,K)===false)return;if(typeof K=='string'&&K)alert(K);if(J)G(J,O._.filebrowserSe);};x.add('filebrowser',{init:function(J,K){J._.filebrowserFn=s.addFunction(I,J);J.on('destroy',function(){s.removeFunction(this._.filebrowserFn);});}});o.on('dialogDefinition',function(J){var K=J.data.definition,L;for(var M in K.contents){if(L=K.contents[M]){F(J.editor,J.data.name,K,L.elements);if(L.hidden&&L.filebrowser)L.hidden=!H(K,L.id,L.filebrowser);}}});})();x.add('find',{init:function(A){var B=x.find;A.ui.addButton('Find',{label:A.lang.findAndReplace.find,command:'find'});var C=A.addCommand('find',new o.dialogCommand('find'));C.canUndo=false;A.ui.addButton('Replace',{label:A.lang.findAndReplace.replace,command:'replace'});var D=A.addCommand('replace',new o.dialogCommand('replace'));D.canUndo=false;o.dialog.add('find',this.path+'dialogs/find.js');o.dialog.add('replace',this.path+'dialogs/find.js');},requires:['styles']});w.find_highlight={element:'span',styles:{'background-color':'#004',color:'#fff'}};(function(){var A=/\.swf(?:$|\?)/i,B=s.cssLength;function C(E){var F=E.attributes;return F.type=='application/x-shockwave-flash'||A.test(F.src||'');};function D(E,F){var G=E.createFakeParserElement(F,'cke_flash','flash',true),H=G.attributes.style||'',I=F.attributes.width,J=F.attributes.height;
if(typeof I!='undefined')H=G.attributes.style=H+'width:'+B(I)+';';if(typeof J!='undefined')H=G.attributes.style=H+'height:'+B(J)+';';return G;};x.add('flash',{init:function(E){E.addCommand('flash',new o.dialogCommand('flash'));E.ui.addButton('Flash',{label:E.lang.common.flash,command:'flash'});o.dialog.add('flash',this.path+'dialogs/flash.js');E.addCss('img.cke_flash{background-image: url('+o.getUrl(this.path+'images/placeholder.png')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 80px;'+'height: 80px;'+'}');if(E.addMenuItems)E.addMenuItems({flash:{label:E.lang.flash.properties,command:'flash',group:'flash'}});E.on('doubleclick',function(F){var G=F.data.element;if(G.is('img')&&G.data('cke-real-element-type')=='flash')F.data.dialog='flash';});if(E.contextMenu)E.contextMenu.addListener(function(F,G){if(F&&F.is('img')&&!F.isReadOnly()&&F.data('cke-real-element-type')=='flash')return{flash:2};});},afterInit:function(E){var F=E.dataProcessor,G=F&&F.dataFilter;if(G)G.addRules({elements:{'cke:object':function(H){var I=H.attributes,J=I.classid&&String(I.classid).toLowerCase();if(!J){for(var K=0;K<H.children.length;K++){if(H.children[K].name=='cke:embed'){if(!C(H.children[K]))return null;return D(E,H);}}return null;}return D(E,H);},'cke:embed':function(H){if(!C(H))return null;return D(E,H);}}},5);},requires:['fakeobjects']});})();s.extend(w,{flashEmbedTagOnly:false,flashAddEmbedTag:true,flashConvertOnEdit:false});(function(){function A(B,C,D,E,F,G,H){var I=B.config,J=F.split(';'),K=[],L={};for(var M=0;M<J.length;M++){var N=J[M];if(N){N=N.split('/');var O={},P=J[M]=N[0];O[D]=K[M]=N[1]||P;L[P]=new o.style(H,O);L[P]._.definition.name=P;}else J.splice(M--,1);}B.ui.addRichCombo(C,{label:E.label,title:E.panelTitle,className:'cke_'+(D=='size'?'fontSize':'font'),panel:{css:B.skin.editor.css.concat(I.contentsCss),multiSelect:false,attributes:{'aria-label':E.panelTitle}},init:function(){this.startGroup(E.panelTitle);for(var Q=0;Q<J.length;Q++){var R=J[Q];this.add(R,L[R].buildPreview(),R);}},onClick:function(Q){B.focus();B.fire('saveSnapshot');var R=L[Q];if(this.getValue()==Q)R.remove(B.document);else R.apply(B.document);B.fire('saveSnapshot');},onRender:function(){B.on('selectionChange',function(Q){var R=this.getValue(),S=Q.data.path,T=S.elements;for(var U=0,V;U<T.length;U++){V=T[U];for(var W in L){if(L[W].checkElementRemovable(V,true)){if(W!=R)this.setValue(W);return;}}}this.setValue('',G);},this);}});};x.add('font',{requires:['richcombo','styles'],init:function(B){var C=B.config;
A(B,'Font','family',B.lang.font,C.font_names,C.font_defaultLabel,C.font_style);A(B,'FontSize','size',B.lang.fontSize,C.fontSize_sizes,C.fontSize_defaultLabel,C.fontSize_style);}});})();w.font_names='Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif';w.font_defaultLabel='';w.font_style={element:'span',styles:{'font-family':'#(family)'},overrides:[{element:'font',attributes:{face:null}}]};w.fontSize_sizes='8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px';w.fontSize_defaultLabel='';w.fontSize_style={element:'span',styles:{'font-size':'#(size)'},overrides:[{element:'font',attributes:{size:null}}]};x.add('format',{requires:['richcombo','styles'],init:function(A){var B=A.config,C=A.lang.format,D=B.format_tags.split(';'),E={};for(var F=0;F<D.length;F++){var G=D[F];E[G]=new o.style(B['format_'+G]);E[G]._.enterMode=A.config.enterMode;}A.ui.addRichCombo('Format',{label:C.label,title:C.panelTitle,className:'cke_format',panel:{css:A.skin.editor.css.concat(B.contentsCss),multiSelect:false,attributes:{'aria-label':C.panelTitle}},init:function(){this.startGroup(C.panelTitle);for(var H in E){var I=C['tag_'+H];this.add(H,'<'+H+'>'+I+'</'+H+'>',I);}},onClick:function(H){A.focus();A.fire('saveSnapshot');var I=E[H],J=new r.elementPath(A.getSelection().getStartElement());I[I.checkActive(J)?'remove':'apply'](A.document);setTimeout(function(){A.fire('saveSnapshot');},0);},onRender:function(){A.on('selectionChange',function(H){var I=this.getValue(),J=H.data.path;for(var K in E){if(E[K].checkActive(J)){if(K!=I)this.setValue(K,A.lang.format['tag_'+K]);return;}}this.setValue('');},this);}});}});w.format_tags='p;h1;h2;h3;h4;h5;h6;pre;address;div';w.format_p={element:'p'};w.format_div={element:'div'};w.format_pre={element:'pre'};w.format_address={element:'address'};w.format_h1={element:'h1'};w.format_h2={element:'h2'};w.format_h3={element:'h3'};w.format_h4={element:'h4'};w.format_h5={element:'h5'};w.format_h6={element:'h6'};x.add('forms',{init:function(A){var B=A.lang;A.addCss('form{border: 1px dotted #FF0000;padding: 2px;}\n');A.addCss('img.cke_hidden{background-image: url('+o.getUrl(this.path+'images/hiddenfield.gif')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 16px !important;'+'height: 16px !important;'+'}');
var C=function(E,F,G){A.addCommand(F,new o.dialogCommand(F));A.ui.addButton(E,{label:B.common[E.charAt(0).toLowerCase()+E.slice(1)],command:F});o.dialog.add(F,G);},D=this.path+'dialogs/';C('Form','form',D+'form.js');C('Checkbox','checkbox',D+'checkbox.js');C('Radio','radio',D+'radio.js');C('TextField','textfield',D+'textfield.js');C('Textarea','textarea',D+'textarea.js');C('Select','select',D+'select.js');C('Button','button',D+'button.js');C('ImageButton','imagebutton',x.getPath('image')+'dialogs/image.js');C('HiddenField','hiddenfield',D+'hiddenfield.js');if(A.addMenuItems)A.addMenuItems({form:{label:B.form.menu,command:'form',group:'form'},checkbox:{label:B.checkboxAndRadio.checkboxTitle,command:'checkbox',group:'checkbox'},radio:{label:B.checkboxAndRadio.radioTitle,command:'radio',group:'radio'},textfield:{label:B.textfield.title,command:'textfield',group:'textfield'},hiddenfield:{label:B.hidden.title,command:'hiddenfield',group:'hiddenfield'},imagebutton:{label:B.image.titleButton,command:'imagebutton',group:'imagebutton'},button:{label:B.button.title,command:'button',group:'button'},select:{label:B.select.title,command:'select',group:'select'},textarea:{label:B.textarea.title,command:'textarea',group:'textarea'}});if(A.contextMenu){A.contextMenu.addListener(function(E){if(E&&E.hasAscendant('form',true)&&!E.isReadOnly())return{form:2};});A.contextMenu.addListener(function(E){if(E&&!E.isReadOnly()){var F=E.getName();if(F=='select')return{select:2};if(F=='textarea')return{textarea:2};if(F=='input')switch(E.getAttribute('type')){case 'button':case 'submit':case 'reset':return{button:2};case 'checkbox':return{checkbox:2};case 'radio':return{radio:2};case 'image':return{imagebutton:2};default:return{textfield:2};}if(F=='img'&&E.data('cke-real-element-type')=='hiddenfield')return{hiddenfield:2};}});}A.on('doubleclick',function(E){var F=E.data.element;if(F.is('form'))E.data.dialog='form';else if(F.is('select'))E.data.dialog='select';else if(F.is('textarea'))E.data.dialog='textarea';else if(F.is('img')&&F.data('cke-real-element-type')=='hiddenfield')E.data.dialog='hiddenfield';else if(F.is('input'))switch(F.getAttribute('type')){case 'button':case 'submit':case 'reset':E.data.dialog='button';break;case 'checkbox':E.data.dialog='checkbox';break;case 'radio':E.data.dialog='radio';break;case 'image':E.data.dialog='imagebutton';break;default:E.data.dialog='textfield';break;}});},afterInit:function(A){var B=A.dataProcessor,C=B&&B.htmlFilter,D=B&&B.dataFilter;if(q)C&&C.addRules({elements:{input:function(E){var F=E.attributes,G=F.type;
if(!G)F.type='text';if(G=='checkbox'||G=='radio')F.value=='on'&&delete F.value;}}});if(D)D.addRules({elements:{input:function(E){if(E.attributes.type=='hidden')return A.createFakeParserElement(E,'cke_hidden','hiddenfield');}}});},requires:['image','fakeobjects']});if(q)v.prototype.hasAttribute=function(A){var D=this;var B=D.$.attributes.getNamedItem(A);if(D.getName()=='input')switch(A){case 'class':return D.$.className.length>0;case 'checked':return!!D.$.checked;case 'value':var C=D.getAttribute('type');return C=='checkbox'||C=='radio'?D.$.value!='on':D.$.value;}return!!(B&&B.specified);};(function(){var A={canUndo:false,exec:function(C){C.insertElement(C.document.createElement('hr'));}},B='horizontalrule';x.add(B,{init:function(C){C.addCommand(B,A);C.ui.addButton('HorizontalRule',{label:C.lang.horizontalrule,command:B});}});})();(function(){function A(B,C){var D=B.createFakeParserElement(C,'cke_iframe','iframe',true),E=D.attributes.style||'',F=C.attributes.width,G=C.attributes.height;if(typeof F!='undefined')E+='width:'+s.cssLength(F)+';';if(typeof G!='undefined')E+='height:'+s.cssLength(G)+';';D.attributes.style=E;return D;};x.add('iframe',{requires:['dialog','fakeobjects'],init:function(B){var C='iframe',D=B.lang.iframe;o.dialog.add(C,this.path+'dialogs/iframe.js');B.addCommand(C,new o.dialogCommand(C));B.addCss('img.cke_iframe{background-image: url('+o.getUrl(this.path+'images/placeholder.png')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 80px;'+'height: 80px;'+'}');B.ui.addButton('Iframe',{label:D.toolbar,command:C});B.on('doubleclick',function(E){var F=E.data.element;if(F.is('img')&&F.data('cke-real-element-type')=='iframe')E.data.dialog='iframe';});if(B.addMenuItems)B.addMenuItems({iframe:{label:D.title,command:'iframe',group:'image'}});if(B.contextMenu)B.contextMenu.addListener(function(E,F){if(E&&E.is('img')&&E.data('cke-real-element-type')=='iframe')return{iframe:2};});},afterInit:function(B){var C=B.dataProcessor,D=C&&C.dataFilter;if(D)D.addRules({elements:{iframe:function(E){return A(B,E);}}});}});})();x.add('image',{init:function(A){var B='image';o.dialog.add(B,this.path+'dialogs/image.js');A.addCommand(B,new o.dialogCommand(B));A.ui.addButton('Image',{label:A.lang.common.image,command:B});A.on('doubleclick',function(C){var D=C.data.element;if(D.is('img')&&!D.data('cke-realelement'))C.data.dialog='image';});if(A.addMenuItems)A.addMenuItems({image:{label:A.lang.image.menu,command:'image',group:'image'}});
if(A.contextMenu)A.contextMenu.addListener(function(C,D){if(!C||!C.is('img')||C.data('cke-realelement')||C.isReadOnly())return null;return{image:2};});}});w.image_removeLinkByEmptyURL=true;(function(){var A={ol:1,ul:1},B=r.walker.whitespaces(true),C=r.walker.bookmark(false,true);function D(H){var Q=this;var I=H.editor,J=H.data.path,K=J&&J.contains(A);if(K)return Q.setState(2);if(!Q.useIndentClasses&&Q.name=='indent')return Q.setState(2);var L=H.data.path,M=L.block||L.blockLimit;if(!M)return Q.setState(0);if(Q.useIndentClasses){var N=M.$.className.match(Q.classNameRegex),O=0;if(N){N=N[1];O=Q.indentClassMap[N];}if(Q.name=='outdent'&&!O||Q.name=='indent'&&O==I.config.indentClasses.length)return Q.setState(0);return Q.setState(2);}else{var P=parseInt(M.getStyle(F(M)),10);if(isNaN(P))P=0;if(P<=0)return Q.setState(0);return Q.setState(2);}};function E(H,I){var K=this;K.name=I;K.useIndentClasses=H.config.indentClasses&&H.config.indentClasses.length>0;if(K.useIndentClasses){K.classNameRegex=new RegExp('(?:^|\\s+)('+H.config.indentClasses.join('|')+')(?=$|\\s)');K.indentClassMap={};for(var J=0;J<H.config.indentClasses.length;J++)K.indentClassMap[H.config.indentClasses[J]]=J+1;}K.startDisabled=I=='outdent';};function F(H,I){return(I||H.getComputedStyle('direction'))=='ltr'?'margin-left':'margin-right';};function G(H){return H.type=1&&H.is('li');};E.prototype={exec:function(H){var I=this,J={};function K(aa){var ab=Q.startContainer,ac=Q.endContainer;while(ab&&!ab.getParent().equals(aa))ab=ab.getParent();while(ac&&!ac.getParent().equals(aa))ac=ac.getParent();if(!ab||!ac)return;var ad=ab,ae=[],af=false;while(!af){if(ad.equals(ac))af=true;ae.push(ad);ad=ad.getNext();}if(ae.length<1)return;var ag=aa.getParents(true);for(var ah=0;ah<ag.length;ah++){if(ag[ah].getName&&A[ag[ah].getName()]){aa=ag[ah];break;}}var ai=I.name=='indent'?1:-1,aj=ae[0],ak=ae[ae.length-1],al=x.list.listToArray(aa,J),am=al[ak.getCustomData('listarray_index')].indent;for(ah=aj.getCustomData('listarray_index');ah<=ak.getCustomData('listarray_index');ah++){al[ah].indent+=ai;var an=al[ah].parent;al[ah].parent=new v(an.getName(),an.getDocument());}for(ah=ak.getCustomData('listarray_index')+1;ah<al.length&&al[ah].indent>am;ah++)al[ah].indent+=ai;var ao=x.list.arrayToList(al,J,null,H.config.enterMode,aa.getDirection());if(I.name=='outdent'){var ap;if((ap=aa.getParent())&&ap.is('li')){var aq=ao.listNode.getChildren(),ar=[],as=aq.count(),at;for(ah=as-1;ah>=0;ah--){if((at=aq.getItem(ah))&&at.is&&at.is('li'))ar.push(at);
}}}if(ao)ao.listNode.replace(aa);if(ar&&ar.length)for(ah=0;ah<ar.length;ah++){var au=ar[ah],av=au;while((av=av.getNext())&&av.is&&av.getName() in A){if(q&&!au.getFirst(function(aw){return B(aw)&&C(aw);}))au.append(Q.document.createText('\xa0'));au.append(av);}au.insertAfter(ap);}};function L(){var aa=Q.createIterator(),ab=H.config.enterMode;aa.enforceRealBlocks=true;aa.enlargeBr=ab!=2;var ac;while(ac=aa.getNextParagraph(ab==1?'p':'div'))M(ac);};function M(aa,ab){if(aa.getCustomData('indent_processed'))return false;if(I.useIndentClasses){var ac=aa.$.className.match(I.classNameRegex),ad=0;if(ac){ac=ac[1];ad=I.indentClassMap[ac];}if(I.name=='outdent')ad--;else ad++;if(ad<0)return false;ad=Math.min(ad,H.config.indentClasses.length);ad=Math.max(ad,0);aa.$.className=s.ltrim(aa.$.className.replace(I.classNameRegex,''));if(ad>0)aa.addClass(H.config.indentClasses[ad-1]);}else{var ae=F(aa,ab),af=parseInt(aa.getStyle(ae),10);if(isNaN(af))af=0;var ag=H.config.indentOffset||40;af+=(I.name=='indent'?1:-1)*ag;if(af<0)return false;af=Math.max(af,0);af=Math.ceil(af/ag)*ag;aa.setStyle(ae,af?af+(H.config.indentUnit||'px'):'');if(aa.getAttribute('style')==='')aa.removeAttribute('style');}v.setMarker(J,aa,'indent_processed',1);return true;};var N=H.getSelection(),O=N.createBookmarks(1),P=N&&N.getRanges(1),Q,R=P.createIterator();while(Q=R.getNextRange()){var S=Q.getCommonAncestor(),T=S;while(T&&!(T.type==1&&A[T.getName()]))T=T.getParent();if(!T){var U=Q.getEnclosedNode();if(U&&U.type==1&&U.getName() in A){Q.setStartAt(U,1);Q.setEndAt(U,2);T=U;}}if(T&&Q.startContainer.type==1&&Q.startContainer.getName() in A){var V=new r.walker(Q);V.evaluator=G;Q.startContainer=V.next();}if(T&&Q.endContainer.type==1&&Q.endContainer.getName() in A){V=new r.walker(Q);V.evaluator=G;Q.endContainer=V.previous();}if(T){var W=T.getFirst(G),X=!!W.getNext(G),Y=Q.startContainer,Z=W.equals(Y)||W.contains(Y);if(!(Z&&(I.name=='indent'||I.useIndentClasses||parseInt(T.getStyle(F(T)),10))&&M(T,!X&&W.getDirection())))K(T);}else L();}v.clearAllMarkers(J);H.forceNextSelectionCheck();N.selectBookmarks(O);}};x.add('indent',{init:function(H){var I=H.addCommand('indent',new E(H,'indent')),J=H.addCommand('outdent',new E(H,'outdent'));H.ui.addButton('Indent',{label:H.lang.indent,command:'indent'});H.ui.addButton('Outdent',{label:H.lang.outdent,command:'outdent'});H.on('selectionChange',s.bind(D,I));H.on('selectionChange',s.bind(D,J));if(p.ie6Compat||p.ie7Compat)H.addCss('ul,ol{\tmargin-left: 0px;\tpadding-left: 40px;}');
H.on('dirChanged',function(K){var L=new r.range(H.document);L.setStartBefore(K.data.node);L.setEndAfter(K.data.node);var M=new r.walker(L),N;while(N=M.next()){if(N.type==1){if(!N.equals(K.data.node)&&N.getDirection()){L.setStartAfter(N);M=new r.walker(L);continue;}var O=H.config.indentClasses;if(O){var P=K.data.dir=='ltr'?['_rtl','']:['','_rtl'];for(var Q=0;Q<O.length;Q++){if(N.hasClass(O[Q]+P[0])){N.removeClass(O[Q]+P[0]);N.addClass(O[Q]+P[1]);}}}var R=N.getStyle('margin-right'),S=N.getStyle('margin-left');R?N.setStyle('margin-left',R):N.removeStyle('margin-left');S?N.setStyle('margin-right',S):N.removeStyle('margin-right');}}});},requires:['domiterator','list']});})();(function(){function A(F,G){var H=G.block||G.blockLimit;if(!H||H.getName()=='body')return 2;return B(H,F.config.useComputedState)==this.value?1:2;};function B(F,G){G=G===undefined||G;var H;if(G)H=F.getComputedStyle('text-align');else{while(!F.hasAttribute||!(F.hasAttribute('align')||F.getStyle('text-align'))){var I=F.getParent();if(!I)break;F=I;}H=F.getStyle('text-align')||F.getAttribute('align')||'';}H&&(H=H.replace(/-moz-|-webkit-|start|auto/i,''));!H&&G&&(H=F.getComputedStyle('direction')=='rtl'?'right':'left');return H;};function C(F){var G=F.editor.getCommand(this.name);G.state=A.call(this,F.editor,F.data.path);G.fire('state');};function D(F,G,H){var J=this;J.name=G;J.value=H;var I=F.config.justifyClasses;if(I){switch(H){case 'left':J.cssClassName=I[0];break;case 'center':J.cssClassName=I[1];break;case 'right':J.cssClassName=I[2];break;case 'justify':J.cssClassName=I[3];break;}J.cssClassRegex=new RegExp('(?:^|\\s+)(?:'+I.join('|')+')(?=$|\\s)');}};function E(F){var G=F.editor,H=new r.range(G.document);H.setStartBefore(F.data.node);H.setEndAfter(F.data.node);var I=new r.walker(H),J;while(J=I.next()){if(J.type==1){if(!J.equals(F.data.node)&&J.getDirection()){H.setStartAfter(J);I=new r.walker(H);continue;}var K=G.config.justifyClasses;if(K)if(J.hasClass(K[0])){J.removeClass(K[0]);J.addClass(K[2]);}else if(J.hasClass(K[2])){J.removeClass(K[2]);J.addClass(K[0]);}var L='text-align',M=J.getStyle(L);if(M=='left')J.setStyle(L,'right');else if(M=='right')J.setStyle(L,'left');}}};D.prototype={exec:function(F){var R=this;var G=F.getSelection(),H=F.config.enterMode;if(!G)return;var I=G.createBookmarks(),J=G.getRanges(true),K=R.cssClassName,L,M,N=F.config.useComputedState;N=N===undefined||N;for(var O=J.length-1;O>=0;O--){L=J[O].createIterator();L.enlargeBr=H!=2;while(M=L.getNextParagraph(H==1?'p':'div')){M.removeAttribute('align');
M.removeStyle('text-align');var P=K&&(M.$.className=s.ltrim(M.$.className.replace(R.cssClassRegex,''))),Q=R.state==2&&(!N||B(M,true)!=R.value);if(K){if(Q)M.addClass(K);else if(!P)M.removeAttribute('class');}else if(Q)M.setStyle('text-align',R.value);}}F.focus();F.forceNextSelectionCheck();G.selectBookmarks(I);}};x.add('justify',{init:function(F){var G=new D(F,'justifyleft','left'),H=new D(F,'justifycenter','center'),I=new D(F,'justifyright','right'),J=new D(F,'justifyblock','justify');F.addCommand('justifyleft',G);F.addCommand('justifycenter',H);F.addCommand('justifyright',I);F.addCommand('justifyblock',J);F.ui.addButton('JustifyLeft',{label:F.lang.justify.left,command:'justifyleft'});F.ui.addButton('JustifyCenter',{label:F.lang.justify.center,command:'justifycenter'});F.ui.addButton('JustifyRight',{label:F.lang.justify.right,command:'justifyright'});F.ui.addButton('JustifyBlock',{label:F.lang.justify.block,command:'justifyblock'});F.on('selectionChange',s.bind(C,G));F.on('selectionChange',s.bind(C,I));F.on('selectionChange',s.bind(C,H));F.on('selectionChange',s.bind(C,J));F.on('dirChanged',E);},requires:['domiterator']});})();x.add('keystrokes',{beforeInit:function(A){A.keystrokeHandler=new o.keystrokeHandler(A);A.specialKeys={};},init:function(A){var B=A.config.keystrokes,C=A.config.blockedKeystrokes,D=A.keystrokeHandler.keystrokes,E=A.keystrokeHandler.blockedKeystrokes;for(var F=0;F<B.length;F++)D[B[F][0]]=B[F][1];for(F=0;F<C.length;F++)E[C[F]]=1;}});o.keystrokeHandler=function(A){var B=this;if(A.keystrokeHandler)return A.keystrokeHandler;B.keystrokes={};B.blockedKeystrokes={};B._={editor:A};return B;};(function(){var A,B=function(D){D=D.data;var E=D.getKeystroke(),F=this.keystrokes[E],G=this._.editor;A=G.fire('key',{keyCode:E})===true;if(!A){if(F){var H={from:'keystrokeHandler'};A=G.execCommand(F,H)!==false;}if(!A){var I=G.specialKeys[E];A=I&&I(G)===true;if(!A)A=!!this.blockedKeystrokes[E];}}if(A)D.preventDefault(true);return!A;},C=function(D){if(A){A=false;D.data.preventDefault(true);}};o.keystrokeHandler.prototype={attach:function(D){D.on('keydown',B,this);if(p.opera||p.gecko&&p.mac)D.on('keypress',C,this);}};})();w.blockedKeystrokes=[1000+66,1000+73,1000+85];w.keystrokes=[[4000+121,'toolbarFocus'],[4000+122,'elementsPathFocus'],[2000+121,'contextMenu'],[1000+2000+121,'contextMenu'],[1000+90,'undo'],[1000+89,'redo'],[1000+2000+90,'redo'],[1000+76,'link'],[1000+66,'bold'],[1000+73,'italic'],[1000+85,'underline'],[4000+109,'toolbarCollapse'],[4000+48,'a11yHelp']];
x.add('link',{init:function(A){A.addCommand('link',new o.dialogCommand('link'));A.addCommand('anchor',new o.dialogCommand('anchor'));A.addCommand('unlink',new o.unlinkCommand());A.ui.addButton('Link',{label:A.lang.link.toolbar,command:'link'});A.ui.addButton('Unlink',{label:A.lang.unlink,command:'unlink'});A.ui.addButton('Anchor',{label:A.lang.anchor.toolbar,command:'anchor'});o.dialog.add('link',this.path+'dialogs/link.js');o.dialog.add('anchor',this.path+'dialogs/anchor.js');var B=A.lang.dir=='rtl'?'right':'left';A.addCss('img.cke_anchor{background-image: url('+o.getUrl(this.path+'images/anchor.gif')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 18px !important;'+'height: 18px !important;'+'}\n'+'a.cke_anchor'+'{'+'background-image: url('+o.getUrl(this.path+'images/anchor.gif')+');'+'background-position: '+B+' center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'padding-'+B+': 18px;'+'}');A.on('selectionChange',function(C){var D=A.getCommand('unlink'),E=C.data.path.lastElement&&C.data.path.lastElement.getAscendant('a',true);if(E&&E.getName()=='a'&&E.getAttribute('href'))D.setState(2);else D.setState(0);});A.on('doubleclick',function(C){var D=x.link.getSelectedLink(A)||C.data.element;if(!D.isReadOnly())if(D.is('a'))C.data.dialog=D.getAttribute('name')&&!D.getAttribute('href')?'anchor':'link';else if(D.is('img')&&D.data('cke-real-element-type')=='anchor')C.data.dialog='anchor';});if(A.addMenuItems)A.addMenuItems({anchor:{label:A.lang.anchor.menu,command:'anchor',group:'anchor'},link:{label:A.lang.link.menu,command:'link',group:'link',order:1},unlink:{label:A.lang.unlink,command:'unlink',group:'link',order:5}});if(A.contextMenu)A.contextMenu.addListener(function(C,D){if(!C||C.isReadOnly())return null;var E=C.is('img')&&C.data('cke-real-element-type')=='anchor';if(!E){if(!(C=x.link.getSelectedLink(A)))return null;E=C.getAttribute('name')&&!C.getAttribute('href');}return E?{anchor:2}:{link:2,unlink:2};});},afterInit:function(A){var B=A.dataProcessor,C=B&&B.dataFilter;if(C)C.addRules({elements:{a:function(D){var E=D.attributes;if(E.name&&!E.href)return A.createFakeParserElement(D,'cke_anchor','anchor');}}});},requires:['fakeobjects']});x.link={getSelectedLink:function(A){try{var B=A.getSelection();if(B.getType()==3){var C=B.getSelectedElement();if(C.is('a'))return C;}var D=B.getRanges(true)[0];D.shrink(2);var E=D.getCommonAncestor();return E.getAscendant('a',true);}catch(F){return null;
}}};o.unlinkCommand=function(){};o.unlinkCommand.prototype={exec:function(A){var B=A.getSelection(),C=B.createBookmarks(),D=B.getRanges(),E,F;for(var G=0;G<D.length;G++){E=D[G].getCommonAncestor(true);F=E.getAscendant('a',true);if(!F)continue;D[G].selectNodeContents(F);}B.selectRanges(D);A.document.$.execCommand('unlink',false,null);B.selectBookmarks(C);},startDisabled:true};s.extend(w,{linkShowAdvancedTab:true,linkShowTargetTab:true});(function(){var A={ol:1,ul:1},B=/^[\n\r\t ]*$/,C=r.walker.whitespaces(),D=r.walker.bookmark(),E=function(S){return!(C(S)||D(S));};x.list={listToArray:function(S,T,U,V,W){if(!A[S.getName()])return[];if(!V)V=0;if(!U)U=[];for(var X=0,Y=S.getChildCount();X<Y;X++){var Z=S.getChild(X);if(Z.$.nodeName.toLowerCase()!='li')continue;var aa={parent:S,indent:V,element:Z,contents:[]};if(!W){aa.grandparent=S.getParent();if(aa.grandparent&&aa.grandparent.$.nodeName.toLowerCase()=='li')aa.grandparent=aa.grandparent.getParent();}else aa.grandparent=W;if(T)v.setMarker(T,Z,'listarray_index',U.length);U.push(aa);for(var ab=0,ac=Z.getChildCount(),ad;ab<ac;ab++){ad=Z.getChild(ab);if(ad.type==1&&A[ad.getName()])x.list.listToArray(ad,T,U,V+1,aa.grandparent);else aa.contents.push(ad);}}return U;},arrayToList:function(S,T,U,V,W){if(!U)U=0;if(!S||S.length<U+1)return null;var X=S[U].parent.getDocument(),Y=new r.documentFragment(X),Z=null,aa=U,ab=Math.max(S[U].indent,0),ac=null,ad=V==1?'p':'div';while(1){var ae=S[aa];if(ae.indent==ab){if(!Z||S[aa].parent.getName()!=Z.getName()){Z=S[aa].parent.clone(false,1);W&&Z.setAttribute('dir',W);Y.append(Z);}ac=Z.append(ae.element.clone(0,1));for(var af=0;af<ae.contents.length;af++)ac.append(ae.contents[af].clone(1,1));aa++;}else if(ae.indent==Math.max(ab,0)+1){var ag=x.list.arrayToList(S,null,aa,V);if(!ac.getChildCount()&&q&&!(X.$.documentMode>7))ac.append(X.createText('\xa0'));ac.append(ag.listNode);aa=ag.nextIndex;}else if(ae.indent==-1&&!U&&ae.grandparent){ac;if(A[ae.grandparent.getName()])ac=ae.element.clone(false,true);else if(W||ae.element.hasAttributes()||V!=2){ac=X.createElement(ad);ae.element.copyAttributes(ac,{type:1,value:1});var ah=ae.element.getDirection()||W;ah&&ac.setAttribute('dir',ah);if(!W&&V==2&&!ac.hasAttributes())ac=new r.documentFragment(X);}else ac=new r.documentFragment(X);for(af=0;af<ae.contents.length;af++)ac.append(ae.contents[af].clone(1,1));if(ac.type==11&&aa!=S.length-1){var ai=ac.getLast();if(ai&&ai.type==1&&ai.getAttribute('type')=='_moz')ai.remove();if(!(ai=ac.getLast(E)&&ai.type==1&&ai.getName() in t.$block))ac.append(X.createElement('br'));
}if(ac.type==1&&ac.getName()==ad&&ac.$.firstChild){ac.trim();var aj=ac.getFirst();if(aj.type==1&&aj.isBlockBoundary()){var ak=new r.documentFragment(X);ac.moveChildren(ak);ac=ak;}}var al=ac.$.nodeName.toLowerCase();if(!q&&(al=='div'||al=='p'))ac.appendBogus();Y.append(ac);Z=null;aa++;}else return null;if(S.length<=aa||Math.max(S[aa].indent,0)<ab)break;}if(T){var am=Y.getFirst();while(am){if(am.type==1)v.clearMarkers(T,am);am=am.getNextSourceNode();}}return{listNode:Y,nextIndex:aa};}};function F(S){var T=S.data.path,U=T.blockLimit,V=T.elements,W,X;for(X=0;X<V.length&&(W=V[X])&&!W.equals(U);X++){if(A[V[X].getName()])return this.setState(this.type==V[X].getName()?1:2);}return this.setState(2);};function G(S,T,U,V){var W=x.list.listToArray(T.root,U),X=[];for(var Y=0;Y<T.contents.length;Y++){var Z=T.contents[Y];Z=Z.getAscendant('li',true);if(!Z||Z.getCustomData('list_item_processed'))continue;X.push(Z);v.setMarker(U,Z,'list_item_processed',true);}var aa=T.root,ab=aa.getDocument().createElement(this.type);aa.copyAttributes(ab,{start:1,type:1});ab.removeStyle('list-style-type');for(Y=0;Y<X.length;Y++){var ac=X[Y].getCustomData('listarray_index');W[ac].parent=ab;}var ad=x.list.arrayToList(W,U,null,S.config.enterMode),ae,af=ad.listNode.getChildCount();for(Y=0;Y<af&&(ae=ad.listNode.getChild(Y));Y++){if(ae.getName()==this.type)V.push(ae);}ad.listNode.replace(T.root);};var H=/^h[1-6]$/;function I(S,T,U){var V=T.contents,W=T.root.getDocument(),X=[];if(V.length==1&&V[0].equals(T.root)){var Y=W.createElement('div');V[0].moveChildren&&V[0].moveChildren(Y);V[0].append(Y);V[0]=Y;}var Z=T.contents[0].getParent();for(var aa=0;aa<V.length;aa++)Z=Z.getCommonAncestor(V[aa].getParent());var ab=S.config.useComputedState,ac,ad;ab=ab===undefined||ab;for(aa=0;aa<V.length;aa++){var ae=V[aa],af;while(af=ae.getParent()){if(af.equals(Z)){X.push(ae);if(!ad&&ae.getDirection())ad=1;var ag=ae.getDirection(ab);if(ac!==null)if(ac&&ac!=ag)ac=null;else ac=ag;break;}ae=af;}}if(X.length<1)return;var ah=X[X.length-1].getNext(),ai=W.createElement(this.type);U.push(ai);var aj,ak;while(X.length){aj=X.shift();ak=W.createElement('li');if(aj.is('pre')||H.test(aj.getName()))aj.appendTo(ak);else{if(ac&&aj.getDirection()){aj.removeStyle('direction');aj.removeAttribute('dir');}aj.copyAttributes(ak);aj.moveChildren(ak);aj.remove();}ak.appendTo(ai);}if(ac&&ad)ai.setAttribute('dir',ac);if(ah)ai.insertBefore(ah);else ai.appendTo(Z);};function J(S,T,U){var V=x.list.listToArray(T.root,U),W=[];for(var X=0;X<T.contents.length;
X++){var Y=T.contents[X];Y=Y.getAscendant('li',true);if(!Y||Y.getCustomData('list_item_processed'))continue;W.push(Y);v.setMarker(U,Y,'list_item_processed',true);}var Z=null;for(X=0;X<W.length;X++){var aa=W[X].getCustomData('listarray_index');V[aa].indent=-1;Z=aa;}for(X=Z+1;X<V.length;X++){if(V[X].indent>V[X-1].indent+1){var ab=V[X-1].indent+1-V[X].indent,ac=V[X].indent;while(V[X]&&V[X].indent>=ac){V[X].indent+=ab;X++;}X--;}}var ad=x.list.arrayToList(V,U,null,S.config.enterMode,T.root.getAttribute('dir')),ae=ad.listNode,af,ag;function ah(ai){if((af=ae[ai?'getFirst':'getLast']())&&!(af.is&&af.isBlockBoundary())&&(ag=T.root[ai?'getPrevious':'getNext'](r.walker.whitespaces(true)))&&!(ag.is&&ag.isBlockBoundary({br:1})))S.document.createElement('br')[ai?'insertBefore':'insertAfter'](af);};ah(true);ah();ae.replace(T.root);};function K(S,T){this.name=S;this.type=T;};K.prototype={exec:function(S){S.focus();var T=S.document,U=S.getSelection(),V=U&&U.getRanges(true);if(!V||V.length<1)return;if(this.state==2){var W=T.getBody();W.trim();if(!W.getFirst()){var X=T.createElement(S.config.enterMode==1?'p':S.config.enterMode==3?'div':'br');X.appendTo(W);V=new r.rangeList([new r.range(T)]);if(X.is('br')){V[0].setStartBefore(X);V[0].setEndAfter(X);}else V[0].selectNodeContents(X);U.selectRanges(V);}else{var Y=V.length==1&&V[0],Z=Y&&Y.getEnclosedNode();if(Z&&Z.is&&this.type==Z.getName())this.setState(1);}}var aa=U.createBookmarks(true),ab=[],ac={},ad=V.createIterator(),ae=0;while((Y=ad.getNextRange())&&++ae){var af=Y.getBoundaryNodes(),ag=af.startNode,ah=af.endNode;if(ag.type==1&&ag.getName()=='td')Y.setStartAt(af.startNode,1);if(ah.type==1&&ah.getName()=='td')Y.setEndAt(af.endNode,2);var ai=Y.createIterator(),aj;ai.forceBrBreak=this.state==2;while(aj=ai.getNextParagraph()){if(aj.getCustomData('list_block'))continue;else v.setMarker(ac,aj,'list_block',1);var ak=new r.elementPath(aj),al=ak.elements,am=al.length,an=null,ao=0,ap=ak.blockLimit,aq;for(var ar=am-1;ar>=0&&(aq=al[ar]);ar--){if(A[aq.getName()]&&ap.contains(aq)){ap.removeCustomData('list_group_object_'+ae);var as=aq.getCustomData('list_group_object');if(as)as.contents.push(aj);else{as={root:aq,contents:[aj]};ab.push(as);v.setMarker(ac,aq,'list_group_object',as);}ao=1;break;}}if(ao)continue;var at=ap;if(at.getCustomData('list_group_object_'+ae))at.getCustomData('list_group_object_'+ae).contents.push(aj);else{as={root:at,contents:[aj]};v.setMarker(ac,at,'list_group_object_'+ae,as);ab.push(as);}}}var au=[];while(ab.length>0){as=ab.shift();
if(this.state==2){if(A[as.root.getName()])G.call(this,S,as,ac,au);else I.call(this,S,as,au);}else if(this.state==1&&A[as.root.getName()])J.call(this,S,as,ac);}for(ar=0;ar<au.length;ar++){an=au[ar];var av,aw=this;(av=function(ax){var ay=an[ax?'getPrevious':'getNext'](r.walker.whitespaces(true));if(ay&&ay.getName&&ay.getName()==aw.type){ay.remove();ay.moveChildren(an,ax);}})();av(1);}v.clearAllMarkers(ac);U.selectBookmarks(aa);S.focus();}};var L=t,M=/[\t\r\n ]*(?:&nbsp;|\xa0)$/;function N(S,T){var U,V=S.children,W=V.length;for(var X=0;X<W;X++){U=V[X];if(U.name&&U.name in T)return X;}return W;};function O(S){return function(T){var U=T.children,V=N(T,L.$list),W=U[V],X=W&&W.previous,Y;if(X&&(X.name&&X.name=='br'||X.value&&(Y=X.value.match(M)))){var Z=X;if(!(Y&&Y.index)&&Z==U[0])U[0]=S||q?new o.htmlParser.text('\xa0'):new o.htmlParser.element('br',{});else if(Z.name=='br')U.splice(V-1,1);else Z.value=Z.value.replace(M,'');}};};var P={elements:{}};for(var Q in L.$listItem)P.elements[Q]=O();var R={elements:{}};for(Q in L.$listItem)R.elements[Q]=O(true);x.add('list',{init:function(S){var T=S.addCommand('numberedlist',new K('numberedlist','ol')),U=S.addCommand('bulletedlist',new K('bulletedlist','ul'));S.ui.addButton('NumberedList',{label:S.lang.numberedlist,command:'numberedlist'});S.ui.addButton('BulletedList',{label:S.lang.bulletedlist,command:'bulletedlist'});S.on('selectionChange',s.bind(F,T));S.on('selectionChange',s.bind(F,U));},afterInit:function(S){var T=S.dataProcessor;if(T){T.dataFilter.addRules(P);T.htmlFilter.addRules(R);}},requires:['domiterator']});})();(function(){x.liststyle={requires:['dialog'],init:function(A){A.addCommand('numberedListStyle',new o.dialogCommand('numberedListStyle'));o.dialog.add('numberedListStyle',this.path+'dialogs/liststyle.js');A.addCommand('bulletedListStyle',new o.dialogCommand('bulletedListStyle'));o.dialog.add('bulletedListStyle',this.path+'dialogs/liststyle.js');if(A.addMenuItems){A.addMenuGroup('list',108);A.addMenuItems({numberedlist:{label:A.lang.list.numberedTitle,group:'list',command:'numberedListStyle'},bulletedlist:{label:A.lang.list.bulletedTitle,group:'list',command:'bulletedListStyle'}});}if(A.contextMenu)A.contextMenu.addListener(function(B,C){if(!B||B.isReadOnly())return null;while(B){var D=B.getName();if(D=='ol')return{numberedlist:2};else if(D=='ul')return{bulletedlist:2};B=B.getParent();}return null;});}};x.add('liststyle',x.liststyle);})();(function(){function A(G){if(!G||G.type!=1||G.getName()!='form')return[];
var H=[],I=['style','className'];for(var J=0;J<I.length;J++){var K=I[J],L=G.$.elements.namedItem(K);if(L){var M=new v(L);H.push([M,M.nextSibling]);M.remove();}}return H;};function B(G,H){if(!G||G.type!=1||G.getName()!='form')return;if(H.length>0)for(var I=H.length-1;I>=0;I--){var J=H[I][0],K=H[I][1];if(K)J.insertBefore(K);else J.appendTo(G);}};function C(G,H){var I=A(G),J={},K=G.$;if(!H){J['class']=K.className||'';K.className='';}J.inline=K.style.cssText||'';if(!H)K.style.cssText='position: static; overflow: visible';B(I);return J;};function D(G,H){var I=A(G),J=G.$;if('class' in H)J.className=H['class'];if('inline' in H)J.style.cssText=H.inline;B(I);};function E(G){var H=o.instances;for(var I in H){var J=H[I];if(J.mode=='wysiwyg'){var K=J.document.getBody();K.setAttribute('contentEditable',false);K.setAttribute('contentEditable',true);}}if(G.focusManager.hasFocus){G.toolbox.focus();G.focus();}};function F(G){if(!q||p.version>6)return null;var H=v.createFromHtml('<iframe frameborder="0" tabindex="-1" src="javascript:void((function(){document.open();'+(p.isCustomDomain()?"document.domain='"+this.getDocument().$.domain+"';":'')+'document.close();'+'})())"'+' style="display:block;position:absolute;z-index:-1;'+'progid:DXImageTransform.Microsoft.Alpha(opacity=0);'+'"></iframe>');return G.append(H,true);};x.add('maximize',{init:function(G){var H=G.lang,I=o.document,J=I.getWindow(),K,L,M,N;function O(){var Q=J.getViewPaneSize();N&&N.setStyles({width:Q.width+'px',height:Q.height+'px'});G.resize(Q.width,Q.height,null,true);};var P=2;G.addCommand('maximize',{modes:{wysiwyg:1,source:1},editorFocus:false,exec:function(){var Q=G.container.getChild(1),R=G.getThemeSpace('contents');if(G.mode=='wysiwyg'){var S=G.getSelection();K=S&&S.getRanges();L=J.getScrollPosition();}else{var T=G.textarea.$;K=!q&&[T.selectionStart,T.selectionEnd];L=[T.scrollLeft,T.scrollTop];}if(this.state==2){J.on('resize',O);M=J.getScrollPosition();var U=G.container;while(U=U.getParent()){U.setCustomData('maximize_saved_styles',C(U));U.setStyle('z-index',G.config.baseFloatZIndex-1);}R.setCustomData('maximize_saved_styles',C(R,true));Q.setCustomData('maximize_saved_styles',C(Q,true));var V={overflow:p.webkit?'':'hidden',width:0,height:0};I.getDocumentElement().setStyles(V);!p.gecko&&I.getDocumentElement().setStyle('position','fixed');I.getBody().setStyles(V);q?setTimeout(function(){J.$.scrollTo(0,0);},0):J.$.scrollTo(0,0);Q.setStyle('position','absolute');Q.$.offsetLeft;Q.setStyles({'z-index':G.config.baseFloatZIndex-1,left:'0px',top:'0px'});
N=F(Q);Q.addClass('cke_maximized');O();var W=Q.getDocumentPosition();Q.setStyles({left:-1*W.x+'px',top:-1*W.y+'px'});p.gecko&&E(G);}else if(this.state==1){J.removeListener('resize',O);var X=[R,Q];for(var Y=0;Y<X.length;Y++){D(X[Y],X[Y].getCustomData('maximize_saved_styles'));X[Y].removeCustomData('maximize_saved_styles');}U=G.container;while(U=U.getParent()){D(U,U.getCustomData('maximize_saved_styles'));U.removeCustomData('maximize_saved_styles');}q?setTimeout(function(){J.$.scrollTo(M.x,M.y);},0):J.$.scrollTo(M.x,M.y);Q.removeClass('cke_maximized');if(p.webkit){Q.setStyle('display','inline');setTimeout(function(){Q.setStyle('display','block');},0);}if(N){N.remove();N=null;}G.fire('resize');}this.toggleState();var Z=this.uiItems[0];if(Z){var aa=this.state==2?H.maximize:H.minimize,ab=G.element.getDocument().getById(Z._.id);ab.getChild(1).setHtml(aa);ab.setAttribute('title',aa);ab.setAttribute('href','javascript:void("'+aa+'");');}if(G.mode=='wysiwyg'){if(K){p.gecko&&E(G);G.getSelection().selectRanges(K);var ac=G.getSelection().getStartElement();ac&&ac.scrollIntoView(true);}else J.$.scrollTo(L.x,L.y);}else{if(K){T.selectionStart=K[0];T.selectionEnd=K[1];}T.scrollLeft=L[0];T.scrollTop=L[1];}K=L=null;P=this.state;},canUndo:false});G.ui.addButton('Maximize',{label:H.maximize,command:'maximize'});G.on('mode',function(){var Q=G.getCommand('maximize');Q.setState(Q.state==0?0:P);},null,null,100);}});})();x.add('newpage',{init:function(A){A.addCommand('newpage',{modes:{wysiwyg:1,source:1},exec:function(B){var C=this;B.setData(B.config.newpage_html||'',function(){setTimeout(function(){B.fire('afterCommandExec',{name:C.name,command:C});},200);});B.focus();},async:true});A.ui.addButton('NewPage',{label:A.lang.newPage,command:'newpage'});}});x.add('pagebreak',{init:function(A){A.addCommand('pagebreak',x.pagebreakCmd);A.ui.addButton('PageBreak',{label:A.lang.pagebreak,command:'pagebreak'});A.addCss('img.cke_pagebreak{background-image: url('+o.getUrl(this.path+'images/pagebreak.gif')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'clear: both;'+'display: block;'+'float: none;'+'width:100% !important; _width:99.9% !important;'+'border-top: #999999 1px dotted;'+'border-bottom: #999999 1px dotted;'+'height: 5px !important;'+'page-break-after: always;'+'}');},afterInit:function(A){var B=A.dataProcessor,C=B&&B.dataFilter;if(C)C.addRules({elements:{div:function(D){var E=D.attributes,F=E&&E.style,G=F&&D.children.length==1&&D.children[0],H=G&&G.name=='span'&&G.attributes.style;
if(H&&/page-break-after\s*:\s*always/i.test(F)&&/display\s*:\s*none/i.test(H)){var I=A.createFakeParserElement(D,'cke_pagebreak','div'),J=A.lang.pagebreakAlt;I.attributes.alt=J;I.attributes['aria-label']=J;return I;}}}});},requires:['fakeobjects']});x.pagebreakCmd={exec:function(A){var B=A.lang.pagebreakAlt,C=v.createFromHtml('<div style="page-break-after: always;"><span style="display: none;">&nbsp;</span></div>');C=A.createFakeElement(C,'cke_pagebreak','div');C.setAttributes({alt:B,'aria-label':B,title:B});var D=A.getSelection().getRanges(true);A.fire('saveSnapshot');for(var E,F=D.length-1;F>=0;F--){E=D[F];if(F<D.length-1)C=C.clone(true);E.splitBlock('p');E.insertNode(C);if(F==D.length-1){E.moveToPosition(C,4);E.select();}var G=C.getPrevious();if(G&&t[G.getName()].div)C.move(G);}A.fire('saveSnapshot');}};(function(){x.add('pastefromword',{init:function(A){var B=0,C=function(){setTimeout(function(){B=0;},0);};A.addCommand('pastefromword',{canUndo:false,exec:function(){B=1;if(A.execCommand('paste')===false)A.on('dialogHide',function(D){D.removeListener();C();});else C();}});A.ui.addButton('PasteFromWord',{label:A.lang.pastefromword.toolbar,command:'pastefromword'});A.on('pasteState',function(D){A.getCommand('pastefromword').setState(D.data);});A.on('paste',function(D){var E=D.data,F;if((F=E.html)&&(B||/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/.test(F))){var G=this.loadFilterRules(function(){if(G)A.fire('paste',E);else if(!A.config.pasteFromWordPromptCleanup||B||confirm(A.lang.pastefromword.confirmCleanup))E.html=o.cleanWord(F,A);});G&&D.cancel();}},this);},loadFilterRules:function(A){var B=o.cleanWord;if(B)A();else{var C=o.getUrl(w.pasteFromWordCleanupFile||this.path+'filter/default.js');o.scriptLoader.load(C,A,null,true);}return!B;},requires:['clipboard']});})();(function(){var A={exec:function(B){var C=s.tryThese(function(){var D=window.clipboardData.getData('Text');if(!D)throw 0;return D;});if(!C){B.openDialog('pastetext');return false;}else B.fire('paste',{text:C});return true;}};x.add('pastetext',{init:function(B){var C='pastetext',D=B.addCommand(C,A);B.ui.addButton('PasteText',{label:B.lang.pasteText.button,command:C});o.dialog.add(C,o.getUrl(this.path+'dialogs/pastetext.js'));if(B.config.forcePasteAsPlainText)B.on('beforeCommandExec',function(E){if(E.data.name=='paste'){B.execCommand('pastetext');E.cancel();}},null,null,0);B.on('pasteState',function(E){B.getCommand('pastetext').setState(E.data);});},requires:['clipboard']});})();x.add('popup');
s.extend(o.editor.prototype,{popup:function(A,B,C,D){B=B||'80%';C=C||'70%';if(typeof B=='string'&&B.length>1&&B.substr(B.length-1,1)=='%')B=parseInt(window.screen.width*parseInt(B,10)/100,10);if(typeof C=='string'&&C.length>1&&C.substr(C.length-1,1)=='%')C=parseInt(window.screen.height*parseInt(C,10)/100,10);if(B<640)B=640;if(C<420)C=420;var E=parseInt((window.screen.height-C)/2,10),F=parseInt((window.screen.width-B)/2,10);D=(D||'location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes')+',width='+B+',height='+C+',top='+E+',left='+F;var G=window.open('',null,D,true);if(!G)return false;try{G.moveTo(F,E);G.resizeTo(B,C);G.focus();G.location.href=A;}catch(H){G=window.open(A,null,D,true);}return true;}});(function(){var A={modes:{wysiwyg:1,source:1},canUndo:false,exec:function(C){var D,E=C.config,F=E.baseHref?'<base href="'+E.baseHref+'"/>':'',G=p.isCustomDomain();if(E.fullPage)D=C.getData().replace(/<head>/,'$&'+F).replace(/[^>]*(?=<\/title>)/,'$& &mdash; '+C.lang.preview);else{var H='<body ',I=C.document&&C.document.getBody();if(I){if(I.getAttribute('id'))H+='id="'+I.getAttribute('id')+'" ';if(I.getAttribute('class'))H+='class="'+I.getAttribute('class')+'" ';}H+='>';D=C.config.docType+'<html dir="'+C.config.contentsLangDirection+'">'+'<head>'+F+'<title>'+C.lang.preview+'</title>'+s.buildStyleHtml(C.config.contentsCss)+'</head>'+H+C.getData()+'</body></html>';}var J=640,K=420,L=80;try{var M=window.screen;J=Math.round(M.width*0.8);K=Math.round(M.height*0.7);L=Math.round(M.width*0.1);}catch(P){}var N='';if(G){window._cke_htmlToLoad=D;N='javascript:void( (function(){document.open();document.domain="'+document.domain+'";'+'document.write( window.opener._cke_htmlToLoad );'+'document.close();'+'window.opener._cke_htmlToLoad = null;'+'})() )';}var O=window.open(N,null,'toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width='+J+',height='+K+',left='+L);if(!G){O.document.open();O.document.write(D);O.document.close();}}},B='preview';x.add(B,{init:function(C){C.addCommand(B,A);C.ui.addButton('Preview',{label:C.lang.preview,command:B});}});})();x.add('print',{init:function(A){var B='print',C=A.addCommand(B,x.print);A.ui.addButton('Print',{label:A.lang.print,command:B});}});x.print={exec:function(A){if(p.opera)return;else if(p.gecko)A.window.$.print();else A.document.$.execCommand('Print');},canUndo:false,modes:{wysiwyg:!p.opera}};x.add('removeformat',{requires:['selection'],init:function(A){A.addCommand('removeFormat',x.removeformat.commands.removeformat);
A.ui.addButton('RemoveFormat',{label:A.lang.removeFormat,command:'removeFormat'});A._.removeFormat={filters:[]};}});x.removeformat={commands:{removeformat:{exec:function(A){var B=A._.removeFormatRegex||(A._.removeFormatRegex=new RegExp('^(?:'+A.config.removeFormatTags.replace(/,/g,'|')+')$','i')),C=A._.removeAttributes||(A._.removeAttributes=A.config.removeFormatAttributes.split(',')),D=x.removeformat.filter,E=A.getSelection().getRanges(1),F=E.createIterator(),G;while(G=F.getNextRange()){if(!G.collapsed)G.enlarge(1);var H=G.createBookmark(),I=H.startNode,J=H.endNode,K,L=function(N){var O=new r.elementPath(N),P=O.elements;for(var Q=1,R;R=P[Q];Q++){if(R.equals(O.block)||R.equals(O.blockLimit))break;if(B.test(R.getName())&&D(A,R))N.breakParent(R);}};L(I);if(J){L(J);K=I.getNextSourceNode(true,1);while(K){if(K.equals(J))break;var M=K.getNextSourceNode(false,1);if(!(K.getName()=='img'&&K.data('cke-realelement'))&&D(A,K))if(B.test(K.getName()))K.remove(1);else{K.removeAttributes(C);A.fire('removeFormatCleanup',K);}K=M;}}G.moveToBookmark(H);}A.getSelection().selectRanges(E);}}},filter:function(A,B){var C=A._.removeFormat.filters;for(var D=0;D<C.length;D++){if(C[D](B)===false)return false;}return true;}};o.editor.prototype.addRemoveFormatFilter=function(A){this._.removeFormat.filters.push(A);};w.removeFormatTags='b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var';w.removeFormatAttributes='class,style,lang,width,height,align,hspace,valign';x.add('resize',{init:function(A){var B=A.config;!B.resize_dir&&(B.resize_dir='both');B.resize_maxWidth==undefined&&(B.resize_maxWidth=3000);B.resize_maxHeight==undefined&&(B.resize_maxHeight=3000);B.resize_minWidth==undefined&&(B.resize_minWidth=750);B.resize_minHeight==undefined&&(B.resize_minHeight=250);if(B.resize_enabled!==false){var C=null,D,E,F=(B.resize_dir=='both'||B.resize_dir=='horizontal')&&B.resize_minWidth!=B.resize_maxWidth,G=(B.resize_dir=='both'||B.resize_dir=='vertical')&&B.resize_minHeight!=B.resize_maxHeight;function H(K){var L=K.data.$.screenX-D.x,M=K.data.$.screenY-D.y,N=E.width,O=E.height,P=N+L*(A.lang.dir=='rtl'?-1:1),Q=O+M;if(F)N=Math.max(B.resize_minWidth,Math.min(P,B.resize_maxWidth));if(G)O=Math.max(B.resize_minHeight,Math.min(Q,B.resize_maxHeight));A.resize(N,O);};function I(K){o.document.removeListener('mousemove',H);o.document.removeListener('mouseup',I);if(A.document){A.document.removeListener('mousemove',H);A.document.removeListener('mouseup',I);}};var J=s.addFunction(function(K){if(!C)C=A.getResizable();
E={width:C.$.offsetWidth||0,height:C.$.offsetHeight||0};D={x:K.screenX,y:K.screenY};B.resize_minWidth>E.width&&(B.resize_minWidth=E.width);B.resize_minHeight>E.height&&(B.resize_minHeight=E.height);o.document.on('mousemove',H);o.document.on('mouseup',I);if(A.document){A.document.on('mousemove',H);A.document.on('mouseup',I);}});A.on('destroy',function(){s.removeFunction(J);});A.on('themeSpace',function(K){if(K.data.space=='bottom'){var L='';if(F&&!G)L=' cke_resizer_horizontal';if(!F&&G)L=' cke_resizer_vertical';K.data.html+='<div class="cke_resizer'+L+'"'+' title="'+s.htmlEncode(A.lang.resize)+'"'+' onmousedown="CKEDITOR.tools.callFunction('+J+', event)"'+'></div>';}},A,null,100);}}});(function(){var A={modes:{wysiwyg:1,source:1},exec:function(C){var D=C.element.$.form;if(D)try{D.submit();}catch(E){if(D.submit.click)D.submit.click();}}},B='save';x.add(B,{init:function(C){var D=C.addCommand(B,A);D.modes={wysiwyg:!!C.element.$.form};C.ui.addButton('Save',{label:C.lang.save,command:B});}});})();(function(){var A='scaytcheck',B='';function C(H,I){var J=0,K;for(K in I){if(I[K]==H){J=1;break;}}return J;};var D=function(){var H=this,I=function(){var M=H.config,N={};N.srcNodeRef=H.document.getWindow().$.frameElement;N.assocApp='CKEDITOR.'+o.version+'@'+o.revision;N.customerid=M.scayt_customerid||'1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2';N.customDictionaryIds=M.scayt_customDictionaryIds||'';N.userDictionaryName=M.scayt_userDictionaryName||'';N.sLang=M.scayt_sLang||'en_US';N.onLoad=function(){if(!(q&&p.version<8))this.addStyle(this.selectorCss(),'padding-bottom: 2px !important;');if(H.focusManager.hasFocus&&!E.isControlRestored(H))this.focus();};N.onBeforeChange=function(){if(E.getScayt(H)&&!H.checkDirty())setTimeout(function(){H.resetDirty();},0);};var O=window.scayt_custom_params;if(typeof O=='object')for(var P in O)N[P]=O[P];if(E.getControlId(H))N.id=E.getControlId(H);var Q=new window.scayt(N);Q.afterMarkupRemove.push(function(X){new v(X,Q.document).mergeSiblings();});var R=E.instances[H.name];if(R){Q.sLang=R.sLang;Q.option(R.option());Q.paused=R.paused;}E.instances[H.name]=Q;var S='scaytButton',T=window.scayt.uiTags,U=[];for(var V=0,W=4;V<W;V++)U.push(T[V]&&E.uiTabs[V]);E.uiTabs=U;try{Q.setDisabled(E.isPaused(H)===false);}catch(X){}H.fire('showScaytState');};H.on('contentDom',I);H.on('contentDomUnload',function(){var M=o.document.getElementsByTag('script'),N=/^dojoIoScript(\d+)$/i,O=/^https?:\/\/svc\.spellchecker\.net\/spellcheck\/script\/ssrv\.cgi/i;
for(var P=0;P<M.count();P++){var Q=M.getItem(P),R=Q.getId(),S=Q.getAttribute('src');if(R&&S&&R.match(N)&&S.match(O))Q.remove();}});H.on('beforeCommandExec',function(M){if((M.data.name=='source'||M.data.name=='newpage')&&H.mode=='wysiwyg'){var N=E.getScayt(H);if(N){E.setPaused(H,!N.disabled);E.setControlId(H,N.id);N.destroy(true);delete E.instances[H.name];}}else if(M.data.name=='source'&&H.mode=='source')E.markControlRestore(H);});H.on('afterCommandExec',function(M){if(!E.isScaytEnabled(H))return;if(H.mode=='wysiwyg'&&(M.data.name=='undo'||M.data.name=='redo'))window.setTimeout(function(){E.getScayt(H).refresh();},10);});H.on('destroy',function(M){var N=M.editor,O=E.getScayt(N);if(!O)return;delete E.instances[N.name];E.setControlId(N,O.id);O.destroy(true);});H.on('afterSetData',function(){if(E.isScaytEnabled(H))window.setTimeout(function(){var M=E.getScayt(H);M&&M.refresh();},10);});H.on('insertElement',function(){var M=E.getScayt(H);if(E.isScaytEnabled(H)){if(q)H.getSelection().unlock(true);window.setTimeout(function(){M.focus();M.refresh();},10);}},this,null,50);H.on('insertHtml',function(){var M=E.getScayt(H);if(E.isScaytEnabled(H)){if(q)H.getSelection().unlock(true);window.setTimeout(function(){M.focus();M.refresh();},10);}},this,null,50);H.on('scaytDialog',function(M){M.data.djConfig=window.djConfig;M.data.scayt_control=E.getScayt(H);M.data.tab=B;M.data.scayt=window.scayt;});var J=H.dataProcessor,K=J&&J.htmlFilter;if(K)K.addRules({elements:{span:function(M){if(M.attributes['data-scayt_word']&&M.attributes['data-scaytid']){delete M.name;return M;}}}});var L=x.undo.Image.prototype;L.equals=s.override(L.equals,function(M){return function(N){var S=this;var O=S.contents,P=N.contents,Q=E.getScayt(S.editor);if(Q&&E.isScaytReady(S.editor)){S.contents=Q.reset(O)||'';N.contents=Q.reset(P)||'';}var R=M.apply(S,arguments);S.contents=O;N.contents=P;return R;};});if(H.document)I();};x.scayt={engineLoaded:false,instances:{},controlInfo:{},setControlInfo:function(H,I){if(H&&H.name&&typeof this.controlInfo[H.name]!='object')this.controlInfo[H.name]={};for(var J in I)this.controlInfo[H.name][J]=I[J];},isControlRestored:function(H){if(H&&H.name&&this.controlInfo[H.name])return this.controlInfo[H.name].restored;return false;},markControlRestore:function(H){this.setControlInfo(H,{restored:true});},setControlId:function(H,I){this.setControlInfo(H,{id:I});},getControlId:function(H){if(H&&H.name&&this.controlInfo[H.name]&&this.controlInfo[H.name].id)return this.controlInfo[H.name].id;
return null;},setPaused:function(H,I){this.setControlInfo(H,{paused:I});},isPaused:function(H){if(H&&H.name&&this.controlInfo[H.name])return this.controlInfo[H.name].paused;return undefined;},getScayt:function(H){return this.instances[H.name];},isScaytReady:function(H){return this.engineLoaded===true&&'undefined'!==typeof window.scayt&&this.getScayt(H);},isScaytEnabled:function(H){var I=this.getScayt(H);return I?I.disabled===false:false;},loadEngine:function(H){if(p.gecko&&p.version<10900||p.opera||p.air)return H.fire('showScaytState');if(this.engineLoaded===true)return D.apply(H);else if(this.engineLoaded==-1)return o.on('scaytReady',function(){D.apply(H);});o.on('scaytReady',D,H);o.on('scaytReady',function(){this.engineLoaded=true;},this,null,0);this.engineLoaded=-1;var I=document.location.protocol;I=I.search(/https?:/)!=-1?I:'http:';var J='svc.spellchecker.net/scayt26/loader__base.js',K=H.config.scayt_srcUrl||I+'//'+J,L=E.parseUrl(K).path+'/';if(window.scayt==undefined){o._djScaytConfig={baseUrl:L,addOnLoad:[function(){o.fireOnce('scaytReady');}],isDebug:false};o.document.getHead().append(o.document.createElement('script',{attributes:{type:'text/javascript',async:'true',src:K}}));}else o.fireOnce('scaytReady');return null;},parseUrl:function(H){var I;if(H.match&&(I=H.match(/(.*)[\/\\](.*?\.\w+)$/)))return{path:I[1],file:I[2]};else return H;}};var E=x.scayt,F=function(H,I,J,K,L,M,N){H.addCommand(K,L);H.addMenuItem(K,{label:J,command:K,group:M,order:N});},G={preserveState:true,editorFocus:false,canUndo:false,exec:function(H){if(E.isScaytReady(H)){var I=E.isScaytEnabled(H);this.setState(I?2:1);var J=E.getScayt(H);J.focus();J.setDisabled(I);}else if(!H.config.scayt_autoStartup&&E.engineLoaded>=0){this.setState(0);E.loadEngine(H);}}};x.add('scayt',{requires:['menubutton'],beforeInit:function(H){var I=H.config.scayt_contextMenuItemsOrder||'suggest|moresuggest|control',J='';I=I.split('|');if(I&&I.length)for(var K=0;K<I.length;K++)J+='scayt_'+I[K]+(I.length!=parseInt(K,10)+1?',':'');H.config.menu_groups=J+','+H.config.menu_groups;},init:function(H){var I={},J={},K=H.addCommand(A,G);o.dialog.add(A,o.getUrl(this.path+'dialogs/options.js'));var L=H.config.scayt_uiTabs||'1,1,1',M=[];L=L.split(',');for(var N=0,O=3;N<O;N++){var P=parseInt(L[N]||'1',10);M.push(P);}var Q='scaytButton';H.addMenuGroup(Q);var R={},S=H.lang.scayt;R.scaytToggle={label:S.enable,command:A,group:Q};if(M[0]==1)R.scaytOptions={label:S.options,group:Q,onClick:function(){B='options';H.openDialog(A);
}};if(M[1]==1)R.scaytLangs={label:S.langs,group:Q,onClick:function(){B='langs';H.openDialog(A);}};if(M[2]==1)R.scaytDict={label:S.dictionariesTab,group:Q,onClick:function(){B='dictionaries';H.openDialog(A);}};R.scaytAbout={label:H.lang.scayt.about,group:Q,onClick:function(){B='about';H.openDialog(A);}};M[3]=1;E.uiTabs=M;H.addMenuItems(R);H.ui.add('Scayt',5,{label:S.title,title:p.opera?S.opera_title:S.title,className:'cke_button_scayt',modes:{wysiwyg:1},onRender:function(){K.on('state',function(){this.setState(K.state);},this);},onMenu:function(){var U=E.isScaytEnabled(H);H.getMenuItem('scaytToggle').label=S[U?'disable':'enable'];return{scaytToggle:2,scaytOptions:U&&E.uiTabs[0]?2:0,scaytLangs:U&&E.uiTabs[1]?2:0,scaytDict:U&&E.uiTabs[2]?2:0,scaytAbout:U&&E.uiTabs[3]?2:0};}});if(H.contextMenu&&H.addMenuItems)H.contextMenu.addListener(function(U,V){if(!E.isScaytEnabled(H)||V.getRanges()[0].checkReadOnly())return null;var W=E.getScayt(H),X=W.getScaytNode();if(!X)return null;var Y=W.getWord(X);if(!Y)return null;var Z=W.getLang(),aa={},ab=window.scayt.getSuggestion(Y,Z);if(!ab||!ab.length)return null;for(N in I){delete H._.menuItems[N];delete H._.commands[N];}for(N in J){delete H._.menuItems[N];delete H._.commands[N];}I={};J={};var ac=H.config.scayt_moreSuggestions||'on',ad=false,ae=H.config.scayt_maxSuggestions;typeof ae!='number'&&(ae=5);!ae&&(ae=ab.length);var af=H.config.scayt_contextCommands||'all';af=af.split('|');for(var ag=0,ah=ab.length;ag<ah;ag+=1){var ai='scayt_suggestion_'+ab[ag].replace(' ','_'),aj=(function(an,ao){return{exec:function(){W.replace(an,ao);}};})(X,ab[ag]);if(ag<ae){F(H,'button_'+ai,ab[ag],ai,aj,'scayt_suggest',ag+1);aa[ai]=2;J[ai]=2;}else if(ac=='on'){F(H,'button_'+ai,ab[ag],ai,aj,'scayt_moresuggest',ag+1);I[ai]=2;ad=true;}}if(ad){H.addMenuItem('scayt_moresuggest',{label:S.moreSuggestions,group:'scayt_moresuggest',order:10,getItems:function(){return I;}});J.scayt_moresuggest=2;}if(C('all',af)||C('ignore',af)){var ak={exec:function(){W.ignore(X);}};F(H,'ignore',S.ignore,'scayt_ignore',ak,'scayt_control',1);J.scayt_ignore=2;}if(C('all',af)||C('ignoreall',af)){var al={exec:function(){W.ignoreAll(X);}};F(H,'ignore_all',S.ignoreAll,'scayt_ignore_all',al,'scayt_control',2);J.scayt_ignore_all=2;}if(C('all',af)||C('add',af)){var am={exec:function(){window.scayt.addWordToUserDictionary(X);}};F(H,'add_word',S.addWord,'scayt_add_word',am,'scayt_control',3);J.scayt_add_word=2;}if(W.fireOnContextMenu)W.fireOnContextMenu(H);return J;});var T=function(){H.removeListener('showScaytState',T);
if(!p.opera&&!p.air)K.setState(E.isScaytEnabled(H)?1:2);else K.setState(0);};H.on('showScaytState',T);if(p.opera||p.air)H.on('instanceReady',function(){T();});if(H.config.scayt_autoStartup)H.on('instanceReady',function(){E.loadEngine(H);});},afterInit:function(H){var I,J=function(K){if(K.hasAttribute('data-scaytid'))return false;};if(H._.elementsPath&&(I=H._.elementsPath.filters))I.push(J);H.addRemoveFormatFilter&&H.addRemoveFormatFilter(J);}});})();x.add('smiley',{requires:['dialog'],init:function(A){A.config.smiley_path=A.config.smiley_path||this.path+'images/';A.addCommand('smiley',new o.dialogCommand('smiley'));A.ui.addButton('Smiley',{label:A.lang.smiley.toolbar,command:'smiley'});o.dialog.add('smiley',this.path+'dialogs/smiley.js');}});w.smiley_images=['regular_smile.gif','sad_smile.gif','wink_smile.gif','teeth_smile.gif','confused_smile.gif','tounge_smile.gif','embaressed_smile.gif','omg_smile.gif','whatchutalkingabout_smile.gif','angry_smile.gif','angel_smile.gif','shades_smile.gif','devil_smile.gif','cry_smile.gif','lightbulb.gif','thumbs_down.gif','thumbs_up.gif','heart.gif','broken_heart.gif','kiss.gif','envelope.gif'];w.smiley_descriptions=['smiley','sad','wink','laugh','frown','cheeky','blush','surprise','indecision','angry','angel','cool','devil','crying','enlightened','no','yes','heart','broken heart','kiss','mail'];(function(){var A='.%2 p,.%2 div,.%2 pre,.%2 address,.%2 blockquote,.%2 h1,.%2 h2,.%2 h3,.%2 h4,.%2 h5,.%2 h6{background-repeat: no-repeat;background-position: top %3;border: 1px dotted gray;padding-top: 8px;padding-%3: 8px;}.%2 p{%1p.png);}.%2 div{%1div.png);}.%2 pre{%1pre.png);}.%2 address{%1address.png);}.%2 blockquote{%1blockquote.png);}.%2 h1{%1h1.png);}.%2 h2{%1h2.png);}.%2 h3{%1h3.png);}.%2 h4{%1h4.png);}.%2 h5{%1h5.png);}.%2 h6{%1h6.png);}',B=/%1/g,C=/%2/g,D=/%3/g,E={preserveState:true,editorFocus:false,exec:function(F){this.toggleState();this.refresh(F);},refresh:function(F){var G=this.state==1?'addClass':'removeClass';F.document.getBody()[G]('cke_show_blocks');}};x.add('showblocks',{requires:['wysiwygarea'],init:function(F){var G=F.addCommand('showblocks',E);G.canUndo=false;if(F.config.startupOutlineBlocks)G.setState(1);F.addCss(A.replace(B,'background-image: url('+o.getUrl(this.path)+'images/block_').replace(C,'cke_show_blocks ').replace(D,F.lang.dir=='rtl'?'right':'left'));F.ui.addButton('ShowBlocks',{label:F.lang.showBlocks,command:'showblocks'});F.on('mode',function(){if(G.state!=0)G.refresh(F);});F.on('contentDom',function(){if(G.state!=0)G.refresh(F);
});}});})();(function(){var A='cke_show_border',B,C=(p.ie6Compat?['.%1 table.%2,','.%1 table.%2 td, .%1 table.%2 th,','{','border : #d3d3d3 1px dotted','}']:['.%1 table.%2,','.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,','.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,','.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,','.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th','{','border : #d3d3d3 1px dotted','}']).join('');B=C.replace(/%2/g,A).replace(/%1/g,'cke_show_borders ');var D={preserveState:true,editorFocus:false,exec:function(E){this.toggleState();this.refresh(E);},refresh:function(E){var F=this.state==1?'addClass':'removeClass';E.document.getBody()[F]('cke_show_borders');}};x.add('showborders',{requires:['wysiwygarea'],modes:{wysiwyg:1},init:function(E){var F=E.addCommand('showborders',D);F.canUndo=false;if(E.config.startupShowBorders!==false)F.setState(1);E.addCss(B);E.on('mode',function(){if(F.state!=0)F.refresh(E);},null,null,100);E.on('contentDom',function(){if(F.state!=0)F.refresh(E);});E.on('removeFormatCleanup',function(G){var H=G.data;if(E.getCommand('showborders').state==1&&H.is('table')&&(!H.hasAttribute('border')||parseInt(H.getAttribute('border'),10)<=0))H.addClass(A);});},afterInit:function(E){var F=E.dataProcessor,G=F&&F.dataFilter,H=F&&F.htmlFilter;if(G)G.addRules({elements:{table:function(I){var J=I.attributes,K=J['class'],L=parseInt(J.border,10);if(!L||L<=0)J['class']=(K||'')+' '+A;}}});if(H)H.addRules({elements:{table:function(I){var J=I.attributes,K=J['class'];K&&(J['class']=K.replace(A,'').replace(/\s{2}/,' ').replace(/^\s+|\s+$/,''));}}});}});o.on('dialogDefinition',function(E){var F=E.data.name;if(F=='table'||F=='tableProperties'){var G=E.data.definition,H=G.getContents('info'),I=H.get('txtBorder'),J=I.commit;I.commit=s.override(J,function(M){return function(N,O){M.apply(this,arguments);var P=parseInt(this.getValue(),10);O[!P||P<=0?'addClass':'removeClass'](A);};});var K=G.getContents('advanced'),L=K&&K.get('advCSSClasses');if(L){L.setup=s.override(L.setup,function(M){return function(){M.apply(this,arguments);this.setValue(this.getValue().replace(/cke_show_border/,''));};});L.commit=s.override(L.commit,function(M){return function(N,O){M.apply(this,arguments);if(!parseInt(O.getAttribute('border'),10))O.addClass('cke_show_border');};});}}});})();x.add('sourcearea',{requires:['editingblock'],init:function(A){var B=x.sourcearea,C=o.document.getWindow();A.on('editingBlockReady',function(){var D,E;
A.addMode('source',{load:function(F,G){if(q&&p.version<8)F.setStyle('position','relative');A.textarea=D=new v('textarea');D.setAttributes({dir:'ltr',tabIndex:p.webkit?-1:A.tabIndex,role:'textbox','aria-label':A.lang.editorTitle.replace('%1',A.name)});D.addClass('cke_source');D.addClass('cke_enable_context_menu');var H={width:p.ie7Compat?'99%':'100%',height:'100%',resize:'none',outline:'none','text-align':'left'};if(q){E=function(){D.hide();D.setStyle('height',F.$.clientHeight+'px');D.setStyle('width',F.$.clientWidth+'px');D.show();};A.on('resize',E);C.on('resize',E);setTimeout(E,0);}F.setHtml('');F.append(D);D.setStyles(H);A.fire('ariaWidget',D);D.on('blur',function(){A.focusManager.blur();});D.on('focus',function(){A.focusManager.focus();});A.mayBeDirty=true;this.loadData(G);var I=A.keystrokeHandler;if(I)I.attach(D);setTimeout(function(){A.mode='source';A.fire('mode');},p.gecko||p.webkit?100:0);},loadData:function(F){D.setValue(F);A.fire('dataReady');},getData:function(){return D.getValue();},getSnapshotData:function(){return D.getValue();},unload:function(F){D.clearCustomData();A.textarea=D=null;if(E){A.removeListener('resize',E);C.removeListener('resize',E);}if(q&&p.version<8)F.removeStyle('position');},focus:function(){D.focus();}});});A.addCommand('source',B.commands.source);if(A.ui.addButton)A.ui.addButton('Source',{label:A.lang.source,command:'source'});A.on('mode',function(){A.getCommand('source').setState(A.mode=='source'?1:2);});}});x.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:false,exec:function(A){if(A.mode=='wysiwyg')A.fire('saveSnapshot');A.getCommand('source').setState(0);A.setMode(A.mode=='source'?'wysiwyg':'source');},canUndo:false}}};(function(){x.add('stylescombo',{requires:['richcombo','styles'],init:function(B){var C=B.config,D=B.lang.stylesCombo,E={},F=[];function G(H){B.getStylesSet(function(I){if(!F.length){var J,K;for(var L=0,M=I.length;L<M;L++){var N=I[L];K=N.name;J=E[K]=new o.style(N);J._name=K;J._.enterMode=C.enterMode;F.push(J);}F.sort(A);}H&&H();});};B.ui.addRichCombo('Styles',{label:D.label,title:D.panelTitle,className:'cke_styles',panel:{css:B.skin.editor.css.concat(C.contentsCss),multiSelect:true,attributes:{'aria-label':D.panelTitle}},init:function(){var H=this;G(function(){var I,J,K;for(var L=0,M=F.length;L<M;L++){I=F[L];J=I._name;var N=I.type;if(N!=K){H.startGroup(D['panelTitle'+String(N)]);K=N;}H.add(J,I.type==3?J:I.buildPreview(),J);}H.commit();H.onOpen();});},onClick:function(H){B.focus();B.fire('saveSnapshot');
var I=E[H],J=B.getSelection(),K=new r.elementPath(J.getStartElement());I[I.checkActive(K)?'remove':'apply'](B.document);B.fire('saveSnapshot');},onRender:function(){B.on('selectionChange',function(H){var I=this.getValue(),J=H.data.path,K=J.elements;for(var L=0,M=K.length,N;L<M;L++){N=K[L];for(var O in E){if(E[O].checkElementRemovable(N,true)){if(O!=I)this.setValue(O);return;}}}this.setValue('');},this);},onOpen:function(){var O=this;if(q||p.webkit)B.focus();var H=B.getSelection(),I=H.getSelectedElement(),J=new r.elementPath(I||H.getStartElement()),K=[0,0,0,0];O.showAll();O.unmarkAll();for(var L in E){var M=E[L],N=M.type;if(M.checkActive(J))O.mark(L);else if(N==3&&!M.checkApplicable(J)){O.hideItem(L);K[N]--;}K[N]++;}if(!K[1])O.hideGroup(D['panelTitle'+String(1)]);if(!K[2])O.hideGroup(D['panelTitle'+String(2)]);if(!K[3])O.hideGroup(D['panelTitle'+String(3)]);}});B.on('instanceReady',function(){G();});}});function A(B,C){var D=B.type,E=C.type;return D==E?0:D==3?-1:E==3?1:E==1?1:-1;};})();x.add('table',{init:function(A){var B=x.table,C=A.lang.table;A.addCommand('table',new o.dialogCommand('table'));A.addCommand('tableProperties',new o.dialogCommand('tableProperties'));A.ui.addButton('Table',{label:C.toolbar,command:'table'});o.dialog.add('table',this.path+'dialogs/table.js');o.dialog.add('tableProperties',this.path+'dialogs/table.js');if(A.addMenuItems)A.addMenuItems({table:{label:C.menu,command:'tableProperties',group:'table',order:5},tabledelete:{label:C.deleteTable,command:'tableDelete',group:'table',order:1}});A.on('doubleclick',function(D){var E=D.data.element;if(E.is('table'))D.data.dialog='tableProperties';});if(A.contextMenu)A.contextMenu.addListener(function(D,E){if(!D||D.isReadOnly())return null;var F=D.hasAscendant('table',1);if(F)return{tabledelete:2,table:2};return null;});}});(function(){var A=/^(?:td|th)$/;function B(U){var V=U.createBookmarks(),W=U.getRanges(),X=[],Y={};function Z(ah){if(X.length>0)return;if(ah.type==1&&A.test(ah.getName())&&!ah.getCustomData('selected_cell')){v.setMarker(Y,ah,'selected_cell',true);X.push(ah);}};for(var aa=0;aa<W.length;aa++){var ab=W[aa];if(ab.collapsed){var ac=ab.getCommonAncestor(),ad=ac.getAscendant('td',true)||ac.getAscendant('th',true);if(ad)X.push(ad);}else{var ae=new r.walker(ab),af;ae.guard=Z;while(af=ae.next()){var ag=af.getParent();if(ag&&A.test(ag.getName())&&!ag.getCustomData('selected_cell')){v.setMarker(Y,ag,'selected_cell',true);X.push(ag);}}}}v.clearAllMarkers(Y);U.selectBookmarks(V);return X;};
function C(U){var V=0,W=U.length-1,X={},Y,Z,aa;while(Y=U[V++])v.setMarker(X,Y,'delete_cell',true);V=0;while(Y=U[V++]){if((Z=Y.getPrevious())&&!Z.getCustomData('delete_cell')||(Z=Y.getNext())&&!Z.getCustomData('delete_cell')){v.clearAllMarkers(X);return Z;}}v.clearAllMarkers(X);aa=U[0].getParent();if(aa=aa.getPrevious())return aa.getLast();aa=U[W].getParent();if(aa=aa.getNext())return aa.getChild(0);return null;};function D(U,V){var W=B(U),X=W[0],Y=X.getAscendant('table'),Z=X.getDocument(),aa=W[0].getParent(),ab=aa.$.rowIndex,ac=W[W.length-1],ad=ac.getParent().$.rowIndex+ac.$.rowSpan-1,ae=new v(Y.$.rows[ad]),af=V?ab:ad,ag=V?aa:ae,ah=s.buildTableMap(Y),ai=ah[af],aj=V?ah[af-1]:ah[af+1],ak=ah[0].length,al=Z.createElement('tr');for(var am=0;am<ak;am++){var an;if(ai[am].rowSpan>1&&aj&&ai[am]==aj[am]){an=ai[am];an.rowSpan+=1;}else{an=new v(ai[am]).clone();an.removeAttribute('rowSpan');!q&&an.appendBogus();al.append(an);an=an.$;}am+=an.colSpan-1;}V?al.insertBefore(ag):al.insertAfter(ag);};function E(U){if(U instanceof r.selection){var V=B(U),W=V[0],X=W.getAscendant('table'),Y=s.buildTableMap(X),Z=V[0].getParent(),aa=Z.$.rowIndex,ab=V[V.length-1],ac=ab.getParent().$.rowIndex+ab.$.rowSpan-1,ad=[];for(var ae=aa;ae<=ac;ae++){var af=Y[ae],ag=new v(X.$.rows[ae]);for(var ah=0;ah<af.length;ah++){var ai=new v(af[ah]),aj=ai.getParent().$.rowIndex;if(ai.$.rowSpan==1)ai.remove();else{ai.$.rowSpan-=1;if(aj==ae){var ak=Y[ae+1];ak[ah-1]?ai.insertAfter(new v(ak[ah-1])):new v(X.$.rows[ae+1]).append(ai,1);}}ah+=ai.$.colSpan-1;}ad.push(ag);}var al=X.$.rows,am=new v(al[aa]||al[aa-1]||X.$.parentNode);for(ae=ad.length;ae>=0;ae--)E(ad[ae]);return am;}else if(U instanceof v){X=U.getAscendant('table');if(X.$.rows.length==1)X.remove();else U.remove();}return null;};function F(U,V){var W=U.getParent(),X=W.$.cells,Y=0;for(var Z=0;Z<X.length;Z++){var aa=X[Z];Y+=V?1:aa.colSpan;if(aa==U.$)break;}return Y-1;};function G(U,V){var W=V?Infinity:0;for(var X=0;X<U.length;X++){var Y=F(U[X],V);if(V?Y<W:Y>W)W=Y;}return W;};function H(U,V){var W=B(U),X=W[0],Y=X.getAscendant('table'),Z=G(W,1),aa=G(W),ab=V?Z:aa,ac=s.buildTableMap(Y),ad=[],ae=[],af=ac.length;for(var ag=0;ag<af;ag++){ad.push(ac[ag][ab]);var ah=V?ac[ag][ab-1]:ac[ag][ab+1];ah&&ae.push(ah);}for(ag=0;ag<af;ag++){var ai;if(ad[ag].colSpan>1&&ae.length&&ae[ag]==ad[ag]){ai=ad[ag];ai.colSpan+=1;}else{ai=new v(ad[ag]).clone();ai.removeAttribute('colSpan');!q&&ai.appendBogus();ai[V?'insertBefore':'insertAfter'].call(ai,new v(ad[ag]));ai=ai.$;}ag+=ai.rowSpan-1;
}};function I(U){var V=B(U),W=V[0],X=V[V.length-1],Y=W.getAscendant('table'),Z=s.buildTableMap(Y),aa,ab,ac=[];for(var ad=0,ae=Z.length;ad<ae;ad++)for(var af=0,ag=Z[ad].length;af<ag;af++){if(Z[ad][af]==W.$)aa=af;if(Z[ad][af]==X.$)ab=af;}for(ad=aa;ad<=ab;ad++)for(af=0;af<Z.length;af++){var ah=Z[af],ai=new v(Y.$.rows[af]),aj=new v(ah[ad]);if(aj.$.colSpan==1)aj.remove();else aj.$.colSpan-=1;af+=aj.$.rowSpan-1;if(!ai.$.cells.length)ac.push(ai);}var ak=Y.$.rows[0]&&Y.$.rows[0].cells,al=new v(ak[aa]||(aa?ak[aa-1]:Y.$.parentNode));if(ac.length==ae)Y.remove();return al;};function J(U){var V=[],W=U[0]&&U[0].getAscendant('table'),X,Y,Z,aa;for(X=0,Y=U.length;X<Y;X++)V.push(U[X].$.cellIndex);V.sort();for(X=1,Y=V.length;X<Y;X++){if(V[X]-V[X-1]>1){Z=V[X-1]+1;break;}}if(!Z)Z=V[0]>0?V[0]-1:V[V.length-1]+1;var ab=W.$.rows;for(X=0,Y=ab.length;X<Y;X++){aa=ab[X].cells[Z];if(aa)break;}return aa?new v(aa):W.getPrevious();};function K(U,V){var W=U.getStartElement(),X=W.getAscendant('td',1)||W.getAscendant('th',1);if(!X)return;var Y=X.clone();if(!q)Y.appendBogus();if(V)Y.insertBefore(X);else Y.insertAfter(X);};function L(U){if(U instanceof r.selection){var V=B(U),W=V[0]&&V[0].getAscendant('table'),X=C(V);for(var Y=V.length-1;Y>=0;Y--)L(V[Y]);if(X)N(X,true);else if(W)W.remove();}else if(U instanceof v){var Z=U.getParent();if(Z.getChildCount()==1)Z.remove();else U.remove();}};function M(U){var V=U.getBogus();V&&V.remove();U.trim();};function N(U,V){var W=new r.range(U.getDocument());if(!W['moveToElementEdit'+(V?'End':'Start')](U)){W.selectNodeContents(U);W.collapse(V?false:true);}W.select(true);};function O(U,V,W){var X=U[V];if(typeof W=='undefined')return X;for(var Y=0;X&&Y<X.length;Y++){if(W.is&&X[Y]==W.$)return Y;else if(Y==W)return new v(X[Y]);}return W.is?-1:null;};function P(U,V,W){var X=[];for(var Y=0;Y<U.length;Y++){var Z=U[Y];if(typeof W=='undefined')X.push(Z[V]);else if(W.is&&Z[V]==W.$)return Y;else if(Y==W)return new v(Z[V]);}return typeof W=='undefined'?X:W.is?-1:null;};function Q(U,V,W){var X=B(U),Y;if((V?X.length!=1:X.length<2)||(Y=U.getCommonAncestor())&&Y.type==1&&Y.is('table'))return false;var Z,aa=X[0],ab=aa.getAscendant('table'),ac=s.buildTableMap(ab),ad=ac.length,ae=ac[0].length,af=aa.getParent().$.rowIndex,ag=O(ac,af,aa);if(V){var ah;try{var ai=parseInt(aa.getAttribute('rowspan'),10)||1,aj=parseInt(aa.getAttribute('colspan'),10)||1;ah=ac[V=='up'?af-ai:V=='down'?af+ai:af][V=='left'?ag-aj:V=='right'?ag+aj:ag];}catch(aB){return false;}if(!ah||aa.$==ah)return false;X[V=='up'||V=='left'?'unshift':'push'](new v(ah));
}var ak=aa.getDocument(),al=af,am=0,an=0,ao=!W&&new r.documentFragment(ak),ap=0;for(var aq=0;aq<X.length;aq++){Z=X[aq];var ar=Z.getParent(),as=Z.getFirst(),at=Z.$.colSpan,au=Z.$.rowSpan,av=ar.$.rowIndex,aw=O(ac,av,Z);ap+=at*au;an=Math.max(an,aw-ag+at);am=Math.max(am,av-af+au);if(!W){if(M(Z),Z.getChildren().count()){if(av!=al&&as&&!(as.isBlockBoundary&&as.isBlockBoundary({br:1}))){var ax=ao.getLast(r.walker.whitespaces(true));if(ax&&!(ax.is&&ax.is('br')))ao.append('br');}Z.moveChildren(ao);}aq?Z.remove():Z.setHtml('');}al=av;}if(!W){ao.moveChildren(aa);if(!q)aa.appendBogus();if(an>=ae)aa.removeAttribute('rowSpan');else aa.$.rowSpan=am;if(am>=ad)aa.removeAttribute('colSpan');else aa.$.colSpan=an;var ay=new r.nodeList(ab.$.rows),az=ay.count();for(aq=az-1;aq>=0;aq--){var aA=ay.getItem(aq);if(!aA.$.cells.length){aA.remove();az++;continue;}}return aa;}else return am*an==ap;};function R(U,V){var W=B(U);if(W.length>1)return false;else if(V)return true;var X=W[0],Y=X.getParent(),Z=Y.getAscendant('table'),aa=s.buildTableMap(Z),ab=Y.$.rowIndex,ac=O(aa,ab,X),ad=X.$.rowSpan,ae,af,ag,ah;if(ad>1){af=Math.ceil(ad/2);ag=Math.floor(ad/2);ah=ab+af;var ai=new v(Z.$.rows[ah]),aj=O(aa,ah),ak;ae=X.clone();for(var al=0;al<aj.length;al++){ak=aj[al];if(ak.parentNode==ai.$&&al>ac){ae.insertBefore(new v(ak));break;}else ak=null;}if(!ak)ai.append(ae,true);}else{ag=af=1;ai=Y.clone();ai.insertAfter(Y);ai.append(ae=X.clone());var am=O(aa,ab);for(var an=0;an<am.length;an++)am[an].rowSpan++;}if(!q)ae.appendBogus();X.$.rowSpan=af;ae.$.rowSpan=ag;if(af==1)X.removeAttribute('rowSpan');if(ag==1)ae.removeAttribute('rowSpan');return ae;};function S(U,V){var W=B(U);if(W.length>1)return false;else if(V)return true;var X=W[0],Y=X.getParent(),Z=Y.getAscendant('table'),aa=s.buildTableMap(Z),ab=Y.$.rowIndex,ac=O(aa,ab,X),ad=X.$.colSpan,ae,af,ag;if(ad>1){af=Math.ceil(ad/2);ag=Math.floor(ad/2);}else{ag=af=1;var ah=P(aa,ac);for(var ai=0;ai<ah.length;ai++)ah[ai].colSpan++;}ae=X.clone();ae.insertAfter(X);if(!q)ae.appendBogus();X.$.colSpan=af;ae.$.colSpan=ag;if(af==1)X.removeAttribute('colSpan');if(ag==1)ae.removeAttribute('colSpan');return ae;};var T={thead:1,tbody:1,tfoot:1,td:1,tr:1,th:1};x.tabletools={init:function(U){var V=U.lang.table;U.addCommand('cellProperties',new o.dialogCommand('cellProperties'));o.dialog.add('cellProperties',this.path+'dialogs/tableCell.js');U.addCommand('tableDelete',{exec:function(W){var X=W.getSelection(),Y=X&&X.getStartElement(),Z=Y&&Y.getAscendant('table',1);if(!Z)return;X.selectElement(Z);
var aa=X.getRanges()[0];aa.collapse();X.selectRanges([aa]);var ab=Z.getParent();if(ab.getChildCount()==1&&!ab.is('body','td','th'))ab.remove();else Z.remove();}});U.addCommand('rowDelete',{exec:function(W){var X=W.getSelection();N(E(X));}});U.addCommand('rowInsertBefore',{exec:function(W){var X=W.getSelection();D(X,true);}});U.addCommand('rowInsertAfter',{exec:function(W){var X=W.getSelection();D(X);}});U.addCommand('columnDelete',{exec:function(W){var X=W.getSelection(),Y=I(X);Y&&N(Y,true);}});U.addCommand('columnInsertBefore',{exec:function(W){var X=W.getSelection();H(X,true);}});U.addCommand('columnInsertAfter',{exec:function(W){var X=W.getSelection();H(X);}});U.addCommand('cellDelete',{exec:function(W){var X=W.getSelection();L(X);}});U.addCommand('cellMerge',{exec:function(W){N(Q(W.getSelection()),true);}});U.addCommand('cellMergeRight',{exec:function(W){N(Q(W.getSelection(),'right'),true);}});U.addCommand('cellMergeDown',{exec:function(W){N(Q(W.getSelection(),'down'),true);}});U.addCommand('cellVerticalSplit',{exec:function(W){N(R(W.getSelection()));}});U.addCommand('cellHorizontalSplit',{exec:function(W){N(S(W.getSelection()));}});U.addCommand('cellInsertBefore',{exec:function(W){var X=W.getSelection();K(X,true);}});U.addCommand('cellInsertAfter',{exec:function(W){var X=W.getSelection();K(X);}});if(U.addMenuItems)U.addMenuItems({tablecell:{label:V.cell.menu,group:'tablecell',order:1,getItems:function(){var W=U.getSelection(),X=B(W);return{tablecell_insertBefore:2,tablecell_insertAfter:2,tablecell_delete:2,tablecell_merge:Q(W,null,true)?2:0,tablecell_merge_right:Q(W,'right',true)?2:0,tablecell_merge_down:Q(W,'down',true)?2:0,tablecell_split_vertical:R(W,true)?2:0,tablecell_split_horizontal:S(W,true)?2:0,tablecell_properties:X.length>0?2:0};}},tablecell_insertBefore:{label:V.cell.insertBefore,group:'tablecell',command:'cellInsertBefore',order:5},tablecell_insertAfter:{label:V.cell.insertAfter,group:'tablecell',command:'cellInsertAfter',order:10},tablecell_delete:{label:V.cell.deleteCell,group:'tablecell',command:'cellDelete',order:15},tablecell_merge:{label:V.cell.merge,group:'tablecell',command:'cellMerge',order:16},tablecell_merge_right:{label:V.cell.mergeRight,group:'tablecell',command:'cellMergeRight',order:17},tablecell_merge_down:{label:V.cell.mergeDown,group:'tablecell',command:'cellMergeDown',order:18},tablecell_split_horizontal:{label:V.cell.splitHorizontal,group:'tablecell',command:'cellHorizontalSplit',order:19},tablecell_split_vertical:{label:V.cell.splitVertical,group:'tablecell',command:'cellVerticalSplit',order:20},tablecell_properties:{label:V.cell.title,group:'tablecellproperties',command:'cellProperties',order:21},tablerow:{label:V.row.menu,group:'tablerow',order:1,getItems:function(){return{tablerow_insertBefore:2,tablerow_insertAfter:2,tablerow_delete:2};
}},tablerow_insertBefore:{label:V.row.insertBefore,group:'tablerow',command:'rowInsertBefore',order:5},tablerow_insertAfter:{label:V.row.insertAfter,group:'tablerow',command:'rowInsertAfter',order:10},tablerow_delete:{label:V.row.deleteRow,group:'tablerow',command:'rowDelete',order:15},tablecolumn:{label:V.column.menu,group:'tablecolumn',order:1,getItems:function(){return{tablecolumn_insertBefore:2,tablecolumn_insertAfter:2,tablecolumn_delete:2};}},tablecolumn_insertBefore:{label:V.column.insertBefore,group:'tablecolumn',command:'columnInsertBefore',order:5},tablecolumn_insertAfter:{label:V.column.insertAfter,group:'tablecolumn',command:'columnInsertAfter',order:10},tablecolumn_delete:{label:V.column.deleteColumn,group:'tablecolumn',command:'columnDelete',order:15}});if(U.contextMenu)U.contextMenu.addListener(function(W,X){if(!W||W.isReadOnly())return null;while(W){if(W.getName() in T)return{tablecell:2,tablerow:2,tablecolumn:2};W=W.getParent();}return null;});},getSelectedCells:B};x.add('tabletools',x.tabletools);})();s.buildTableMap=function(A){var B=A.$.rows,C=-1,D=[];for(var E=0;E<B.length;E++){C++;!D[C]&&(D[C]=[]);var F=-1;for(var G=0;G<B[E].cells.length;G++){var H=B[E].cells[G];F++;while(D[C][F])F++;var I=isNaN(H.colSpan)?1:H.colSpan,J=isNaN(H.rowSpan)?1:H.rowSpan;for(var K=0;K<J;K++){if(!D[C+K])D[C+K]=[];for(var L=0;L<I;L++)D[C+K][F+L]=B[E].cells[G];}F+=I-1;}}return D;};x.add('specialchar',{availableLangs:{en:1},init:function(A){var B='specialchar',C=this;o.dialog.add(B,this.path+'dialogs/specialchar.js');A.addCommand(B,{exec:function(){var D=A.langCode;D=C.availableLangs[D]?D:'en';o.scriptLoader.load(o.getUrl(C.path+'lang/'+D+'.js'),function(){s.extend(A.lang.specialChar,C.lang[D]);A.openDialog(B);});},modes:{wysiwyg:1},canUndo:false});A.ui.addButton('SpecialChar',{label:A.lang.specialChar.toolbar,command:B});}});w.specialChars=['!','&quot;','#','$','%','&amp;',"'",'(',')','*','+','-','.','/','0','1','2','3','4','5','6','7','8','9',':',';','&lt;','=','&gt;','?','@','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','[',']','^','_','`','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','{','|','}','~','&euro;','&lsquo;','&rsquo;','&ldquo;','&rdquo;','&ndash;','&mdash;','&iexcl;','&cent;','&pound;','&curren;','&yen;','&brvbar;','&sect;','&uml;','&copy;','&ordf;','&laquo;','&not;','&reg;','&macr;','&deg;','&','&sup2;','&sup3;','&acute;','&micro;','&para;','&middot;','&cedil;','&sup1;','&ordm;','&','&frac14;','&frac12;','&frac34;','&iquest;','&Agrave;','&Aacute;','&Acirc;','&Atilde;','&Auml;','&Aring;','&AElig;','&Ccedil;','&Egrave;','&Eacute;','&Ecirc;','&Euml;','&Igrave;','&Iacute;','&Icirc;','&Iuml;','&ETH;','&Ntilde;','&Ograve;','&Oacute;','&Ocirc;','&Otilde;','&Ouml;','&times;','&Oslash;','&Ugrave;','&Uacute;','&Ucirc;','&Uuml;','&Yacute;','&THORN;','&szlig;','&agrave;','&aacute;','&acirc;','&atilde;','&auml;','&aring;','&aelig;','&ccedil;','&egrave;','&eacute;','&ecirc;','&euml;','&igrave;','&iacute;','&icirc;','&iuml;','&eth;','&ntilde;','&ograve;','&oacute;','&ocirc;','&otilde;','&ouml;','&divide;','&oslash;','&ugrave;','&uacute;','&ucirc;','&uuml;','&uuml;','&yacute;','&thorn;','&yuml;','&OElig;','&oelig;','&#372;','&#374','&#373','&#375;','&sbquo;','&#8219;','&bdquo;','&hellip;','&trade;','&#9658;','&bull;','&rarr;','&rArr;','&hArr;','&diams;','&asymp;'];
(function(){var A={editorFocus:false,modes:{wysiwyg:1,source:1}},B={exec:function(E){E.container.focusNext(true,E.tabIndex);}},C={exec:function(E){E.container.focusPrevious(true,E.tabIndex);}};function D(E){return{editorFocus:false,canUndo:false,modes:{wysiwyg:1},exec:function(F){if(F.focusManager.hasFocus){var G=F.getSelection(),H=G.getCommonAncestor(),I;if(I=H.getAscendant('td',true)||H.getAscendant('th',true)){var J=new r.range(F.document),K=s.tryThese(function(){var R=I.getParent(),S=R.$.cells[I.$.cellIndex+(E?-1:1)];S.parentNode.parentNode;return S;},function(){var R=I.getParent(),S=R.getAscendant('table'),T=S.$.rows[R.$.rowIndex+(E?-1:1)];return T.cells[E?T.cells.length-1:0];});if(!(K||E)){var L=I.getAscendant('table').$,M=I.getParent().$.cells,N=new v(L.insertRow(-1),F.document);for(var O=0,P=M.length;O<P;O++){var Q=N.append(new v(M[O],F.document).clone(false,false));!q&&Q.appendBogus();}J.moveToElementEditStart(N);}else if(K){K=new v(K);J.moveToElementEditStart(K);if(!(J.checkStartOfBlock()&&J.checkEndOfBlock()))J.selectNodeContents(K);}else return true;J.select(true);return true;}}return false;}};};x.add('tab',{requires:['keystrokes'],init:function(E){var F=E.config.enableTabKeyTools!==false,G=E.config.tabSpaces||0,H='';while(G--)H+='\xa0';if(H)E.on('key',function(I){if(I.data.keyCode==9){E.insertHtml(H);I.cancel();}});if(F)E.on('key',function(I){if(I.data.keyCode==9&&E.execCommand('selectNextCell')||I.data.keyCode==2000+9&&E.execCommand('selectPreviousCell'))I.cancel();});if(p.webkit||p.gecko)E.on('key',function(I){var J=I.data.keyCode;if(J==9&&!H){I.cancel();E.execCommand('blur');}if(J==2000+9){E.execCommand('blurBack');I.cancel();}});E.addCommand('blur',s.extend(B,A));E.addCommand('blurBack',s.extend(C,A));E.addCommand('selectNextCell',D());E.addCommand('selectPreviousCell',D(true));}});})();v.prototype.focusNext=function(A,B){var K=this;var C=K.$,D=B===undefined?K.getTabIndex():B,E,F,G,H,I,J;if(D<=0){I=K.getNextSourceNode(A,1);while(I){if(I.isVisible()&&I.getTabIndex()===0){G=I;break;}I=I.getNextSourceNode(false,1);}}else{I=K.getDocument().getBody().getFirst();while(I=I.getNextSourceNode(false,1)){if(!E)if(!F&&I.equals(K)){F=true;if(A){if(!(I=I.getNextSourceNode(true,1)))break;E=1;}}else if(F&&!K.contains(I))E=1;if(!I.isVisible()||(J=I.getTabIndex())<0)continue;if(E&&J==D){G=I;break;}if(J>D&&(!G||!H||J<H)){G=I;H=J;}else if(!G&&J===0){G=I;H=J;}}}if(G)G.focus();};v.prototype.focusPrevious=function(A,B){var K=this;var C=K.$,D=B===undefined?K.getTabIndex():B,E,F,G,H=0,I,J=K.getDocument().getBody().getLast();
while(J=J.getPreviousSourceNode(false,1)){if(!E)if(!F&&J.equals(K)){F=true;if(A){if(!(J=J.getPreviousSourceNode(true,1)))break;E=1;}}else if(F&&!K.contains(J))E=1;if(!J.isVisible()||(I=J.getTabIndex())<0)continue;if(D<=0){if(E&&I===0){G=J;break;}if(I>H){G=J;H=I;}}else{if(E&&I==D){G=J;break;}if(I<D&&(!G||I>H)){G=J;H=I;}}}if(G)G.focus();};(function(){x.add('templates',{requires:['dialog'],init:function(C){o.dialog.add('templates',o.getUrl(this.path+'dialogs/templates.js'));C.addCommand('templates',new o.dialogCommand('templates'));C.ui.addButton('Templates',{label:C.lang.templates.button,command:'templates'});}});var A={},B={};o.addTemplates=function(C,D){A[C]=D;};o.getTemplates=function(C){return A[C];};o.loadTemplates=function(C,D){var E=[];for(var F=0,G=C.length;F<G;F++){if(!B[C[F]]){E.push(C[F]);B[C[F]]=1;}}if(E.length)o.scriptLoader.load(E,D);else setTimeout(D,0);};})();w.templates_files=[o.getUrl('plugins/templates/templates/default.js')];w.templates_replaceContent=true;(function(){var A=function(){this.toolbars=[];this.focusCommandExecuted=false;};A.prototype.focus=function(){for(var C=0,D;D=this.toolbars[C++];)for(var E=0,F;F=D.items[E++];){if(F.focus){F.focus();return;}}};var B={toolbarFocus:{modes:{wysiwyg:1,source:1},exec:function(C){if(C.toolbox){C.toolbox.focusCommandExecuted=true;if(q||p.air)setTimeout(function(){C.toolbox.focus();},100);else C.toolbox.focus();}}}};x.add('toolbar',{init:function(C){var D=function(E,F){var G,H,I,J=C.lang.dir=='rtl';switch(F){case J?37:39:case 9:do{G=E.next;if(!G){H=E.toolbar.next;I=H&&H.items.length;while(I===0){H=H.next;I=H&&H.items.length;}if(H)G=H.items[0];}E=G;}while(E&&!E.focus)if(E)E.focus();else C.toolbox.focus();return false;case J?39:37:case 2000+9:do{G=E.previous;if(!G){H=E.toolbar.previous;I=H&&H.items.length;while(I===0){H=H.previous;I=H&&H.items.length;}if(H)G=H.items[I-1];}E=G;}while(E&&!E.focus)if(E)E.focus();else{var K=C.toolbox.toolbars[C.toolbox.toolbars.length-1].items;K[K.length-1].focus();}return false;case 27:C.focus();return false;case 13:case 32:E.execute();return false;}return true;};C.on('themeSpace',function(E){if(E.data.space==C.config.toolbarLocation){C.toolbox=new A();var F=s.getNextId(),G=['<div class="cke_toolbox" role="toolbar" aria-labelledby="',F,'" onmousedown="return false;"'],H=C.config.toolbarStartupExpanded!==false,I;G.push(H?'>':' style="display:none">');G.push('<span id="',F,'" class="cke_voice_label">',C.lang.toolbar,'</span>');var J=C.toolbox.toolbars,K=C.config.toolbar instanceof Array?C.config.toolbar:C.config['toolbar_'+C.config.toolbar];
for(var L=0;L<K.length;L++){var M=K[L];if(!M)continue;var N=s.getNextId(),O={id:N,items:[]};if(I){G.push('</div>');I=0;}if(M==='/'){G.push('<div class="cke_break"></div>');continue;}G.push('<span id="',N,'" class="cke_toolbar" role="presentation"><span class="cke_toolbar_start"></span>');var P=J.push(O)-1;if(P>0){O.previous=J[P-1];O.previous.next=O;}for(var Q=0;Q<M.length;Q++){var R,S=M[Q];if(S=='-')R=y.separator;else R=C.ui.create(S);if(R){if(R.canGroup){if(!I){G.push('<span class="cke_toolgroup" role="presentation">');I=1;}}else if(I){G.push('</span>');I=0;}var T=R.render(C,G);P=O.items.push(T)-1;if(P>0){T.previous=O.items[P-1];T.previous.next=T;}T.toolbar=O;T.onkey=D;T.onfocus=function(){if(!C.toolbox.focusCommandExecuted)C.focus();};}}if(I){G.push('</span>');I=0;}G.push('<span class="cke_toolbar_end"></span></span>');}G.push('</div>');if(C.config.toolbarCanCollapse){var U=s.addFunction(function(){C.execCommand('toolbarCollapse');});C.on('destroy',function(){s.removeFunction(U);});var V=s.getNextId();C.addCommand('toolbarCollapse',{exec:function(W){var X=o.document.getById(V),Y=X.getPrevious(),Z=W.getThemeSpace('contents'),aa=Y.getParent(),ab=parseInt(Z.$.style.height,10),ac=aa.$.offsetHeight,ad=!Y.isVisible();if(!ad){Y.hide();X.addClass('cke_toolbox_collapser_min');X.setAttribute('title',W.lang.toolbarExpand);}else{Y.show();X.removeClass('cke_toolbox_collapser_min');X.setAttribute('title',W.lang.toolbarCollapse);}X.getFirst().setText(ad?'▲':'◀');var ae=aa.$.offsetHeight-ac;Z.setStyle('height',ab-ae+'px');W.fire('resize');},modes:{wysiwyg:1,source:1}});G.push('<a title="'+(H?C.lang.toolbarCollapse:C.lang.toolbarExpand)+'" id="'+V+'" tabIndex="-1" class="cke_toolbox_collapser');if(!H)G.push(' cke_toolbox_collapser_min');G.push('" onclick="CKEDITOR.tools.callFunction('+U+')">','<span>&#9650;</span>','</a>');}E.data.html+=G.join('');}});C.on('destroy',function(){var E,F=0,G,H,I;E=this.toolbox.toolbars;for(;F<E.length;F++){H=E[F].items;for(G=0;G<H.length;G++){I=H[G];if(I.clickFn)s.removeFunction(I.clickFn);if(I.keyDownFn)s.removeFunction(I.keyDownFn);if(I.index)y.button._.instances[I.index]=null;}}});C.addCommand('toolbarFocus',B.toolbarFocus);}});})();y.separator={render:function(A,B){B.push('<span class="cke_separator" role="separator"></span>');return{};}};w.toolbarLocation='top';w.toolbar_Basic=[['Bold','Italic','-','NumberedList','BulletedList','-','Link','Unlink','-','About']];w.toolbar_Full=[['Source','-','Save','NewPage','Preview','-','Templates'],['Cut','Copy','Paste','PasteText','PasteFromWord','-','Print','SpellChecker','Scayt'],['Undo','Redo','-','Find','Replace','-','SelectAll','RemoveFormat'],['Form','Checkbox','Radio','TextField','Textarea','Select','Button','ImageButton','HiddenField'],'/',['Bold','Italic','Underline','Strike','-','Subscript','Superscript'],['NumberedList','BulletedList','-','Outdent','Indent','Blockquote','CreateDiv'],['JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock'],['BidiLtr','BidiRtl'],['Link','Unlink','Anchor'],['Image','Flash','Table','HorizontalRule','Smiley','SpecialChar','PageBreak','Iframe'],'/',['Styles','Format','Font','FontSize'],['TextColor','BGColor'],['Maximize','ShowBlocks','-','About']];
w.toolbar='Full';w.toolbarCanCollapse=true;(function(){x.add('undo',{requires:['selection','wysiwygarea'],init:function(G){var H=new C(G),I=G.addCommand('undo',{exec:function(){if(H.undo()){G.selectionChange();this.fire('afterUndo');}},state:0,canUndo:false}),J=G.addCommand('redo',{exec:function(){if(H.redo()){G.selectionChange();this.fire('afterRedo');}},state:0,canUndo:false});H.onChange=function(){I.setState(H.undoable()?2:0);J.setState(H.redoable()?2:0);};function K(L){if(H.enabled&&L.data.command.canUndo!==false)H.save();};G.on('beforeCommandExec',K);G.on('afterCommandExec',K);G.on('saveSnapshot',function(){H.save();});G.on('contentDom',function(){G.document.on('keydown',function(L){if(!L.data.$.ctrlKey&&!L.data.$.metaKey)H.type(L);});});G.on('beforeModeUnload',function(){G.mode=='wysiwyg'&&H.save(true);});G.on('mode',function(){H.enabled=G.mode=='wysiwyg';H.onChange();});G.ui.addButton('Undo',{label:G.lang.undo,command:'undo'});G.ui.addButton('Redo',{label:G.lang.redo,command:'redo'});G.resetUndo=function(){H.reset();G.fire('saveSnapshot');};G.on('updateSnapshot',function(){if(H.currentImage&&new A(G).equals(H.currentImage))setTimeout(function(){H.update();},0);});}});x.undo={};var A=x.undo.Image=function(G){this.editor=G;var H=G.getSnapshot(),I=H&&G.getSelection();q&&H&&(H=H.replace(/\s+data-cke-expando=".*?"/g,''));this.contents=H;this.bookmarks=I&&I.createBookmarks2(true);},B=/\b(?:href|src|name)="[^"]*?"/gi;A.prototype={equals:function(G,H){var I=this.contents,J=G.contents;if(q&&(p.ie7Compat||p.ie6Compat)){I=I.replace(B,'');J=J.replace(B,'');}if(I!=J)return false;if(H)return true;var K=this.bookmarks,L=G.bookmarks;if(K||L){if(!K||!L||K.length!=L.length)return false;for(var M=0;M<K.length;M++){var N=K[M],O=L[M];if(N.startOffset!=O.startOffset||N.endOffset!=O.endOffset||!s.arrayCompare(N.start,O.start)||!s.arrayCompare(N.end,O.end))return false;}}return true;}};function C(G){this.editor=G;this.reset();};var D={8:1,46:1},E={16:1,17:1,18:1},F={37:1,38:1,39:1,40:1};C.prototype={type:function(G){var H=G&&G.data.getKey(),I=H in E,J=H in D,K=this.lastKeystroke in D,L=J&&H==this.lastKeystroke,M=H in F,N=this.lastKeystroke in F,O=!J&&!M,P=J&&!L,Q=!(I||this.typing)||O&&(K||N);if(Q||P){var R=new A(this.editor);s.setTimeout(function(){var T=this;var S=T.editor.getSnapshot();if(q)S=S.replace(/\s+data-cke-expando=".*?"/g,'');if(R.contents!=S){T.typing=true;if(!T.save(false,R,false))T.snapshots.splice(T.index+1,T.snapshots.length-T.index-1);T.hasUndo=true;T.hasRedo=false;
T.typesCount=1;T.modifiersCount=1;T.onChange();}},0,this);}this.lastKeystroke=H;if(J){this.typesCount=0;this.modifiersCount++;if(this.modifiersCount>25){this.save(false,null,false);this.modifiersCount=1;}}else if(!M){this.modifiersCount=0;this.typesCount++;if(this.typesCount>25){this.save(false,null,false);this.typesCount=1;}}},reset:function(){var G=this;G.lastKeystroke=0;G.snapshots=[];G.index=-1;G.limit=G.editor.config.undoStackSize||20;G.currentImage=null;G.hasUndo=false;G.hasRedo=false;G.resetType();},resetType:function(){var G=this;G.typing=false;delete G.lastKeystroke;G.typesCount=0;G.modifiersCount=0;},fireChange:function(){var G=this;G.hasUndo=!!G.getNextImage(true);G.hasRedo=!!G.getNextImage(false);G.resetType();G.onChange();},save:function(G,H,I){var K=this;var J=K.snapshots;if(!H)H=new A(K.editor);if(H.contents===false)return false;if(K.currentImage&&H.equals(K.currentImage,G))return false;J.splice(K.index+1,J.length-K.index-1);if(J.length==K.limit)J.shift();K.index=J.push(H)-1;K.currentImage=H;if(I!==false)K.fireChange();return true;},restoreImage:function(G){var I=this;I.editor.loadSnapshot(G.contents);if(G.bookmarks)I.editor.getSelection().selectBookmarks(G.bookmarks);else if(q){var H=I.editor.document.getBody().$.createTextRange();H.collapse(true);H.select();}I.index=G.index;I.update();I.fireChange();},getNextImage:function(G){var L=this;var H=L.snapshots,I=L.currentImage,J,K;if(I)if(G)for(K=L.index-1;K>=0;K--){J=H[K];if(!I.equals(J,true)){J.index=K;return J;}}else for(K=L.index+1;K<H.length;K++){J=H[K];if(!I.equals(J,true)){J.index=K;return J;}}return null;},redoable:function(){return this.enabled&&this.hasRedo;},undoable:function(){return this.enabled&&this.hasUndo;},undo:function(){var H=this;if(H.undoable()){H.save(true);var G=H.getNextImage(true);if(G)return H.restoreImage(G),true;}return false;},redo:function(){var H=this;if(H.redoable()){H.save(true);if(H.redoable()){var G=H.getNextImage(false);if(G)return H.restoreImage(G),true;}}return false;},update:function(){var G=this;G.snapshots.splice(G.index,1,G.currentImage=new A(G.editor));}};})();(function(){var A={table:1,pre:1},B=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,C=r.walker.whitespaces(true);function D(R){return R.getName() in A||R.isBlockBoundary()&&t.$empty[R.getName()];};function E(R){return function(S){if(this.mode=='wysiwyg'){this.focus();this.fire('saveSnapshot');R.call(this,S.data);s.setTimeout(function(){this.fire('saveSnapshot');
},0,this);}};};function F(R){var X=this;if(X.dataProcessor)R=X.dataProcessor.toHtml(R);var S=X.getSelection(),T=S.getRanges()[0];if(T.checkReadOnly())return;if(q){var U=S.isLocked;if(U)S.unlock();var V=S.getNative();if(V.type=='Control')V.clear();else if(S.getType()==2){T=S.getRanges()[0];var W=T&&T.endContainer;if(W&&W.type==1&&W.getAttribute('contenteditable')=='false'&&T.checkBoundaryOfElement(W,2)){T.setEndAfter(T.endContainer);T.deleteContents();}}try{V.createRange().pasteHTML(R);}catch(Y){}if(U)X.getSelection().lock();}else X.document.$.execCommand('inserthtml',false,R);if(p.webkit){S=X.getSelection();S.scrollIntoView();}};function G(R){var S=this.getSelection(),T=S.getStartElement().hasAscendant('pre',true)?2:this.config.enterMode,U=T==2,V=s.htmlEncode(R.replace(/\r\n|\r/g,'\n'));V=V.replace(/^[ \t]+|[ \t]+$/g,function(ab,ac,ad){if(ab.length==1)return '&nbsp;';else if(!ac)return s.repeat('&nbsp;',ab.length-1)+' ';else return ' '+s.repeat('&nbsp;',ab.length-1);});V=V.replace(/[ \t]{2,}/g,function(ab){return s.repeat('&nbsp;',ab.length-1)+' ';});var W=T==1?'p':'div';if(!U)V=V.replace(/(\n{2})([\s\S]*?)(?:$|\1)/g,function(ab,ac,ad){return '<'+W+'>'+ad+'</'+W+'>';});V=V.replace(/\n/g,'<br>');if(!(U||q))V=V.replace(new RegExp('<br>(?=</'+W+'>)'),function(ab){return s.repeat(ab,2);});if(p.gecko||p.webkit){var X=new r.elementPath(S.getStartElement()),Y=[];for(var Z=0;Z<X.elements.length;Z++){var aa=X.elements[Z].getName();if(aa in t.$inline)Y.unshift(X.elements[Z].getOuterHtml().match(/^<.*?>/));else if(aa in t.$block)break;}V=Y.join('')+V;}F.call(this,V);};function H(R){var S=this.getSelection(),T=S.getRanges(),U=R.getName(),V=t.$block[U],W=S.isLocked;if(W)S.unlock();var X,Y,Z,aa;for(var ab=T.length-1;ab>=0;ab--){X=T[ab];if(!X.checkReadOnly()){X.deleteContents(1);Y=!ab&&R||R.clone(1);var ac,ad;if(V)while((ac=X.getCommonAncestor(0,1))&&(ad=t[ac.getName()])&&!(ad&&ad[U])){if(ac.getName() in t.span)X.splitElement(ac);else if(X.checkStartOfBlock()&&X.checkEndOfBlock()){X.setStartBefore(ac);X.collapse(true);ac.remove();}else X.splitBlock();}X.insertNode(Y);if(!Z)Z=Y;}}if(Z){X.moveToPosition(Z,4);if(V){var ae=Z.getNext(C),af=ae&&ae.type==1&&ae.getName();if(af&&t.$block[af]&&t[af]['#'])X.moveToElementEditStart(ae);}}S.selectRanges([X]);if(W)this.getSelection().lock();};function I(R){if(!R.checkDirty())setTimeout(function(){R.resetDirty();},0);};var J=r.walker.whitespaces(true),K=r.walker.bookmark(false,true);function L(R){return J(R)&&K(R);};function M(R){return R.type==3&&s.trim(R.getText()).match(/^(?:&nbsp;|\xa0)$/);
};function N(R){if(R.isLocked){R.unlock();setTimeout(function(){R.lock();},0);}};function O(R){return R.getOuterHtml().match(B);};J=r.walker.whitespaces(true);function P(R){var S=R.window,T=R.document,U=R.document.getBody(),V=U.getChildren().count();if(!V||V==1&&U.getFirst().hasAttribute('_moz_editor_bogus_node')){I(R);var W=R.element.getDocument(),X=W.getDocumentElement(),Y=X.$.scrollTop,Z=X.$.scrollLeft,aa=T.$.createEvent('KeyEvents');aa.initKeyEvent('keypress',true,true,S.$,false,false,false,false,0,32);T.$.dispatchEvent(aa);if(Y!=X.$.scrollTop||Z!=X.$.scrollLeft)W.getWindow().$.scrollTo(Z,Y);V&&U.getFirst().remove();T.getBody().appendBogus();var ab=new r.range(T);ab.setStartAt(U,1);ab.select();}};function Q(R){var S=R.editor,T=R.data.path,U=T.blockLimit,V=R.data.selection,W=V.getRanges()[0],X=S.document.getBody(),Y=S.config.enterMode;if(p.gecko){P(S);var Z=T.block||T.blockLimit;if(Z&&!Z.getBogus()){S.fire('updateSnapshot');I(S);Z.appendBogus();}}if(Y!=2&&W.collapsed&&U.getName()=='body'&&!T.block){S.fire('updateSnapshot');I(S);q&&N(V);var aa=W.fixBlock(true,S.config.enterMode==3?'div':'p');if(q){var ab=aa.getFirst(L);ab&&M(ab)&&ab.remove();}if(O(aa)){var ac=aa.getNext(J);if(ac&&ac.type==1&&!D(ac)){W.moveToElementEditStart(ac);aa.remove();}else{ac=aa.getPrevious(J);if(ac&&ac.type==1&&!D(ac)){W.moveToElementEditEnd(ac);aa.remove();}}}W.select();if(!q){S.forceNextSelectionCheck();S.selectionChange();}}var ad=new r.range(S.document),ae=new r.walker(ad);ad.selectNodeContents(X);ae.evaluator=function(ag){return ag.type==1&&ag.getName() in A;};ae.guard=function(ag,ah){return!(ag.type==3&&J(ag)||ah);};if(ae.previous()){S.fire('updateSnapshot');I(S);q&&N(V);var af;if(Y!=2)af=X.append(new v(Y==1?'p':'div'));else af=X;if(!q)af.appendBogus();}};x.add('wysiwygarea',{requires:['editingblock'],init:function(R){var S=R.config.enterMode!=2?R.config.enterMode==3?'div':'p':false,T=R.lang.editorTitle.replace('%1',R.name),U;R.on('editingBlockReady',function(){var aa,ab,ac,ad,ae,af,ag=p.isCustomDomain(),ah=function(ak){if(ab)ab.remove();var al='document.open();'+(ag?'document.domain="'+document.domain+'";':'')+'document.close();';al=p.air?'javascript:void(0)':q?'javascript:void(function(){'+encodeURIComponent(al)+'}())':'';ab=v.createFromHtml('<iframe style="width:100%;height:100%" frameBorder="0" title="'+T+'"'+' src="'+al+'"'+' tabIndex="'+(p.webkit?-1:R.tabIndex)+'"'+' allowTransparency="true"'+'></iframe>');if(document.location.protocol=='chrome:')o.event.useCapture=true;
ab.on('load',function(ap){ae=1;ap.removeListener();var aq=ab.getFrameDocument();aq.write(ak);p.air&&aj(aq.getWindow().$);});if(document.location.protocol=='chrome:')o.event.useCapture=false;var am=R.element,an=p.gecko&&!am.isVisible(),ao={};if(an){am.show();ao={position:am.getStyle('position'),top:am.getStyle('top')};am.setStyles({position:'absolute',top:'-3000px'});}aa.append(ab);if(an)setTimeout(function(){am.hide();am.setStyles(ao);},1000);};U=s.addFunction(aj);var ai='<script id="cke_actscrpt" type="text/javascript" data-cke-temp="1">'+(ag?'document.domain="'+document.domain+'";':'')+'window.parent.CKEDITOR.tools.callFunction( '+U+', window );'+'</script>';function aj(ak){if(!ae)return;ae=0;R.fire('ariaWidget',ab);var al=ak.document,am=al.body,an=al.getElementById('cke_actscrpt');an&&an.parentNode.removeChild(an);am.spellcheck=!R.config.disableNativeSpellChecker;if(q){am.hideFocus=true;am.disabled=true;am.contentEditable=true;am.removeAttribute('disabled');}else setTimeout(function(){if(p.gecko&&p.version>=10900||p.opera)al.$.body.contentEditable=true;else if(p.webkit)al.$.body.parentNode.contentEditable=true;else al.$.designMode='on';},0);p.gecko&&s.setTimeout(P,0,null,R);ak=R.window=new r.window(ak);al=R.document=new u(al);al.on('dblclick',function(at){var au=at.data.getTarget(),av={element:au,dialog:''};R.fire('doubleclick',av);av.dialog&&R.openDialog(av.dialog);});q&&al.on('click',function(at){var au=at.data.getTarget();if(au.is('input')){var av=au.getAttribute('type');if(av=='submit'||av=='reset')at.data.preventDefault();}});if(!(q||p.opera))al.on('mousedown',function(at){var au=at.data.getTarget();if(au.is('img','hr','input','textarea','select'))R.getSelection().selectElement(au);});if(p.gecko)al.on('mouseup',function(at){if(at.data.$.button==2){var au=at.data.getTarget();if(!au.getOuterHtml().replace(B,'')){var av=new r.range(al);av.moveToElementEditStart(au);av.select(true);}}});al.on('click',function(at){at=at.data;if(at.getTarget().is('a')&&at.$.button!=2)at.preventDefault();});if(p.webkit){al.on('click',function(at){if(at.data.getTarget().is('input','select'))at.data.preventDefault();});al.on('mouseup',function(at){if(at.data.getTarget().is('input','textarea'))at.data.preventDefault();});}if(q&&al.$.compatMode=='CSS1Compat'||p.gecko||p.opera){var ao=al.getDocumentElement();ao.on('mousedown',function(at){if(at.data.getTarget().equals(ao)){if(p.gecko&&p.version>=10900)Y();Z.focus();}});}var ap=q?ab:ak;ap.on('blur',function(){R.focusManager.blur();
});var aq;ap.on('focus',function(){var at=R.document;if(p.gecko&&p.version>=10900)Y();else if(p.opera)at.getBody().focus();else if(p.webkit)if(!aq){R.document.getDocumentElement().focus();aq=1;}R.focusManager.focus();});var ar=R.keystrokeHandler;if(ar)ar.attach(al);if(q){al.getDocumentElement().addClass(al.$.compatMode);al.on('keydown',function(at){var au=at.data.getKeystroke();if(au in {8:1,46:1}){var av=R.getSelection(),aw=av.getSelectedElement();if(aw){R.fire('saveSnapshot');var ax=av.getRanges()[0].createBookmark();aw.remove();av.selectBookmarks([ax]);R.fire('saveSnapshot');at.data.preventDefault();}}});if(al.$.compatMode=='CSS1Compat'){var as={33:1,34:1};al.on('keydown',function(at){if(at.data.getKeystroke() in as)setTimeout(function(){R.getSelection().scrollIntoView();},0);});}}if(R.contextMenu)R.contextMenu.addTarget(al,R.config.browserContextMenuOnCtrl!==false);setTimeout(function(){R.fire('contentDom');if(af){R.mode='wysiwyg';R.fire('mode');af=false;}ac=false;if(ad){R.focus();ad=false;}setTimeout(function(){R.fire('dataReady');},0);try{R.document.$.execCommand('enableInlineTableEditing',false,!R.config.disableNativeTableHandles);}catch(at){}if(R.config.disableObjectResizing)try{R.document.$.execCommand('enableObjectResizing',false,false);}catch(au){R.document.getBody().on(q?'resizestart':'resize',function(av){av.data.preventDefault();});}if(q)setTimeout(function(){if(R.document){var av=R.document.$.body;av.runtimeStyle.marginBottom='0px';av.runtimeStyle.marginBottom='';}},1000);},0);};R.addMode('wysiwyg',{load:function(ak,al,am){aa=ak;if(q&&p.quirks)ak.setStyle('position','relative');R.mayBeDirty=true;af=true;if(am)this.loadSnapshotData(al);else this.loadData(al);},loadData:function(ak){ac=true;var al=R.config,am=al.fullPage,an=al.docType,ao='<style type="text/css" data-cke-temp="1">'+R._.styles.join('\n')+'</style>';!am&&(ao=s.buildStyleHtml(R.config.contentsCss)+ao);var ap=al.baseHref?'<base href="'+al.baseHref+'" data-cke-temp="1" />':'';if(am)ak=ak.replace(/<!DOCTYPE[^>]*>/i,function(aq){R.docType=an=aq;return '';});if(R.dataProcessor)ak=R.dataProcessor.toHtml(ak,S);if(am){if(!/<body[\s|>]/.test(ak))ak='<body>'+ak;if(!/<html[\s|>]/.test(ak))ak='<html>'+ak+'</html>';if(!/<head[\s|>]/.test(ak))ak=ak.replace(/<html[^>]*>/,'$&<head><title></title></head>');else if(!/<title[\s|>]/.test(ak))ak=ak.replace(/<head[^>]*>/,'$&<title></title>');ap&&(ak=ak.replace(/<head>/,'$&'+ap));ak=ak.replace(/<\/head\s*>/,ao+'$&');ak=an+ak;}else ak=al.docType+'<html dir="'+al.contentsLangDirection+'"'+' lang="'+(al.contentsLanguage||R.langCode)+'">'+'<head>'+'<title>'+T+'</title>'+ap+ao+'</head>'+'<body'+(al.bodyId?' id="'+al.bodyId+'"':'')+(al.bodyClass?' class="'+al.bodyClass+'"':'')+'>'+ak+'</html>';
ak+=ai;this.onDispose();ah(ak);},getData:function(){var ak=R.config,al=ak.fullPage,am=al&&R.docType,an=ab.getFrameDocument(),ao=al?an.getDocumentElement().getOuterHtml():an.getBody().getHtml();if(R.dataProcessor)ao=R.dataProcessor.toDataFormat(ao,S);if(ak.ignoreEmptyParagraph)ao=ao.replace(B,function(ap,aq){return aq;});if(am)ao=am+'\n'+ao;return ao;},getSnapshotData:function(){return ab.getFrameDocument().getBody().getHtml();},loadSnapshotData:function(ak){ab.getFrameDocument().getBody().setHtml(ak);},onDispose:function(){if(!R.document)return;R.document.getDocumentElement().clearCustomData();R.document.getBody().clearCustomData();R.window.clearCustomData();R.document.clearCustomData();ab.clearCustomData();ab.remove();},unload:function(ak){this.onDispose();R.window=R.document=ab=aa=ad=null;R.fire('contentDomUnload');},focus:function(){var ak=R.window;if(ac)ad=true;else if(p.opera&&R.document){var al=R.window.$.frameElement;al.blur(),al.focus();R.document.getBody().focus();R.selectionChange();}else if(!p.opera&&ak){p.air?setTimeout(function(){ak.focus();},0):ak.focus();R.selectionChange();}}});R.on('insertHtml',E(F),null,null,20);R.on('insertElement',E(H),null,null,20);R.on('insertText',E(G),null,null,20);R.on('selectionChange',Q,null,null,1);});var V;R.on('contentDom',function(){var aa=R.document.getElementsByTag('title').getItem(0);aa.data('cke-title',R.document.$.title);R.document.$.title=T;});if(p.ie8Compat){R.addCss('html.CSS1Compat [contenteditable=false]{ min-height:0 !important;}');var W=[];for(var X in t.$removeEmpty)W.push('html.CSS1Compat '+X+'[contenteditable=false]');R.addCss(W.join(',')+'{ display:inline-block;}');}else if(p.gecko)R.addCss('html { height: 100% !important; }');function Y(aa){s.tryThese(function(){R.document.$.designMode='on';setTimeout(function(){R.document.$.designMode='off';if(o.currentInstance==R)R.document.getBody().focus();},50);},function(){R.document.$.designMode='off';var ab=R.document.getBody();ab.setAttribute('contentEditable',false);ab.setAttribute('contentEditable',true);!aa&&Y(1);});};if(p.gecko||q||p.opera){var Z;R.on('uiReady',function(){Z=R.container.append(v.createFromHtml('<span tabindex="-1" style="position:absolute;" role="presentation"></span>'));Z.on('focus',function(){R.focus();});R.focusGrabber=Z;});R.on('destroy',function(){s.removeFunction(U);Z.clearCustomData();delete R.focusGrabber;});}R.on('insertElement',function(aa){var ab=aa.data;if(ab.type==1&&(ab.is('input')||ab.is('textarea'))){if(!ab.isReadOnly())ab.data('cke-editable',ab.hasAttribute('contenteditable')?'true':'1');
ab.setAttribute('contentEditable',false);}});}});if(p.gecko)(function(){var R=document.body;if(!R)window.addEventListener('load',arguments.callee,false);else{var S=R.getAttribute('onpageshow');R.setAttribute('onpageshow',(S?S+';':'')+'event.persisted && (function(){'+'var allInstances = CKEDITOR.instances, editor, doc;'+'for ( var i in allInstances )'+'{'+'\teditor = allInstances[ i ];'+'\tdoc = editor.document;'+'\tif ( doc )'+'\t{'+'\t\tdoc.$.designMode = "off";'+'\t\tdoc.$.designMode = "on";'+'\t}'+'}'+'})();');}})();})();w.disableObjectResizing=false;w.disableNativeTableHandles=true;w.disableNativeSpellChecker=true;w.ignoreEmptyParagraph=true;x.add('wsc',{requires:['dialog'],init:function(A){var B='checkspell',C=A.addCommand(B,new o.dialogCommand(B));C.modes={wysiwyg:!p.opera&&!p.air&&document.domain==window.location.hostname};A.ui.addButton('SpellChecker',{label:A.lang.spellCheck.toolbar,command:B});o.dialog.add(B,this.path+'dialogs/wsc.js');}});w.wsc_customerId=w.wsc_customerId||'1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk';w.wsc_customLoaderScript=w.wsc_customLoaderScript||null;o.DIALOG_RESIZE_NONE=0;o.DIALOG_RESIZE_WIDTH=1;o.DIALOG_RESIZE_HEIGHT=2;o.DIALOG_RESIZE_BOTH=3;(function(){var A=s.cssLength;function B(ad){return!!this._.tabs[ad][0].$.offsetHeight;};function C(){var ah=this;var ad=ah._.currentTabId,ae=ah._.tabIdList.length,af=s.indexOf(ah._.tabIdList,ad)+ae;for(var ag=af-1;ag>af-ae;ag--){if(B.call(ah,ah._.tabIdList[ag%ae]))return ah._.tabIdList[ag%ae];}return null;};function D(){var ah=this;var ad=ah._.currentTabId,ae=ah._.tabIdList.length,af=s.indexOf(ah._.tabIdList,ad);for(var ag=af+1;ag<af+ae;ag++){if(B.call(ah,ah._.tabIdList[ag%ae]))return ah._.tabIdList[ag%ae];}return null;};function E(ad,ae){var af=ad.$.getElementsByTagName('input');for(var ag=0,ah=af.length;ag<ah;ag++){var ai=new v(af[ag]);if(ai.getAttribute('type').toLowerCase()=='text')if(ae){ai.setAttribute('value',ai.getCustomData('fake_value')||'');ai.removeCustomData('fake_value');}else{ai.setCustomData('fake_value',ai.getAttribute('value'));ai.setAttribute('value','');}}};o.dialog=function(ad,ae){var af=o.dialog._.dialogDefinitions[ae],ag=s.clone(G),ah=ad.config.dialog_buttonsOrder||'OS',ai=ad.lang.dir;if(ah=='OS'&&p.mac||ah=='rtl'&&ai=='ltr'||ah=='ltr'&&ai=='rtl')ag.buttons.reverse();af=s.extend(af(ad),ag);af=s.clone(af);af=new K(this,af);var aj=o.document,ak=ad.theme.buildDialog(ad);this._={editor:ad,element:ak.element,name:ae,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:false,focusList:[],currentFocusIndex:0,hasFocus:false};
this.parts=ak.parts;s.setTimeout(function(){ad.fire('ariaWidget',this.parts.contents);},0,this);this.parts.dialog.setStyles({position:p.ie6Compat?'absolute':'fixed',top:0,left:0,visibility:'hidden'});o.event.call(this);this.definition=af=o.fire('dialogDefinition',{name:ae,definition:af},ad).definition;var al={};if(!('removeDialogTabs' in ad._)&&ad.config.removeDialogTabs){var am=ad.config.removeDialogTabs.split(';');for(i=0;i<am.length;i++){var an=am[i].split(':');if(an.length==2){var ao=an[0];if(!al[ao])al[ao]=[];al[ao].push(an[1]);}}ad._.removeDialogTabs=al;}if(ad._.removeDialogTabs&&(al=ad._.removeDialogTabs[ae]))for(i=0;i<al.length;i++)af.removeContents(al[i]);if(af.onLoad)this.on('load',af.onLoad);if(af.onShow)this.on('show',af.onShow);if(af.onHide)this.on('hide',af.onHide);if(af.onOk)this.on('ok',function(aB){ad.fire('saveSnapshot');setTimeout(function(){ad.fire('saveSnapshot');},0);if(af.onOk.call(this,aB)===false)aB.data.hide=false;});if(af.onCancel)this.on('cancel',function(aB){if(af.onCancel.call(this,aB)===false)aB.data.hide=false;});var ap=this,aq=function(aB){var aC=ap._.contents,aD=false;for(var aE in aC)for(var aF in aC[aE]){aD=aB.call(this,aC[aE][aF]);if(aD)return;}};this.on('ok',function(aB){aq(function(aC){if(aC.validate){var aD=aC.validate(this);if(typeof aD=='string'){alert(aD);aD=false;}if(aD===false){if(aC.select)aC.select();else aC.focus();aB.data.hide=false;aB.stop();return true;}}});},this,null,0);this.on('cancel',function(aB){aq(function(aC){if(aC.isChanged()){if(!confirm(ad.lang.common.confirmCancel))aB.data.hide=false;return true;}});},this,null,0);this.parts.close.on('click',function(aB){if(this.fire('cancel',{hide:true}).hide!==false)this.hide();aB.data.preventDefault();},this);function ar(){var aB=ap._.focusList;aB.sort(function(aE,aF){if(aE.tabIndex!=aF.tabIndex)return aF.tabIndex-aE.tabIndex;else return aE.focusIndex-aF.focusIndex;});var aC=aB.length;for(var aD=0;aD<aC;aD++)aB[aD].focusIndex=aD;};function as(aB){var aC=ap._.focusList,aD=aB?1:-1;if(aC.length<1)return;var aE=ap._.currentFocusIndex;try{aC[aE].getInputElement().$.blur();}catch(aH){}var aF=(aE+aD+aC.length)%aC.length,aG=aF;while(!aC[aG].isFocusable()){aG=(aG+aD+aC.length)%aC.length;if(aG==aF)break;}aC[aG].focus();if(aC[aG].type=='text')aC[aG].select();};this.changeFocus=as;var at;function au(aB){var aG=this;if(ap!=o.dialog._.currentTop)return;var aC=aB.data.getKeystroke(),aD=ad.lang.dir=='rtl';at=0;if(aC==9||aC==2000+9){var aE=aC==2000+9;if(ap._.tabBarMode){var aF=aE?C.call(ap):D.call(ap);
ap.selectPage(aF);ap._.tabs[aF][0].focus();}else as(!aE);at=1;}else if(aC==4000+121&&!ap._.tabBarMode&&ap.getPageCount()>1){ap._.tabBarMode=true;ap._.tabs[ap._.currentTabId][0].focus();at=1;}else if((aC==37||aC==39)&&ap._.tabBarMode){aF=aC==(aD?39:37)?C.call(ap):D.call(ap);ap.selectPage(aF);ap._.tabs[aF][0].focus();at=1;}else if((aC==13||aC==32)&&ap._.tabBarMode){aG.selectPage(aG._.currentTabId);aG._.tabBarMode=false;aG._.currentFocusIndex=-1;as(true);at=1;}if(at){aB.stop();aB.data.preventDefault();}};function av(aB){at&&aB.data.preventDefault();};var aw=this._.element;this.on('show',function(){aw.on('keydown',au,this,null,0);if(p.opera||p.gecko&&p.mac)aw.on('keypress',av,this);});this.on('hide',function(){aw.removeListener('keydown',au);if(p.opera||p.gecko&&p.mac)aw.removeListener('keypress',av);});this.on('iframeAdded',function(aB){var aC=new u(aB.data.iframe.$.contentWindow.document);aC.on('keydown',au,this,null,0);});this.on('show',function(){var aF=this;ar();if(ad.config.dialog_startupFocusTab&&ap._.pageCount>1){ap._.tabBarMode=true;ap._.tabs[ap._.currentTabId][0].focus();}else if(!aF._.hasFocus){aF._.currentFocusIndex=-1;if(af.onFocus){var aB=af.onFocus.call(aF);aB&&aB.focus();}else as(true);if(aF._.editor.mode=='wysiwyg'&&q){var aC=ad.document.$.selection,aD=aC.createRange();if(aD)if(aD.parentElement&&aD.parentElement().ownerDocument==ad.document.$||aD.item&&aD.item(0).ownerDocument==ad.document.$){var aE=document.body.createTextRange();aE.moveToElementText(aF.getElement().getFirst().$);aE.collapse(true);aE.select();}}}},this,null,4294967295);if(p.ie6Compat)this.on('load',function(aB){var aC=this.getElement(),aD=aC.getFirst();aD.remove();aD.appendTo(aC);},this);M(this);N(this);new r.text(af.title,o.document).appendTo(this.parts.title);for(var ax=0;ax<af.contents.length;ax++){var ay=af.contents[ax];ay&&this.addPage(ay);}this.parts.tabs.on('click',function(aB){var aE=this;var aC=aB.data.getTarget();if(aC.hasClass('cke_dialog_tab')){var aD=aC.$.id;aE.selectPage(aD.substring(4,aD.lastIndexOf('_')));if(aE._.tabBarMode){aE._.tabBarMode=false;aE._.currentFocusIndex=-1;as(true);}aB.data.preventDefault();}},this);var az=[],aA=o.dialog._.uiElementBuilders.hbox.build(this,{type:'hbox',className:'cke_dialog_footer_buttons',widths:[],children:af.buttons},az).getChild();this.parts.footer.setHtml(az.join(''));for(ax=0;ax<aA.length;ax++)this._.buttons[aA[ax].id]=aA[ax];};function F(ad,ae,af){this.element=ae;this.focusIndex=af;this.tabIndex=0;this.isFocusable=function(){return!ae.getAttribute('disabled')&&ae.isVisible();
};this.focus=function(){ad._.currentFocusIndex=this.focusIndex;this.element.focus();};ae.on('keydown',function(ag){if(ag.data.getKeystroke() in {32:1,13:1})this.fire('click');});ae.on('focus',function(){this.fire('mouseover');});ae.on('blur',function(){this.fire('mouseout');});};o.dialog.prototype={destroy:function(){this.hide();this._.element.remove();},resize:(function(){return function(ad,ae){var af=this;if(af._.contentSize&&af._.contentSize.width==ad&&af._.contentSize.height==ae)return;o.dialog.fire('resize',{dialog:af,skin:af._.editor.skinName,width:ad,height:ae},af._.editor);af._.contentSize={width:ad,height:ae};};})(),getSize:function(){var ad=this._.element.getFirst();return{width:ad.$.offsetWidth||0,height:ad.$.offsetHeight||0};},move:(function(){var ad;return function(ae,af,ag){var aj=this;var ah=aj._.element.getFirst();if(ad===undefined)ad=ah.getComputedStyle('position')=='fixed';if(ad&&aj._.position&&aj._.position.x==ae&&aj._.position.y==af)return;aj._.position={x:ae,y:af};if(!ad){var ai=o.document.getWindow().getScrollPosition();ae+=ai.x;af+=ai.y;}ah.setStyles({left:(ae>0?ae:0)+'px',top:(af>0?af:0)+'px'});ag&&(aj._.moved=1);};})(),getPosition:function(){return s.extend({},this._.position);},show:function(){var ad=this._.element,ae=this.definition;if(!(ad.getParent()&&ad.getParent().equals(o.document.getBody())))ad.appendTo(o.document.getBody());else ad.setStyle('display','block');if(p.gecko&&p.version<10900){var af=this.parts.dialog;af.setStyle('position','absolute');setTimeout(function(){af.setStyle('position','fixed');},0);}this.resize(this._.contentSize&&this._.contentSize.width||ae.minWidth,this._.contentSize&&this._.contentSize.height||ae.minHeight);this.reset();this.selectPage(this.definition.contents[0].id);if(o.dialog._.currentZIndex===null)o.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex;this._.element.getFirst().setStyle('z-index',o.dialog._.currentZIndex+=10);if(o.dialog._.currentTop===null){o.dialog._.currentTop=this;this._.parentDialog=null;R(this._.editor);ad.on('keydown',V);ad.on(p.opera?'keypress':'keyup',W);for(var ag in {keyup:1,keydown:1,keypress:1})ad.on(ag,ac);}else{this._.parentDialog=o.dialog._.currentTop;var ah=this._.parentDialog.getElement().getFirst();ah.$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2);o.dialog._.currentTop=this;}X(this,this,'\x1b',null,function(){this.getButton('cancel')&&this.getButton('cancel').click();});this._.hasFocus=false;s.setTimeout(function(){this.layout();this.parts.dialog.setStyle('visibility','');
this.fireOnce('load',{});y.fire('ready',this);this.fire('show',{});this._.editor.fire('dialogShow',this);this.foreach(function(ai){ai.setInitValue&&ai.setInitValue();});},100,this);},layout:function(){var af=this;var ad=o.document.getWindow().getViewPaneSize(),ae=af.getSize();af.move(af._.moved?af._.position.x:(ad.width-ae.width)/2,af._.moved?af._.position.y:(ad.height-ae.height)/2);},foreach:function(ad){var ag=this;for(var ae in ag._.contents)for(var af in ag._.contents[ae])ad(ag._.contents[ae][af]);return ag;},reset:(function(){var ad=function(ae){if(ae.reset)ae.reset(1);};return function(){this.foreach(ad);return this;};})(),setupContent:function(){var ad=arguments;this.foreach(function(ae){if(ae.setup)ae.setup.apply(ae,ad);});},commitContent:function(){var ad=arguments;this.foreach(function(ae){if(ae.commit)ae.commit.apply(ae,ad);});},hide:function(){if(!this.parts.dialog.isVisible())return;this.fire('hide',{});this._.editor.fire('dialogHide',this);var ad=this._.element;ad.setStyle('display','none');this.parts.dialog.setStyle('visibility','hidden');Y(this);while(o.dialog._.currentTop!=this)o.dialog._.currentTop.hide();if(!this._.parentDialog)S();else{var ae=this._.parentDialog.getElement().getFirst();ae.setStyle('z-index',parseInt(ae.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2));}o.dialog._.currentTop=this._.parentDialog;if(!this._.parentDialog){o.dialog._.currentZIndex=null;ad.removeListener('keydown',V);ad.removeListener(p.opera?'keypress':'keyup',W);for(var af in {keyup:1,keydown:1,keypress:1})ad.removeListener(af,ac);var ag=this._.editor;ag.focus();if(ag.mode=='wysiwyg'&&q){var ah=ag.getSelection();ah&&ah.unlock(true);}}else o.dialog._.currentZIndex-=10;delete this._.parentDialog;this.foreach(function(ai){ai.resetInitValue&&ai.resetInitValue();});},addPage:function(ad){var ap=this;var ae=[],af=ad.label?' title="'+s.htmlEncode(ad.label)+'"':'',ag=ad.elements,ah=o.dialog._.uiElementBuilders.vbox.build(ap,{type:'vbox',className:'cke_dialog_page_contents',children:ad.elements,expand:!!ad.expand,padding:ad.padding,style:ad.style||'width: 100%;'},ae),ai=v.createFromHtml(ae.join(''));ai.setAttribute('role','tabpanel');var aj=p,ak='cke_'+ad.id+'_'+s.getNextNumber(),al=v.createFromHtml(['<a class="cke_dialog_tab"',ap._.pageCount>0?' cke_last':'cke_first',af,!!ad.hidden?' style="display:none"':'',' id="',ak,'"',aj.gecko&&aj.version>=10900&&!aj.hc?'':' href="javascript:void(0)"',' tabIndex="-1"',' hidefocus="true"',' role="tab">',ad.label,'</a>'].join(''));
ai.setAttribute('aria-labelledby',ak);ap._.tabs[ad.id]=[al,ai];ap._.tabIdList.push(ad.id);!ad.hidden&&ap._.pageCount++;ap._.lastTab=al;ap.updateStyle();var am=ap._.contents[ad.id]={},an,ao=ah.getChild();while(an=ao.shift()){am[an.id]=an;if(typeof an.getChild=='function')ao.push.apply(ao,an.getChild());}ai.setAttribute('name',ad.id);ai.appendTo(ap.parts.contents);al.unselectable();ap.parts.tabs.append(al);if(ad.accessKey){X(ap,ap,'CTRL+'+ad.accessKey,aa,Z);ap._.accessKeyMap['CTRL+'+ad.accessKey]=ad.id;}},selectPage:function(ad){if(this._.currentTabId==ad)return;if(this.fire('selectPage',{page:ad,currentPage:this._.currentTabId})===true)return;for(var ae in this._.tabs){var af=this._.tabs[ae][0],ag=this._.tabs[ae][1];if(ae!=ad){af.removeClass('cke_dialog_tab_selected');ag.hide();}ag.setAttribute('aria-hidden',ae!=ad);}var ah=this._.tabs[ad];ah[0].addClass('cke_dialog_tab_selected');if(p.ie6Compat||p.ie7Compat){E(ah[1]);ah[1].show();setTimeout(function(){E(ah[1],1);},0);}else ah[1].show();this._.currentTabId=ad;this._.currentTabIndex=s.indexOf(this._.tabIdList,ad);},updateStyle:function(){this.parts.dialog[(this._.pageCount===1?'add':'remove')+'Class']('cke_single_page');},hidePage:function(ad){var af=this;var ae=af._.tabs[ad]&&af._.tabs[ad][0];if(!ae||af._.pageCount==1||!ae.isVisible())return;else if(ad==af._.currentTabId)af.selectPage(C.call(af));ae.hide();af._.pageCount--;af.updateStyle();},showPage:function(ad){var af=this;var ae=af._.tabs[ad]&&af._.tabs[ad][0];if(!ae)return;ae.show();af._.pageCount++;af.updateStyle();},getElement:function(){return this._.element;},getName:function(){return this._.name;},getContentElement:function(ad,ae){var af=this._.contents[ad];return af&&af[ae];},getValueOf:function(ad,ae){return this.getContentElement(ad,ae).getValue();},setValueOf:function(ad,ae,af){return this.getContentElement(ad,ae).setValue(af);},getButton:function(ad){return this._.buttons[ad];},click:function(ad){return this._.buttons[ad].click();},disableButton:function(ad){return this._.buttons[ad].disable();},enableButton:function(ad){return this._.buttons[ad].enable();},getPageCount:function(){return this._.pageCount;},getParentEditor:function(){return this._.editor;},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement();},addFocusable:function(ad,ae){var ag=this;if(typeof ae=='undefined'){ae=ag._.focusList.length;ag._.focusList.push(new F(ag,ad,ae));}else{ag._.focusList.splice(ae,0,new F(ag,ad,ae));for(var af=ae+1;
af<ag._.focusList.length;af++)ag._.focusList[af].focusIndex++;}}};s.extend(o.dialog,{add:function(ad,ae){if(!this._.dialogDefinitions[ad]||typeof ae=='function')this._.dialogDefinitions[ad]=ae;},exists:function(ad){return!!this._.dialogDefinitions[ad];},getCurrent:function(){return o.dialog._.currentTop;},okButton:(function(){var ad=function(ae,af){af=af||{};return s.extend({id:'ok',type:'button',label:ae.lang.common.ok,'class':'cke_dialog_ui_button_ok',onClick:function(ag){var ah=ag.data.dialog;if(ah.fire('ok',{hide:true}).hide!==false)ah.hide();}},af,true);};ad.type='button';ad.override=function(ae){return s.extend(function(af){return ad(af,ae);},{type:'button'},true);};return ad;})(),cancelButton:(function(){var ad=function(ae,af){af=af||{};return s.extend({id:'cancel',type:'button',label:ae.lang.common.cancel,'class':'cke_dialog_ui_button_cancel',onClick:function(ag){var ah=ag.data.dialog;if(ah.fire('cancel',{hide:true}).hide!==false)ah.hide();}},af,true);};ad.type='button';ad.override=function(ae){return s.extend(function(af){return ad(af,ae);},{type:'button'},true);};return ad;})(),addUIElement:function(ad,ae){this._.uiElementBuilders[ad]=ae;}});o.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null};o.event.implementOn(o.dialog);o.event.implementOn(o.dialog.prototype,true);var G={resizable:3,minWidth:600,minHeight:400,buttons:[o.dialog.okButton,o.dialog.cancelButton]},H=function(ad,ae,af){for(var ag=0,ah;ah=ad[ag];ag++){if(ah.id==ae)return ah;if(af&&ah[af]){var ai=H(ah[af],ae,af);if(ai)return ai;}}return null;},I=function(ad,ae,af,ag,ah){if(af){for(var ai=0,aj;aj=ad[ai];ai++){if(aj.id==af){ad.splice(ai,0,ae);return ae;}if(ag&&aj[ag]){var ak=I(aj[ag],ae,af,ag,true);if(ak)return ak;}}if(ah)return null;}ad.push(ae);return ae;},J=function(ad,ae,af){for(var ag=0,ah;ah=ad[ag];ag++){if(ah.id==ae)return ad.splice(ag,1);if(af&&ah[af]){var ai=J(ah[af],ae,af);if(ai)return ai;}}return null;},K=function(ad,ae){this.dialog=ad;var af=ae.contents;for(var ag=0,ah;ah=af[ag];ag++)af[ag]=ah&&new L(ad,ah);s.extend(this,ae);};K.prototype={getContents:function(ad){return H(this.contents,ad);},getButton:function(ad){return H(this.buttons,ad);},addContents:function(ad,ae){return I(this.contents,ad,ae);},addButton:function(ad,ae){return I(this.buttons,ad,ae);},removeContents:function(ad){J(this.contents,ad);},removeButton:function(ad){J(this.buttons,ad);}};function L(ad,ae){this._={dialog:ad};s.extend(this,ae);};L.prototype={get:function(ad){return H(this.elements,ad,'children');
},add:function(ad,ae){return I(this.elements,ad,ae,'children');},remove:function(ad){J(this.elements,ad,'children');}};function M(ad){var ae=null,af=null,ag=ad.getElement().getFirst(),ah=ad.getParentEditor(),ai=ah.config.dialog_magnetDistance,aj=ah.skin.margins||[0,0,0,0];if(typeof ai=='undefined')ai=20;function ak(am){var an=ad.getSize(),ao=o.document.getWindow().getViewPaneSize(),ap=am.data.$.screenX,aq=am.data.$.screenY,ar=ap-ae.x,as=aq-ae.y,at,au;ae={x:ap,y:aq};af.x+=ar;af.y+=as;if(af.x+aj[3]<ai)at=-aj[3];else if(af.x-aj[1]>ao.width-an.width-ai)at=ao.width-an.width+(ah.lang.dir=='rtl'?0:aj[1]);else at=af.x;if(af.y+aj[0]<ai)au=-aj[0];else if(af.y-aj[2]>ao.height-an.height-ai)au=ao.height-an.height+aj[2];else au=af.y;ad.move(at,au,1);am.data.preventDefault();};function al(am){o.document.removeListener('mousemove',ak);o.document.removeListener('mouseup',al);if(p.ie6Compat){var an=Q.getChild(0).getFrameDocument();an.removeListener('mousemove',ak);an.removeListener('mouseup',al);}};ad.parts.title.on('mousedown',function(am){ae={x:am.data.$.screenX,y:am.data.$.screenY};o.document.on('mousemove',ak);o.document.on('mouseup',al);af=ad.getPosition();if(p.ie6Compat){var an=Q.getChild(0).getFrameDocument();an.on('mousemove',ak);an.on('mouseup',al);}am.data.preventDefault();},ad);};function N(ad){var ae=ad.definition,af=ae.resizable;if(af==0)return;var ag=ad.getParentEditor(),ah,ai,aj,ak,al,am;function an(ar){if(ad._.moved&&ag.lang.dir=='rtl'){var as=ad._.element.getFirst();as.setStyle('right',ar+'px');as.removeStyle('left');}else if(!ad._.moved)ad.layout();};var ao=s.addFunction(function(ar){al=ad.getSize();var as=ad.parts.contents,at=as.$.getElementsByTagName('iframe').length;if(at){am=v.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>');as.append(am);}ai=al.height-ad.parts.contents.getSize('height',!(p.gecko||p.opera||q&&p.quirks));ah=al.width-ad.parts.contents.getSize('width',1);ak={x:ar.screenX,y:ar.screenY};aj=o.document.getWindow().getViewPaneSize();o.document.on('mousemove',ap);o.document.on('mouseup',aq);if(p.ie6Compat){var au=Q.getChild(0).getFrameDocument();au.on('mousemove',ap);au.on('mouseup',aq);}ar.preventDefault&&ar.preventDefault();});ad.on('load',function(){var ar='';if(af==1)ar=' cke_resizer_horizontal';else if(af==2)ar=' cke_resizer_vertical';var as=v.createFromHtml('<div class="cke_resizer'+ar+'"'+' title="'+s.htmlEncode(ag.lang.resize)+'"'+' onmousedown="CKEDITOR.tools.callFunction('+ao+', event )"></div>');
ad.parts.footer.append(as,1);});ag.on('destroy',function(){s.removeFunction(ao);});function ap(ar){var as=ag.lang.dir=='rtl',at=(ar.data.$.screenX-ak.x)*(as?-1:1),au=ar.data.$.screenY-ak.y,av=al.width,aw=al.height,ax=av+at*(ad._.moved?1:2),ay=aw+au*(ad._.moved?1:2),az=ad._.element.getFirst(),aA=as&&az.getComputedStyle('right'),aB=ad.getPosition();if(aA)aA=aA=='auto'?aj.width-(aB.x||0)-az.getSize('width'):parseInt(aA,10);if(aB.y+ay>aj.height)ay=aj.height-aB.y;if((as?aA:aB.x)+ax>aj.width)ax=aj.width-(as?aA:aB.x);if((af==1||af==3)&&!(as&&at>0&&!aB.x))av=Math.max(ae.minWidth||0,ax-ah);if(af==2||af==3)aw=Math.max(ae.minHeight||0,ay-ai);ad.resize(av,aw);an(aA);ar.data.preventDefault();};function aq(){o.document.removeListener('mouseup',aq);o.document.removeListener('mousemove',ap);if(am){am.remove();am=null;}if(p.ie6Compat){var ar=Q.getChild(0).getFrameDocument();ar.removeListener('mouseup',aq);ar.removeListener('mousemove',ap);}if(ag.lang.dir=='rtl'){var as=ad._.element.getFirst(),at=as.getComputedStyle('left');if(at=='auto')at=aj.width-parseInt(as.getStyle('right'),10)-ad.getSize().width;else at=parseInt(at,10);as.removeStyle('right');ad._.position.x+=1;ad.move(at,ad._.position.y);}};};var O,P={},Q;function R(ad){var ae=o.document.getWindow(),af=ad.config,ag=af.dialog_backgroundCoverColor||'white',ah=af.dialog_backgroundCoverOpacity,ai=af.baseFloatZIndex,aj=s.genKey(ag,ah,ai),ak=P[aj];if(!ak){var al=['<div tabIndex="-1" style="position: ',p.ie6Compat?'absolute':'fixed','; z-index: ',ai,'; top: 0px; left: 0px; ',!p.ie6Compat?'background-color: '+ag:'','" class="cke_dialog_background_cover">'];if(p.ie6Compat){var am=p.isCustomDomain(),an="<html><body style=\\'background-color:"+ag+";\\'></body></html>";al.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:');al.push('void((function(){document.open();'+(am?"document.domain='"+document.domain+"';":'')+"document.write( '"+an+"' );"+'document.close();'+'})())');al.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>');}al.push('</div>');ak=v.createFromHtml(al.join(''));ak.setOpacity(ah!=undefined?ah:0.5);ak.appendTo(o.document.getBody());P[aj]=ak;}else ak.show();Q=ak;var ao=function(){var ar=ae.getViewPaneSize();ak.setStyles({width:ar.width+'px',height:ar.height+'px'});},ap=function(){var ar=ae.getScrollPosition(),as=o.dialog._.currentTop;ak.setStyles({left:ar.x+'px',top:ar.y+'px'});if(as)do{var at=as.getPosition();
as.move(at.x,at.y);}while(as=as._.parentDialog)};O=ao;ae.on('resize',ao);ao();if(!(p.mac&&p.webkit))ak.focus();if(p.ie6Compat){var aq=function(){ap();arguments.callee.prevScrollHandler.apply(this,arguments);};ae.$.setTimeout(function(){aq.prevScrollHandler=window.onscroll||(function(){});window.onscroll=aq;},0);ap();}};function S(){if(!Q)return;var ad=o.document.getWindow();Q.hide();ad.removeListener('resize',O);if(p.ie6Compat)ad.$.setTimeout(function(){var ae=window.onscroll&&window.onscroll.prevScrollHandler;window.onscroll=ae||null;},0);O=null;};function T(){for(var ad in P)P[ad].remove();P={};};var U={},V=function(ad){var ae=ad.data.$.ctrlKey||ad.data.$.metaKey,af=ad.data.$.altKey,ag=ad.data.$.shiftKey,ah=String.fromCharCode(ad.data.$.keyCode),ai=U[(ae?'CTRL+':'')+(af?'ALT+':'')+(ag?'SHIFT+':'')+ah];if(!ai||!ai.length)return;ai=ai[ai.length-1];ai.keydown&&ai.keydown.call(ai.uiElement,ai.dialog,ai.key);ad.data.preventDefault();},W=function(ad){var ae=ad.data.$.ctrlKey||ad.data.$.metaKey,af=ad.data.$.altKey,ag=ad.data.$.shiftKey,ah=String.fromCharCode(ad.data.$.keyCode),ai=U[(ae?'CTRL+':'')+(af?'ALT+':'')+(ag?'SHIFT+':'')+ah];if(!ai||!ai.length)return;ai=ai[ai.length-1];if(ai.keyup){ai.keyup.call(ai.uiElement,ai.dialog,ai.key);ad.data.preventDefault();}},X=function(ad,ae,af,ag,ah){var ai=U[af]||(U[af]=[]);ai.push({uiElement:ad,dialog:ae,key:af,keyup:ah||ad.accessKeyUp,keydown:ag||ad.accessKeyDown});},Y=function(ad){for(var ae in U){var af=U[ae];for(var ag=af.length-1;ag>=0;ag--){if(af[ag].dialog==ad||af[ag].uiElement==ad)af.splice(ag,1);}if(af.length===0)delete U[ae];}},Z=function(ad,ae){if(ad._.accessKeyMap[ae])ad.selectPage(ad._.accessKeyMap[ae]);},aa=function(ad,ae){},ab={27:1,13:1},ac=function(ad){if(ad.data.getKeystroke() in ab)ad.data.stopPropagation();};(function(){y.dialog={uiElement:function(ad,ae,af,ag,ah,ai,aj){if(arguments.length<4)return;var ak=(ag.call?ag(ae):ag)||'div',al=['<',ak,' '],am=(ah&&ah.call?ah(ae):ah)||{},an=(ai&&ai.call?ai(ae):ai)||{},ao=(aj&&aj.call?aj.call(this,ad,ae):aj)||'',ap=this.domId=an.id||s.getNextId()+'_uiElement',aq=this.id=ae.id,ar;an.id=ap;var as={};if(ae.type)as['cke_dialog_ui_'+ae.type]=1;if(ae.className)as[ae.className]=1;var at=an['class']&&an['class'].split?an['class'].split(' '):[];for(ar=0;ar<at.length;ar++){if(at[ar])as[at[ar]]=1;}var au=[];for(ar in as)au.push(ar);an['class']=au.join(' ');if(ae.title)an.title=ae.title;var av=(ae.style||'').split(';');for(ar in am)av.push(ar+':'+am[ar]);if(ae.hidden)av.push('display:none');
for(ar=av.length-1;ar>=0;ar--){if(av[ar]==='')av.splice(ar,1);}if(av.length>0)an.style=(an.style?an.style+'; ':'')+av.join('; ');for(ar in an)al.push(ar+'="'+s.htmlEncode(an[ar])+'" ');al.push('>',ao,'</',ak,'>');af.push(al.join(''));(this._||(this._={})).dialog=ad;if(typeof ae.isChanged=='boolean')this.isChanged=function(){return ae.isChanged;};if(typeof ae.isChanged=='function')this.isChanged=ae.isChanged;o.event.implementOn(this);this.registerEvents(ae);if(this.accessKeyUp&&this.accessKeyDown&&ae.accessKey)X(this,ad,'CTRL+'+ae.accessKey);var aw=this;ad.on('load',function(){if(aw.getInputElement())aw.getInputElement().on('focus',function(){ad._.tabBarMode=false;ad._.hasFocus=true;aw.fire('focus');},aw);});if(this.keyboardFocusable){this.tabIndex=ae.tabIndex||0;this.focusIndex=ad._.focusList.push(this)-1;this.on('focus',function(){ad._.currentFocusIndex=aw.focusIndex;});}s.extend(this,ae);},hbox:function(ad,ae,af,ag,ah){if(arguments.length<4)return;this._||(this._={});var ai=this._.children=ae,aj=ah&&ah.widths||null,ak=ah&&ah.height||null,al={},am,an=function(){var ap=['<tbody><tr class="cke_dialog_ui_hbox">'];for(am=0;am<af.length;am++){var aq='cke_dialog_ui_hbox_child',ar=[];if(am===0)aq='cke_dialog_ui_hbox_first';if(am==af.length-1)aq='cke_dialog_ui_hbox_last';ap.push('<td class="',aq,'" role="presentation" ');if(aj){if(aj[am])ar.push('width:'+A(aj[am]));}else ar.push('width:'+Math.floor(100/af.length)+'%');if(ak)ar.push('height:'+A(ak));if(ah&&ah.padding!=undefined)ar.push('padding:'+A(ah.padding));if(ar.length>0)ap.push('style="'+ar.join('; ')+'" ');ap.push('>',af[am],'</td>');}ap.push('</tr></tbody>');return ap.join('');},ao={role:'presentation'};ah&&ah.align&&(ao.align=ah.align);y.dialog.uiElement.call(this,ad,ah||{type:'hbox'},ag,'table',al,ao,an);},vbox:function(ad,ae,af,ag,ah){if(arguments.length<3)return;this._||(this._={});var ai=this._.children=ae,aj=ah&&ah.width||null,ak=ah&&ah.heights||null,al=function(){var am=['<table role="presentation" cellspacing="0" border="0" '];am.push('style="');if(ah&&ah.expand)am.push('height:100%;');am.push('width:'+A(aj||'100%'),';');am.push('"');am.push('align="',s.htmlEncode(ah&&ah.align||(ad.getParentEditor().lang.dir=='ltr'?'left':'right')),'" ');am.push('><tbody>');for(var an=0;an<af.length;an++){var ao=[];am.push('<tr><td role="presentation" ');if(aj)ao.push('width:'+A(aj||'100%'));if(ak)ao.push('height:'+A(ak[an]));else if(ah&&ah.expand)ao.push('height:'+Math.floor(100/af.length)+'%');if(ah&&ah.padding!=undefined)ao.push('padding:'+A(ah.padding));
if(ao.length>0)am.push('style="',ao.join('; '),'" ');am.push(' class="cke_dialog_ui_vbox_child">',af[an],'</td></tr>');}am.push('</tbody></table>');return am.join('');};y.dialog.uiElement.call(this,ad,ah||{type:'vbox'},ag,'div',null,{role:'presentation'},al);}};})();y.dialog.uiElement.prototype={getElement:function(){return o.document.getById(this.domId);},getInputElement:function(){return this.getElement();},getDialog:function(){return this._.dialog;},setValue:function(ad,ae){this.getInputElement().setValue(ad);!ae&&this.fire('change',{value:ad});return this;},getValue:function(){return this.getInputElement().getValue();},isChanged:function(){return false;},selectParentTab:function(){var ag=this;var ad=ag.getInputElement(),ae=ad,af;while((ae=ae.getParent())&&ae.$.className.search('cke_dialog_page_contents')==-1){}if(!ae)return ag;af=ae.getAttribute('name');if(ag._.dialog._.currentTabId!=af)ag._.dialog.selectPage(af);return ag;},focus:function(){this.selectParentTab().getInputElement().focus();return this;},registerEvents:function(ad){var ae=/^on([A-Z]\w+)/,af,ag=function(ai,aj,ak,al){aj.on('load',function(){ai.getInputElement().on(ak,al,ai);});};for(var ah in ad){if(!(af=ah.match(ae)))continue;if(this.eventProcessors[ah])this.eventProcessors[ah].call(this,this._.dialog,ad[ah]);else ag(this,this._.dialog,af[1].toLowerCase(),ad[ah]);}return this;},eventProcessors:{onLoad:function(ad,ae){ad.on('load',ae,this);},onShow:function(ad,ae){ad.on('show',ae,this);},onHide:function(ad,ae){ad.on('hide',ae,this);}},accessKeyDown:function(ad,ae){this.focus();},accessKeyUp:function(ad,ae){},disable:function(){var ad=this.getInputElement();ad.setAttribute('disabled','true');ad.addClass('cke_disabled');},enable:function(){var ad=this.getInputElement();ad.removeAttribute('disabled');ad.removeClass('cke_disabled');},isEnabled:function(){return!this.getInputElement().getAttribute('disabled');},isVisible:function(){return this.getInputElement().isVisible();},isFocusable:function(){if(!this.isEnabled()||!this.isVisible())return false;return true;}};y.dialog.hbox.prototype=s.extend(new y.dialog.uiElement(),{getChild:function(ad){var ae=this;if(arguments.length<1)return ae._.children.concat();if(!ad.splice)ad=[ad];if(ad.length<2)return ae._.children[ad[0]];else return ae._.children[ad[0]]&&ae._.children[ad[0]].getChild?ae._.children[ad[0]].getChild(ad.slice(1,ad.length)):null;}},true);y.dialog.vbox.prototype=new y.dialog.hbox();(function(){var ad={build:function(ae,af,ag){var ah=af.children,ai,aj=[],ak=[];
for(var al=0;al<ah.length&&(ai=ah[al]);al++){var am=[];aj.push(am);ak.push(o.dialog._.uiElementBuilders[ai.type].build(ae,ai,am));}return new y.dialog[af.type](ae,ak,aj,ag,af);}};o.dialog.addUIElement('hbox',ad);o.dialog.addUIElement('vbox',ad);})();o.dialogCommand=function(ad){this.dialogName=ad;};o.dialogCommand.prototype={exec:function(ad){ad.openDialog(this.dialogName);},canUndo:false,editorFocus:q||p.webkit};(function(){var ad=/^([a]|[^a])+$/,ae=/^\d*$/,af=/^\d*(?:\.\d+)?$/;o.VALIDATE_OR=1;o.VALIDATE_AND=2;o.dialog.validate={functions:function(){return function(){var am=this;var ag=am&&am.getValue?am.getValue():arguments[0],ah=undefined,ai=2,aj=[],ak;for(ak=0;ak<arguments.length;ak++){if(typeof arguments[ak]=='function')aj.push(arguments[ak]);else break;}if(ak<arguments.length&&typeof arguments[ak]=='string'){ah=arguments[ak];ak++;}if(ak<arguments.length&&typeof arguments[ak]=='number')ai=arguments[ak];var al=ai==2?true:false;for(ak=0;ak<aj.length;ak++){if(ai==2)al=al&&aj[ak](ag);else al=al||aj[ak](ag);}if(!al){if(ah!==undefined)alert(ah);if(am&&(am.select||am.focus))am.select||am.focus();return false;}return true;};},regex:function(ag,ah){return function(){var aj=this;var ai=aj&&aj.getValue?aj.getValue():arguments[0];if(!ag.test(ai)){if(ah!==undefined)alert(ah);if(aj&&(aj.select||aj.focus))if(aj.select)aj.select();else aj.focus();return false;}return true;};},notEmpty:function(ag){return this.regex(ad,ag);},integer:function(ag){return this.regex(ae,ag);},number:function(ag){return this.regex(af,ag);},equals:function(ag,ah){return this.functions(function(ai){return ai==ag;},ah);},notEqual:function(ag,ah){return this.functions(function(ai){return ai!=ag;},ah);}};o.on('instanceDestroyed',function(ag){if(s.isEmpty(o.instances)){var ah;while(ah=o.dialog._.currentTop)ah.hide();T();}var ai=ag.editor._.storedDialogs;for(var aj in ai)ai[aj].destroy();});})();s.extend(o.editor.prototype,{openDialog:function(ad,ae){if(this.mode=='wysiwyg'&&q){var af=this.getSelection();af&&af.lock();}var ag=o.dialog._.dialogDefinitions[ad],ah=this.skin.dialog;if(o.dialog._.currentTop===null)R(this);if(typeof ag=='function'&&ah._isLoaded){var ai=this._.storedDialogs||(this._.storedDialogs={}),aj=ai[ad]||(ai[ad]=new o.dialog(this,ad));ae&&ae.call(aj,aj);aj.show();return aj;}else if(ag=='failed')throw new Error('[CKEDITOR.dialog.openDialog] Dialog "'+ad+'" failed when loading definition.');var ak=this;function al(an){var ao=o.dialog._.dialogDefinitions[ad],ap=ak.skin.dialog;if(!ap._isLoaded||am&&typeof an=='undefined')return;
if(typeof ao!='function')o.dialog._.dialogDefinitions[ad]='failed';ak.openDialog(ad,ae);};if(typeof ag=='string'){var am=1;o.scriptLoader.load(o.getUrl(ag),al,null,0,1);}o.skins.load(this,'dialog',al);return null;}});})();x.add('dialog',{requires:['dialogui']});x.add('styles',{requires:['selection'],init:function(A){A.on('contentDom',function(){A.document.setCustomData('cke_includeReadonly',!A.config.disableReadonlyStyling);});}});o.editor.prototype.attachStyleStateChange=function(A,B){var C=this._.styleStateChangeCallbacks;if(!C){C=this._.styleStateChangeCallbacks=[];this.on('selectionChange',function(D){for(var E=0;E<C.length;E++){var F=C[E],G=F.style.checkActive(D.data.path)?1:2;if(F.state!==G){F.fn.call(this,G);F.state=G;}}});}C.push({style:A,fn:B});};o.STYLE_BLOCK=1;o.STYLE_INLINE=2;o.STYLE_OBJECT=3;(function(){var A={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1},B={a:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1},C=/\s*(?:;\s*|$)/,D=r.walker.bookmark(0,1);o.style=function(ah,ai){if(ai){ah=s.clone(ah);Z(ah.attributes,ai);Z(ah.styles,ai);}var aj=this.element=(ah.element||'*').toLowerCase();this.type=aj=='#'||A[aj]?1:B[aj]?3:2;this._={definition:ah};};o.style.prototype={apply:function(ah){ag.call(this,ah,false);},remove:function(ah){ag.call(this,ah,true);},applyToRange:function(ah){var ai=this;return(ai.applyToRange=ai.type==2?F:ai.type==1?J:ai.type==3?H:null).call(ai,ah);},removeFromRange:function(ah){var ai=this;return(ai.removeFromRange=ai.type==2?G:ai.type==1?K:ai.type==3?I:null).call(ai,ah);},applyToObject:function(ah){X(ah,this);},checkActive:function(ah){var al=this;switch(al.type){case 1:return al.checkElementRemovable(ah.block||ah.blockLimit,true);case 3:case 2:var ai=ah.elements;for(var aj=0,ak;aj<ai.length;aj++){ak=ai[aj];if(al.type==2&&(ak==ah.block||ak==ah.blockLimit))continue;if(al.type==3&&!(ak.getName() in B))continue;if(al.checkElementRemovable(ak,true))return true;}}return false;},checkApplicable:function(ah){switch(this.type){case 2:case 1:break;case 3:return ah.lastElement.getAscendant(this.element,true);}return true;},checkElementRemovable:function(ah,ai){if(!ah)return false;var aj=this._.definition,ak;if(ah.getName()==this.element){if(!ai&&!ah.hasAttributes())return true;ak=aa(aj);if(ak._length){for(var al in ak){if(al=='_length')continue;var am=ah.getAttribute(al)||'';if(al=='style'?af(ak[al],ad(am,false)):ak[al]==am){if(!ai)return true;}else if(ai)return false;}if(ai)return true;
}else return true;}var an=ab(this)[ah.getName()];if(an){if(!(ak=an.attributes))return true;for(var ao=0;ao<ak.length;ao++){al=ak[ao][0];var ap=ah.getAttribute(al);if(ap){var aq=ak[ao][1];if(aq===null||typeof aq=='string'&&ap==aq||aq.test(ap))return true;}}}return false;},buildPreview:function(){var ah=this._.definition,ai=[],aj=ah.element;if(aj=='bdo')aj='span';ai=['<',aj];var ak=ah.attributes;if(ak)for(var al in ak)ai.push(' ',al,'="',ak[al],'"');var am=o.style.getStyleText(ah);if(am)ai.push(' style="',am,'"');ai.push('>',ah.name,'</',aj,'>');return ai.join('');}};o.style.getStyleText=function(ah){var ai=ah._ST;if(ai)return ai;ai=ah.styles;var aj=ah.attributes&&ah.attributes.style||'',ak='';if(aj.length)aj=aj.replace(C,';');for(var al in ai){var am=ai[al],an=(al+':'+am).replace(C,';');if(am=='inherit')ak+=an;else aj+=an;}if(aj.length)aj=ad(aj);aj+=ak;return ah._ST=aj;};function E(ah){var ai,aj;while(ah=ah.getParent()){if(ah.getName()=='body')break;if(ah.getAttribute('data-nostyle'))ai=ah;else if(!aj){var ak=ah.getAttribute('contentEditable');if(ak=='false')ai=ah;else if(ak=='true')aj=1;}}return ai;};function F(ah){var aL=this;var ai=ah.document;if(ah.collapsed){var aj=W(aL,ai);ah.insertNode(aj);ah.moveToPosition(aj,2);return;}var ak=aL.element,al=aL._.definition,am,an=al.includeReadonly;if(an==undefined)an=ai.getCustomData('cke_includeReadonly');var ao=t[ak]||(am=true,t.span);ah.enlarge(1,1);ah.trim();var ap=ah.createBookmark(),aq=ap.startNode,ar=ap.endNode,as=aq,at,au=E(aq),av=E(ar);if(au)as=au.getNextSourceNode(true);if(av)ar=av;if(as.getPosition(ar)==2)as=0;while(as){var aw=false;if(as.equals(ar)){as=null;aw=true;}else{var ax=as.type,ay=ax==1?as.getName():null,az=ay&&as.getAttribute('contentEditable')=='false',aA=ay&&as.getAttribute('data-nostyle');if(ay&&as.data('cke-bookmark')){as=as.getNextSourceNode(true);continue;}if(!ay||ao[ay]&&!aA&&(!az||an)&&(as.getPosition(ar)|4|0|8)==4+0+8&&(!al.childRule||al.childRule(as))){var aB=as.getParent();if(aB&&((aB.getDtd()||t.span)[ak]||am)&&(!al.parentRule||al.parentRule(aB))){if(!at&&(!ay||!t.$removeEmpty[ay]||(as.getPosition(ar)|4|0|8)==4+0+8)){at=new r.range(ai);at.setStartBefore(as);}if(ax==3||az||ax==1&&!as.getChildCount()){var aC=as,aD;while((aw=!aC.getNext(D))&&(aD=aC.getParent(),ao[aD.getName()])&&(aD.getPosition(aq)|2|0|8)==2+0+8&&(!al.childRule||al.childRule(aD)))aC=aD;at.setEndAfter(aC);}}else aw=true;}else aw=true;as=as.getNextSourceNode(aA||az);}if(aw&&at&&!at.collapsed){var aE=W(aL,ai),aF=aE.hasAttributes(),aG=at.getCommonAncestor(),aH={styles:{},attrs:{},blockedStyles:{},blockedAttrs:{}},aI,aJ,aK;
while(aE&&aG){if(aG.getName()==ak){for(aI in al.attributes){if(aH.blockedAttrs[aI]||!(aK=aG.getAttribute(aJ)))continue;if(aE.getAttribute(aI)==aK)aH.attrs[aI]=1;else aH.blockedAttrs[aI]=1;}for(aJ in al.styles){if(aH.blockedStyles[aJ]||!(aK=aG.getStyle(aJ)))continue;if(aE.getStyle(aJ)==aK)aH.styles[aJ]=1;else aH.blockedStyles[aJ]=1;}}aG=aG.getParent();}for(aI in aH.attrs)aE.removeAttribute(aI);for(aJ in aH.styles)aE.removeStyle(aJ);if(aF&&!aE.hasAttributes())aE=null;if(aE){at.extractContents().appendTo(aE);T(aL,aE);at.insertNode(aE);aE.mergeSiblings();if(!q)aE.$.normalize();}else{aE=new v('span');at.extractContents().appendTo(aE);at.insertNode(aE);T(aL,aE);aE.remove(true);}at=null;}}ah.moveToBookmark(ap);ah.shrink(2);};function G(ah){ah.enlarge(1,1);var ai=ah.createBookmark(),aj=ai.startNode;if(ah.collapsed){var ak=new r.elementPath(aj.getParent()),al;for(var am=0,an;am<ak.elements.length&&(an=ak.elements[am]);am++){if(an==ak.block||an==ak.blockLimit)break;if(this.checkElementRemovable(an)){var ao;if(ah.collapsed&&(ah.checkBoundaryOfElement(an,2)||(ao=ah.checkBoundaryOfElement(an,1)))){al=an;al.match=ao?'start':'end';}else{an.mergeSiblings();S(this,an);}}}if(al){var ap=aj;for(am=0;true;am++){var aq=ak.elements[am];if(aq.equals(al))break;else if(aq.match)continue;else aq=aq.clone();aq.append(ap);ap=aq;}ap[al.match=='start'?'insertBefore':'insertAfter'](al);}}else{var ar=ai.endNode,as=this;function at(){var aw=new r.elementPath(aj.getParent()),ax=new r.elementPath(ar.getParent()),ay=null,az=null;for(var aA=0;aA<aw.elements.length;aA++){var aB=aw.elements[aA];if(aB==aw.block||aB==aw.blockLimit)break;if(as.checkElementRemovable(aB))ay=aB;}for(aA=0;aA<ax.elements.length;aA++){aB=ax.elements[aA];if(aB==ax.block||aB==ax.blockLimit)break;if(as.checkElementRemovable(aB))az=aB;}if(az)ar.breakParent(az);if(ay)aj.breakParent(ay);};at();var au=aj.getNext();while(!au.equals(ar)){var av=au.getNextSourceNode();if(au.type==1&&this.checkElementRemovable(au)){if(au.getName()==this.element)S(this,au);else U(au,ab(this)[au.getName()]);if(av.type==1&&av.contains(aj)){at();av=aj.getNext();}}au=av;}}ah.moveToBookmark(ai);};function H(ah){var ai=ah.getCommonAncestor(true,true),aj=ai.getAscendant(this.element,true);aj&&X(aj,this);};function I(ah){var ai=ah.getCommonAncestor(true,true),aj=ai.getAscendant(this.element,true);if(!aj)return;var ak=this,al=ak._.definition,am=al.attributes,an=o.style.getStyleText(al);if(am)for(var ao in am)aj.removeAttribute(ao,am[ao]);if(al.styles)for(var ap in al.styles){if(!al.styles.hasOwnProperty(ap))continue;
aj.removeStyle(ap);}};function J(ah){var ai=ah.createBookmark(true),aj=ah.createIterator();aj.enforceRealBlocks=true;if(this._.enterMode)aj.enlargeBr=this._.enterMode!=2;var ak,al=ah.document,am;while(ak=aj.getNextParagraph()){var an=W(this,al,ak);L(ak,an);}ah.moveToBookmark(ai);};function K(ah){var am=this;var ai=ah.createBookmark(1),aj=ah.createIterator();aj.enforceRealBlocks=true;aj.enlargeBr=am._.enterMode!=2;var ak;while(ak=aj.getNextParagraph()){if(am.checkElementRemovable(ak))if(ak.is('pre')){var al=am._.enterMode==2?null:ah.document.createElement(am._.enterMode==1?'p':'div');al&&ak.copyAttributes(al);L(ak,al);}else S(am,ak,1);}ah.moveToBookmark(ai);};function L(ah,ai){var aj=!ai;if(aj){ai=ah.getDocument().createElement('div');ah.copyAttributes(ai);}var ak=ai&&ai.is('pre'),al=ah.is('pre'),am=ak&&!al,an=!ak&&al;if(am)ai=R(ah,ai);else if(an)ai=Q(aj?[ah.getHtml()]:O(ah),ai);else ah.moveChildren(ai);ai.replace(ah);if(ak)N(ai);else if(aj)V(ai);};var M=r.walker.whitespaces(1);function N(ah){var ai;if(!((ai=ah.getPrevious(M))&&ai.is&&ai.is('pre')))return;var aj=P(ai.getHtml(),/\n$/,'')+'\n\n'+P(ah.getHtml(),/^\n/,'');if(q)ah.$.outerHTML='<pre>'+aj+'</pre>';else ah.setHtml(aj);ai.remove();};function O(ah){var ai=/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,aj=ah.getName(),ak=P(ah.getOuterHtml(),ai,function(am,an,ao){return an+'</pre>'+ao+'<pre>';}),al=[];ak.replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(am,an){al.push(an);});return al;};function P(ah,ai,aj){var ak='',al='';ah=ah.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(am,an,ao){an&&(ak=an);ao&&(al=ao);return '';});return ak+ah.replace(ai,aj)+al;};function Q(ah,ai){var aj;if(ah.length>1)aj=new r.documentFragment(ai.getDocument());for(var ak=0;ak<ah.length;ak++){var al=ah[ak];al=al.replace(/(\r\n|\r)/g,'\n');al=P(al,/^[ \t]*\n/,'');al=P(al,/\n$/,'');al=P(al,/^[ \t]+|[ \t]+$/g,function(an,ao,ap){if(an.length==1)return '&nbsp;';else if(!ao)return s.repeat('&nbsp;',an.length-1)+' ';else return ' '+s.repeat('&nbsp;',an.length-1);});al=al.replace(/\n/g,'<br>');al=al.replace(/[ \t]{2,}/g,function(an){return s.repeat('&nbsp;',an.length-1)+' ';});if(aj){var am=ai.clone();am.setHtml(al);aj.append(am);}else ai.setHtml(al);}return aj||ai;};function R(ah,ai){var aj=ah.getBogus();aj&&aj.remove();var ak=ah.getHtml();ak=P(ak,/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,'');ak=ak.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,'$1');ak=ak.replace(/([ \t\n\r]+|&nbsp;)/g,' ');
ak=ak.replace(/<br\b[^>]*>/gi,'\n');if(q){var al=ah.getDocument().createElement('div');al.append(ai);ai.$.outerHTML='<pre>'+ak+'</pre>';ai.copyAttributes(al.getFirst());ai=al.getFirst().remove();}else ai.setHtml(ak);return ai;};function S(ah,ai){var aj=ah._.definition,ak=s.extend({},aj.attributes,ab(ah)[ai.getName()]),al=aj.styles,am=s.isEmpty(ak)&&s.isEmpty(al);for(var an in ak){if((an=='class'||ah._.definition.fullMatch)&&ai.getAttribute(an)!=ac(an,ak[an]))continue;am=ai.hasAttribute(an);ai.removeAttribute(an);}for(var ao in al){if(ah._.definition.fullMatch&&ai.getStyle(ao)!=ac(ao,al[ao],true))continue;am=am||!!ai.getStyle(ao);ai.removeStyle(ao);}if(am)!t.$block[ai.getName()]||ah._.enterMode==2&&!ai.hasAttributes()?V(ai):ai.renameNode(ah._.enterMode==1?'p':'div');};function T(ah,ai){var aj=ah._.definition,ak=aj.attributes,al=aj.styles,am=ab(ah),an=ai.getElementsByTag(ah.element);for(var ao=an.count();--ao>=0;)S(ah,an.getItem(ao));for(var ap in am){if(ap!=ah.element){an=ai.getElementsByTag(ap);for(ao=an.count()-1;ao>=0;ao--){var aq=an.getItem(ao);U(aq,am[ap]);}}}};function U(ah,ai){var aj=ai&&ai.attributes;if(aj)for(var ak=0;ak<aj.length;ak++){var al=aj[ak][0],am;if(am=ah.getAttribute(al)){var an=aj[ak][1];if(an===null||an.test&&an.test(am)||typeof an=='string'&&am==an)ah.removeAttribute(al);}}V(ah);};function V(ah){if(!ah.hasAttributes())if(t.$block[ah.getName()]){var ai=ah.getPrevious(M),aj=ah.getNext(M);if(ai&&(ai.type==3||!ai.isBlockBoundary({br:1})))ah.append('br',1);if(aj&&(aj.type==3||!aj.isBlockBoundary({br:1})))ah.append('br');ah.remove(true);}else{var ak=ah.getFirst(),al=ah.getLast();ah.remove(true);if(ak){ak.type==1&&ak.mergeSiblings();if(al&&!ak.equals(al)&&al.type==1)al.mergeSiblings();}}};function W(ah,ai,aj){var ak,al=ah._.definition,am=ah.element;if(am=='*')am='span';ak=new v(am,ai);if(aj)aj.copyAttributes(ak);ak=X(ak,ah);if(ai.getCustomData('doc_processing_style')&&ak.hasAttribute('id'))ak.removeAttribute('id');else ai.setCustomData('doc_processing_style',1);return ak;};function X(ah,ai){var aj=ai._.definition,ak=aj.attributes,al=o.style.getStyleText(aj);if(ak)for(var am in ak)ah.setAttribute(am,ak[am]);if(al)ah.setAttribute('style',al);return ah;};var Y=/#\((.+?)\)/g;function Z(ah,ai){for(var aj in ah)ah[aj]=ah[aj].replace(Y,function(ak,al){return ai[al];});};function aa(ah){var ai=ah._AC;if(ai)return ai;ai={};var aj=0,ak=ah.attributes;if(ak)for(var al in ak){aj++;ai[al]=ak[al];}var am=o.style.getStyleText(ah);if(am){if(!ai.style)aj++;ai.style=am;
}ai._length=aj;return ah._AC=ai;};function ab(ah){if(ah._.overrides)return ah._.overrides;var ai=ah._.overrides={},aj=ah._.definition.overrides;if(aj){if(!s.isArray(aj))aj=[aj];for(var ak=0;ak<aj.length;ak++){var al=aj[ak],am,an,ao;if(typeof al=='string')am=al.toLowerCase();else{am=al.element?al.element.toLowerCase():ah.element;ao=al.attributes;}an=ai[am]||(ai[am]={});if(ao){var ap=an.attributes=an.attributes||[];for(var aq in ao)ap.push([aq.toLowerCase(),ao[aq]]);}}}return ai;};function ac(ah,ai,aj){var ak=new v('span');ak[aj?'setStyle':'setAttribute'](ah,ai);return ak[aj?'getStyle':'getAttribute'](ah);};function ad(ah,ai){var aj;if(ai!==false){var ak=new v('span');ak.setAttribute('style',ah);aj=ak.getAttribute('style')||'';}else aj=ah;return aj.replace(/\s*([;:])\s*/,'$1').replace(/([^\s;])$/,'$1;').replace(/,\s+/g,',').replace(/\"/g,'').toLowerCase();};function ae(ah){var ai={};ah.replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(aj,ak,al){ai[ak]=al;});return ai;};function af(ah,ai){typeof ah=='string'&&(ah=ae(ah));typeof ai=='string'&&(ai=ae(ai));for(var aj in ah){if(!(aj in ai&&(ai[aj]==ah[aj]||ah[aj]=='inherit'||ai[aj]=='inherit')))return false;}return true;};function ag(ah,ai){var aj=ah.getSelection(),ak=aj.getRanges(),al=ai?this.removeFromRange:this.applyToRange,am,an=ak.createIterator();while(am=an.getNextRange())al.call(this,am);aj.selectRanges(ak);ah.removeCustomData('doc_processing_style');};})();o.styleCommand=function(A){this.style=A;};o.styleCommand.prototype.exec=function(A){var C=this;A.focus();var B=A.document;if(B)if(C.state==2)C.style.apply(B);else if(C.state==1)C.style.remove(B);return!!B;};o.stylesSet=new o.resourceManager('','stylesSet');o.addStylesSet=s.bind(o.stylesSet.add,o.stylesSet);o.loadStylesSet=function(A,B,C){o.stylesSet.addExternal(A,B,'');o.stylesSet.load(A,C);};o.editor.prototype.getStylesSet=function(A){if(!this._.stylesDefinitions){var B=this,C=B.config.stylesCombo_stylesSet||B.config.stylesSet||'default';if(C instanceof Array){B._.stylesDefinitions=C;A(C);return;}var D=C.split(':'),E=D[0],F=D[1],G=x.registered.styles.path;o.stylesSet.addExternal(E,F?D.slice(1).join(':'):G+'styles/'+E+'.js','');o.stylesSet.load(E,function(H){B._.stylesDefinitions=H[E];A(B._.stylesDefinitions);});}else A(this._.stylesDefinitions);};x.add('domiterator');(function(){function A(E){var F=this;if(arguments.length<1)return;F.range=E;F.forceBrBreak=0;F.enlargeBr=1;F.enforceRealBlocks=0;F._||(F._={});};var B=/^[\r\n\t ]+$/,C=r.walker.bookmark(false,true);
function D(E,F,G){var H=E.getNextSourceNode(F,null,G);while(!C(H))H=H.getNextSourceNode(F,null,G);return H;};A.prototype={getNextParagraph:function(E){var ae=this;var F,G,H,I,J,K;if(!ae._.lastNode){G=ae.range.clone();G.shrink(1,true);I=G.endContainer.hasAscendant('pre',true)||G.startContainer.hasAscendant('pre',true);G.enlarge(ae.forceBrBreak&&!I||!ae.enlargeBr?3:2);var L=new r.walker(G),M=r.walker.bookmark(true,true);L.evaluator=M;ae._.nextNode=L.next();L=new r.walker(G);L.evaluator=M;var N=L.previous();ae._.lastNode=N.getNextSourceNode(true);if(ae._.lastNode&&ae._.lastNode.type==3&&!s.trim(ae._.lastNode.getText())&&ae._.lastNode.getParent().isBlockBoundary()){var O=new r.range(G.document);O.moveToPosition(ae._.lastNode,4);if(O.checkEndOfBlock()){var P=new r.elementPath(O.endContainer),Q=P.block||P.blockLimit;ae._.lastNode=Q.getNextSourceNode(true);}}if(!ae._.lastNode){ae._.lastNode=ae._.docEndMarker=G.document.createText('');ae._.lastNode.insertAfter(N);}G=null;}var R=ae._.nextNode;N=ae._.lastNode;ae._.nextNode=null;while(R){var S=0,T=R.hasAscendant('pre'),U=R.type!=1,V=0;if(!U){var W=R.getName();if(R.isBlockBoundary(ae.forceBrBreak&&!T&&{br:1})){if(W=='br')U=1;else if(!G&&!R.getChildCount()&&W!='hr'){F=R;H=R.equals(N);break;}if(G){G.setEndAt(R,3);if(W!='br')ae._.nextNode=R;}S=1;}else{if(R.getFirst()){if(!G){G=new r.range(ae.range.document);G.setStartAt(R,3);}R=R.getFirst();continue;}U=1;}}else if(R.type==3)if(B.test(R.getText()))U=0;if(U&&!G){G=new r.range(ae.range.document);G.setStartAt(R,3);}H=(!S||U)&&R.equals(N);if(G&&!S)while(!R.getNext(C)&&!H){var X=R.getParent();if(X.isBlockBoundary(ae.forceBrBreak&&!T&&{br:1})){S=1;H=H||X.equals(N);break;}R=X;U=1;H=R.equals(N);V=1;}if(U)G.setEndAt(R,4);R=D(R,V,N);H=!R;if(H||S&&G)break;}if(!F){if(!G){ae._.docEndMarker&&ae._.docEndMarker.remove();ae._.nextNode=null;return null;}var Y=new r.elementPath(G.startContainer),Z=Y.blockLimit,aa={div:1,th:1,td:1};F=Y.block;if(!F&&!ae.enforceRealBlocks&&aa[Z.getName()]&&G.checkStartOfBlock()&&G.checkEndOfBlock())F=Z;else if(!F||ae.enforceRealBlocks&&F.getName()=='li'){F=ae.range.document.createElement(E||'p');G.extractContents().appendTo(F);F.trim();G.insertNode(F);J=K=true;}else if(F.getName()!='li'){if(!G.checkStartOfBlock()||!G.checkEndOfBlock()){F=F.clone(false);G.extractContents().appendTo(F);F.trim();var ab=G.splitBlock();J=!ab.wasStartOfBlock;K=!ab.wasEndOfBlock;G.insertNode(F);}}else if(!H)ae._.nextNode=F.equals(N)?null:D(G.getBoundaryNodes().endNode,1,N);}if(J){var ac=F.getPrevious();
if(ac&&ac.type==1)if(ac.getName()=='br')ac.remove();else if(ac.getLast()&&ac.getLast().$.nodeName.toLowerCase()=='br')ac.getLast().remove();}if(K){var ad=F.getLast();if(ad&&ad.type==1&&ad.getName()=='br')if(q||ad.getPrevious(C)||ad.getNext(C))ad.remove();}if(!ae._.nextNode)ae._.nextNode=H||F.equals(N)?null:D(F,1,N);return F;}};r.range.prototype.createIterator=function(){return new A(this);};})();x.add('panelbutton',{requires:['button'],beforeInit:function(A){A.ui.addHandler(4,y.panelButton.handler);}});o.UI_PANELBUTTON=4;(function(){var A=function(B){var D=this;var C=D._;if(C.state==0)return;D.createPanel(B);if(C.on){C.panel.hide();return;}C.panel.showBlock(D._.id,D.document.getById(D._.id),4);};y.panelButton=s.createClass({base:y.button,$:function(B){var D=this;var C=B.panel;delete B.panel;D.base(B);D.document=C&&C.parent&&C.parent.getDocument()||o.document;C.block={attributes:C.attributes};D.hasArrow=true;D.click=A;D._={panelDefinition:C};},statics:{handler:{create:function(B){return new y.panelButton(B);}}},proto:{createPanel:function(B){var C=this._;if(C.panel)return;var D=this._.panelDefinition||{},E=this._.panelDefinition.block,F=D.parent||o.document.getBody(),G=this._.panel=new y.floatPanel(B,F,D),H=G.addBlock(C.id,E),I=this;G.onShow=function(){if(I.className)this.element.getFirst().addClass(I.className+'_panel');I.setState(1);C.on=1;if(I.onOpen)I.onOpen();};G.onHide=function(J){if(I.className)this.element.getFirst().removeClass(I.className+'_panel');I.setState(I.modes&&I.modes[B.mode]?2:0);C.on=0;if(!J&&I.onClose)I.onClose();};G.onEscape=function(){G.hide();I.document.getById(C.id).focus();};if(this.onBlock)this.onBlock(G,H);H.onHide=function(){C.on=0;I.setState(2);};}}});})();x.add('floatpanel',{requires:['panel']});(function(){var A={},B=false;function C(D,E,F,G,H){var I=s.genKey(E.getUniqueId(),F.getUniqueId(),D.skinName,D.lang.dir,D.uiColor||'',G.css||'',H||''),J=A[I];if(!J){J=A[I]=new y.panel(E,G);J.element=F.append(v.createFromHtml(J.renderHtml(D),E));J.element.setStyles({display:'none',position:'absolute'});}return J;};y.floatPanel=s.createClass({$:function(D,E,F,G){F.forceIFrame=1;var H=E.getDocument(),I=C(D,H,E,F,G||0),J=I.element,K=J.getFirst().getFirst();this.element=J;this._={panel:I,parentElement:E,definition:F,document:H,iframe:K,children:[],dir:D.lang.dir};D.on('mode',function(){this.hide();},this);},proto:{addBlock:function(D,E){return this._.panel.addBlock(D,E);},addListBlock:function(D,E){return this._.panel.addListBlock(D,E);},getBlock:function(D){return this._.panel.getBlock(D);
},showBlock:function(D,E,F,G,H){var I=this._.panel,J=I.showBlock(D);this.allowBlur(false);B=1;var K=this.element,L=this._.iframe,M=this._.definition,N=E.getDocumentPosition(K.getDocument()),O=this._.dir=='rtl',P=N.x+(G||0),Q=N.y+(H||0);if(O&&(F==1||F==4))P+=E.$.offsetWidth;else if(!O&&(F==2||F==3))P+=E.$.offsetWidth-1;if(F==3||F==4)Q+=E.$.offsetHeight-1;this._.panel._.offsetParentId=E.getId();K.setStyles({top:Q+'px',left:0,display:''});K.setOpacity(0);K.getFirst().removeStyle('width');if(!this._.blurSet){var R=q?L:new r.window(L.$.contentWindow);o.event.useCapture=true;R.on('blur',function(S){var U=this;if(!U.allowBlur())return;var T;if(q&&!U.allowBlur()||(T=S.data.getTarget())&&T.getName&&T.getName()!='iframe')return;if(U.visible&&!U._.activeChild&&!B)U.hide();},this);R.on('focus',function(){this._.focused=true;this.hideChild();this.allowBlur(true);},this);o.event.useCapture=false;this._.blurSet=1;}I.onEscape=s.bind(function(S){if(this.onEscape&&this.onEscape(S)===false)return false;},this);s.setTimeout(function(){if(O)P-=K.$.offsetWidth;var S=s.bind(function(){var T=K.getFirst();if(J.autoSize){var U=J.element.$;if(p.gecko||p.opera)U=U.parentNode;if(q)U=U.document.body;var V=U.scrollWidth;if(q&&p.quirks&&V>0)V+=(T.$.offsetWidth||0)-(T.$.clientWidth||0);V+=4;T.setStyle('width',V+'px');J.element.addClass('cke_frameLoaded');var W=J.element.$.scrollHeight;if(q&&p.quirks&&W>0)W+=(T.$.offsetHeight||0)-(T.$.clientHeight||0);T.setStyle('height',W+'px');I._.currentBlock.element.setStyle('display','none').removeStyle('display');}else T.removeStyle('height');var X=I.element,Y=X.getWindow(),Z=Y.getScrollPosition(),aa=Y.getViewPaneSize(),ab={height:X.$.offsetHeight,width:X.$.offsetWidth};if(O?P<0:P+ab.width>aa.width+Z.x)P+=ab.width*(O?1:-1);if(Q+ab.height>aa.height+Z.y)Q-=ab.height;if(q){var ac=new v(K.$.offsetParent),ad=ac;if(ad.getName()=='html')ad=ad.getDocument().getBody();if(ad.getComputedStyle('direction')=='rtl')if(p.ie8Compat)P-=K.getDocument().getDocumentElement().$.scrollLeft*2;else P-=ac.$.scrollWidth-ac.$.clientWidth;}var ae=K.getFirst(),af;if(af=ae.getCustomData('activePanel'))af.onHide&&af.onHide.call(this,1);ae.setCustomData('activePanel',this);K.setStyles({top:Q+'px',left:P+'px'});K.setOpacity(1);},this);I.isLoaded?S():I.onLoad=S;s.setTimeout(function(){L.$.contentWindow.focus();this.allowBlur(true);},0,this);},p.air?200:0,this);this.visible=1;if(this.onShow)this.onShow.call(this);B=0;},hide:function(){var D=this;if(D.visible&&(!D.onHide||D.onHide.call(D)!==true)){D.hideChild();
D.element.setStyle('display','none');D.visible=0;D.element.getFirst().removeCustomData('activePanel');}},allowBlur:function(D){var E=this._.panel;if(D!=undefined)E.allowBlur=D;return E.allowBlur;},showAsChild:function(D,E,F,G,H,I){if(this._.activeChild==D&&D._.panel._.offsetParentId==F.getId())return;this.hideChild();D.onHide=s.bind(function(){s.setTimeout(function(){if(!this._.focused)this.hide();},0,this);},this);this._.activeChild=D;this._.focused=false;D.showBlock(E,F,G,H,I);if(p.ie7Compat||p.ie8&&p.ie6Compat)setTimeout(function(){D.element.getChild(0).$.style.cssText+='';},100);},hideChild:function(){var D=this._.activeChild;if(D){delete D.onHide;delete this._.activeChild;D.hide();}}}});o.on('instanceDestroyed',function(){var D=s.isEmpty(o.instances);for(var E in A){var F=A[E];if(D)F.destroy();else F.element.hide();}D&&(A={});});})();x.add('menu',{beforeInit:function(A){var B=A.config.menu_groups.split(','),C=A._.menuGroups={},D=A._.menuItems={};for(var E=0;E<B.length;E++)C[B[E]]=E+1;A.addMenuGroup=function(F,G){C[F]=G||100;};A.addMenuItem=function(F,G){if(C[G.group])D[F]=new o.menuItem(this,F,G);};A.addMenuItems=function(F){for(var G in F)this.addMenuItem(G,F[G]);};A.getMenuItem=function(F){return D[F];};},requires:['floatpanel']});(function(){o.menu=s.createClass({$:function(B,C){var F=this;C=F._.definition=C||{};F.id=s.getNextId();F.editor=B;F.items=[];F._.listeners=[];F._.level=C.level||1;var D=s.extend({},C.panel,{css:B.skin.editor.css,level:F._.level-1,block:{}}),E=D.block.attributes=D.attributes||{};!E.role&&(E.role='menu');F._.panelDefinition=D;},_:{onShow:function(){var J=this;var B=J.editor.getSelection();if(q)B&&B.lock();var C=B&&B.getStartElement(),D=J._.listeners,E=[];J.removeAll();for(var F=0;F<D.length;F++){var G=D[F](C,B);if(G)for(var H in G){var I=J.editor.getMenuItem(H);if(I){I.state=G[H];J.add(I);}}}},onClick:function(B){this.hide();if(B.onClick)B.onClick();else if(B.command)this.editor.execCommand(B.command);},onEscape:function(B){var C=this.parent;if(C){C._.panel.hideChild();var D=C._.panel._.panel._.currentBlock,E=D._.focusIndex;D._.markItem(E);}else if(B==27){this.hide();this.editor.focus();}return false;},onHide:function(){if(q){var B=this.editor.getSelection();B&&B.unlock();}this.onHide&&this.onHide();},showSubMenu:function(B){var J=this;var C=J._.subMenu,D=J.items[B],E=D.getItems&&D.getItems();if(!E){J._.panel.hideChild();return;}var F=J._.panel.getBlock(J.id);F._.focusIndex=B;if(C)C.removeAll();else{C=J._.subMenu=new o.menu(J.editor,s.extend({},J._.definition,{level:J._.level+1},true));
C.parent=J;C._.onClick=s.bind(J._.onClick,J);}for(var G in E){var H=J.editor.getMenuItem(G);if(H){H.state=E[G];C.add(H);}}var I=J._.panel.getBlock(J.id).element.getDocument().getById(J.id+String(B));C.show(I,2);}},proto:{add:function(B){if(!B.order)B.order=this.items.length;this.items.push(B);},removeAll:function(){this.items=[];},show:function(B,C,D,E){if(!this.parent){this._.onShow();if(!this.items.length)return;}C=C||(this.editor.lang.dir=='rtl'?2:1);var F=this.items,G=this.editor,H=this._.panel,I=this._.element;if(!H){H=this._.panel=new y.floatPanel(this.editor,o.document.getBody(),this._.panelDefinition,this._.level);H.onEscape=s.bind(function(T){if(this._.onEscape(T)===false)return false;},this);H.onHide=s.bind(function(){this._.onHide&&this._.onHide();},this);var J=H.addBlock(this.id,this._.panelDefinition.block);J.autoSize=true;var K=J.keys;K[40]='next';K[9]='next';K[38]='prev';K[2000+9]='prev';K[32]='click';K[G.lang.dir=='rtl'?37:39]='click';I=this._.element=J.element;I.addClass(G.skinClass);var L=I.getDocument();L.getBody().setStyle('overflow','hidden');L.getElementsByTag('html').getItem(0).setStyle('overflow','hidden');this._.itemOverFn=s.addFunction(function(T){var U=this;clearTimeout(U._.showSubTimeout);U._.showSubTimeout=s.setTimeout(U._.showSubMenu,G.config.menu_subMenuDelay||400,U,[T]);},this);this._.itemOutFn=s.addFunction(function(T){clearTimeout(this._.showSubTimeout);},this);this._.itemClickFn=s.addFunction(function(T){var V=this;var U=V.items[T];if(U.state==0){V.hide();return;}if(U.getItems)V._.showSubMenu(T);else V._.onClick(U);},this);}A(F);var M=G.container.getChild(1),N=M.hasClass('cke_mixed_dir_content')?' cke_mixed_dir_content':'',O=['<div class="cke_menu'+N+'" role="presentation">'],P=F.length,Q=P&&F[0].group;for(var R=0;R<P;R++){var S=F[R];if(Q!=S.group){O.push('<div class="cke_menuseparator" role="separator"></div>');Q=S.group;}S.render(this,R,O);}O.push('</div>');I.setHtml(O.join(''));y.fire('ready',this);if(this.parent)this.parent._.panel.showAsChild(H,this.id,B,C,D,E);else H.showBlock(this.id,B,C,D,E);G.fire('menuShow',[H]);},addListener:function(B){this._.listeners.push(B);},hide:function(){var B=this;B._.onHide&&B._.onHide();B._.panel&&B._.panel.hide();}}});function A(B){B.sort(function(C,D){if(C.group<D.group)return-1;else if(C.group>D.group)return 1;return C.order<D.order?-1:C.order>D.order?1:0;});};o.menuItem=s.createClass({$:function(B,C,D){var E=this;s.extend(E,D,{order:0,className:'cke_button_'+C});E.group=B._.menuGroups[E.group];
E.editor=B;E.name=C;},proto:{render:function(B,C,D){var K=this;var E=B.id+String(C),F=typeof K.state=='undefined'?2:K.state,G=' cke_'+(F==1?'on':F==0?'disabled':'off'),H=K.label;if(K.className)G+=' '+K.className;var I=K.getItems;D.push('<span class="cke_menuitem'+(K.icon&&K.icon.indexOf('.png')==-1?' cke_noalphafix':'')+'">'+'<a id="',E,'" class="',G,'" href="javascript:void(\'',(K.label||'').replace("'",''),'\')" title="',K.label,'" tabindex="-1"_cke_focus=1 hidefocus="true" role="menuitem"'+(I?'aria-haspopup="true"':'')+(F==0?'aria-disabled="true"':'')+(F==1?'aria-pressed="true"':''));if(p.opera||p.gecko&&p.mac)D.push(' onkeypress="return false;"');if(p.gecko)D.push(' onblur="this.style.cssText = this.style.cssText;"');var J=(K.iconOffset||0)*-16;D.push(' onmouseover="CKEDITOR.tools.callFunction(',B._.itemOverFn,',',C,');" onmouseout="CKEDITOR.tools.callFunction(',B._.itemOutFn,',',C,');" onclick="CKEDITOR.tools.callFunction(',B._.itemClickFn,',',C,'); return false;"><span class="cke_icon_wrapper"><span class="cke_icon"'+(K.icon?' style="background-image:url('+o.getUrl(K.icon)+');background-position:0 '+J+'px;"':'')+'></span></span>'+'<span class="cke_label">');if(I)D.push('<span class="cke_menuarrow">','<span>&#',K.editor.lang.dir=='rtl'?'9668':'9658',';</span>','</span>');D.push(H,'</span></a></span>');}}});})();w.menu_groups='clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div';(function(){var A=function(C,D){return C._.modes&&C._.modes[D||C.mode];},B;x.add('editingblock',{init:function(C){if(!C.config.editingBlock)return;C.on('themeSpace',function(D){if(D.data.space=='contents')D.data.html+='<br>';});C.on('themeLoaded',function(){C.fireOnce('editingBlockReady');});C.on('uiReady',function(){C.setMode(C.config.startupMode);});C.on('afterSetData',function(){if(!B){function D(){B=true;A(C).loadData(C.getData());B=false;};if(C.mode)D();else C.on('mode',function(){D();C.removeListener('mode',arguments.callee);});}});C.on('beforeGetData',function(){if(!B&&C.mode){B=true;C.setData(A(C).getData());B=false;}});C.on('getSnapshot',function(D){if(C.mode)D.data=A(C).getSnapshotData();});C.on('loadSnapshot',function(D){if(C.mode)A(C).loadSnapshotData(D.data);});C.on('mode',function(D){D.removeListener();p.webkit&&C.container.on('focus',function(){C.focus();});if(C.config.startupFocus)C.focus();setTimeout(function(){C.fireOnce('instanceReady');o.fire('instanceReady',null,C);
},0);});C.on('destroy',function(){var D=this;if(D.mode)D._.modes[D.mode].unload(D.getThemeSpace('contents'));});}});o.editor.prototype.mode='';o.editor.prototype.addMode=function(C,D){D.name=C;(this._.modes||(this._.modes={}))[C]=D;};o.editor.prototype.setMode=function(C){var D,E=this.getThemeSpace('contents'),F=this.checkDirty();if(this.mode){if(C==this.mode)return;this.fire('beforeModeUnload');var G=A(this);D=G.getData();G.unload(E);this.mode='';}E.setHtml('');var H=A(this,C);if(!H)throw '[CKEDITOR.editor.setMode] Unknown mode "'+C+'".';if(!F)this.on('mode',function(){this.resetDirty();this.removeListener('mode',arguments.callee);});H.load(E,typeof D!='string'?this.getData():D);};o.editor.prototype.focus=function(){var C=A(this);if(C)C.focus();};})();w.startupMode='wysiwyg';w.editingBlock=true;(function(){function A(){var K=this;try{var H=K.getSelection();if(!H||!H.document.getWindow().$)return;var I=H.getStartElement(),J=new r.elementPath(I);if(!J.compare(K._.selectionPreviousPath)){K._.selectionPreviousPath=J;K.fire('selectionChange',{selection:H,path:J,element:I});}}catch(L){}};var B,C;function D(){C=true;if(B)return;E.call(this);B=s.setTimeout(E,200,this);};function E(){B=null;if(C){s.setTimeout(A,0,this);C=false;}};var F={modes:{wysiwyg:1,source:1},exec:function(H){switch(H.mode){case 'wysiwyg':H.document.$.execCommand('SelectAll',false,null);H.forceNextSelectionCheck();H.selectionChange();break;case 'source':var I=H.textarea.$;if(q)I.createTextRange().execCommand('SelectAll');else{I.selectionStart=0;I.selectionEnd=I.value.length;}I.focus();}},canUndo:false};x.add('selection',{init:function(H){H.on('contentDom',function(){var I=H.document,J=I.getBody(),K=I.getDocumentElement();if(q){var L,M,N=1;J.on('focusin',function(R){if(R.data.$.srcElement.nodeName!='BODY')return;if(L){var S=I.getCustomData('cke_locked_selection');if(N&&!S)try{L.select();}catch(T){}L=null;}});J.on('focus',function(){M=1;Q();});J.on('beforedeactivate',function(R){if(R.data.$.toElement)return;M=0;N=1;});if(q&&p.version<8)H.on('blur',function(R){try{H.document&&H.document.$.selection.empty();}catch(S){}});K.on('mousedown',function(){N=0;});K.on('mouseup',function(){N=1;});if(q&&(p.ie7Compat||p.version<8||p.quirks))K.on('click',function(R){if(R.data.getTarget().getName()=='html')H.getSelection().getRanges()[0].select();});var O;J.on('mousedown',function(R){if(R.data.$.button==2){var S=H.document.$.selection;if(S.type=='None')O=H.window.getScrollPosition();}P();});J.on('mouseup',function(R){if(R.data.$.button==2&&O){H.document.$.documentElement.scrollLeft=O.x;
H.document.$.documentElement.scrollTop=O.y;}O=null;M=1;setTimeout(function(){Q(true);},0);});J.on('keydown',P);J.on('keyup',function(){M=1;Q();});I.on('selectionchange',Q);function P(){M=0;};function Q(R){if(M){var S=H.document,T=H.getSelection(),U=T&&T.getNative();if(R&&U&&U.type=='None')if(!S.$.queryCommandEnabled('InsertImage')){s.setTimeout(Q,50,this,true);return;}var V;if(U&&U.type&&U.type!='Control'&&(V=U.createRange())&&(V=V.parentElement())&&(V=V.nodeName)&&V.toLowerCase() in {input:1,textarea:1})return;L=U&&T.getRanges()[0];D.call(H);}};}else{I.on('mouseup',D,H);I.on('keyup',D,H);}});H.addCommand('selectAll',F);H.ui.addButton('SelectAll',{label:H.lang.selectAll,command:'selectAll'});H.selectionChange=D;}});o.editor.prototype.getSelection=function(){return this.document&&this.document.getSelection();};o.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath;};u.prototype.getSelection=function(){var H=new r.selection(this);return!H||H.isInvalid?null:H;};o.SELECTION_NONE=1;o.SELECTION_TEXT=2;o.SELECTION_ELEMENT=3;r.selection=function(H){var K=this;var I=H.getCustomData('cke_locked_selection');if(I)return I;K.document=H;K.isLocked=0;K._={cache:{}};if(q){var J=K.getNative().createRange();if(!J||J.item&&J.item(0).ownerDocument!=K.document.$||J.parentElement&&J.parentElement().ownerDocument!=K.document.$)K.isInvalid=true;}return K;};var G={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,th:1,thead:1,tfoot:1};r.selection.prototype={getNative:q?function(){return this._.cache.nativeSel||(this._.cache.nativeSel=this.document.$.selection);}:function(){return this._.cache.nativeSel||(this._.cache.nativeSel=this.document.getWindow().$.getSelection());},getType:q?function(){var H=this._.cache;if(H.type)return H.type;var I=1;try{var J=this.getNative(),K=J.type;if(K=='Text')I=2;if(K=='Control')I=3;if(J.createRange().parentElement)I=2;}catch(L){}return H.type=I;}:function(){var H=this._.cache;if(H.type)return H.type;var I=2,J=this.getNative();if(!J)I=1;else if(J.rangeCount==1){var K=J.getRangeAt(0),L=K.startContainer;if(L==K.endContainer&&L.nodeType==1&&K.endOffset-K.startOffset==1&&G[L.childNodes[K.startOffset].nodeName.toLowerCase()])I=3;}return H.type=I;},getRanges:(function(){var H=q?(function(){function I(K){return new r.node(K).getIndex();};var J=function(K,L){K=K.duplicate();K.collapse(L);var M=K.parentElement();if(!M.hasChildNodes())return{container:M,offset:0};
var N=M.children,O,P=K.duplicate(),Q=0,R=N.length-1,S=-1,T,U;while(Q<=R){S=Math.floor((Q+R)/2);O=N[S];P.moveToElementText(O);T=P.compareEndPoints('StartToStart',K);if(T>0)R=S-1;else if(T<0)Q=S+1;else return{container:M,offset:I(O)};}if(S==-1||S==N.length-1&&T<0){P.moveToElementText(M);P.setEndPoint('StartToStart',K);U=P.text.replace(/(\r\n|\r)/g,'\n').length;N=M.childNodes;if(!U){O=N[N.length-1];if(O.nodeType==1)return{container:M,offset:N.length};else return{container:O,offset:O.nodeValue.length};}var V=N.length;while(U>0)U-=N[--V].nodeValue.length;return{container:N[V],offset:-U};}else{P.collapse(T>0?true:false);P.setEndPoint(T>0?'StartToStart':'EndToStart',K);U=P.text.replace(/(\r\n|\r)/g,'\n').length;if(!U)return{container:M,offset:I(O)+(T>0?0:1)};while(U>0){O=O[T>0?'previousSibling':'nextSibling'];try{U-=O.nodeValue.length;}catch(W){return{container:M,offset:I(O)};}}return{container:O,offset:T>0?-U:O.nodeValue.length+U};}};return function(){var U=this;var K=U.getNative(),L=K&&K.createRange(),M=U.getType(),N;if(!K)return[];if(M==2){N=new r.range(U.document);var O=J(L,true);N.setStart(new r.node(O.container),O.offset);O=J(L);N.setEnd(new r.node(O.container),O.offset);if(N.endContainer.getPosition(N.startContainer)&4&&N.endOffset<=N.startContainer.getIndex())N.collapse();return[N];}else if(M==3){var P=[];for(var Q=0;Q<L.length;Q++){var R=L.item(Q),S=R.parentNode,T=0;N=new r.range(U.document);for(;T<S.childNodes.length&&S.childNodes[T]!=R;T++){}N.setStart(new r.node(S),T);N.setEnd(new r.node(S),T+1);P.push(N);}return P;}return[];};})():function(){var I=[],J,K=this.document,L=this.getNative();if(!L)return I;if(!L.rangeCount){J=new r.range(K);J.moveToElementEditStart(K.getBody());I.push(J);}for(var M=0;M<L.rangeCount;M++){var N=L.getRangeAt(M);J=new r.range(K);J.setStart(new r.node(N.startContainer),N.startOffset);J.setEnd(new r.node(N.endContainer),N.endOffset);I.push(J);}return I;};return function(I){var J=this._.cache;if(J.ranges&&!I)return J.ranges;else if(!J.ranges)J.ranges=new r.rangeList(H.call(this));if(I){var K=J.ranges;for(var L=0;L<K.length;L++){var M=K[L],N=M.getCommonAncestor();if(N.isReadOnly())K.splice(L,1);if(M.collapsed)continue;var O=M.startContainer,P=M.endContainer,Q=M.startOffset,R=M.endOffset,S=M.clone(),T;if(T=O.isReadOnly())M.setStartAfter(T);if(O&&O.type==3)if(Q>=O.getLength())S.setStartAfter(O);else S.setStartBefore(O);if(P&&P.type==3)if(!R)S.setEndBefore(P);else S.setEndAfter(P);var U=new r.walker(S);U.evaluator=function(V){if(V.type==1&&V.isReadOnly()){var W=M.clone();
M.setEndBefore(V);if(M.collapsed)K.splice(L--,1);if(!(V.getPosition(S.endContainer)&16)){W.setStartAfter(V);if(!W.collapsed)K.splice(L+1,0,W);}return true;}return false;};U.next();}}return J.ranges;};})(),getStartElement:function(){var O=this;var H=O._.cache;if(H.startElement!==undefined)return H.startElement;var I,J=O.getNative();switch(O.getType()){case 3:return O.getSelectedElement();case 2:var K=O.getRanges()[0];if(K){if(!K.collapsed){K.optimize();while(1){var L=K.startContainer,M=K.startOffset;if(M==(L.getChildCount?L.getChildCount():L.getLength())&&!L.isBlockBoundary())K.setStartAfter(L);else break;}I=K.startContainer;if(I.type!=1)return I.getParent();I=I.getChild(K.startOffset);if(!I||I.type!=1)I=K.startContainer;else{var N=I.getFirst();while(N&&N.type==1){I=N;N=N.getFirst();}}}else{I=K.startContainer;if(I.type!=1)I=I.getParent();}I=I.$;}}return H.startElement=I?new v(I):null;},getSelectedElement:function(){var H=this._.cache;if(H.selectedElement!==undefined)return H.selectedElement;var I=this,J=s.tryThese(function(){return I.getNative().createRange().item(0);},function(){var K=I.getRanges()[0],L,M;for(var N=2;N&&!((L=K.getEnclosedNode())&&L.type==1&&G[L.getName()]&&(M=L));N--)K.shrink(1);return M.$;});return H.selectedElement=J?new v(J):null;},lock:function(){var H=this;H.getRanges();H.getStartElement();H.getSelectedElement();H._.cache.nativeSel={};H.isLocked=1;H.document.setCustomData('cke_locked_selection',H);},unlock:function(H){var M=this;var I=M.document,J=I.getCustomData('cke_locked_selection');if(J){I.setCustomData('cke_locked_selection',null);if(H){var K=J.getSelectedElement(),L=!K&&J.getRanges();M.isLocked=0;M.reset();I.getBody().focus();if(K)M.selectElement(K);else M.selectRanges(L);}}if(!J||!H){M.isLocked=0;M.reset();}},reset:function(){this._.cache={};},selectElement:function(H){var K=this;if(K.isLocked){var I=new r.range(K.document);I.setStartBefore(H);I.setEndAfter(H);K._.cache.selectedElement=H;K._.cache.startElement=H;K._.cache.ranges=new r.rangeList(I);K._.cache.type=3;return;}if(q){K.getNative().empty();try{I=K.document.$.body.createControlRange();I.addElement(H.$);I.select();}catch(L){I=K.document.$.body.createTextRange();I.moveToElementText(H.$);I.select();}finally{K.document.fire('selectionchange');}K.reset();}else{I=K.document.$.createRange();I.selectNode(H.$);var J=K.getNative();J.removeAllRanges();J.addRange(I);K.reset();}},selectRanges:function(H){var T=this;if(T.isLocked){T._.cache.selectedElement=null;T._.cache.startElement=H[0]&&H[0].getTouchedStartNode();
T._.cache.ranges=new r.rangeList(H);T._.cache.type=2;return;}if(q){if(H.length>1){var I=H[H.length-1];H[0].setEnd(I.endContainer,I.endOffset);H.length=1;}if(H[0])H[0].select();T.reset();}else{var J=T.getNative();if(H.length)J.removeAllRanges();for(var K=0;K<H.length;K++){if(K<H.length-1){var L=H[K],M=H[K+1],N=L.clone();N.setStart(L.endContainer,L.endOffset);N.setEnd(M.startContainer,M.startOffset);if(!N.collapsed){N.shrink(1,true);var O=N.getCommonAncestor(),P=N.getEnclosedNode();if(O.isReadOnly()||P&&P.isReadOnly()){M.setStart(L.startContainer,L.startOffset);H.splice(K--,1);continue;}}}var Q=H[K],R=T.document.$.createRange(),S=Q.startContainer;if(Q.collapsed&&(p.opera||p.gecko&&p.version<10900)&&S.type==1&&!S.getChildCount())S.appendText('');R.setStart(S.$,Q.startOffset);R.setEnd(Q.endContainer.$,Q.endOffset);J.addRange(R);}T.reset();}},createBookmarks:function(H){return this.getRanges().createBookmarks(H);},createBookmarks2:function(H){return this.getRanges().createBookmarks2(H);},selectBookmarks:function(H){var I=[];for(var J=0;J<H.length;J++){var K=new r.range(this.document);K.moveToBookmark(H[J]);I.push(K);}this.selectRanges(I);return this;},getCommonAncestor:function(){var H=this.getRanges(),I=H[0].startContainer,J=H[H.length-1].endContainer;return I.getCommonAncestor(J);},scrollIntoView:function(){var H=this.getStartElement();H.scrollIntoView();}};})();(function(){var A=r.walker.whitespaces(true),B=/\ufeff|\u00a0/,C={table:1,tbody:1,tr:1};r.range.prototype.select=q?function(D){var N=this;var E=N.collapsed,F,G;if(N.startContainer.type==1&&N.startContainer.getName() in C||N.endContainer.type==1&&N.endContainer.getName() in C)N.shrink(1,true);var H=N.createBookmark(),I=H.startNode,J;if(!E)J=H.endNode;var K=N.document.$.body.createTextRange();K.moveToElementText(I.$);K.moveStart('character',1);if(J){var L=N.document.$.body.createTextRange();L.moveToElementText(J.$);K.setEndPoint('EndToEnd',L);K.moveEnd('character',-1);}else{var M=I.getNext(A);F=!(M&&M.getText&&M.getText().match(B))&&(D||!I.hasPrevious()||I.getPrevious().is&&I.getPrevious().is('br'));G=N.document.createElement('span');G.setHtml('&#65279;');G.insertBefore(I);if(F)N.document.createText('\ufeff').insertBefore(I);}N.setStartBefore(I);I.remove();if(E){if(F){K.moveStart('character',-1);K.select();N.document.$.selection.clear();}else K.select();N.moveToPosition(G,3);G.remove();}else{N.setEndBefore(J);J.remove();K.select();}N.document.fire('selectionchange');}:function(){var G=this;var D=G.startContainer;
if(G.collapsed&&D.type==1&&!D.getChildCount())D.append(new r.text(''));var E=G.document.$.createRange();E.setStart(D.$,G.startOffset);try{E.setEnd(G.endContainer.$,G.endOffset);}catch(H){if(H.toString().indexOf('NS_ERROR_ILLEGAL_VALUE')>=0){G.collapse(true);E.setEnd(G.endContainer.$,G.endOffset);}else throw H;}var F=G.document.getSelection().getNative();if(F){F.removeAllRanges();F.addRange(E);}};})();(function(){var A={elements:{$:function(B){var C=B.attributes,D=C&&C['data-cke-realelement'],E=D&&new o.htmlParser.fragment.fromHtml(decodeURIComponent(D)),F=E&&E.children[0];if(F&&B.attributes['data-cke-resizable']){var G=B.attributes.style;if(G){var H=/(?:^|\s)width\s*:\s*(\d+)/i.exec(G),I=H&&H[1];H=/(?:^|\s)height\s*:\s*(\d+)/i.exec(G);var J=H&&H[1];if(I)F.attributes.width=I;if(J)F.attributes.height=J;}}return F;}}};x.add('fakeobjects',{requires:['htmlwriter'],afterInit:function(B){var C=B.dataProcessor,D=C&&C.htmlFilter;if(D)D.addRules(A);}});})();o.editor.prototype.createFakeElement=function(A,B,C,D){var E=this.lang.fakeobjects,F=E[C]||E.unknown,G={'class':B,src:o.getUrl('images/spacer.gif'),'data-cke-realelement':encodeURIComponent(A.getOuterHtml()),'data-cke-real-node-type':A.type,alt:F,title:F,align:A.getAttribute('align')||''};if(C)G['data-cke-real-element-type']=C;if(D)G['data-cke-resizable']=D;return this.document.createElement('img',{attributes:G});};o.editor.prototype.createFakeParserElement=function(A,B,C,D){var E=this.lang.fakeobjects,F=E[C]||E.unknown,G,H=new o.htmlParser.basicWriter();A.writeHtml(H);G=H.getHtml();var I={'class':B,src:o.getUrl('images/spacer.gif'),'data-cke-realelement':encodeURIComponent(G),'data-cke-real-node-type':A.type,alt:F,title:F,align:A.attributes.align||''};if(C)I['data-cke-real-element-type']=C;if(D)I['data-cke-resizable']=D;return new o.htmlParser.element('img',I);};o.editor.prototype.restoreRealElement=function(A){if(A.data('cke-real-node-type')!=1)return null;return v.createFromHtml(decodeURIComponent(A.data('cke-realelement')),this.document);};x.add('richcombo',{requires:['floatpanel','listblock','button'],beforeInit:function(A){A.ui.addHandler(3,y.richCombo.handler);}});o.UI_RICHCOMBO=3;y.richCombo=s.createClass({$:function(A){var C=this;s.extend(C,A,{title:A.label,modes:{wysiwyg:1}});var B=C.panel||{};delete C.panel;C.id=s.getNextNumber();C.document=B&&B.parent&&B.parent.getDocument()||o.document;B.className=(B.className||'')+' cke_rcombopanel';B.block={multiSelect:B.multiSelect,attributes:B.attributes};C._={panelDefinition:B,items:{},state:2};
},statics:{handler:{create:function(A){return new y.richCombo(A);}}},proto:{renderHtml:function(A){var B=[];this.render(A,B);return B.join('');},render:function(A,B){var C=p,D='cke_'+this.id,E=s.addFunction(function(H){var K=this;var I=K._;if(I.state==0)return;K.createPanel(A);if(I.on){I.panel.hide();return;}K.commit();var J=K.getValue();if(J)I.list.mark(J);else I.list.unmarkAll();I.panel.showBlock(K.id,new v(H),4);},this),F={id:D,combo:this,focus:function(){var H=o.document.getById(D).getChild(1);H.focus();},clickFn:E};A.on('mode',function(){this.setState(this.modes[A.mode]?2:0);this.setValue('');},this);var G=s.addFunction(function(H,I){H=new r.event(H);var J=H.getKeystroke();switch(J){case 13:case 32:case 40:s.callFunction(E,I);break;default:F.onkey(F,J);}H.preventDefault();});F.keyDownFn=G;B.push('<span class="cke_rcombo">','<span id=',D);if(this.className)B.push(' class="',this.className,' cke_off"');B.push('>','<span id="'+D+'_label" class=cke_label>',this.label,'</span>','<a hidefocus=true title="',this.title,'" tabindex="-1"',C.gecko&&C.version>=10900&&!C.hc?'':" href=\"javascript:void('"+this.label+"')\"",' role="button" aria-labelledby="',D,'_label" aria-describedby="',D,'_text" aria-haspopup="true"');if(p.opera||p.gecko&&p.mac)B.push(' onkeypress="return false;"');if(p.gecko)B.push(' onblur="this.style.cssText = this.style.cssText;"');B.push(' onkeydown="CKEDITOR.tools.callFunction( ',G,', event, this );" onclick="CKEDITOR.tools.callFunction(',E,', this); return false;"><span><span id="'+D+'_text" class="cke_text cke_inline_label">'+this.label+'</span>'+'</span>'+'<span class=cke_openbutton>'+(p.hc?'<span>&#9660;</span>':p.air?'&nbsp;':'')+'</span>'+'</a>'+'</span>'+'</span>');if(this.onRender)this.onRender();return F;},createPanel:function(A){if(this._.panel)return;var B=this._.panelDefinition,C=this._.panelDefinition.block,D=B.parent||o.document.getBody(),E=new y.floatPanel(A,D,B),F=E.addListBlock(this.id,C),G=this;E.onShow=function(){if(G.className)this.element.getFirst().addClass(G.className+'_panel');G.setState(1);F.focus(!G.multiSelect&&G.getValue());G._.on=1;if(G.onOpen)G.onOpen();};E.onHide=function(H){if(G.className)this.element.getFirst().removeClass(G.className+'_panel');G.setState(G.modes&&G.modes[A.mode]?2:0);G._.on=0;if(!H&&G.onClose)G.onClose();};E.onEscape=function(){E.hide();G.document.getById('cke_'+G.id).getFirst().getNext().focus();};F.onClick=function(H,I){G.document.getWindow().focus();if(G.onClick)G.onClick.call(G,H,I);if(I)G.setValue(H,G._.items[H]);
else G.setValue('');E.hide();};this._.panel=E;this._.list=F;E.getBlock(this.id).onHide=function(){G._.on=0;G.setState(2);};if(this.init)this.init();},setValue:function(A,B){var D=this;D._.value=A;var C=D.document.getById('cke_'+D.id+'_text');if(C){if(!(A||B)){B=D.label;C.addClass('cke_inline_label');}else C.removeClass('cke_inline_label');C.setHtml(typeof B!='undefined'?B:A);}},getValue:function(){return this._.value||'';},unmarkAll:function(){this._.list.unmarkAll();},mark:function(A){this._.list.mark(A);},hideItem:function(A){this._.list.hideItem(A);},hideGroup:function(A){this._.list.hideGroup(A);},showAll:function(){this._.list.showAll();},add:function(A,B,C){this._.items[A]=C||A;this._.list.add(A,B,C);},startGroup:function(A){this._.list.startGroup(A);},commit:function(){var A=this;if(!A._.committed){A._.list.commit();A._.committed=1;y.fire('ready',A);}A._.committed=1;},setState:function(A){var B=this;if(B._.state==A)return;B.document.getById('cke_'+B.id).setState(A);B._.state=A;}}});y.prototype.addRichCombo=function(A,B){this.add(A,3,B);};x.add('htmlwriter');o.htmlWriter=s.createClass({base:o.htmlParser.basicWriter,$:function(){var C=this;C.base();C.indentationChars='\t';C.selfClosingEnd=' />';C.lineBreakChars='\n';C.forceSimpleAmpersand=0;C.sortAttributes=1;C._.indent=0;C._.indentation='';C._.inPre=0;C._.rules={};var A=t;for(var B in s.extend({},A.$nonBodyContent,A.$block,A.$listItem,A.$tableContent))C.setRules(B,{indent:1,breakBeforeOpen:1,breakAfterOpen:1,breakBeforeClose:!A[B]['#'],breakAfterClose:1});C.setRules('br',{breakAfterOpen:1});C.setRules('title',{indent:0,breakAfterOpen:0});C.setRules('style',{indent:0,breakBeforeClose:1});C.setRules('pre',{indent:0});},proto:{openTag:function(A,B){var D=this;var C=D._.rules[A];if(D._.indent)D.indentation();else if(C&&C.breakBeforeOpen){D.lineBreak();D.indentation();}D._.output.push('<',A);},openTagClose:function(A,B){var D=this;var C=D._.rules[A];if(B)D._.output.push(D.selfClosingEnd);else{D._.output.push('>');if(C&&C.indent)D._.indentation+=D.indentationChars;}if(C&&C.breakAfterOpen)D.lineBreak();A=='pre'&&(D._.inPre=1);},attribute:function(A,B){if(typeof B=='string'){this.forceSimpleAmpersand&&(B=B.replace(/&amp;/g,'&'));B=s.htmlEncodeAttr(B);}this._.output.push(' ',A,'="',B,'"');},closeTag:function(A){var C=this;var B=C._.rules[A];if(B&&B.indent)C._.indentation=C._.indentation.substr(C.indentationChars.length);if(C._.indent)C.indentation();else if(B&&B.breakBeforeClose){C.lineBreak();C.indentation();
}C._.output.push('</',A,'>');A=='pre'&&(C._.inPre=0);if(B&&B.breakAfterClose)C.lineBreak();},text:function(A){var B=this;if(B._.indent){B.indentation();!B._.inPre&&(A=s.ltrim(A));}B._.output.push(A);},comment:function(A){if(this._.indent)this.indentation();this._.output.push('<!--',A,'-->');},lineBreak:function(){var A=this;if(!A._.inPre&&A._.output.length>0)A._.output.push(A.lineBreakChars);A._.indent=1;},indentation:function(){var A=this;if(!A._.inPre)A._.output.push(A._.indentation);A._.indent=0;},setRules:function(A,B){var C=this._.rules[A];if(C)s.extend(C,B,true);else this._.rules[A]=B;}}});x.add('menubutton',{requires:['button','menu'],beforeInit:function(A){A.ui.addHandler(5,y.menuButton.handler);}});o.UI_MENUBUTTON=5;(function(){var A=function(B){var C=this._;if(C.state===0)return;C.previousState=C.state;var D=C.menu;if(!D){D=C.menu=new o.menu(B,{panel:{className:B.skinClass+' cke_contextmenu',attributes:{'aria-label':B.lang.common.options}}});D.onHide=s.bind(function(){this.setState(this.modes&&this.modes[B.mode]?C.previousState:0);},this);if(this.onMenu)D.addListener(this.onMenu);}if(C.on){D.hide();return;}this.setState(1);D.show(o.document.getById(this._.id),4);};y.menuButton=s.createClass({base:y.button,$:function(B){var C=B.panel;delete B.panel;this.base(B);this.hasArrow=true;this.click=A;},statics:{handler:{create:function(B){return new y.menuButton(B);}}}});})();x.add('dialogui');(function(){var A=function(I){var L=this;L._||(L._={});L._['default']=L._.initValue=I['default']||'';L._.required=I.required||false;var J=[L._];for(var K=1;K<arguments.length;K++)J.push(arguments[K]);J.push(true);s.extend.apply(s,J);return L._;},B={build:function(I,J,K){return new y.dialog.textInput(I,J,K);}},C={build:function(I,J,K){return new y.dialog[J.type](I,J,K);}},D={build:function(I,J,K){var L=J.children,M,N=[],O=[];for(var P=0;P<L.length&&(M=L[P]);P++){var Q=[];N.push(Q);O.push(o.dialog._.uiElementBuilders[M.type].build(I,M,Q));}return new y.dialog[J.type](I,O,N,K,J);}},E={isChanged:function(){return this.getValue()!=this.getInitValue();},reset:function(I){this.setValue(this.getInitValue(),I);},setInitValue:function(){this._.initValue=this.getValue();},resetInitValue:function(){this._.initValue=this._['default'];},getInitValue:function(){return this._.initValue;}},F=s.extend({},y.dialog.uiElement.prototype.eventProcessors,{onChange:function(I,J){if(!this._.domOnChangeRegistered){I.on('load',function(){this.getInputElement().on('change',function(){if(!I.parts.dialog.isVisible())return;
this.fire('change',{value:this.getValue()});},this);},this);this._.domOnChangeRegistered=true;}this.on('change',J);}},true),G=/^on([A-Z]\w+)/,H=function(I){for(var J in I){if(G.test(J)||J=='title'||J=='type')delete I[J];}return I;};s.extend(y.dialog,{labeledElement:function(I,J,K,L){if(arguments.length<4)return;var M=A.call(this,J);M.labelId=s.getNextId()+'_label';var N=this._.children=[],O=function(){var P=[],Q=J.required?' cke_required':'';if(J.labelLayout!='horizontal')P.push('<label class="cke_dialog_ui_labeled_label'+Q+'" ',' id="'+M.labelId+'"',' for="'+M.inputId+'"',' style="'+J.labelStyle+'">',J.label,'</label>','<div class="cke_dialog_ui_labeled_content" role="presentation">',L.call(this,I,J),'</div>');else{var R={type:'hbox',widths:J.widths,padding:0,children:[{type:'html',html:'<label class="cke_dialog_ui_labeled_label'+Q+'"'+' id="'+M.labelId+'"'+' for="'+M.inputId+'"'+' style="'+J.labelStyle+'">'+s.htmlEncode(J.label)+'</span>'},{type:'html',html:'<span class="cke_dialog_ui_labeled_content">'+L.call(this,I,J)+'</span>'}]};o.dialog._.uiElementBuilders.hbox.build(I,R,P);}return P.join('');};y.dialog.uiElement.call(this,I,J,K,'div',null,{role:'presentation'},O);},textInput:function(I,J,K){if(arguments.length<3)return;A.call(this,J);var L=this._.inputId=s.getNextId()+'_textInput',M={'class':'cke_dialog_ui_input_'+J.type,id:L,type:'text'},N;if(J.validate)this.validate=J.validate;if(J.maxLength)M.maxlength=J.maxLength;if(J.size)M.size=J.size;if(J.controlStyle)M.style=J.controlStyle;var O=this,P=false;I.on('load',function(){O.getInputElement().on('keydown',function(R){if(R.data.getKeystroke()==13)P=true;});O.getInputElement().on('keyup',function(R){if(R.data.getKeystroke()==13&&P){I.getButton('ok')&&setTimeout(function(){I.getButton('ok').click();},0);P=false;}},null,null,1000);});var Q=function(){var R=['<div class="cke_dialog_ui_input_',J.type,'" role="presentation"'];if(J.width)R.push('style="width:'+J.width+'" ');R.push('><input ');M['aria-labelledby']=this._.labelId;this._.required&&(M['aria-required']=this._.required);for(var S in M)R.push(S+'="'+M[S]+'" ');R.push(' /></div>');return R.join('');};y.dialog.labeledElement.call(this,I,J,K,Q);},textarea:function(I,J,K){if(arguments.length<3)return;A.call(this,J);var L=this,M=this._.inputId=s.getNextId()+'_textarea',N={};if(J.validate)this.validate=J.validate;N.rows=J.rows||5;N.cols=J.cols||20;var O=function(){N['aria-labelledby']=this._.labelId;this._.required&&(N['aria-required']=this._.required);var P=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea class="cke_dialog_ui_input_textarea" id="',M,'" '];
for(var Q in N)P.push(Q+'="'+s.htmlEncode(N[Q])+'" ');P.push('>',s.htmlEncode(L._['default']),'</textarea></div>');return P.join('');};y.dialog.labeledElement.call(this,I,J,K,O);},checkbox:function(I,J,K){if(arguments.length<3)return;var L=A.call(this,J,{'default':!!J['default']});if(J.validate)this.validate=J.validate;var M=function(){var N=s.extend({},J,{id:J.id?J.id+'_checkbox':s.getNextId()+'_checkbox'},true),O=[],P=s.getNextId()+'_label',Q={'class':'cke_dialog_ui_checkbox_input',type:'checkbox','aria-labelledby':P};H(N);if(J['default'])Q.checked='checked';if(typeof N.controlStyle!='undefined')N.style=N.controlStyle;L.checkbox=new y.dialog.uiElement(I,N,O,'input',null,Q);O.push(' <label id="',P,'" for="',Q.id,'">',s.htmlEncode(J.label),'</label>');return O.join('');};y.dialog.uiElement.call(this,I,J,K,'span',null,null,M);},radio:function(I,J,K){if(arguments.length<3)return;A.call(this,J);if(!this._['default'])this._['default']=this._.initValue=J.items[0][1];if(J.validate)this.validate=J.valdiate;var L=[],M=this,N=function(){var O=[],P=[],Q={'class':'cke_dialog_ui_radio_item','aria-labelledby':this._.labelId},R=J.id?J.id+'_radio':s.getNextId()+'_radio';for(var S=0;S<J.items.length;S++){var T=J.items[S],U=T[2]!==undefined?T[2]:T[0],V=T[1]!==undefined?T[1]:T[0],W=s.getNextId()+'_radio_input',X=W+'_label',Y=s.extend({},J,{id:W,title:null,type:null},true),Z=s.extend({},Y,{title:U},true),aa={type:'radio','class':'cke_dialog_ui_radio_input',name:R,value:V,'aria-labelledby':X},ab=[];if(M._['default']==V)aa.checked='checked';H(Y);H(Z);if(typeof Y.controlStyle!='undefined')Y.style=Y.controlStyle;L.push(new y.dialog.uiElement(I,Y,ab,'input',null,aa));ab.push(' ');new y.dialog.uiElement(I,Z,ab,'label',null,{id:X,'for':aa.id},T[0]);O.push(ab.join(''));}new y.dialog.hbox(I,[],O,P);return P.join('');};y.dialog.labeledElement.call(this,I,J,K,N);this._.children=L;},button:function(I,J,K){if(!arguments.length)return;if(typeof J=='function')J=J(I.getParentEditor());A.call(this,J,{disabled:J.disabled||false});o.event.implementOn(this);var L=this;I.on('load',function(O){var P=this.getElement();(function(){P.on('click',function(Q){L.fire('click',{dialog:L.getDialog()});Q.data.preventDefault();});P.on('keydown',function(Q){if(Q.data.getKeystroke() in {32:1}){L.click();Q.data.preventDefault();}});})();P.unselectable();},this);var M=s.extend({},J);delete M.style;var N=s.getNextId()+'_label';y.dialog.uiElement.call(this,I,M,K,'a',null,{style:J.style,href:'javascript:void(0)',title:J.label,hidefocus:'true','class':J['class'],role:'button','aria-labelledby':N},'<span id="'+N+'" class="cke_dialog_ui_button">'+s.htmlEncode(J.label)+'</span>');
},select:function(I,J,K){if(arguments.length<3)return;var L=A.call(this,J);if(J.validate)this.validate=J.validate;L.inputId=s.getNextId()+'_select';var M=function(){var N=s.extend({},J,{id:J.id?J.id+'_select':s.getNextId()+'_select'},true),O=[],P=[],Q={id:L.inputId,'class':'cke_dialog_ui_input_select','aria-labelledby':this._.labelId};if(J.size!=undefined)Q.size=J.size;if(J.multiple!=undefined)Q.multiple=J.multiple;H(N);for(var R=0,S;R<J.items.length&&(S=J.items[R]);R++)P.push('<option value="',s.htmlEncode(S[1]!==undefined?S[1]:S[0]),'" /> ',s.htmlEncode(S[0]));if(typeof N.controlStyle!='undefined')N.style=N.controlStyle;L.select=new y.dialog.uiElement(I,N,O,'select',null,Q,P.join(''));return O.join('');};y.dialog.labeledElement.call(this,I,J,K,M);},file:function(I,J,K){if(arguments.length<3)return;if(J['default']===undefined)J['default']='';var L=s.extend(A.call(this,J),{definition:J,buttons:[]});if(J.validate)this.validate=J.validate;var M=function(){L.frameId=s.getNextId()+'_fileInput';var N=p.isCustomDomain(),O=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" id="',L.frameId,'" title="',J.label,'" src="javascript:void('];O.push(N?"(function(){document.open();document.domain='"+document.domain+"';"+'document.close();'+'})()':'0');O.push(')"></iframe>');return O.join('');};I.on('load',function(){var N=o.document.getById(L.frameId),O=N.getParent();O.addClass('cke_dialog_ui_input_file');});y.dialog.labeledElement.call(this,I,J,K,M);},fileButton:function(I,J,K){if(arguments.length<3)return;var L=A.call(this,J),M=this;if(J.validate)this.validate=J.validate;var N=s.extend({},J),O=N.onClick;N.className=(N.className?N.className+' ':'')+'cke_dialog_ui_button';N.onClick=function(P){var Q=J['for'];if(!O||O.call(this,P)!==false){I.getContentElement(Q[0],Q[1]).submit();this.disable();}};I.on('load',function(){I.getContentElement(J['for'][0],J['for'][1])._.buttons.push(M);});y.dialog.button.call(this,I,N,K);},html:(function(){var I=/^\s*<[\w:]+\s+([^>]*)?>/,J=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,K=/\/$/;return function(L,M,N){if(arguments.length<3)return;var O=[],P,Q=M.html,R,S;if(Q.charAt(0)!='<')Q='<span>'+Q+'</span>';var T=M.focus;if(T){var U=this.focus;this.focus=function(){U.call(this);typeof T=='function'&&T.call(this);this.fire('focus');};if(M.isFocusable){var V=this.isFocusable;this.isFocusable=V;}this.keyboardFocusable=true;}y.dialog.uiElement.call(this,L,M,O,'span',null,null,'');P=O.join('');R=P.match(I);S=Q.match(J)||['','',''];
if(K.test(S[1])){S[1]=S[1].slice(0,-1);S[2]='/'+S[2];}N.push([S[1],' ',R[1]||'',S[2]].join(''));};})(),fieldset:function(I,J,K,L,M){var N=M.label,O=function(){var P=[];N&&P.push('<legend>'+N+'</legend>');for(var Q=0;Q<K.length;Q++)P.push(K[Q]);return P.join('');};this._={children:J};y.dialog.uiElement.call(this,I,M,L,'fieldset',null,null,O);}},true);y.dialog.html.prototype=new y.dialog.uiElement();y.dialog.labeledElement.prototype=s.extend(new y.dialog.uiElement(),{setLabel:function(I){var J=o.document.getById(this._.labelId);if(J.getChildCount()<1)new r.text(I,o.document).appendTo(J);else J.getChild(0).$.nodeValue=I;return this;},getLabel:function(){var I=o.document.getById(this._.labelId);if(!I||I.getChildCount()<1)return '';else return I.getChild(0).getText();},eventProcessors:F},true);y.dialog.button.prototype=s.extend(new y.dialog.uiElement(),{click:function(){var I=this;if(!I._.disabled)return I.fire('click',{dialog:I._.dialog});I.getElement().$.blur();return false;},enable:function(){this._.disabled=false;var I=this.getElement();I&&I.removeClass('cke_disabled');},disable:function(){this._.disabled=true;this.getElement().addClass('cke_disabled');},isVisible:function(){return this.getElement().getFirst().isVisible();},isEnabled:function(){return!this._.disabled;},eventProcessors:s.extend({},y.dialog.uiElement.prototype.eventProcessors,{onClick:function(I,J){this.on('click',J);}},true),accessKeyUp:function(){this.click();},accessKeyDown:function(){this.focus();},keyboardFocusable:true},true);y.dialog.textInput.prototype=s.extend(new y.dialog.labeledElement(),{getInputElement:function(){return o.document.getById(this._.inputId);},focus:function(){var I=this.selectParentTab();setTimeout(function(){var J=I.getInputElement();J&&J.$.focus();},0);},select:function(){var I=this.selectParentTab();setTimeout(function(){var J=I.getInputElement();if(J){J.$.focus();J.$.select();}},0);},accessKeyUp:function(){this.select();},setValue:function(I){!I&&(I='');return y.dialog.uiElement.prototype.setValue.apply(this,arguments);},keyboardFocusable:true},E,true);y.dialog.textarea.prototype=new y.dialog.textInput();y.dialog.select.prototype=s.extend(new y.dialog.labeledElement(),{getInputElement:function(){return this._.select.getElement();},add:function(I,J,K){var L=new v('option',this.getDialog().getParentEditor().document),M=this.getInputElement().$;L.$.text=I;L.$.value=J===undefined||J===null?I:J;if(K===undefined||K===null){if(q)M.add(L.$);else M.add(L.$,null);}else M.add(L.$,K);
return this;},remove:function(I){var J=this.getInputElement().$;J.remove(I);return this;},clear:function(){var I=this.getInputElement().$;while(I.length>0)I.remove(0);return this;},keyboardFocusable:true},E,true);y.dialog.checkbox.prototype=s.extend(new y.dialog.uiElement(),{getInputElement:function(){return this._.checkbox.getElement();},setValue:function(I,J){this.getInputElement().$.checked=I;!J&&this.fire('change',{value:I});},getValue:function(){return this.getInputElement().$.checked;},accessKeyUp:function(){this.setValue(!this.getValue());},eventProcessors:{onChange:function(I,J){if(!q)return F.onChange.apply(this,arguments);else{I.on('load',function(){var K=this._.checkbox.getElement();K.on('propertychange',function(L){L=L.data.$;if(L.propertyName=='checked')this.fire('change',{value:K.$.checked});},this);},this);this.on('change',J);}return null;}},keyboardFocusable:true},E,true);y.dialog.radio.prototype=s.extend(new y.dialog.uiElement(),{setValue:function(I,J){var K=this._.children,L;for(var M=0;M<K.length&&(L=K[M]);M++)L.getElement().$.checked=L.getValue()==I;!J&&this.fire('change',{value:I});},getValue:function(){var I=this._.children;for(var J=0;J<I.length;J++){if(I[J].getElement().$.checked)return I[J].getValue();}return null;},accessKeyUp:function(){var I=this._.children,J;for(J=0;J<I.length;J++){if(I[J].getElement().$.checked){I[J].getElement().focus();return;}}I[0].getElement().focus();},eventProcessors:{onChange:function(I,J){if(!q)return F.onChange.apply(this,arguments);else{I.on('load',function(){var K=this._.children,L=this;for(var M=0;M<K.length;M++){var N=K[M].getElement();N.on('propertychange',function(O){O=O.data.$;if(O.propertyName=='checked'&&this.$.checked)L.fire('change',{value:this.getAttribute('value')});});}},this);this.on('change',J);}return null;}},keyboardFocusable:true},E,true);y.dialog.file.prototype=s.extend(new y.dialog.labeledElement(),E,{getInputElement:function(){var I=o.document.getById(this._.frameId).getFrameDocument();return I.$.forms.length>0?new v(I.$.forms[0].elements[0]):this.getElement();},submit:function(){this.getInputElement().getParent().$.submit();return this;},getAction:function(){return this.getInputElement().getParent().$.action;},registerEvents:function(I){var J=/^on([A-Z]\w+)/,K,L=function(N,O,P,Q){N.on('formLoaded',function(){N.getInputElement().on(P,Q,N);});};for(var M in I){if(!(K=M.match(J)))continue;if(this.eventProcessors[M])this.eventProcessors[M].call(this,this._.dialog,I[M]);else L(this,this._.dialog,K[1].toLowerCase(),I[M]);
}return this;},reset:function(){var I=this._,J=o.document.getById(I.frameId),K=J.getFrameDocument(),L=I.definition,M=I.buttons,N=this.formLoadedNumber,O=this.formUnloadNumber,P=I.dialog._.editor.lang.dir,Q=I.dialog._.editor.langCode;if(!N){N=this.formLoadedNumber=s.addFunction(function(){this.fire('formLoaded');},this);O=this.formUnloadNumber=s.addFunction(function(){this.getInputElement().clearCustomData();},this);this.getDialog()._.editor.on('destroy',function(){s.removeFunction(N);s.removeFunction(O);});}function R(){K.$.open();if(p.isCustomDomain())K.$.domain=document.domain;var S='';if(L.size)S=L.size-(q?7:0);K.$.write(['<html dir="'+P+'" lang="'+Q+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+P+'" lang="'+Q+'" action="',s.htmlEncode(L.action),'">','<input type="file" name="',s.htmlEncode(L.id||'cke_upload'),'" size="',s.htmlEncode(S>0?S:''),'" />','</form>','</body></html>','<script>window.parent.CKEDITOR.tools.callFunction('+N+');','window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction('+O+')}</script>'].join(''));K.$.close();for(var T=0;T<M.length;T++)M[T].enable();};if(p.gecko)setTimeout(R,500);else R();},getValue:function(){return this.getInputElement().$.value||'';},setInitValue:function(){this._.initValue='';},eventProcessors:{onChange:function(I,J){if(!this._.domOnChangeRegistered){this.on('formLoaded',function(){this.getInputElement().on('change',function(){this.fire('change',{value:this.getValue()});},this);},this);this._.domOnChangeRegistered=true;}this.on('change',J);}},keyboardFocusable:true},true);y.dialog.fileButton.prototype=new y.dialog.button();y.dialog.fieldset.prototype=s.clone(y.dialog.hbox.prototype);o.dialog.addUIElement('text',B);o.dialog.addUIElement('password',B);o.dialog.addUIElement('textarea',C);o.dialog.addUIElement('checkbox',C);o.dialog.addUIElement('radio',C);o.dialog.addUIElement('button',C);o.dialog.addUIElement('select',C);o.dialog.addUIElement('file',C);o.dialog.addUIElement('fileButton',C);o.dialog.addUIElement('html',C);o.dialog.addUIElement('fieldset',D);})();x.add('panel',{beforeInit:function(A){A.ui.addHandler(2,y.panel.handler);}});o.UI_PANEL=2;y.panel=function(A,B){var C=this;if(B)s.extend(C,B);s.extend(C,{className:'',css:[]});C.id=s.getNextId();C.document=A;C._={blocks:{}};};y.panel.handler={create:function(A){return new y.panel(A);}};y.panel.prototype={renderHtml:function(A){var B=[];
this.render(A,B);return B.join('');},render:function(A,B){var D=this;var C=D.id;B.push('<div class="',A.skinClass,'" lang="',A.langCode,'" role="presentation" style="display:none;z-index:'+(A.config.baseFloatZIndex+1)+'">'+'<div'+' id=',C,' dir=',A.lang.dir,' role="presentation" class="cke_panel cke_',A.lang.dir);if(D.className)B.push(' ',D.className);B.push('">');if(D.forceIFrame||D.css.length){B.push('<iframe id="',C,'_frame" frameborder="0" role="application" src="javascript:void(');B.push(p.isCustomDomain()?"(function(){document.open();document.domain='"+document.domain+"';"+'document.close();'+'})()':'0');B.push(')"></iframe>');}B.push('</div></div>');return C;},getHolderElement:function(){var A=this._.holder;if(!A){if(this.forceIFrame||this.css.length){var B=this.document.getById(this.id+'_frame'),C=B.getParent(),D=C.getAttribute('dir'),E=C.getParent().getAttribute('class'),F=C.getParent().getAttribute('lang'),G=B.getFrameDocument(),H=s.addFunction(s.bind(function(K){this.isLoaded=true;if(this.onLoad)this.onLoad();},this)),I='<!DOCTYPE html><html dir="'+D+'" class="'+E+'_container" lang="'+F+'">'+'<head>'+'<style>.'+E+'_container{visibility:hidden}</style>'+'</head>'+'<body class="cke_'+D+' cke_panel_frame '+p.cssClass+'" style="margin:0;padding:0"'+' onload="( window.CKEDITOR || window.parent.CKEDITOR ).tools.callFunction('+H+');"></body>'+s.buildStyleHtml(this.css)+'</html>';G.write(I);var J=G.getWindow();J.$.CKEDITOR=o;G.on('key'+(p.opera?'press':'down'),function(K){var N=this;var L=K.data.getKeystroke(),M=N.document.getById(N.id).getAttribute('dir');if(N._.onKeyDown&&N._.onKeyDown(L)===false){K.data.preventDefault();return;}if(L==27||L==(M=='rtl'?39:37))if(N.onEscape&&N.onEscape(L)===false)K.data.preventDefault();},this);A=G.getBody();A.unselectable();p.air&&s.callFunction(H);}else A=this.document.getById(this.id);this._.holder=A;}return A;},addBlock:function(A,B){var C=this;B=C._.blocks[A]=B instanceof y.panel.block?B:new y.panel.block(C.getHolderElement(),B);if(!C._.currentBlock)C.showBlock(A);return B;},getBlock:function(A){return this._.blocks[A];},showBlock:function(A){var B=this._.blocks,C=B[A],D=this._.currentBlock,E=this.forceIFrame?this.document.getById(this.id+'_frame'):this._.holder;E.getParent().getParent().disableContextMenu();if(D){E.removeAttributes(D.attributes);D.hide();}this._.currentBlock=C;E.setAttributes(C.attributes);o.fire('ariaWidget',E);C._.focusIndex=-1;this._.onKeyDown=C.onKeyDown&&s.bind(C.onKeyDown,C);C.onMark=function(F){E.setAttribute('aria-activedescendant',F.getId()+'_option');
};C.onUnmark=function(){E.removeAttribute('aria-activedescendant');};C.show();return C;},destroy:function(){this.element&&this.element.remove();}};y.panel.block=s.createClass({$:function(A,B){var C=this;C.element=A.append(A.getDocument().createElement('div',{attributes:{tabIndex:-1,'class':'cke_panel_block',role:'presentation'},styles:{display:'none'}}));if(B)s.extend(C,B);if(!C.attributes.title)C.attributes.title=C.attributes['aria-label'];C.keys={};C._.focusIndex=-1;C.element.disableContextMenu();},_:{markItem:function(A){var D=this;if(A==-1)return;var B=D.element.getElementsByTag('a'),C=B.getItem(D._.focusIndex=A);if(p.webkit||p.opera)C.getDocument().getWindow().focus();C.focus();D.onMark&&D.onMark(C);}},proto:{show:function(){this.element.setStyle('display','');},hide:function(){var A=this;if(!A.onHide||A.onHide.call(A)!==true)A.element.setStyle('display','none');},onKeyDown:function(A){var F=this;var B=F.keys[A];switch(B){case 'next':var C=F._.focusIndex,D=F.element.getElementsByTag('a'),E;while(E=D.getItem(++C)){if(E.getAttribute('_cke_focus')&&E.$.offsetWidth){F._.focusIndex=C;E.focus();break;}}return false;case 'prev':C=F._.focusIndex;D=F.element.getElementsByTag('a');while(C>0&&(E=D.getItem(--C))){if(E.getAttribute('_cke_focus')&&E.$.offsetWidth){F._.focusIndex=C;E.focus();break;}}return false;case 'click':C=F._.focusIndex;E=C>=0&&F.element.getElementsByTag('a').getItem(C);if(E)E.$.click?E.$.click():E.$.onclick();return false;}return true;}}});x.add('listblock',{requires:['panel'],onLoad:function(){y.panel.prototype.addListBlock=function(A,B){return this.addBlock(A,new y.listBlock(this.getHolderElement(),B));};y.listBlock=s.createClass({base:y.panel.block,$:function(A,B){var E=this;B=B||{};var C=B.attributes||(B.attributes={});(E.multiSelect=!!B.multiSelect)&&(C['aria-multiselectable']=true);!C.role&&(C.role='listbox');E.base.apply(E,arguments);var D=E.keys;D[40]='next';D[9]='next';D[38]='prev';D[2000+9]='prev';D[32]='click';E._.pendingHtml=[];E._.items={};E._.groups={};},_:{close:function(){if(this._.started){this._.pendingHtml.push('</ul>');delete this._.started;}},getClick:function(){if(!this._.click)this._.click=s.addFunction(function(A){var C=this;var B=true;if(C.multiSelect)B=C.toggle(A);else C.mark(A);if(C.onClick)C.onClick(A,B);},this);return this._.click;}},proto:{add:function(A,B,C){var F=this;var D=F._.pendingHtml,E=s.getNextId();if(!F._.started){D.push('<ul role="presentation" class=cke_panel_list>');F._.started=1;F._.size=F._.size||0;}F._.items[A]=E;
D.push('<li id=',E,' class=cke_panel_listItem role=presentation><a id="',E,'_option" _cke_focus=1 hidefocus=true title="',C||A,'" href="javascript:void(\'',A,'\')" onclick="CKEDITOR.tools.callFunction(',F._.getClick(),",'",A,"'); return false;\"",' role="option" aria-posinset="'+ ++F._.size+'">',B||A,'</a></li>');},startGroup:function(A){this._.close();var B=s.getNextId();this._.groups[A]=B;this._.pendingHtml.push('<h1 role="presentation" id=',B,' class=cke_panel_grouptitle>',A,'</h1>');},commit:function(){var D=this;D._.close();D.element.appendHtml(D._.pendingHtml.join(''));var A=D._.items,B=D.element.getDocument();for(var C in A)B.getById(A[C]+'_option').setAttribute('aria-setsize',D._.size);delete D._.size;D._.pendingHtml=[];},toggle:function(A){var B=this.isMarked(A);if(B)this.unmark(A);else this.mark(A);return!B;},hideGroup:function(A){var B=this.element.getDocument().getById(this._.groups[A]),C=B&&B.getNext();if(B){B.setStyle('display','none');if(C&&C.getName()=='ul')C.setStyle('display','none');}},hideItem:function(A){this.element.getDocument().getById(this._.items[A]).setStyle('display','none');},showAll:function(){var A=this._.items,B=this._.groups,C=this.element.getDocument();for(var D in A)C.getById(A[D]).setStyle('display','');for(var E in B){var F=C.getById(B[E]),G=F.getNext();F.setStyle('display','');if(G&&G.getName()=='ul')G.setStyle('display','');}},mark:function(A){var D=this;if(!D.multiSelect)D.unmarkAll();var B=D._.items[A],C=D.element.getDocument().getById(B);C.addClass('cke_selected');D.element.getDocument().getById(B+'_option').setAttribute('aria-selected',true);D.element.setAttribute('aria-activedescendant',B+'_option');D.onMark&&D.onMark(C);},unmark:function(A){var B=this;B.element.getDocument().getById(B._.items[A]).removeClass('cke_selected');B.onUnmark&&B.onUnmark(B._.items[A]);},unmarkAll:function(){var D=this;var A=D._.items,B=D.element.getDocument();for(var C in A)B.getById(A[C]).removeClass('cke_selected');D.onUnmark&&D.onUnmark();},isMarked:function(A){return this.element.getDocument().getById(this._.items[A]).hasClass('cke_selected');},focus:function(A){this._.focusIndex=-1;if(A){var B=this.element.getDocument().getById(this._.items[A]).getFirst(),C=this.element.getElementsByTag('a'),D,E=-1;while(D=C.getItem(++E)){if(D.equals(B)){this._.focusIndex=E;break;}}setTimeout(function(){B.focus();},0);}}}});}});o.themes.add('default',(function(){function A(B,C){var D,E;E=B.config.sharedSpaces;E=E&&E[C];E=E&&o.document.getById(E);if(E){var F='<span class="cke_shared " dir="'+B.lang.dir+'"'+'>'+'<span class="'+B.skinClass+' '+B.id+' cke_editor_'+B.name+'">'+'<span class="'+p.cssClass+'">'+'<span class="cke_wrapper cke_'+B.lang.dir+'">'+'<span class="cke_editor">'+'<div class="cke_'+C+'">'+'</div></span></span></span></span></span>',G=E.append(v.createFromHtml(F,E.getDocument()));
if(E.getCustomData('cke_hasshared'))G.hide();else E.setCustomData('cke_hasshared',1);D=G.getChild([0,0,0,0]);!B.sharedSpaces&&(B.sharedSpaces={});B.sharedSpaces[C]=D;B.on('focus',function(){for(var H=0,I,J=E.getChildren();I=J.getItem(H);H++){if(I.type==1&&!I.equals(G)&&I.hasClass('cke_shared'))I.hide();}G.show();});B.on('destroy',function(){G.remove();});}return D;};return{build:function(B,C){var D=B.name,E=B.element,F=B.elementMode;if(!E||F==0)return;if(F==1)E.hide();var G=B.fire('themeSpace',{space:'top',html:''}).html,H=B.fire('themeSpace',{space:'contents',html:''}).html,I=B.fireOnce('themeSpace',{space:'bottom',html:''}).html,J=H&&B.config.height,K=B.config.tabIndex||B.element.getAttribute('tabindex')||0;if(!H)J='auto';else if(!isNaN(J))J+='px';var L='',M=B.config.width;if(M){if(!isNaN(M))M+='px';L+='width: '+M+';';}var N=G&&A(B,'top'),O=A(B,'bottom');N&&(N.setHtml(G),G='');O&&(O.setHtml(I),I='');var P=v.createFromHtml(['<span id="cke_',D,'" class="',B.skinClass,' ',B.id,' cke_editor_',D,'" dir="',B.lang.dir,'" title="',p.gecko?' ':'','" lang="',B.langCode,'"'+(p.webkit?' tabindex="'+K+'"':'')+' role="application"'+' aria-labelledby="cke_',D,'_arialbl"'+(L?' style="'+L+'"':'')+'>'+'<span id="cke_',D,'_arialbl" class="cke_voice_label">'+B.lang.editor+'</span>'+'<span class="',p.cssClass,'" role="presentation"><span class="cke_wrapper cke_',B.lang.dir,'" role="presentation"><table class="cke_editor" border="0" cellspacing="0" cellpadding="0" role="presentation"><tbody><tr',G?'':' style="display:none"',' role="presentation"><td id="cke_top_',D,'" class="cke_top" role="presentation">',G,'</td></tr><tr',H?'':' style="display:none"',' role="presentation"><td id="cke_contents_',D,'" class="cke_contents" style="height:',J,'" role="presentation">',H,'</td></tr><tr',I?'':' style="display:none"',' role="presentation"><td id="cke_bottom_',D,'" class="cke_bottom" role="presentation">',I,'</td></tr></tbody></table><style>.',B.skinClass,'{visibility:hidden;}</style></span></span></span>'].join(''));P.getChild([1,0,0,0,0]).unselectable();P.getChild([1,0,0,0,2]).unselectable();if(F==1)P.insertAfter(E);else E.append(P);B.container=P;P.disableContextMenu();B.fireOnce('themeLoaded');B.fireOnce('uiReady');},buildDialog:function(B){var C=s.getNextNumber(),D=v.createFromHtml(['<div class="',B.id,'_dialog cke_editor_',B.name.replace('.','\\.'),'_dialog cke_skin_',B.skinName,'" dir="',B.lang.dir,'" lang="',B.langCode,'" role="dialog" aria-labelledby="%title#"><table class="cke_dialog',' '+p.cssClass,' cke_',B.lang.dir,'" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="%body" role="presentation"><div id="%title#" class="%title" role="presentation"></div><a id="%close_button#" class="%close_button" href="javascript:void(0)" title="'+B.lang.common.close+'" role="button"><span class="cke_label">X</span></a>'+'<div id="%tabs#" class="%tabs" role="tablist"></div>'+'<table class="%contents" role="presentation">'+'<tr>'+'<td id="%contents#" class="%contents" role="presentation"></td>'+'</tr>'+'<tr>'+'<td id="%footer#" class="%footer" role="presentation"></td>'+'</tr>'+'</table>'+'</div>'+'<div id="%tl#" class="%tl"></div>'+'<div id="%tc#" class="%tc"></div>'+'<div id="%tr#" class="%tr"></div>'+'<div id="%ml#" class="%ml"></div>'+'<div id="%mr#" class="%mr"></div>'+'<div id="%bl#" class="%bl"></div>'+'<div id="%bc#" class="%bc"></div>'+'<div id="%br#" class="%br"></div>'+'</td></tr>'+'</table>',q?'':'<style>.cke_dialog{visibility:hidden;}</style>','</div>'].join('').replace(/#/g,'_'+C).replace(/%/g,'cke_dialog_')),E=D.getChild([0,0,0,0,0]),F=E.getChild(0),G=E.getChild(1);
F.unselectable();G.unselectable();return{element:D,parts:{dialog:D.getChild(0),title:F,close:G,tabs:E.getChild(2),contents:E.getChild([3,0,0,0]),footer:E.getChild([3,0,1,0])}};},destroy:function(B){var C=B.container,D=B.element;if(C){C.clearCustomData();C.remove();}if(D){D.clearCustomData();B.elementMode==1&&D.show();delete B.element;}}};})());o.editor.prototype.getThemeSpace=function(A){var B='cke_'+A,C=this._[B]||(this._[B]=o.document.getById(B+'_'+this.name));return C;};o.editor.prototype.resize=function(A,B,C,D){var E=this.container,F=o.document.getById('cke_contents_'+this.name),G=D?E.getChild(1):E;p.webkit&&G.setStyle('display','none');G.setSize('width',A,true);if(p.webkit){G.$.offsetWidth;G.setStyle('display','');}var H=C?0:(G.$.offsetHeight||0)-(F.$.clientHeight||0);F.setStyle('height',Math.max(B-H,0)+'px');this.fire('resize');};o.editor.prototype.getResizable=function(){return this.container;};})();
