/*
Copyright (c) 2003-2011, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/

(function(){if(!window.CKEDITOR)window.CKEDITOR=(function(){var l={timestamp:'B0VI4XQ',version:'3.5.1',revision:'6398',_:{},status:'unloaded',basePath:(function(){var o=window.CKEDITOR_BASEPATH||'';if(!o){var p=document.getElementsByTagName('script');for(var q=0;q<p.length;q++){var r=p[q].src.match(/(^|.*[\\\/])ckeditor(?:_basic)?(?:_source)?.js(?:\?.*)?$/i);if(r){o=r[1];break;}}}if(o.indexOf(':/')==-1)if(o.indexOf('/')===0)o=location.href.match(/^.*?:\/\/[^\/]*/)[0]+o;else o=location.href.match(/^[^\?]*\/(?:)/)[0]+o;if(!o)throw 'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return o;})(),getUrl:function(o){if(o.indexOf(':/')==-1&&o.indexOf('/')!==0)o=this.basePath+o;if(this.timestamp&&o.charAt(o.length-1)!='/'&&!/[&?]t=/.test(o))o+=(o.indexOf('?')>=0?'&':'?')+'t='+this.timestamp;return o;}},m=window.CKEDITOR_GETURL;if(m){var n=l.getUrl;l.getUrl=function(o){return m.call(l,o)||n.call(l,o);};}return l;})();var l=CKEDITOR;if(!l.event){l.event=function(){};l.event.implementOn=function(m){var n=l.event.prototype;for(var o in n){if(m[o]==undefined)m[o]=n[o];}};l.event.prototype=(function(){var m=function(o){var p=o.getPrivate&&o.getPrivate()||o._||(o._={});return p.events||(p.events={});},n=function(o){this.name=o;this.listeners=[];};n.prototype={getListenerIndex:function(o){for(var p=0,q=this.listeners;p<q.length;p++){if(q[p].fn==o)return p;}return-1;}};return{on:function(o,p,q,r,s){var t=m(this),u=t[o]||(t[o]=new n(o));if(u.getListenerIndex(p)<0){var v=u.listeners;if(!q)q=this;if(isNaN(s))s=10;var w=this,x=function(z,A,B,C){var D={name:o,sender:this,editor:z,data:A,listenerData:r,stop:B,cancel:C,removeListener:function(){w.removeListener(o,p);}};p.call(q,D);return D.data;};x.fn=p;x.priority=s;for(var y=v.length-1;y>=0;y--){if(v[y].priority<=s){v.splice(y+1,0,x);return;}}v.unshift(x);}},fire:(function(){var o=false,p=function(){o=true;},q=false,r=function(){q=true;};return function(s,t,u){var v=m(this)[s],w=o,x=q;o=q=false;if(v){var y=v.listeners;if(y.length){y=y.slice(0);for(var z=0;z<y.length;z++){var A=y[z].call(this,u,t,p,r);if(typeof A!='undefined')t=A;if(o||q)break;}}}var B=q||(typeof t=='undefined'?false:t);o=w;q=x;return B;};})(),fireOnce:function(o,p,q){var r=this.fire(o,p,q);delete m(this)[o];return r;},removeListener:function(o,p){var q=m(this)[o];if(q){var r=q.getListenerIndex(p);if(r>=0)q.listeners.splice(r,1);}},hasListeners:function(o){var p=m(this)[o];
return p&&p.listeners.length>0;}};})();}if(!l.editor){l.ELEMENT_MODE_NONE=0;l.ELEMENT_MODE_REPLACE=1;l.ELEMENT_MODE_APPENDTO=2;l.editor=function(m,n,o,p){var q=this;q._={instanceConfig:m,element:n,data:p};q.elementMode=o||0;l.event.call(q);q._init();};l.editor.replace=function(m,n){var o=m;if(typeof o!='object'){o=document.getElementById(m);if(o&&o.tagName.toLowerCase() in {style:1,script:1,base:1,link:1,meta:1,title:1})o=null;if(!o){var p=0,q=document.getElementsByName(m);while((o=q[p++])&&o.tagName.toLowerCase()!='textarea'){}}if(!o)throw '[CKEDITOR.editor.replace] The element with id or name "'+m+'" was not found.';}o.style.visibility='hidden';return new l.editor(n,o,1);};l.editor.appendTo=function(m,n,o){var p=m;if(typeof p!='object'){p=document.getElementById(m);if(!p)throw '[CKEDITOR.editor.appendTo] The element with id "'+m+'" was not found.';}return new l.editor(n,p,2,o);};l.editor.prototype={_init:function(){var m=l.editor._pending||(l.editor._pending=[]);m.push(this);},fire:function(m,n){return l.event.prototype.fire.call(this,m,n,this);},fireOnce:function(m,n){return l.event.prototype.fireOnce.call(this,m,n,this);}};l.event.implementOn(l.editor.prototype,true);}if(!l.env)l.env=(function(){var m=navigator.userAgent.toLowerCase(),n=window.opera,o={ie:/*@cc_on!@*/false,opera:!!n&&n.version,webkit:m.indexOf(' applewebkit/')>-1,air:m.indexOf(' adobeair/')>-1,mac:m.indexOf('macintosh')>-1,quirks:document.compatMode=='BackCompat',mobile:m.indexOf('mobile')>-1,isCustomDomain:function(){if(!this.ie)return false;var r=document.domain,s=window.location.hostname;return r!=s&&r!='['+s+']';}};o.gecko=navigator.product=='Gecko'&&!o.webkit&&!o.opera;var p=0;if(o.ie){p=parseFloat(m.match(/msie (\d+)/)[1]);o.ie8=!!document.documentMode;o.ie8Compat=document.documentMode==8;o.ie7Compat=p==7&&!document.documentMode||document.documentMode==7;o.ie6Compat=p<7||o.quirks;}if(o.gecko){var q=m.match(/rv:([\d\.]+)/);if(q){q=q[1].split('.');p=q[0]*10000+(q[1]||0)*100+ +(q[2]||0);}}if(o.opera)p=parseFloat(n.version());if(o.air)p=parseFloat(m.match(/ adobeair\/(\d+)/)[1]);if(o.webkit)p=parseFloat(m.match(/ applewebkit\/(\d+)/)[1]);o.version=p;o.isCompatible=!o.mobile&&(o.ie&&p>=6||o.gecko&&p>=10801||o.opera&&p>=9.5||o.air&&p>=1||o.webkit&&p>=522||false);o.cssClass='cke_browser_'+(o.ie?'ie':o.gecko?'gecko':o.opera?'opera':o.webkit?'webkit':'unknown');if(o.quirks)o.cssClass+=' cke_browser_quirks';if(o.ie){o.cssClass+=' cke_browser_ie'+(o.version<7?'6':o.version>=8?document.documentMode:'7');
if(o.quirks)o.cssClass+=' cke_browser_iequirks';}if(o.gecko&&p<10900)o.cssClass+=' cke_browser_gecko18';if(o.air)o.cssClass+=' cke_browser_air';return o;})();var m=l.env;var n=m.ie;if(l.status=='unloaded')(function(){l.event.implementOn(l);l.loadFullCore=function(){if(l.status!='basic_ready'){l.loadFullCore._load=1;return;}delete l.loadFullCore;var p=document.createElement('script');p.type='text/javascript';p.src=l.basePath+'ckeditor.js';document.getElementsByTagName('head')[0].appendChild(p);};l.loadFullCoreTimeout=0;l.replaceClass='ckeditor';l.replaceByClassEnabled=1;var o=function(p,q,r,s){if(m.isCompatible){if(l.loadFullCore)l.loadFullCore();var t=r(p,q,s);l.add(t);return t;}return null;};l.replace=function(p,q){return o(p,q,l.editor.replace);};l.appendTo=function(p,q,r){return o(p,q,l.editor.appendTo,r);};l.add=function(p){var q=this._.pending||(this._.pending=[]);q.push(p);};l.replaceAll=function(){var p=document.getElementsByTagName('textarea');for(var q=0;q<p.length;q++){var r=null,s=p[q],t=s.name;if(!s.name&&!s.id)continue;if(typeof arguments[0]=='string'){var u=new RegExp('(?:^|\\s)'+arguments[0]+'(?:$|\\s)');if(!u.test(s.className))continue;}else if(typeof arguments[0]=='function'){r={};if(arguments[0](s,r)===false)continue;}this.replace(s,r);}};(function(){var p=function(){var q=l.loadFullCore,r=l.loadFullCoreTimeout;if(l.replaceByClassEnabled)l.replaceAll(l.replaceClass);l.status='basic_ready';if(q&&q._load)q();else if(r)setTimeout(function(){if(l.loadFullCore)l.loadFullCore();},r*1000);};if(window.addEventListener)window.addEventListener('load',p,false);else if(window.attachEvent)window.attachEvent('onload',p);})();l.status='basic_loaded';})();l.dom={};var o=l.dom;(function(){var p=[];l.on('reset',function(){p=[];});l.tools={arrayCompare:function(q,r){if(!q&&!r)return true;if(!q||!r||q.length!=r.length)return false;for(var s=0;s<q.length;s++){if(q[s]!=r[s])return false;}return true;},clone:function(q){var r;if(q&&q instanceof Array){r=[];for(var s=0;s<q.length;s++)r[s]=this.clone(q[s]);return r;}if(q===null||typeof q!='object'||q instanceof String||q instanceof Number||q instanceof Boolean||q instanceof Date||q instanceof RegExp)return q;r=new q.constructor();for(var t in q){var u=q[t];r[t]=this.clone(u);}return r;},capitalize:function(q){return q.charAt(0).toUpperCase()+q.substring(1).toLowerCase();},extend:function(q){var r=arguments.length,s,t;if(typeof (s=arguments[r-1])=='boolean')r--;else if(typeof (s=arguments[r-2])=='boolean'){t=arguments[r-1];
r-=2;}for(var u=1;u<r;u++){var v=arguments[u];for(var w in v){if(s===true||q[w]==undefined)if(!t||w in t)q[w]=v[w];}}return q;},prototypedCopy:function(q){var r=function(){};r.prototype=q;return new r();},isArray:function(q){return!!q&&q instanceof Array;},isEmpty:function(q){for(var r in q){if(q.hasOwnProperty(r))return false;}return true;},cssStyleToDomStyle:(function(){var q=document.createElement('div').style,r=typeof q.cssFloat!='undefined'?'cssFloat':typeof q.styleFloat!='undefined'?'styleFloat':'float';return function(s){if(s=='float')return r;else return s.replace(/-./g,function(t){return t.substr(1).toUpperCase();});};})(),buildStyleHtml:function(q){q=[].concat(q);var r,s=[];for(var t=0;t<q.length;t++){r=q[t];if(/@import|[{}]/.test(r))s.push('<style>'+r+'</style>');else s.push('<link type="text/css" rel=stylesheet href="'+r+'">');}return s.join('');},htmlEncode:function(q){var r=function(v){var w=new o.element('span');w.setText(v);return w.getHtml();},s=r('\n').toLowerCase()=='<br>'?function(v){return r(v).replace(/<br>/gi,'\n');}:r,t=r('>')=='>'?function(v){return s(v).replace(/>/g,'&gt;');}:s,u=r('  ')=='&nbsp; '?function(v){return t(v).replace(/&nbsp;/g,' ');}:t;this.htmlEncode=u;return this.htmlEncode(q);},htmlEncodeAttr:function(q){return q.replace(/"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;');},getNextNumber:(function(){var q=0;return function(){return++q;};})(),getNextId:function(){return 'cke_'+this.getNextNumber();},override:function(q,r){return r(q);},setTimeout:function(q,r,s,t,u){if(!u)u=window;if(!s)s=u;return u.setTimeout(function(){if(t)q.apply(s,[].concat(t));else q.apply(s);},r||0);},trim:(function(){var q=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(r){return r.replace(q,'');};})(),ltrim:(function(){var q=/^[ \t\n\r]+/g;return function(r){return r.replace(q,'');};})(),rtrim:(function(){var q=/[ \t\n\r]+$/g;return function(r){return r.replace(q,'');};})(),indexOf:Array.prototype.indexOf?function(q,r){return q.indexOf(r);}:function(q,r){for(var s=0,t=q.length;s<t;s++){if(q[s]===r)return s;}return-1;},bind:function(q,r){return function(){return q.apply(r,arguments);};},createClass:function(q){var r=q.$,s=q.base,t=q.privates||q._,u=q.proto,v=q.statics;if(t){var w=r;r=function(){var A=this;var x=A._||(A._={});for(var y in t){var z=t[y];x[y]=typeof z=='function'?l.tools.bind(z,A):z;}w.apply(A,arguments);};}if(s){r.prototype=this.prototypedCopy(s.prototype);r.prototype['constructor']=r;r.prototype.base=function(){this.base=s.prototype.base;
s.apply(this,arguments);this.base=arguments.callee;};}if(u)this.extend(r.prototype,u,true);if(v)this.extend(r,v,true);return r;},addFunction:function(q,r){return p.push(function(){return q.apply(r||this,arguments);})-1;},removeFunction:function(q){p[q]=null;},callFunction:function(q){var r=p[q];return r&&r.apply(window,Array.prototype.slice.call(arguments,1));},cssLength:(function(){var q=/^\d+(?:\.\d+)?$/;return function(r){return r+(q.test(r)?'px':'');};})(),repeat:function(q,r){return new Array(r+1).join(q);},tryThese:function(){var q;for(var r=0,s=arguments.length;r<s;r++){var t=arguments[r];try{q=t();break;}catch(u){}}return q;},genKey:function(){return Array.prototype.slice.call(arguments).join('-');}};})();var p=l.tools;l.dtd=(function(){var q=p.extend,r={isindex:1,fieldset:1},s={input:1,button:1,select:1,textarea:1,label:1},t=q({a:1},s),u=q({iframe:1},t),v={hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1},w={ins:1,del:1,script:1,style:1},x=q({b:1,acronym:1,bdo:1,'var':1,'#':1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1},w),y=q({sub:1,img:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1},x),z=q({p:1},y),A=q({iframe:1},y,s),B={img:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,'#':1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,'var':1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1},C=q({a:1},A),D={tr:1},E={'#':1},F=q({param:1},B),G=q({form:1},r,u,v,z),H={li:1},I={style:1,script:1},J={base:1,link:1,meta:1,title:1},K=q(J,I),L={head:1,body:1},M={html:1},N={address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1};return{$nonBodyContent:q(M,L,J),$block:N,$blockLimit:{body:1,div:1,td:1,th:1,caption:1,form:1},$inline:C,$body:q({script:1,style:1},N),$cdata:{script:1,style:1},$empty:{area:1,base:1,br:1,col:1,hr:1,img:1,input:1,link:1,meta:1,param:1},$listItem:{dd:1,dt:1,li:1},$list:{ul:1,ol:1,dl:1},$nonEditable:{applet:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,script:1,textarea:1,param:1},$removeEmpty:{abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,'var':1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},html:L,head:K,style:E,script:E,body:G,base:{},link:{},meta:{},title:E,col:{},tr:{td:1,th:1},img:{},colgroup:{col:1},noscript:G,td:G,br:{},th:G,center:G,kbd:C,button:q(z,v),basefont:{},h5:C,h4:C,samp:C,h6:C,ol:H,h1:C,h3:C,option:E,h2:C,form:q(r,u,v,z),select:{optgroup:1,option:1},font:C,ins:C,menu:H,abbr:C,label:C,table:{thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1},code:C,script:E,tfoot:D,cite:C,li:G,input:{},iframe:G,strong:C,textarea:E,noframes:G,big:C,small:C,span:C,hr:{},dt:C,sub:C,optgroup:{option:1},param:{},bdo:C,'var':C,div:G,object:F,sup:C,dd:G,strike:C,area:{},dir:H,map:q({area:1,form:1,p:1},r,w,v),applet:F,dl:{dt:1,dd:1},del:C,isindex:{},fieldset:q({legend:1},B),thead:D,ul:H,acronym:C,b:C,a:A,blockquote:G,caption:C,i:C,u:C,tbody:D,s:C,address:q(u,z),tt:C,legend:C,q:C,pre:q(x,t),p:C,em:C,dfn:C};
})();var q=l.dtd;o.event=function(r){this.$=r;};o.event.prototype={getKey:function(){return this.$.keyCode||this.$.which;},getKeystroke:function(){var s=this;var r=s.getKey();if(s.$.ctrlKey||s.$.metaKey)r+=1000;if(s.$.shiftKey)r+=2000;if(s.$.altKey)r+=4000;return r;},preventDefault:function(r){var s=this.$;if(s.preventDefault)s.preventDefault();else s.returnValue=false;if(r)this.stopPropagation();},stopPropagation:function(){var r=this.$;if(r.stopPropagation)r.stopPropagation();else r.cancelBubble=true;},getTarget:function(){var r=this.$.target||this.$.srcElement;return r?new o.node(r):null;}};l.CTRL=1000;l.SHIFT=2000;l.ALT=4000;o.domObject=function(r){if(r)this.$=r;};o.domObject.prototype=(function(){var r=function(s,t){return function(u){if(typeof l!='undefined')s.fire(t,new o.event(u));};};return{getPrivate:function(){var s;if(!(s=this.getCustomData('_')))this.setCustomData('_',s={});return s;},on:function(s){var v=this;var t=v.getCustomData('_cke_nativeListeners');if(!t){t={};v.setCustomData('_cke_nativeListeners',t);}if(!t[s]){var u=t[s]=r(v,s);if(v.$.attachEvent)v.$.attachEvent('on'+s,u);else if(v.$.addEventListener)v.$.addEventListener(s,u,!!l.event.useCapture);}return l.event.prototype.on.apply(v,arguments);},removeListener:function(s){var v=this;l.event.prototype.removeListener.apply(v,arguments);if(!v.hasListeners(s)){var t=v.getCustomData('_cke_nativeListeners'),u=t&&t[s];if(u){if(v.$.detachEvent)v.$.detachEvent('on'+s,u);else if(v.$.removeEventListener)v.$.removeEventListener(s,u,false);delete t[s];}}},removeAllListeners:function(){var v=this;var s=v.getCustomData('_cke_nativeListeners');for(var t in s){var u=s[t];if(v.$.detachEvent)v.$.detachEvent('on'+t,u);else if(v.$.removeEventListener)v.$.removeEventListener(t,u,false);delete s[t];}}};})();(function(r){var s={};l.on('reset',function(){s={};});r.equals=function(t){return t&&t.$===this.$;};r.setCustomData=function(t,u){var v=this.getUniqueId(),w=s[v]||(s[v]={});w[t]=u;return this;};r.getCustomData=function(t){var u=this.$['data-cke-expando'],v=u&&s[u];return v&&v[t];};r.removeCustomData=function(t){var u=this.$['data-cke-expando'],v=u&&s[u],w=v&&v[t];if(typeof w!='undefined')delete v[t];return w||null;};r.clearCustomData=function(){this.removeAllListeners();var t=this.$['data-cke-expando'];t&&delete s[t];};r.getUniqueId=function(){return this.$['data-cke-expando']||(this.$['data-cke-expando']=p.getNextNumber());};l.event.implementOn(r);})(o.domObject.prototype);o.window=function(r){o.domObject.call(this,r);
};o.window.prototype=new o.domObject();p.extend(o.window.prototype,{focus:function(){if(m.webkit&&this.$.parent)this.$.parent.focus();this.$.focus();},getViewPaneSize:function(){var r=this.$.document,s=r.compatMode=='CSS1Compat';return{width:(s?r.documentElement.clientWidth:r.body.clientWidth)||0,height:(s?r.documentElement.clientHeight:r.body.clientHeight)||0};},getScrollPosition:function(){var r=this.$;if('pageXOffset' in r)return{x:r.pageXOffset||0,y:r.pageYOffset||0};else{var s=r.document;return{x:s.documentElement.scrollLeft||s.body.scrollLeft||0,y:s.documentElement.scrollTop||s.body.scrollTop||0};}}});o.document=function(r){o.domObject.call(this,r);};var r=o.document;r.prototype=new o.domObject();p.extend(r.prototype,{appendStyleSheet:function(s){if(this.$.createStyleSheet)this.$.createStyleSheet(s);else{var t=new o.element('link');t.setAttributes({rel:'stylesheet',type:'text/css',href:s});this.getHead().append(t);}},appendStyleText:function(s){var v=this;if(v.$.createStyleSheet){var t=v.$.createStyleSheet('');t.cssText=s;}else{var u=new o.element('style',v);u.append(new o.text(s,v));v.getHead().append(u);}},createElement:function(s,t){var u=new o.element(s,this);if(t){if(t.attributes)u.setAttributes(t.attributes);if(t.styles)u.setStyles(t.styles);}return u;},createText:function(s){return new o.text(s,this);},focus:function(){this.getWindow().focus();},getById:function(s){var t=this.$.getElementById(s);return t?new o.element(t):null;},getByAddress:function(s,t){var u=this.$.documentElement;for(var v=0;u&&v<s.length;v++){var w=s[v];if(!t){u=u.childNodes[w];continue;}var x=-1;for(var y=0;y<u.childNodes.length;y++){var z=u.childNodes[y];if(t===true&&z.nodeType==3&&z.previousSibling&&z.previousSibling.nodeType==3)continue;x++;if(x==w){u=z;break;}}}return u?new o.node(u):null;},getElementsByTag:function(s,t){if(!(n&&!(document.documentMode>8))&&t)s=t+':'+s;return new o.nodeList(this.$.getElementsByTagName(s));},getHead:function(){var s=this.$.getElementsByTagName('head')[0];if(!s)s=this.getDocumentElement().append(new o.element('head'),true);else s=new o.element(s);return(this.getHead=function(){return s;})();},getBody:function(){var s=new o.element(this.$.body);return(this.getBody=function(){return s;})();},getDocumentElement:function(){var s=new o.element(this.$.documentElement);return(this.getDocumentElement=function(){return s;})();},getWindow:function(){var s=new o.window(this.$.parentWindow||this.$.defaultView);return(this.getWindow=function(){return s;
})();},write:function(s){var t=this;t.$.open('text/html','replace');m.isCustomDomain()&&(t.$.domain=document.domain);t.$.write(s);t.$.close();}});o.node=function(s){if(s){switch(s.nodeType){case 9:return new r(s);case 1:return new o.element(s);case 3:return new o.text(s);}o.domObject.call(this,s);}return this;};o.node.prototype=new o.domObject();l.NODE_ELEMENT=1;l.NODE_DOCUMENT=9;l.NODE_TEXT=3;l.NODE_COMMENT=8;l.NODE_DOCUMENT_FRAGMENT=11;l.POSITION_IDENTICAL=0;l.POSITION_DISCONNECTED=1;l.POSITION_FOLLOWING=2;l.POSITION_PRECEDING=4;l.POSITION_IS_CONTAINED=8;l.POSITION_CONTAINS=16;p.extend(o.node.prototype,{appendTo:function(s,t){s.append(this,t);return s;},clone:function(s,t){var u=this.$.cloneNode(s),v=function(w){if(w.nodeType!=1)return;if(!t)w.removeAttribute('id',false);w.removeAttribute('data-cke-expando',false);if(s){var x=w.childNodes;for(var y=0;y<x.length;y++)v(x[y]);}};v(u);return new o.node(u);},hasPrevious:function(){return!!this.$.previousSibling;},hasNext:function(){return!!this.$.nextSibling;},insertAfter:function(s){s.$.parentNode.insertBefore(this.$,s.$.nextSibling);return s;},insertBefore:function(s){s.$.parentNode.insertBefore(this.$,s.$);return s;},insertBeforeMe:function(s){this.$.parentNode.insertBefore(s.$,this.$);return s;},getAddress:function(s){var t=[],u=this.getDocument().$.documentElement,v=this.$;while(v&&v!=u){var w=v.parentNode,x=-1;if(w){for(var y=0;y<w.childNodes.length;y++){var z=w.childNodes[y];if(s&&z.nodeType==3&&z.previousSibling&&z.previousSibling.nodeType==3)continue;x++;if(z==v)break;}t.unshift(x);}v=w;}return t;},getDocument:function(){return new r(this.$.ownerDocument||this.$.parentNode.ownerDocument);},getIndex:function(){var s=this.$,t=s.parentNode&&s.parentNode.firstChild,u=-1;while(t){u++;if(t==s)return u;t=t.nextSibling;}return-1;},getNextSourceNode:function(s,t,u){if(u&&!u.call){var v=u;u=function(y){return!y.equals(v);};}var w=!s&&this.getFirst&&this.getFirst(),x;if(!w){if(this.type==1&&u&&u(this,true)===false)return null;w=this.getNext();}while(!w&&(x=(x||this).getParent())){if(u&&u(x,true)===false)return null;w=x.getNext();}if(!w)return null;if(u&&u(w)===false)return null;if(t&&t!=w.type)return w.getNextSourceNode(false,t,u);return w;},getPreviousSourceNode:function(s,t,u){if(u&&!u.call){var v=u;u=function(y){return!y.equals(v);};}var w=!s&&this.getLast&&this.getLast(),x;if(!w){if(this.type==1&&u&&u(this,true)===false)return null;w=this.getPrevious();}while(!w&&(x=(x||this).getParent())){if(u&&u(x,true)===false)return null;
w=x.getPrevious();}if(!w)return null;if(u&&u(w)===false)return null;if(t&&w.type!=t)return w.getPreviousSourceNode(false,t,u);return w;},getPrevious:function(s){var t=this.$,u;do{t=t.previousSibling;u=t&&new o.node(t);}while(u&&s&&!s(u))return u;},getNext:function(s){var t=this.$,u;do{t=t.nextSibling;u=t&&new o.node(t);}while(u&&s&&!s(u))return u;},getParent:function(){var s=this.$.parentNode;return s&&s.nodeType==1?new o.node(s):null;},getParents:function(s){var t=this,u=[];do u[s?'push':'unshift'](t);while(t=t.getParent())return u;},getCommonAncestor:function(s){var u=this;if(s.equals(u))return u;if(s.contains&&s.contains(u))return s;var t=u.contains?u:u.getParent();do{if(t.contains(s))return t;}while(t=t.getParent())return null;},getPosition:function(s){var t=this.$,u=s.$;if(t.compareDocumentPosition)return t.compareDocumentPosition(u);if(t==u)return 0;if(this.type==1&&s.type==1){if(t.contains){if(t.contains(u))return 16+4;if(u.contains(t))return 8+2;}if('sourceIndex' in t)return t.sourceIndex<0||u.sourceIndex<0?1:t.sourceIndex<u.sourceIndex?4:2;}var v=this.getAddress(),w=s.getAddress(),x=Math.min(v.length,w.length);for(var y=0;y<=x-1;y++){if(v[y]!=w[y]){if(y<x)return v[y]<w[y]?4:2;break;}}return v.length<w.length?16+4:8+2;},getAscendant:function(s,t){var u=this.$;if(!t)u=u.parentNode;while(u){if(u.nodeName&&u.nodeName.toLowerCase()==s)return new o.node(u);u=u.parentNode;}return null;},hasAscendant:function(s,t){var u=this.$;if(!t)u=u.parentNode;while(u){if(u.nodeName&&u.nodeName.toLowerCase()==s)return true;u=u.parentNode;}return false;},move:function(s,t){s.append(this.remove(),t);},remove:function(s){var t=this.$,u=t.parentNode;if(u){if(s)for(var v;v=t.firstChild;)u.insertBefore(t.removeChild(v),t);u.removeChild(t);}return this;},replace:function(s){this.insertBefore(s);s.remove();},trim:function(){this.ltrim();this.rtrim();},ltrim:function(){var v=this;var s;while(v.getFirst&&(s=v.getFirst())){if(s.type==3){var t=p.ltrim(s.getText()),u=s.getLength();if(!t){s.remove();continue;}else if(t.length<u){s.split(u-t.length);v.$.removeChild(v.$.firstChild);}}break;}},rtrim:function(){var v=this;var s;while(v.getLast&&(s=v.getLast())){if(s.type==3){var t=p.rtrim(s.getText()),u=s.getLength();if(!t){s.remove();continue;}else if(t.length<u){s.split(t.length);v.$.lastChild.parentNode.removeChild(v.$.lastChild);}}break;}if(!n&&!m.opera){s=v.$.lastChild;if(s&&s.type==1&&s.nodeName.toLowerCase()=='br')s.parentNode.removeChild(s);}},isReadOnly:function(){var s=this;while(s){if(s.type==1){if(s.is('body')||!!s.data('cke-editable'))break;
if(s.getAttribute('contentEditable')=='false')return s;else if(s.getAttribute('contentEditable')=='true')break;}s=s.getParent();}return false;}});o.nodeList=function(s){this.$=s;};o.nodeList.prototype={count:function(){return this.$.length;},getItem:function(s){var t=this.$[s];return t?new o.node(t):null;}};o.element=function(s,t){if(typeof s=='string')s=(t?t.$:document).createElement(s);o.domObject.call(this,s);};var s=o.element;s.get=function(t){return t&&(t.$?t:new s(t));};s.prototype=new o.node();s.createFromHtml=function(t,u){var v=new s('div',u);v.setHtml(t);return v.getFirst().remove();};s.setMarker=function(t,u,v,w){var x=u.getCustomData('list_marker_id')||u.setCustomData('list_marker_id',p.getNextNumber()).getCustomData('list_marker_id'),y=u.getCustomData('list_marker_names')||u.setCustomData('list_marker_names',{}).getCustomData('list_marker_names');t[x]=u;y[v]=1;return u.setCustomData(v,w);};s.clearAllMarkers=function(t){for(var u in t)s.clearMarkers(t,t[u],1);};s.clearMarkers=function(t,u,v){var w=u.getCustomData('list_marker_names'),x=u.getCustomData('list_marker_id');for(var y in w)u.removeCustomData(y);u.removeCustomData('list_marker_names');if(v){u.removeCustomData('list_marker_id');delete t[x];}};p.extend(s.prototype,{type:1,addClass:function(t){var u=this.$.className;if(u){var v=new RegExp('(?:^|\\s)'+t+'(?:\\s|$)','');if(!v.test(u))u+=' '+t;}this.$.className=u||t;},removeClass:function(t){var u=this.getAttribute('class');if(u){var v=new RegExp('(?:^|\\s+)'+t+'(?=\\s|$)','i');if(v.test(u)){u=u.replace(v,'').replace(/^\s+/,'');if(u)this.setAttribute('class',u);else this.removeAttribute('class');}}},hasClass:function(t){var u=new RegExp('(?:^|\\s+)'+t+'(?=\\s|$)','');return u.test(this.getAttribute('class'));},append:function(t,u){var v=this;if(typeof t=='string')t=v.getDocument().createElement(t);if(u)v.$.insertBefore(t.$,v.$.firstChild);else v.$.appendChild(t.$);return t;},appendHtml:function(t){var v=this;if(!v.$.childNodes.length)v.setHtml(t);else{var u=new s('div',v.getDocument());u.setHtml(t);u.moveChildren(v);}},appendText:function(t){if(this.$.text!=undefined)this.$.text+=t;else this.append(new o.text(t));},appendBogus:function(){var v=this;var t=v.getLast();while(t&&t.type==3&&!p.rtrim(t.getText()))t=t.getPrevious();if(!t||!t.is||!t.is('br')){var u=m.opera?v.getDocument().createText(''):v.getDocument().createElement('br');m.gecko&&u.setAttribute('type','_moz');v.append(u);}},breakParent:function(t){var w=this;var u=new o.range(w.getDocument());
u.setStartAfter(w);u.setEndAfter(t);var v=u.extractContents();u.insertNode(w.remove());v.insertAfterNode(w);},contains:n||m.webkit?function(t){var u=this.$;return t.type!=1?u.contains(t.getParent().$):u!=t.$&&u.contains(t.$);}:function(t){return!!(this.$.compareDocumentPosition(t.$)&16);},focus:(function(){function t(){try{this.$.focus();}catch(u){}};return function(u){if(u)p.setTimeout(t,100,this);else t.call(this);};})(),getHtml:function(){var t=this.$.innerHTML;return n?t.replace(/<\?[^>]*>/g,''):t;},getOuterHtml:function(){var u=this;if(u.$.outerHTML)return u.$.outerHTML.replace(/<\?[^>]*>/,'');var t=u.$.ownerDocument.createElement('div');t.appendChild(u.$.cloneNode(true));return t.innerHTML;},setHtml:function(t){return this.$.innerHTML=t;},setText:function(t){s.prototype.setText=this.$.innerText!=undefined?function(u){return this.$.innerText=u;}:function(u){return this.$.textContent=u;};return this.setText(t);},getAttribute:(function(){var t=function(u){return this.$.getAttribute(u,2);};if(n&&(m.ie7Compat||m.ie6Compat))return function(u){var y=this;switch(u){case 'class':u='className';break;case 'tabindex':var v=t.call(y,u);if(v!==0&&y.$.tabIndex===0)v=null;return v;break;case 'checked':var w=y.$.attributes.getNamedItem(u),x=w.specified?w.nodeValue:y.$.checked;return x?'checked':null;case 'hspace':case 'value':return y.$[u];case 'style':return y.$.style.cssText;}return t.call(y,u);};else return t;})(),getChildren:function(){return new o.nodeList(this.$.childNodes);},getComputedStyle:n?function(t){return this.$.currentStyle[p.cssStyleToDomStyle(t)];}:function(t){return this.getWindow().$.getComputedStyle(this.$,'').getPropertyValue(t);},getDtd:function(){var t=q[this.getName()];this.getDtd=function(){return t;};return t;},getElementsByTag:r.prototype.getElementsByTag,getTabIndex:n?function(){var t=this.$.tabIndex;if(t===0&&!q.$tabIndex[this.getName()]&&parseInt(this.getAttribute('tabindex'),10)!==0)t=-1;return t;}:m.webkit?function(){var t=this.$.tabIndex;if(t==undefined){t=parseInt(this.getAttribute('tabindex'),10);if(isNaN(t))t=-1;}return t;}:function(){return this.$.tabIndex;},getText:function(){return this.$.textContent||this.$.innerText||'';},getWindow:function(){return this.getDocument().getWindow();},getId:function(){return this.$.id||null;},getNameAtt:function(){return this.$.name||null;},getName:function(){var t=this.$.nodeName.toLowerCase();if(n&&!(document.documentMode>8)){var u=this.$.scopeName;if(u!='HTML')t=u.toLowerCase()+':'+t;}return(this.getName=function(){return t;
})();},getValue:function(){return this.$.value;},getFirst:function(t){var u=this.$.firstChild,v=u&&new o.node(u);if(v&&t&&!t(v))v=v.getNext(t);return v;},getLast:function(t){var u=this.$.lastChild,v=u&&new o.node(u);if(v&&t&&!t(v))v=v.getPrevious(t);return v;},getStyle:function(t){return this.$.style[p.cssStyleToDomStyle(t)];},is:function(){var t=this.getName();for(var u=0;u<arguments.length;u++){if(arguments[u]==t)return true;}return false;},isEditable:function(){var t=this.getName(),u=!q.$nonEditable[t]&&(q[t]||q.span);return u&&u['#'];},isIdentical:function(t){if(this.getName()!=t.getName())return false;var u=this.$.attributes,v=t.$.attributes,w=u.length,x=v.length;for(var y=0;y<w;y++){var z=u[y];if(z.nodeName=='_moz_dirty')continue;if((!n||z.specified&&z.nodeName!='data-cke-expando')&&z.nodeValue!=t.getAttribute(z.nodeName))return false;}if(n)for(y=0;y<x;y++){z=v[y];if(z.specified&&z.nodeName!='data-cke-expando'&&z.nodeValue!=this.getAttribute(z.nodeName))return false;}return true;},isVisible:function(){var t=!!this.$.offsetHeight&&this.getComputedStyle('visibility')!='hidden',u,v;if(t&&(m.webkit||m.opera)){u=this.getWindow();if(!u.equals(l.document.getWindow())&&(v=u.$.frameElement))t=new s(v).isVisible();}return t;},isEmptyInlineRemoveable:function(){if(!q.$removeEmpty[this.getName()])return false;var t=this.getChildren();for(var u=0,v=t.count();u<v;u++){var w=t.getItem(u);if(w.type==1&&w.data('cke-bookmark'))continue;if(w.type==1&&!w.isEmptyInlineRemoveable()||w.type==3&&p.trim(w.getText()))return false;}return true;},hasAttributes:n&&(m.ie7Compat||m.ie6Compat)?function(){var t=this.$.attributes;for(var u=0;u<t.length;u++){var v=t[u];switch(v.nodeName){case 'class':if(this.getAttribute('class'))return true;case 'data-cke-expando':continue;default:if(v.specified)return true;}}return false;}:function(){var t=this.$.attributes,u=t.length,v={'data-cke-expando':1,_moz_dirty:1};return u>0&&(u>2||!v[t[0].nodeName]||u==2&&!v[t[1].nodeName]);},hasAttribute:function(t){var u=this.$.attributes.getNamedItem(t);return!!(u&&u.specified);},hide:function(){this.setStyle('display','none');},moveChildren:function(t,u){var v=this.$;t=t.$;if(v==t)return;var w;if(u)while(w=v.lastChild)t.insertBefore(v.removeChild(w),t.firstChild);else while(w=v.firstChild)t.appendChild(v.removeChild(w));},mergeSiblings:(function(){function t(u,v,w){if(v&&v.type==1){var x=[];while(v.data('cke-bookmark')||v.isEmptyInlineRemoveable()){x.push(v);v=w?v.getNext():v.getPrevious();if(!v||v.type!=1)return;
}if(u.isIdentical(v)){var y=w?u.getLast():u.getFirst();while(x.length)x.shift().move(u,!w);v.moveChildren(u,!w);v.remove();if(y&&y.type==1)y.mergeSiblings();}}};return function(u){var v=this;if(!(u===false||q.$removeEmpty[v.getName()]||v.is('a')))return;t(v,v.getNext(),true);t(v,v.getPrevious());};})(),show:function(){this.setStyles({display:'',visibility:''});},setAttribute:(function(){var t=function(u,v){this.$.setAttribute(u,v);return this;};if(n&&(m.ie7Compat||m.ie6Compat))return function(u,v){var w=this;if(u=='class')w.$.className=v;else if(u=='style')w.$.style.cssText=v;else if(u=='tabindex')w.$.tabIndex=v;else if(u=='checked')w.$.checked=v;else t.apply(w,arguments);return w;};else return t;})(),setAttributes:function(t){for(var u in t)this.setAttribute(u,t[u]);return this;},setValue:function(t){this.$.value=t;return this;},removeAttribute:(function(){var t=function(u){this.$.removeAttribute(u);};if(n&&(m.ie7Compat||m.ie6Compat))return function(u){if(u=='class')u='className';else if(u=='tabindex')u='tabIndex';t.call(this,u);};else return t;})(),removeAttributes:function(t){if(p.isArray(t))for(var u=0;u<t.length;u++)this.removeAttribute(t[u]);else for(var v in t)t.hasOwnProperty(v)&&this.removeAttribute(v);},removeStyle:function(t){var u=this;u.setStyle(t,'');if(u.$.style.removeAttribute)u.$.style.removeAttribute(p.cssStyleToDomStyle(t));if(!u.$.style.cssText)u.removeAttribute('style');},setStyle:function(t,u){this.$.style[p.cssStyleToDomStyle(t)]=u;return this;},setStyles:function(t){for(var u in t)this.setStyle(u,t[u]);return this;},setOpacity:function(t){if(n){t=Math.round(t*100);this.setStyle('filter',t>=100?'':'progid:DXImageTransform.Microsoft.Alpha(opacity='+t+')');}else this.setStyle('opacity',t);},unselectable:m.gecko?function(){this.$.style.MozUserSelect='none';this.on('dragstart',function(t){t.data.preventDefault();});}:m.webkit?function(){this.$.style.KhtmlUserSelect='none';this.on('dragstart',function(t){t.data.preventDefault();});}:function(){if(n||m.opera){var t=this.$,u,v=0;t.unselectable='on';while(u=t.all[v++])switch(u.tagName.toLowerCase()){case 'iframe':case 'textarea':case 'input':case 'select':break;default:u.unselectable='on';}}},getPositionedAncestor:function(){var t=this;while(t.getName()!='html'){if(t.getComputedStyle('position')!='static')return t;t=t.getParent();}return null;},getDocumentPosition:function(t){var O=this;var u=0,v=0,w=O.getDocument().getBody(),x=O.getDocument().$.compatMode=='BackCompat',y=O.getDocument();if(document.documentElement.getBoundingClientRect){var z=O.$.getBoundingClientRect(),A=y.$,B=A.documentElement,C=B.clientTop||w.$.clientTop||0,D=B.clientLeft||w.$.clientLeft||0,E=true;
if(n){var F=y.getDocumentElement().contains(O),G=y.getBody().contains(O);E=x&&G||!x&&F;}if(E){u=z.left+(!x&&B.scrollLeft||w.$.scrollLeft);u-=D;v=z.top+(!x&&B.scrollTop||w.$.scrollTop);v-=C;}}else{var H=O,I=null,J;while(H&&!(H.getName()=='body'||H.getName()=='html')){u+=H.$.offsetLeft-H.$.scrollLeft;v+=H.$.offsetTop-H.$.scrollTop;if(!H.equals(O)){u+=H.$.clientLeft||0;v+=H.$.clientTop||0;}var K=I;while(K&&!K.equals(H)){u-=K.$.scrollLeft;v-=K.$.scrollTop;K=K.getParent();}I=H;H=(J=H.$.offsetParent)?new s(J):null;}}if(t){var L=O.getWindow(),M=t.getWindow();if(!L.equals(M)&&L.$.frameElement){var N=new s(L.$.frameElement).getDocumentPosition(t);u+=N.x;v+=N.y;}}if(!document.documentElement.getBoundingClientRect)if(m.gecko&&!x){u+=O.$.clientLeft?1:0;v+=O.$.clientTop?1:0;}return{x:u,y:v};},scrollIntoView:function(t){var z=this;var u=z.getWindow(),v=u.getViewPaneSize().height,w=v*-1;if(t)w+=v;else{w+=z.$.offsetHeight||0;w+=parseInt(z.getComputedStyle('marginBottom')||0,10)||0;}var x=z.getDocumentPosition();w+=x.y;w=w<0?0:w;var y=u.getScrollPosition().y;if(w>y||w<y-v)u.$.scrollTo(0,w);},setState:function(t){var u=this;switch(t){case 1:u.addClass('cke_on');u.removeClass('cke_off');u.removeClass('cke_disabled');break;case 0:u.addClass('cke_disabled');u.removeClass('cke_off');u.removeClass('cke_on');break;default:u.addClass('cke_off');u.removeClass('cke_on');u.removeClass('cke_disabled');break;}},getFrameDocument:function(){var t=this.$;try{t.contentWindow.document;}catch(u){t.src=t.src;if(n&&m.version<7)window.showModalDialog('javascript:document.write("<script>window.setTimeout(function(){window.close();},50);</script>")');}return t&&new r(t.contentWindow.document);},copyAttributes:function(t,u){var A=this;var v=A.$.attributes;u=u||{};for(var w=0;w<v.length;w++){var x=v[w],y=x.nodeName.toLowerCase(),z;if(y in u)continue;if(y=='checked'&&(z=A.getAttribute(y)))t.setAttribute(y,z);else if(x.specified||n&&x.nodeValue&&y=='value'){z=A.getAttribute(y);if(z===null)z=x.nodeValue;t.setAttribute(y,z);}}if(A.$.style.cssText!=='')t.$.style.cssText=A.$.style.cssText;},renameNode:function(t){var w=this;if(w.getName()==t)return;var u=w.getDocument(),v=new s(t,u);w.copyAttributes(v);w.moveChildren(v);w.getParent()&&w.$.parentNode.replaceChild(v.$,w.$);v.$['data-cke-expando']=w.$['data-cke-expando'];w.$=v.$;},getChild:function(t){var u=this.$;if(!t.slice)u=u.childNodes[t];else while(t.length>0&&u)u=u.childNodes[t.shift()];return u?new o.node(u):null;},getChildCount:function(){return this.$.childNodes.length;
},disableContextMenu:function(){this.on('contextmenu',function(t){if(!t.data.getTarget().hasClass('cke_enable_context_menu'))t.data.preventDefault();});},getDirection:function(t){return t?this.getComputedStyle('direction'):this.getStyle('direction')||this.getAttribute('dir');},data:function(t,u){t='data-'+t;if(u===undefined)return this.getAttribute(t);else if(u===false)this.removeAttribute(t);else this.setAttribute(t,u);return null;}});(function(){var t={width:['border-left-width','border-right-width','padding-left','padding-right'],height:['border-top-width','border-bottom-width','padding-top','padding-bottom']};function u(v){var w=0;for(var x=0,y=t[v].length;x<y;x++)w+=parseInt(this.getComputedStyle(t[v][x])||0,10)||0;return w;};s.prototype.setSize=function(v,w,x){if(typeof w=='number'){if(x&&!(n&&m.quirks))w-=u.call(this,v);this.setStyle(v,w+'px');}};s.prototype.getSize=function(v,w){var x=Math.max(this.$['offset'+p.capitalize(v)],this.$['client'+p.capitalize(v)])||0;if(w)x-=u.call(this,v);return x;};})();l.command=function(t,u){this.uiItems=[];this.exec=function(v){if(this.state==0)return false;if(this.editorFocus)t.focus();return u.exec.call(this,t,v)!==false;};p.extend(this,u,{modes:{wysiwyg:1},editorFocus:1,state:2});l.event.call(this);};l.command.prototype={enable:function(){var t=this;if(t.state==0)t.setState(!t.preserveState||typeof t.previousState=='undefined'?2:t.previousState);},disable:function(){this.setState(0);},setState:function(t){var u=this;if(u.state==t)return false;u.previousState=u.state;u.state=t;u.fire('state');return true;},toggleState:function(){var t=this;if(t.state==2)t.setState(1);else if(t.state==1)t.setState(2);}};l.event.implementOn(l.command.prototype,true);l.ENTER_P=1;l.ENTER_BR=2;l.ENTER_DIV=3;l.config={customConfig:'config.js',autoUpdateElement:true,baseHref:'',contentsCss:l.basePath+'contents.css',contentsLangDirection:'ui',contentsLanguage:'',language:'',defaultLanguage:'en',enterMode:1,forceEnterMode:false,shiftEnterMode:2,corePlugins:'',docType:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',bodyId:'',bodyClass:'',fullPage:false,height:200,plugins:'about,a11yhelp,basicstyles,bidi,blockquote,button,clipboard,colorbutton,colordialog,contextmenu,dialogadvtab,div,elementspath,enterkey,entities,filebrowser,find,flash,font,format,forms,horizontalrule,htmldataprocessor,iframe,image,indent,justify,keystrokes,link,list,liststyle,maximize,newpage,pagebreak,pastefromword,pastetext,popup,preview,print,removeformat,resize,save,scayt,smiley,showblocks,showborders,sourcearea,stylescombo,table,tabletools,specialchar,tab,templates,toolbar,undo,wysiwygarea,wsc',extraPlugins:'bwikidataprocessor',removePlugins:'htmldataprocessor',protectedSource:[],tabIndex:0,theme:'default',skin:'kama',width:'',baseFloatZIndex:10000};
var t=l.config;l.focusManager=function(u){if(u.focusManager)return u.focusManager;this.hasFocus=false;this._={editor:u};return this;};l.focusManager.prototype={focus:function(){var v=this;if(v._.timer)clearTimeout(v._.timer);if(!v.hasFocus){if(l.currentInstance)l.currentInstance.focusManager.forceBlur();var u=v._.editor;u.container.getChild(1).addClass('cke_focus');v.hasFocus=true;u.fire('focus');}},blur:function(){var u=this;if(u._.timer)clearTimeout(u._.timer);u._.timer=setTimeout(function(){delete u._.timer;u.forceBlur();},100);},forceBlur:function(){if(this.hasFocus){var u=this._.editor;u.container.getChild(1).removeClass('cke_focus');this.hasFocus=false;u.fire('blur');}}};(function(){var u={};l.lang={languages:{af:1,ar:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,el:1,'en-au':1,'en-ca':1,'en-gb':1,en:1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,'fr-ca':1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,is:1,it:1,ja:1,km:1,ko:1,lt:1,lv:1,mn:1,ms:1,nb:1,nl:1,no:1,pl:1,'pt-br':1,pt:1,ro:1,ru:1,sk:1,sl:1,'sr-latn':1,sr:1,sv:1,th:1,tr:1,uk:1,vi:1,'zh-cn':1,zh:1},load:function(v,w,x){if(!v||!l.lang.languages[v])v=this.detect(w,v);if(!this[v])l.scriptLoader.load(l.getUrl('lang/'+v+'.js'),function(){x(v,this[v]);},this);else x(v,this[v]);},detect:function(v,w){var x=this.languages;w=w||navigator.userLanguage||navigator.language;var y=w.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),z=y[1],A=y[2];if(x[z+'-'+A])z=z+'-'+A;else if(!x[z])z=null;l.lang.detect=z?function(){return z;}:function(B){return B;};return z||v;}};})();l.scriptLoader=(function(){var u={},v={};return{load:function(w,x,y,z){var A=typeof w=='string';if(A)w=[w];if(!y)y=l;var B=w.length,C=[],D=[],E=function(J){if(x)if(A)x.call(y,J);else x.call(y,C,D);};if(B===0){E(true);return;}var F=function(J,K){(K?C:D).push(J);if(--B<=0){z&&l.document.getDocumentElement().removeStyle('cursor');E(K);}},G=function(J,K){u[J]=1;var L=v[J];delete v[J];for(var M=0;M<L.length;M++)L[M](J,K);},H=function(J){if(u[J]){F(J,true);return;}var K=v[J]||(v[J]=[]);K.push(F);if(K.length>1)return;var L=new s('script');L.setAttributes({type:'text/javascript',src:J});if(x)if(n)L.$.onreadystatechange=function(){if(L.$.readyState=='loaded'||L.$.readyState=='complete'){L.$.onreadystatechange=null;G(J,true);}};else{L.$.onload=function(){setTimeout(function(){G(J,true);},0);};L.$.onerror=function(){G(J,false);};}L.appendTo(l.document.getHead());};z&&l.document.getDocumentElement().setStyle('cursor','wait');for(var I=0;I<B;I++)H(w[I]);}};})();l.resourceManager=function(u,v){var w=this;
w.basePath=u;w.fileName=v;w.registered={};w.loaded={};w.externals={};w._={waitingList:{}};};l.resourceManager.prototype={add:function(u,v){if(this.registered[u])throw '[CKEDITOR.resourceManager.add] The resource name "'+u+'" is already registered.';l.fire(u+p.capitalize(this.fileName)+'Ready',this.registered[u]=v||{});},get:function(u){return this.registered[u]||null;},getPath:function(u){var v=this.externals[u];return l.getUrl(v&&v.dir||this.basePath+u+'/');},getFilePath:function(u){var v=this.externals[u];return l.getUrl(this.getPath(u)+(v&&typeof v.file=='string'?v.file:this.fileName+'.js'));},addExternal:function(u,v,w){u=u.split(',');for(var x=0;x<u.length;x++){var y=u[x];this.externals[y]={dir:v,file:w};}},load:function(u,v,w){if(!p.isArray(u))u=u?[u]:[];var x=this.loaded,y=this.registered,z=[],A={},B={};for(var C=0;C<u.length;C++){var D=u[C];if(!D)continue;if(!x[D]&&!y[D]){var E=this.getFilePath(D);z.push(E);if(!(E in A))A[E]=[];A[E].push(D);}else B[D]=this.get(D);}l.scriptLoader.load(z,function(F,G){if(G.length)throw '[CKEDITOR.resourceManager.load] Resource name "'+A[G[0]].join(',')+'" was not found at "'+G[0]+'".';for(var H=0;H<F.length;H++){var I=A[F[H]];for(var J=0;J<I.length;J++){var K=I[J];B[K]=this.get(K);x[K]=1;}}v.call(w,B);},this);}};l.plugins=new l.resourceManager('plugins/','plugin');var u=l.plugins;u.load=p.override(u.load,function(v){return function(w,x,y){var z={},A=function(B){v.call(this,B,function(C){p.extend(z,C);var D=[];for(var E in C){var F=C[E],G=F&&F.requires;if(G)for(var H=0;H<G.length;H++){if(!z[G[H]])D.push(G[H]);}}if(D.length)A.call(this,D);else{for(E in z){F=z[E];if(F.onLoad&&!F.onLoad._called){F.onLoad();F.onLoad._called=1;}}if(x)x.call(y||window,z);}},this);};A.call(this,w);};});u.setLang=function(v,w,x){var y=this.get(v),z=y.lang||(y.lang={});z[w]=x;};l.skins=(function(){var v={},w={},x=function(y,z,A,B){var C=v[z];if(!y.skin){y.skin=C;if(C.init)C.init(y);}var D=function(M){for(var N=0;N<M.length;N++)M[N]=l.getUrl(w[z]+M[N]);};function E(M,N){return M.replace(/url\s*\(([\s'"]*)(.*?)([\s"']*)\)/g,function(O,P,Q,R){if(/^\/|^\w?:/.test(Q))return O;else return 'url('+N+P+Q+R+')';});};A=C[A];var F=!A||!!A._isLoaded;if(F)B&&B();else{var G=A._pending||(A._pending=[]);G.push(B);if(G.length>1)return;var H=!A.css||!A.css.length,I=!A.js||!A.js.length,J=function(){if(H&&I){A._isLoaded=1;for(var M=0;M<G.length;M++){if(G[M])G[M]();}}};if(!H){var K=A.css;if(p.isArray(K)){D(K);for(var L=0;L<K.length;L++)l.document.appendStyleSheet(K[L]);
}else{K=E(K,l.getUrl(w[z]));l.document.appendStyleText(K);}A.css=K;H=1;}if(!I){D(A.js);l.scriptLoader.load(A.js,function(){I=1;J();});}J();}};return{add:function(y,z){v[y]=z;z.skinPath=w[y]||(w[y]=l.getUrl('skins/'+y+'/'));},load:function(y,z,A){var B=y.skinName,C=y.skinPath;if(v[B])x(y,B,z,A);else{w[B]=C;l.scriptLoader.load(l.getUrl(C+'skin.js'),function(){x(y,B,z,A);});}}};})();l.themes=new l.resourceManager('themes/','theme');l.ui=function(v){if(v.ui)return v.ui;this._={handlers:{},items:{},editor:v};return this;};var v=l.ui;v.prototype={add:function(w,x,y){this._.items[w]={type:x,command:y.command||null,args:Array.prototype.slice.call(arguments,2)};},create:function(w){var B=this;var x=B._.items[w],y=x&&B._.handlers[x.type],z=x&&x.command&&B._.editor.getCommand(x.command),A=y&&y.create.apply(B,x.args);if(z)z.uiItems.push(A);return A;},addHandler:function(w,x){this._.handlers[w]=x;}};l.event.implementOn(v);(function(){var w=0,x=function(){var I='editor'+ ++w;return l.instances&&l.instances[I]?x():I;},y={},z=function(I){var J=I.config.customConfig;if(!J)return false;J=l.getUrl(J);var K=y[J]||(y[J]={});if(K.fn){K.fn.call(I,I.config);if(l.getUrl(I.config.customConfig)==J||!z(I))I.fireOnce('customConfigLoaded');}else l.scriptLoader.load(J,function(){if(l.editorConfig)K.fn=l.editorConfig;else K.fn=function(){};z(I);});return true;},A=function(I,J){I.on('customConfigLoaded',function(){if(J){if(J.on)for(var K in J.on)I.on(K,J.on[K]);p.extend(I.config,J,true);delete I.config.on;}B(I);});if(J&&J.customConfig!=undefined)I.config.customConfig=J.customConfig;if(!z(I))I.fireOnce('customConfigLoaded');},B=function(I){var J=I.config.skin.split(','),K=J[0],L=l.getUrl(J[1]||'skins/'+K+'/');I.skinName=K;I.skinPath=L;I.skinClass='cke_skin_'+K;I.tabIndex=I.config.tabIndex||I.element.getAttribute('tabindex')||0;I.fireOnce('configLoaded');E(I);},C=function(I){l.lang.load(I.config.language,I.config.defaultLanguage,function(J,K){I.langCode=J;I.lang=p.prototypedCopy(K);if(m.gecko&&m.version<10900&&I.lang.dir=='rtl')I.lang.dir='ltr';var L=I.config;L.contentsLangDirection=='ui'&&(L.contentsLangDirection=I.lang.dir);D(I);});},D=function(I){var J=I.config,K=J.plugins,L=J.extraPlugins,M=J.removePlugins;if(L){var N=new RegExp('(?:^|,)(?:'+L.replace(/\s*,\s*/g,'|')+')(?=,|$)','g');K=K.replace(N,'');K+=','+L;}if(M){N=new RegExp('(?:^|,)(?:'+M.replace(/\s*,\s*/g,'|')+')(?=,|$)','g');K=K.replace(N,'');}m.air&&(K+=',adobeair');u.load(K.split(','),function(O){var P=[],Q=[],R=[];I.plugins=O;
for(var S in O){var T=O[S],U=T.lang,V=u.getPath(S),W=null;T.path=V;if(U){W=p.indexOf(U,I.langCode)>=0?I.langCode:U[0];if(!T.lang[W])R.push(l.getUrl(V+'lang/'+W+'.js'));else{p.extend(I.lang,T.lang[W]);W=null;}}Q.push(W);P.push(T);}l.scriptLoader.load(R,function(){var X=['beforeInit','init','afterInit'];for(var Y=0;Y<X.length;Y++)for(var Z=0;Z<P.length;Z++){var aa=P[Z];if(Y===0&&Q[Z]&&aa.lang)p.extend(I.lang,aa.lang[Q[Z]]);if(aa[X[Y]])aa[X[Y]](I);}I.fire('pluginsLoaded');F(I);});});},E=function(I){l.skins.load(I,'editor',function(){C(I);});},F=function(I){var J=I.config.theme;l.themes.load(J,function(){var K=I.theme=l.themes.get(J);K.path=l.themes.getPath(J);K.build(I);if(I.config.autoUpdateElement)G(I);});},G=function(I){var J=I.element;if(I.elementMode==1&&J.is('textarea')){var K=J.$.form&&new s(J.$.form);if(K){function L(){I.updateElement();};K.on('submit',L);if(!K.$.submit.nodeName&&!K.$.submit.length)K.$.submit=p.override(K.$.submit,function(M){return function(){I.updateElement();if(M.apply)M.apply(this,arguments);else M();};});I.on('destroy',function(){K.removeListener('submit',L);});}}};function H(){var I,J=this._.commands,K=this.mode;for(var L in J){I=J[L];I[I.startDisabled?'disable':I.modes[K]?'enable':'disable']();}};l.editor.prototype._init=function(){var K=this;var I=s.get(K._.element),J=K._.instanceConfig;delete K._.element;delete K._.instanceConfig;K._.commands={};K._.styles=[];K.element=I;K.name=I&&K.elementMode==1&&(I.getId()||I.getNameAtt())||x();if(K.name in l.instances)throw '[CKEDITOR.editor] The instance "'+K.name+'" already exists.';K.id=p.getNextId();K.config=p.prototypedCopy(t);K.ui=new v(K);K.focusManager=new l.focusManager(K);l.fire('instanceCreated',null,K);K.on('mode',H,null,null,1);A(K,J);};})();p.extend(l.editor.prototype,{addCommand:function(w,x){return this._.commands[w]=new l.command(this,x);},addCss:function(w){this._.styles.push(w);},destroy:function(w){var x=this;if(!w)x.updateElement();x.theme&&x.theme.destroy(x);x.fire('destroy');l.remove(x);l.fire('instanceDestroyed',null,x);},execCommand:function(w,x){var y=this.getCommand(w),z={name:w,commandData:x,command:y};if(y&&y.state!=0)if(this.fire('beforeCommandExec',z)!==true){z.returnValue=y.exec(z.commandData);if(!y.async&&this.fire('afterCommandExec',z)!==true)return z.returnValue;}return false;},getCommand:function(w){return this._.commands[w];},getData:function(){var y=this;y.fire('beforeGetData');var w=y._.data;if(typeof w!='string'){var x=y.element;if(x&&y.elementMode==1)w=x.is('textarea')?x.getValue():x.getHtml();
else w='';}w={dataValue:w};y.fire('getData',w);return w.dataValue;},getSnapshot:function(){var w=this.fire('getSnapshot');if(typeof w!='string'){var x=this.element;if(x&&this.elementMode==1)w=x.is('textarea')?x.getValue():x.getHtml();}return w;},loadSnapshot:function(w){this.fire('loadSnapshot',w);},setData:function(w,x){if(x)this.on('dataReady',function(z){z.removeListener();x.call(z.editor);});var y={dataValue:w};this.fire('setData',y);this._.data=y.dataValue;this.fire('afterSetData',y);},insertHtml:function(w){this.fire('insertHtml',w);},insertText:function(w){this.fire('insertText',w);},insertElement:function(w){this.fire('insertElement',w);},checkDirty:function(){return this.mayBeDirty&&this._.previousValue!==this.getSnapshot();},resetDirty:function(){if(this.mayBeDirty)this._.previousValue=this.getSnapshot();},updateElement:function(){var y=this;var w=y.element;if(w&&y.elementMode==1){var x=y.getData();if(y.config.htmlEncodeOutput)x=p.htmlEncode(x);if(w.is('textarea'))w.setValue(x);else w.setHtml(x);}}});l.on('loaded',function(){var w=l.editor._pending;if(w){delete l.editor._pending;for(var x=0;x<w.length;x++)w[x]._init();}});l.htmlParser=function(){this._={htmlPartsRegex:new RegExp("<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)-->)|(?:([^\\s>]+)\\s*((?:(?:[^\"'>]+)|(?:\"[^\"]*\")|(?:'[^']*'))*)\\/?>))",'g')};};(function(){var w=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,x={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};l.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(y){var L=this;var z,A,B=0,C;while(z=L._.htmlPartsRegex.exec(y)){var D=z.index;if(D>B){var E=y.substring(B,D);if(C)C.push(E);else L.onText(E);}B=L._.htmlPartsRegex.lastIndex;if(A=z[1]){A=A.toLowerCase();if(C&&q.$cdata[A]){L.onCDATA(C.join(''));C=null;}if(!C){L.onTagClose(A);continue;}}if(C){C.push(z[0]);continue;}if(A=z[3]){A=A.toLowerCase();if(/="/.test(A))continue;var F={},G,H=z[4],I=!!(H&&H.charAt(H.length-1)=='/');if(H)while(G=w.exec(H)){var J=G[1].toLowerCase(),K=G[2]||G[3]||G[4]||'';if(!K&&x[J])F[J]=J;else F[J]=K;}L.onTagOpen(A,F,I);if(!C&&q.$cdata[A])C=[];continue;}if(A=z[2])L.onComment(A);}if(y.length>B)L.onText(y.substring(B,y.length));}};})();l.htmlParser.comment=function(w){this.value=w;this._={isBlockLike:false};};l.htmlParser.comment.prototype={type:8,writeHtml:function(w,x){var y=this.value;
if(x){if(!(y=x.onComment(y,this)))return;if(typeof y!='string'){y.parent=this.parent;y.writeHtml(w,x);return;}}w.comment(y);}};(function(){var w=/[\t\r\n ]{2,}|[\t\r\n]/g;l.htmlParser.text=function(x){this.value=x;this._={isBlockLike:false};};l.htmlParser.text.prototype={type:3,writeHtml:function(x,y){var z=this.value;if(y&&!(z=y.onText(z,this)))return;x.text(z);}};})();(function(){l.htmlParser.cdata=function(w){this.value=w;};l.htmlParser.cdata.prototype={type:3,writeHtml:function(w){w.write(this.value);}};})();l.htmlParser.fragment=function(){this.children=[];this.parent=null;this._={isBlockLike:true,hasInlineStarted:false};};(function(){var w={colgroup:1,dd:1,dt:1,li:1,option:1,p:1,td:1,tfoot:1,th:1,thead:1,tr:1},x=p.extend({table:1,ul:1,ol:1,dl:1},q.table,q.ul,q.ol,q.dl),y=q.$list,z=q.$listItem;l.htmlParser.fragment.fromHtml=function(A,B){var C=new l.htmlParser(),D=[],E=new l.htmlParser.fragment(),F=[],G=[],H=E,I=false,J;function K(P){var Q;if(F.length>0)for(var R=0;R<F.length;R++){var S=F[R],T=S.name,U=q[T],V=H.name&&q[H.name];if((!V||V[T])&&(!P||!U||U[P]||!q[P])){if(!Q){L();Q=1;}S=S.clone();S.parent=H;H=S;F.splice(R,1);R--;}}};function L(P){while(G.length-(P||0)>0)H.add(G.shift());};function M(P,Q,R){Q=Q||H||E;if(B&&!Q.type){var S,T;if(P.attributes&&(T=P.attributes['data-cke-real-element-type']))S=T;else S=P.name;if(S&&S in q.$inline){var U=H;H=Q;C.onTagOpen(B,{});Q=H;if(R)H=U;}}if(P._.isBlockLike&&P.name!='pre'){var V=P.children.length,W=P.children[V-1],X;if(W&&W.type==3)if(!(X=p.rtrim(W.value)))P.children.length=V-1;else W.value=X;}Q.add(P);if(P.returnPoint){H=P.returnPoint;delete P.returnPoint;}};C.onTagOpen=function(P,Q,R){var S=new l.htmlParser.element(P,Q);if(S.isUnknown&&R)S.isEmpty=true;if(q.$removeEmpty[P]){F.push(S);return;}else if(P=='pre')I=true;else if(P=='br'&&I){H.add(new l.htmlParser.text('\n'));return;}if(P=='br'){G.push(S);return;}var T=H.name,U=T&&(q[T]||(H._.isBlockLike?q.div:q.span));if(U&&!S.isUnknown&&!H.isUnknown&&!U[P]){var V=false,W;if(P in y&&T in y){var X=H.children,Y=X[X.length-1];if(!(Y&&Y.name in z))M(Y=new l.htmlParser.element('li'),H);J=H,W=Y;}else if(P==T)M(H,H.parent);else if(P in q.$listItem){C.onTagOpen('ul',{});W=H;V=true;}else{if(x[T]){if(!J)J=H;}else{M(H,H.parent,true);if(!w[T])F.unshift(H);}V=true;}if(W)H=W;else H=H.returnPoint||H.parent;if(V){C.onTagOpen.apply(this,arguments);return;}}K(P);L();S.parent=H;S.returnPoint=J;J=0;if(S.isEmpty)M(S);else H=S;};C.onTagClose=function(P){for(var Q=F.length-1;Q>=0;Q--){if(P==F[Q].name){F.splice(Q,1);
return;}}var R=[],S=[],T=H;while(T.type&&T.name!=P){if(!T._.isBlockLike)S.unshift(T);R.push(T);T=T.parent;}if(T.type){for(Q=0;Q<R.length;Q++){var U=R[Q];M(U,U.parent);}H=T;if(H.name=='pre')I=false;if(T._.isBlockLike)L();M(T,T.parent);if(T==H)H=H.parent;F=F.concat(S);}if(P=='body')B=false;};C.onText=function(P){if(!H._.hasInlineStarted&&!I){P=p.ltrim(P);if(P.length===0)return;}L();K();if(B&&(!H.type||H.name=='body')&&p.trim(P))this.onTagOpen(B,{});if(!I)P=P.replace(/[\t\r\n ]{2,}|[\t\r\n]/g,' ');H.add(new l.htmlParser.text(P));};C.onCDATA=function(P){H.add(new l.htmlParser.cdata(P));};C.onComment=function(P){L();K();H.add(new l.htmlParser.comment(P));};C.parse(A);L(!n&&1);while(H.type){var N=H.parent,O=H;if(B&&(!N.type||N.name=='body')&&!q.$body[O.name]){H=N;C.onTagOpen(B,{});N=H;}N.add(O);H=N;}return E;};l.htmlParser.fragment.prototype={add:function(A){var D=this;var B=D.children.length,C=B>0&&D.children[B-1]||null;if(C){if(A._.isBlockLike&&C.type==3){C.value=p.rtrim(C.value);if(C.value.length===0){D.children.pop();D.add(A);return;}}C.next=A;}A.previous=C;A.parent=D;D.children.push(A);D._.hasInlineStarted=A.type==3||A.type==1&&!A._.isBlockLike;},writeHtml:function(A,B){var C;this.filterChildren=function(){var D=new l.htmlParser.basicWriter();this.writeChildrenHtml.call(this,D,B,true);var E=D.getHtml();this.children=new l.htmlParser.fragment.fromHtml(E).children;C=1;};!this.name&&B&&B.onFragment(this);this.writeChildrenHtml(A,C?null:B);},writeChildrenHtml:function(A,B){for(var C=0;C<this.children.length;C++)this.children[C].writeHtml(A,B);}};})();l.htmlParser.element=function(w,x){var D=this;D.name=w;D.attributes=x||(x={});D.children=[];var y=x['data-cke-real-element-type']||w,z=y.match(/^cke:(.*)/);z&&(y=z[1]);var A=q,B=!!(A.$nonBodyContent[y]||A.$block[y]||A.$listItem[y]||A.$tableContent[y]||A.$nonEditable[y]||y=='br'),C=!!A.$empty[w];D.isEmpty=C;D.isUnknown=!A[w];D._={isBlockLike:B,hasInlineStarted:C||!B};};(function(){var w=function(x,y){x=x[0];y=y[0];return x<y?-1:x>y?1:0;};l.htmlParser.element.prototype={type:1,add:l.htmlParser.fragment.prototype.add,clone:function(){return new l.htmlParser.element(this.name,this.attributes);},writeHtml:function(x,y){var z=this.attributes,A=this,B=A.name,C,D,E,F;A.filterChildren=function(){if(!F){var K=new l.htmlParser.basicWriter();l.htmlParser.fragment.prototype.writeChildrenHtml.call(A,K,y);A.children=new l.htmlParser.fragment.fromHtml(K.getHtml()).children;F=1;}};if(y){for(;;){if(!(B=y.onElementName(B)))return;A.name=B;
if(!(A=y.onElement(A)))return;A.parent=this.parent;if(A.name==B)break;if(A.type!=1){A.writeHtml(x,y);return;}B=A.name;if(!B){this.writeChildrenHtml.call(A,x,F?null:y);return;}}z=A.attributes;}x.openTag(B,z);var G=[];for(var H=0;H<2;H++)for(C in z){D=C;E=z[C];if(H==1)G.push([C,E]);else if(y){for(;;){if(!(D=y.onAttributeName(C))){delete z[C];break;}else if(D!=C){delete z[C];C=D;continue;}else break;}if(D)if((E=y.onAttribute(A,D,E))===false)delete z[D];else z[D]=E;}}if(x.sortAttributes)G.sort(w);var I=G.length;for(H=0;H<I;H++){var J=G[H];x.attribute(J[0],J[1]);}x.openTagClose(B,A.isEmpty);if(!A.isEmpty){this.writeChildrenHtml.call(A,x,F?null:y);x.closeTag(B);}},writeChildrenHtml:function(x,y){l.htmlParser.fragment.prototype.writeChildrenHtml.apply(this,arguments);}};})();(function(){l.htmlParser.filter=p.createClass({$:function(B){this._={elementNames:[],attributeNames:[],elements:{$length:0},attributes:{$length:0}};if(B)this.addRules(B,10);},proto:{addRules:function(B,C){var D=this;if(typeof C!='number')C=10;x(D._.elementNames,B.elementNames,C);x(D._.attributeNames,B.attributeNames,C);y(D._.elements,B.elements,C);y(D._.attributes,B.attributes,C);D._.text=z(D._.text,B.text,C)||D._.text;D._.comment=z(D._.comment,B.comment,C)||D._.comment;D._.root=z(D._.root,B.root,C)||D._.root;},onElementName:function(B){return w(B,this._.elementNames);},onAttributeName:function(B){return w(B,this._.attributeNames);},onText:function(B){var C=this._.text;return C?C.filter(B):B;},onComment:function(B,C){var D=this._.comment;return D?D.filter(B,C):B;},onFragment:function(B){var C=this._.root;return C?C.filter(B):B;},onElement:function(B){var G=this;var C=[G._.elements['^'],G._.elements[B.name],G._.elements.$],D,E;for(var F=0;F<3;F++){D=C[F];if(D){E=D.filter(B,G);if(E===false)return null;if(E&&E!=B)return G.onNode(E);if(B.parent&&!B.name)break;}}return B;},onNode:function(B){var C=B.type;return C==1?this.onElement(B):C==3?new l.htmlParser.text(this.onText(B.value)):C==8?new l.htmlParser.comment(this.onComment(B.value)):null;},onAttribute:function(B,C,D){var E=this._.attributes[C];if(E){var F=E.filter(D,B,this);if(F===false)return false;if(typeof F!='undefined')return F;}return D;}}});function w(B,C){for(var D=0;B&&D<C.length;D++){var E=C[D];B=B.replace(E[0],E[1]);}return B;};function x(B,C,D){if(typeof C=='function')C=[C];var E,F,G=B.length,H=C&&C.length;if(H){for(E=0;E<G&&B[E].pri<D;E++){}for(F=H-1;F>=0;F--){var I=C[F];if(I){I.pri=D;B.splice(E,0,I);}}}};function y(B,C,D){if(C)for(var E in C){var F=B[E];
B[E]=z(F,C[E],D);if(!F)B.$length++;}};function z(B,C,D){if(C){C.pri=D;if(B){if(!B.splice){if(B.pri>D)B=[C,B];else B=[B,C];B.filter=A;}else x(B,C,D);return B;}else{C.filter=C;return C;}}};function A(B){var C=B.type||B instanceof l.htmlParser.fragment;for(var D=0;D<this.length;D++){if(C)var E=B.type,F=B.name;var G=this[D],H=G.apply(window,arguments);if(H===false)return H;if(C){if(H&&(H.name!=F||H.type!=E))return H;}else if(typeof H!='string')return H;H!=undefined&&(B=H);}return B;};})();l.htmlParser.basicWriter=p.createClass({$:function(){this._={output:[]};},proto:{openTag:function(w,x){this._.output.push('<',w);},openTagClose:function(w,x){if(x)this._.output.push(' />');else this._.output.push('>');},attribute:function(w,x){if(typeof x=='string')x=p.htmlEncodeAttr(x);this._.output.push(' ',w,'="',x,'"');},closeTag:function(w){this._.output.push('</',w,'>');},text:function(w){this._.output.push(w);},comment:function(w){this._.output.push('<!--',w,'-->');},write:function(w){this._.output.push(w);},reset:function(){this._.output=[];this._.indent=false;},getHtml:function(w){var x=this._.output.join('');if(w)this.reset();return x;}}});delete l.loadFullCore;l.instances={};l.document=new r(document);l.add=function(w){l.instances[w.name]=w;w.on('focus',function(){if(l.currentInstance!=w){l.currentInstance=w;l.fire('currentInstance');}});w.on('blur',function(){if(l.currentInstance==w){l.currentInstance=null;l.fire('currentInstance');}});};l.remove=function(w){delete l.instances[w.name];};l.on('instanceDestroyed',function(){if(p.isEmpty(this.instances))l.fire('reset');});l.TRISTATE_ON=1;l.TRISTATE_OFF=2;l.TRISTATE_DISABLED=0;o.comment=p.createClass({base:o.node,$:function(w,x){if(typeof w=='string')w=(x?x.$:document).createComment(w);this.base(w);},proto:{type:8,getOuterHtml:function(){return '<!--'+this.$.nodeValue+'-->';}}});(function(){var w={address:1,blockquote:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,li:1,dt:1,dd:1,legend:1},x={body:1,div:1,table:1,tbody:1,tr:1,td:1,th:1,caption:1,form:1,fieldset:1},y=function(z){var A=z.getChildren();for(var B=0,C=A.count();B<C;B++){var D=A.getItem(B);if(D.type==1&&q.$block[D.getName()])return true;}return false;};o.elementPath=function(z){var F=this;var A=null,B=null,C=[],D=z;while(D){if(D.type==1){if(!F.lastElement)F.lastElement=D;var E=D.getName();if(n&&D.$.scopeName!='HTML')E=D.$.scopeName.toLowerCase()+':'+E;if(!B){if(!A&&w[E])A=D;if(x[E])if(!A&&E=='div'&&!y(D))A=D;else B=D;}C.push(D);if(E=='body')break;}D=D.getParent();
}F.block=A;F.blockLimit=B;F.elements=C;};})();o.elementPath.prototype={compare:function(w){var x=this.elements,y=w&&w.elements;if(!y||x.length!=y.length)return false;for(var z=0;z<x.length;z++){if(!x[z].equals(y[z]))return false;}return true;},contains:function(w){var x=this.elements;for(var y=0;y<x.length;y++){if(x[y].getName() in w)return x[y];}return null;}};o.text=function(w,x){if(typeof w=='string')w=(x?x.$:document).createTextNode(w);this.$=w;};o.text.prototype=new o.node();p.extend(o.text.prototype,{type:3,getLength:function(){return this.$.nodeValue.length;},getText:function(){return this.$.nodeValue;},split:function(w){var B=this;if(n&&w==B.getLength()){var x=B.getDocument().createText('');x.insertAfter(B);return x;}var y=B.getDocument(),z=new o.text(B.$.splitText(w),y);if(m.ie8){var A=new o.text('',y);A.insertAfter(z);A.remove();}return z;},substring:function(w,x){if(typeof x!='number')return this.$.nodeValue.substr(w);else return this.$.nodeValue.substring(w,x);}});o.documentFragment=function(w){w=w||l.document;this.$=w.$.createDocumentFragment();};p.extend(o.documentFragment.prototype,s.prototype,{type:11,insertAfterNode:function(w){w=w.$;w.parentNode.insertBefore(this.$,w.nextSibling);}},true,{append:1,appendBogus:1,getFirst:1,getLast:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1});(function(){function w(D,E){if(this._.end)return null;var F,G=this.range,H,I=this.guard,J=this.type,K=D?'getPreviousSourceNode':'getNextSourceNode';if(!this._.start){this._.start=1;G.trim();if(G.collapsed){this.end();return null;}}if(!D&&!this._.guardLTR){var L=G.endContainer,M=L.getChild(G.endOffset);this._.guardLTR=function(Q,R){return(!R||!L.equals(Q))&&(!M||!Q.equals(M))&&(Q.type!=1||!R||Q.getName()!='body');};}if(D&&!this._.guardRTL){var N=G.startContainer,O=G.startOffset>0&&N.getChild(G.startOffset-1);this._.guardRTL=function(Q,R){return(!R||!N.equals(Q))&&(!O||!Q.equals(O))&&(Q.type!=1||!R||Q.getName()!='body');};}var P=D?this._.guardRTL:this._.guardLTR;if(I)H=function(Q,R){if(P(Q,R)===false)return false;return I(Q,R);};else H=P;if(this.current)F=this.current[K](false,J,H);else if(D){F=G.endContainer;if(G.endOffset>0){F=F.getChild(G.endOffset-1);if(H(F)===false)F=null;}else F=H(F,true)===false?null:F.getPreviousSourceNode(true,J,H);}else{F=G.startContainer;F=F.getChild(G.startOffset);if(F){if(H(F)===false)F=null;}else F=H(G.startContainer,true)===false?null:G.startContainer.getNextSourceNode(true,J,H);
}while(F&&!this._.end){this.current=F;if(!this.evaluator||this.evaluator(F)!==false){if(!E)return F;}else if(E&&this.evaluator)return false;F=F[K](false,J,H);}this.end();return this.current=null;};function x(D){var E,F=null;while(E=w.call(this,D))F=E;return F;};o.walker=p.createClass({$:function(D){this.range=D;this._={};},proto:{end:function(){this._.end=1;},next:function(){return w.call(this);},previous:function(){return w.call(this,1);},checkForward:function(){return w.call(this,0,1)!==false;},checkBackward:function(){return w.call(this,1,1)!==false;},lastForward:function(){return x.call(this);},lastBackward:function(){return x.call(this,1);},reset:function(){delete this.current;this._={};}}});var y={block:1,'list-item':1,table:1,'table-row-group':1,'table-header-group':1,'table-footer-group':1,'table-row':1,'table-column-group':1,'table-column':1,'table-cell':1,'table-caption':1};s.prototype.isBlockBoundary=function(D){var E=p.extend({},q.$block,D||{});return this.getComputedStyle('float')=='none'&&y[this.getComputedStyle('display')]||E[this.getName()];};o.walker.blockBoundary=function(D){return function(E,F){return!(E.type==1&&E.isBlockBoundary(D));};};o.walker.listItemBoundary=function(){return this.blockBoundary({br:1});};o.walker.bookmark=function(D,E){function F(G){return G&&G.getName&&G.getName()=='span'&&G.data('cke-bookmark');};return function(G){var H,I;H=G&&!G.getName&&(I=G.getParent())&&F(I);H=D?H:H||F(G);return!!(E^H);};};o.walker.whitespaces=function(D){return function(E){var F=E&&E.type==3&&!p.trim(E.getText());return!!(D^F);};};o.walker.invisible=function(D){var E=o.walker.whitespaces();return function(F){var G=E(F)||F.is&&!F.$.offsetHeight;return!!(D^G);};};o.walker.nodeType=function(D,E){return function(F){return!!(E^F.type==D);};};var z=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,A=o.walker.whitespaces(),B=o.walker.bookmark(),C=function(D){return B(D)||A(D)||D.type==1&&D.getName() in q.$inline&&!(D.getName() in q.$empty);};s.prototype.getBogus=function(){var D=this;do D=D.getPreviousSourceNode();while(C(D))if(D&&(!n?D.is&&D.is('br'):D.getText&&z.test(D.getText())))return D;return false;};})();o.range=function(w){var x=this;x.startContainer=null;x.startOffset=null;x.endContainer=null;x.endOffset=null;x.collapsed=true;x.document=w;};(function(){var w=function(E){E.collapsed=E.startContainer&&E.endContainer&&E.startContainer.equals(E.endContainer)&&E.startOffset==E.endOffset;},x=function(E,F,G,H){E.optimizeBookmark();var I=E.startContainer,J=E.endContainer,K=E.startOffset,L=E.endOffset,M,N;
if(J.type==3)J=J.split(L);else if(J.getChildCount()>0)if(L>=J.getChildCount()){J=J.append(E.document.createText(''));N=true;}else J=J.getChild(L);if(I.type==3){I.split(K);if(I.equals(J))J=I.getNext();}else if(!K){I=I.getFirst().insertBeforeMe(E.document.createText(''));M=true;}else if(K>=I.getChildCount()){I=I.append(E.document.createText(''));M=true;}else I=I.getChild(K).getPrevious();var O=I.getParents(),P=J.getParents(),Q,R,S;for(Q=0;Q<O.length;Q++){R=O[Q];S=P[Q];if(!R.equals(S))break;}var T=G,U,V,W,X;for(var Y=Q;Y<O.length;Y++){U=O[Y];if(T&&!U.equals(I))V=T.append(U.clone());W=U.getNext();while(W){if(W.equals(P[Y])||W.equals(J))break;X=W.getNext();if(F==2)T.append(W.clone(true));else{W.remove();if(F==1)T.append(W);}W=X;}if(T)T=V;}T=G;for(var Z=Q;Z<P.length;Z++){U=P[Z];if(F>0&&!U.equals(J))V=T.append(U.clone());if(!O[Z]||U.$.parentNode!=O[Z].$.parentNode){W=U.getPrevious();while(W){if(W.equals(O[Z])||W.equals(I))break;X=W.getPrevious();if(F==2)T.$.insertBefore(W.$.cloneNode(true),T.$.firstChild);else{W.remove();if(F==1)T.$.insertBefore(W.$,T.$.firstChild);}W=X;}}if(T)T=V;}if(F==2){var aa=E.startContainer;if(aa.type==3){aa.$.data+=aa.$.nextSibling.data;aa.$.parentNode.removeChild(aa.$.nextSibling);}var ab=E.endContainer;if(ab.type==3&&ab.$.nextSibling){ab.$.data+=ab.$.nextSibling.data;ab.$.parentNode.removeChild(ab.$.nextSibling);}}else{if(R&&S&&(I.$.parentNode!=R.$.parentNode||J.$.parentNode!=S.$.parentNode)){var ac=S.getIndex();if(M&&S.$.parentNode==I.$.parentNode)ac--;if(H&&R.type==1){var ad=s.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',E.document);ad.insertAfter(R);R.mergeSiblings(false);E.moveToBookmark({startNode:ad});}else E.setStart(S.getParent(),ac);}E.collapse(true);}if(M)I.remove();if(N&&J.$.parentNode)J.remove();},y={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,'var':1};function z(E){var F=false,G=o.walker.bookmark(true);return function(H){if(G(H))return true;if(H.type==3){if(p.trim(H.getText()).length)return false;}else if(H.type==1)if(!y[H.getName()])if(!E&&!n&&H.getName()=='br'&&!F)F=true;else return false;return true;};};function A(E){return E.type!=3&&E.getName() in q.$removeEmpty||!p.trim(E.getText())||!!E.getParent().data('cke-bookmark');};var B=new o.walker.whitespaces(),C=new o.walker.bookmark();function D(E){return!B(E)&&!C(E);};o.range.prototype={clone:function(){var F=this;var E=new o.range(F.document);
E.startContainer=F.startContainer;E.startOffset=F.startOffset;E.endContainer=F.endContainer;E.endOffset=F.endOffset;E.collapsed=F.collapsed;return E;},collapse:function(E){var F=this;if(E){F.endContainer=F.startContainer;F.endOffset=F.startOffset;}else{F.startContainer=F.endContainer;F.startOffset=F.endOffset;}F.collapsed=true;},cloneContents:function(){var E=new o.documentFragment(this.document);if(!this.collapsed)x(this,2,E);return E;},deleteContents:function(E){if(this.collapsed)return;x(this,0,null,E);},extractContents:function(E){var F=new o.documentFragment(this.document);if(!this.collapsed)x(this,1,F,E);return F;},createBookmark:function(E){var K=this;var F,G,H,I,J=K.collapsed;F=K.document.createElement('span');F.data('cke-bookmark',1);F.setStyle('display','none');F.setHtml('&nbsp;');if(E){H='cke_bm_'+p.getNextNumber();F.setAttribute('id',H+'S');}if(!J){G=F.clone();G.setHtml('&nbsp;');if(E)G.setAttribute('id',H+'E');I=K.clone();I.collapse();I.insertNode(G);}I=K.clone();I.collapse(true);I.insertNode(F);if(G){K.setStartAfter(F);K.setEndBefore(G);}else K.moveToPosition(F,4);return{startNode:E?H+'S':F,endNode:E?H+'E':G,serializable:E,collapsed:J};},createBookmark2:function(E){var M=this;var F=M.startContainer,G=M.endContainer,H=M.startOffset,I=M.endOffset,J=M.collapsed,K,L;if(!F||!G)return{start:0,end:0};if(E){if(F.type==1){K=F.getChild(H);if(K&&K.type==3&&H>0&&K.getPrevious().type==3){F=K;H=0;}}while(F.type==3&&(L=F.getPrevious())&&L.type==3){F=L;H+=L.getLength();}if(!J){if(G.type==1){K=G.getChild(I);if(K&&K.type==3&&I>0&&K.getPrevious().type==3){G=K;I=0;}}while(G.type==3&&(L=G.getPrevious())&&L.type==3){G=L;I+=L.getLength();}}}return{start:F.getAddress(E),end:J?null:G.getAddress(E),startOffset:H,endOffset:I,normalized:E,collapsed:J,is2:true};},moveToBookmark:function(E){var M=this;if(E.is2){var F=M.document.getByAddress(E.start,E.normalized),G=E.startOffset,H=E.end&&M.document.getByAddress(E.end,E.normalized),I=E.endOffset;M.setStart(F,G);if(H)M.setEnd(H,I);else M.collapse(true);}else{var J=E.serializable,K=J?M.document.getById(E.startNode):E.startNode,L=J?M.document.getById(E.endNode):E.endNode;M.setStartBefore(K);K.remove();if(L){M.setEndBefore(L);L.remove();}else M.collapse(true);}},getBoundaryNodes:function(){var J=this;var E=J.startContainer,F=J.endContainer,G=J.startOffset,H=J.endOffset,I;if(E.type==1){I=E.getChildCount();if(I>G)E=E.getChild(G);else if(I<1)E=E.getPreviousSourceNode();else{E=E.$;while(E.lastChild)E=E.lastChild;E=new o.node(E);E=E.getNextSourceNode()||E;
}}if(F.type==1){I=F.getChildCount();if(I>H)F=F.getChild(H).getPreviousSourceNode(true);else if(I<1)F=F.getPreviousSourceNode();else{F=F.$;while(F.lastChild)F=F.lastChild;F=new o.node(F);}}if(E.getPosition(F)&2)E=F;return{startNode:E,endNode:F};},getCommonAncestor:function(E,F){var J=this;var G=J.startContainer,H=J.endContainer,I;if(G.equals(H)){if(E&&G.type==1&&J.startOffset==J.endOffset-1)I=G.getChild(J.startOffset);else I=G;}else I=G.getCommonAncestor(H);return F&&!I.is?I.getParent():I;},optimize:function(){var G=this;var E=G.startContainer,F=G.startOffset;if(E.type!=1)if(!F)G.setStartBefore(E);else if(F>=E.getLength())G.setStartAfter(E);E=G.endContainer;F=G.endOffset;if(E.type!=1)if(!F)G.setEndBefore(E);else if(F>=E.getLength())G.setEndAfter(E);},optimizeBookmark:function(){var G=this;var E=G.startContainer,F=G.endContainer;if(E.is&&E.is('span')&&E.data('cke-bookmark'))G.setStartAt(E,3);if(F&&F.is&&F.is('span')&&F.data('cke-bookmark'))G.setEndAt(F,4);},trim:function(E,F){var M=this;var G=M.startContainer,H=M.startOffset,I=M.collapsed;if((!E||I)&&G&&G.type==3){if(!H){H=G.getIndex();G=G.getParent();}else if(H>=G.getLength()){H=G.getIndex()+1;G=G.getParent();}else{var J=G.split(H);H=G.getIndex()+1;G=G.getParent();if(M.startContainer.equals(M.endContainer))M.setEnd(J,M.endOffset-M.startOffset);else if(G.equals(M.endContainer))M.endOffset+=1;}M.setStart(G,H);if(I){M.collapse(true);return;}}var K=M.endContainer,L=M.endOffset;if(!(F||I)&&K&&K.type==3){if(!L){L=K.getIndex();K=K.getParent();}else if(L>=K.getLength()){L=K.getIndex()+1;K=K.getParent();}else{K.split(L);L=K.getIndex()+1;K=K.getParent();}M.setEnd(K,L);}},enlarge:function(E,F){switch(E){case 1:if(this.collapsed)return;var G=this.getCommonAncestor(),H=this.document.getBody(),I,J,K,L,M,N=false,O,P,Q=this.startContainer,R=this.startOffset;if(Q.type==3){if(R){Q=!p.trim(Q.substring(0,R)).length&&Q;N=!!Q;}if(Q)if(!(L=Q.getPrevious()))K=Q.getParent();}else{if(R)L=Q.getChild(R-1)||Q.getLast();if(!L)K=Q;}while(K||L){if(K&&!L){if(!M&&K.equals(G))M=true;if(!H.contains(K))break;if(!N||K.getComputedStyle('display')!='inline'){N=false;if(M)I=K;else this.setStartBefore(K);}L=K.getPrevious();}while(L){O=false;if(L.type==3){P=L.getText();if(/[^\s\ufeff]/.test(P))L=null;O=/[\s\ufeff]$/.test(P);}else if((L.$.offsetWidth>0||F&&L.is('br'))&&!L.data('cke-bookmark'))if(N&&q.$removeEmpty[L.getName()]){P=L.getText();if(/[^\s\ufeff]/.test(P))L=null;else{var S=L.$.all||L.$.getElementsByTagName('*');for(var T=0,U;U=S[T++];){if(!q.$removeEmpty[U.nodeName.toLowerCase()]){L=null;
break;}}}if(L)O=!!P.length;}else L=null;if(O)if(N){if(M)I=K;else if(K)this.setStartBefore(K);}else N=true;if(L){var V=L.getPrevious();if(!K&&!V){K=L;L=null;break;}L=V;}else K=null;}if(K)K=K.getParent();}Q=this.endContainer;R=this.endOffset;K=L=null;M=N=false;if(Q.type==3){Q=!p.trim(Q.substring(R)).length&&Q;N=!(Q&&Q.getLength());if(Q)if(!(L=Q.getNext()))K=Q.getParent();}else{L=Q.getChild(R);if(!L)K=Q;}while(K||L){if(K&&!L){if(!M&&K.equals(G))M=true;if(!H.contains(K))break;if(!N||K.getComputedStyle('display')!='inline'){N=false;if(M)J=K;else if(K)this.setEndAfter(K);}L=K.getNext();}while(L){O=false;if(L.type==3){P=L.getText();if(/[^\s\ufeff]/.test(P))L=null;O=/^[\s\ufeff]/.test(P);}else if((L.$.offsetWidth>0||F&&L.is('br'))&&!L.data('cke-bookmark'))if(N&&q.$removeEmpty[L.getName()]){P=L.getText();if(/[^\s\ufeff]/.test(P))L=null;else{S=L.$.all||L.$.getElementsByTagName('*');for(T=0;U=S[T++];){if(!q.$removeEmpty[U.nodeName.toLowerCase()]){L=null;break;}}}if(L)O=!!P.length;}else L=null;if(O)if(N)if(M)J=K;else this.setEndAfter(K);if(L){V=L.getNext();if(!K&&!V){K=L;L=null;break;}L=V;}else K=null;}if(K)K=K.getParent();}if(I&&J){G=I.contains(J)?J:I;this.setStartBefore(G);this.setEndAfter(G);}break;case 2:case 3:var W=new o.range(this.document);H=this.document.getBody();W.setStartAt(H,1);W.setEnd(this.startContainer,this.startOffset);var X=new o.walker(W),Y,Z,aa=o.walker.blockBoundary(E==3?{br:1}:null),ab=function(ad){var ae=aa(ad);if(!ae)Y=ad;return ae;},ac=function(ad){var ae=ab(ad);if(!ae&&ad.is&&ad.is('br'))Z=ad;return ae;};X.guard=ab;K=X.lastBackward();Y=Y||H;this.setStartAt(Y,!Y.is('br')&&(!K&&this.checkStartOfBlock()||K&&Y.contains(K))?1:4);W=this.clone();W.collapse();W.setEndAt(H,2);X=new o.walker(W);X.guard=E==3?ac:ab;Y=null;K=X.lastForward();Y=Y||H;this.setEndAt(Y,!K&&this.checkEndOfBlock()||K&&Y.contains(K)?2:3);if(Z)this.setEndAfter(Z);}},shrink:function(E,F){if(!this.collapsed){E=E||2;var G=this.clone(),H=this.startContainer,I=this.endContainer,J=this.startOffset,K=this.endOffset,L=this.collapsed,M=1,N=1;if(H&&H.type==3)if(!J)G.setStartBefore(H);else if(J>=H.getLength())G.setStartAfter(H);else{G.setStartBefore(H);M=0;}if(I&&I.type==3)if(!K)G.setEndBefore(I);else if(K>=I.getLength())G.setEndAfter(I);else{G.setEndAfter(I);N=0;}var O=new o.walker(G),P=o.walker.bookmark();O.evaluator=function(T){return T.type==(E==1?1:3);};var Q;O.guard=function(T,U){if(P(T))return true;if(E==1&&T.type==3)return false;if(U&&T.equals(Q))return false;if(!U&&T.type==1)Q=T;return true;
};if(M){var R=O[E==1?'lastForward':'next']();R&&this.setStartAt(R,F?1:3);}if(N){O.reset();var S=O[E==1?'lastBackward':'previous']();S&&this.setEndAt(S,F?2:4);}return!!(M||N);}},insertNode:function(E){var I=this;I.optimizeBookmark();I.trim(false,true);var F=I.startContainer,G=I.startOffset,H=F.getChild(G);if(H)E.insertBefore(H);else F.append(E);if(E.getParent().equals(I.endContainer))I.endOffset++;I.setStartBefore(E);},moveToPosition:function(E,F){this.setStartAt(E,F);this.collapse(true);},selectNodeContents:function(E){this.setStart(E,0);this.setEnd(E,E.type==3?E.getLength():E.getChildCount());},setStart:function(E,F){var G=this;if(E.type==1&&q.$empty[E.getName()])F=E.getIndex(),E=E.getParent();G.startContainer=E;G.startOffset=F;if(!G.endContainer){G.endContainer=E;G.endOffset=F;}w(G);},setEnd:function(E,F){var G=this;if(E.type==1&&q.$empty[E.getName()])F=E.getIndex()+1,E=E.getParent();G.endContainer=E;G.endOffset=F;if(!G.startContainer){G.startContainer=E;G.startOffset=F;}w(G);},setStartAfter:function(E){this.setStart(E.getParent(),E.getIndex()+1);},setStartBefore:function(E){this.setStart(E.getParent(),E.getIndex());},setEndAfter:function(E){this.setEnd(E.getParent(),E.getIndex()+1);},setEndBefore:function(E){this.setEnd(E.getParent(),E.getIndex());},setStartAt:function(E,F){var G=this;switch(F){case 1:G.setStart(E,0);break;case 2:if(E.type==3)G.setStart(E,E.getLength());else G.setStart(E,E.getChildCount());break;case 3:G.setStartBefore(E);break;case 4:G.setStartAfter(E);}w(G);},setEndAt:function(E,F){var G=this;switch(F){case 1:G.setEnd(E,0);break;case 2:if(E.type==3)G.setEnd(E,E.getLength());else G.setEnd(E,E.getChildCount());break;case 3:G.setEndBefore(E);break;case 4:G.setEndAfter(E);}w(G);},fixBlock:function(E,F){var I=this;var G=I.createBookmark(),H=I.document.createElement(F);I.collapse(E);I.enlarge(2);I.extractContents().appendTo(H);H.trim();if(!n)H.appendBogus();I.insertNode(H);I.moveToBookmark(G);return H;},splitBlock:function(E){var O=this;var F=new o.elementPath(O.startContainer),G=new o.elementPath(O.endContainer),H=F.blockLimit,I=G.blockLimit,J=F.block,K=G.block,L=null;if(!H.equals(I))return null;if(E!='br'){if(!J){J=O.fixBlock(true,E);K=new o.elementPath(O.endContainer).block;}if(!K)K=O.fixBlock(false,E);}var M=J&&O.checkStartOfBlock(),N=K&&O.checkEndOfBlock();O.deleteContents();if(J&&J.equals(K))if(N){L=new o.elementPath(O.startContainer);O.moveToPosition(K,4);K=null;}else if(M){L=new o.elementPath(O.startContainer);O.moveToPosition(J,3);J=null;
}else{K=O.splitElement(J);if(!n&&!J.is('ul','ol'))J.appendBogus();}return{previousBlock:J,nextBlock:K,wasStartOfBlock:M,wasEndOfBlock:N,elementPath:L};},splitElement:function(E){var H=this;if(!H.collapsed)return null;H.setEndAt(E,2);var F=H.extractContents(),G=E.clone(false);F.appendTo(G);G.insertAfter(E);H.moveToPosition(E,4);return G;},checkBoundaryOfElement:function(E,F){var G=F==1,H=this.clone();H.collapse(G);H[G?'setStartAt':'setEndAt'](E,G?1:2);var I=new o.walker(H);I.evaluator=A;return I[G?'checkBackward':'checkForward']();},checkStartOfBlock:function(){var K=this;var E=K.startContainer,F=K.startOffset;if(F&&E.type==3){var G=p.ltrim(E.substring(0,F));if(G.length)return false;}K.trim();var H=new o.elementPath(K.startContainer),I=K.clone();I.collapse(true);I.setStartAt(H.block||H.blockLimit,1);var J=new o.walker(I);J.evaluator=z(true);return J.checkBackward();},checkEndOfBlock:function(){var K=this;var E=K.endContainer,F=K.endOffset;if(E.type==3){var G=p.rtrim(E.substring(F));if(G.length)return false;}K.trim();var H=new o.elementPath(K.endContainer),I=K.clone();I.collapse(false);I.setEndAt(H.block||H.blockLimit,2);var J=new o.walker(I);J.evaluator=z(false);return J.checkForward();},checkReadOnly:(function(){function E(F,G){while(F){if(F.type==1)if(F.getAttribute('contentEditable')=='false'&&!F.data('cke-editable'))return 0;else if(F.is('body')||F.getAttribute('contentEditable')=='true'&&(F.contains(G)||F.equals(G)))break;F=F.getParent();}return 1;};return function(){var F=this.startContainer,G=this.endContainer;return!(E(F,G)&&E(G,F));};})(),moveToElementEditablePosition:function(E,F){var G;if(q.$empty[E.getName()])return false;while(E&&E.type==1){G=E.isEditable();if(G)this.moveToPosition(E,F?2:1);else if(q.$inline[E.getName()]){this.moveToPosition(E,F?4:3);return true;}if(q.$empty[E.getName()])E=E[F?'getPrevious':'getNext'](D);else E=E[F?'getLast':'getFirst'](D);if(E&&E.type==3){this.moveToPosition(E,F?4:3);return true;}}return G;},moveToElementEditStart:function(E){return this.moveToElementEditablePosition(E);},moveToElementEditEnd:function(E){return this.moveToElementEditablePosition(E,true);},getEnclosedNode:function(){var E=this.clone();E.optimize();if(E.startContainer.type!=1||E.endContainer.type!=1)return null;var F=new o.walker(E),G=o.walker.bookmark(true),H=o.walker.whitespaces(true),I=function(K){return H(K)&&G(K);};E.evaluator=I;var J=F.next();F.reset();return J&&J.equals(F.previous())?J:null;},getTouchedStartNode:function(){var E=this.startContainer;
if(this.collapsed||E.type!=1)return E;return E.getChild(this.startOffset)||E;},getTouchedEndNode:function(){var E=this.endContainer;if(this.collapsed||E.type!=1)return E;return E.getChild(this.endOffset-1)||E;}};})();l.POSITION_AFTER_START=1;l.POSITION_BEFORE_END=2;l.POSITION_BEFORE_START=3;l.POSITION_AFTER_END=4;l.ENLARGE_ELEMENT=1;l.ENLARGE_BLOCK_CONTENTS=2;l.ENLARGE_LIST_ITEM_CONTENTS=3;l.START=1;l.END=2;l.STARTEND=3;l.SHRINK_ELEMENT=1;l.SHRINK_TEXT=2;(function(){o.rangeList=function(y){if(y instanceof o.rangeList)return y;if(!y)y=[];else if(y instanceof o.range)y=[y];return p.extend(y,w);};var w={createIterator:function(){var y=this,z=o.walker.bookmark(),A=function(D){return!(D.is&&D.is('tr'));},B=[],C;return{getNextRange:function(D){C=C==undefined?0:C+1;var E=y[C];if(E&&y.length>1){if(!C)for(var F=y.length-1;F>=0;F--)B.unshift(y[F].createBookmark(true));if(D){var G=0;while(y[C+G+1]){var H=E.document,I=0,J=H.getById(B[G].endNode),K=H.getById(B[G+1].startNode),L;while(1){L=J.getNextSourceNode(false);if(!K.equals(L)){if(z(L)||L.type==1&&L.isBlockBoundary()){J=L;continue;}}else I=1;break;}if(!I)break;G++;}}E.moveToBookmark(B.shift());while(G--){L=y[++C];L.moveToBookmark(B.shift());E.setEnd(L.endContainer,L.endOffset);}}return E;}};},createBookmarks:function(y){var D=this;var z=[],A;for(var B=0;B<D.length;B++){z.push(A=D[B].createBookmark(y,true));for(var C=B+1;C<D.length;C++){D[C]=x(A,D[C]);D[C]=x(A,D[C],true);}}return z;},createBookmarks2:function(y){var z=[];for(var A=0;A<this.length;A++)z.push(this[A].createBookmark2(y));return z;},moveToBookmarks:function(y){for(var z=0;z<this.length;z++)this[z].moveToBookmark(y[z]);}};function x(y,z,A){var B=y.serializable,C=z[A?'endContainer':'startContainer'],D=A?'endOffset':'startOffset',E=B?z.document.getById(y.startNode):y.startNode,F=B?z.document.getById(y.endNode):y.endNode;if(C.equals(E.getPrevious())){z.startOffset=z.startOffset-C.getLength()-F.getPrevious().getLength();C=F.getNext();}else if(C.equals(F.getPrevious())){z.startOffset=z.startOffset-C.getLength();C=F.getNext();}C.equals(E.getParent())&&z[D]++;C.equals(F.getParent())&&z[D]++;z[A?'endContainer':'startContainer']=C;return z;};})();(function(){if(m.webkit){m.hc=false;return;}var w=n&&m.version<7,x=n&&m.version==7,y=w?l.basePath+'images/spacer.gif':x?'about:blank':'data:image/png;base64,',z=s.createFromHtml('<div style="width:0px;height:0px;position:absolute;left:-10000px;background-image:url('+y+')"></div>',l.document);z.appendTo(l.document.getHead());
try{m.hc=z.getComputedStyle('background-image')=='none';}catch(A){m.hc=false;}if(m.hc)m.cssClass+=' cke_hc';z.remove();})();u.load(t.corePlugins.split(','),function(){l.status='loaded';l.fire('loaded');var w=l._.pending;if(w){delete l._.pending;for(var x=0;x<w.length;x++)l.add(w[x]);}});if(n)try{document.execCommand('BackgroundImageCache',false,true);}catch(w){}l.skins.add('kama',(function(){var x='cke_ui_color';return{editor:{css:['editor.css']},dialog:{css:['dialog.css']},templates:{css:['templates.css']},margins:[0,0,0,0],init:function(y){if(y.config.width&&!isNaN(y.config.width))y.config.width-=12;var z=[],A=/\$color/g,B='/* UI Color Support */.cke_skin_kama .cke_menuitem .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_label,.cke_skin_kama .cke_menuitem a:focus .cke_label,.cke_skin_kama .cke_menuitem a:active .cke_label{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_label{\tbackground-color: transparent !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuseparator{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover,.cke_skin_kama .cke_menuitem a:focus,.cke_skin_kama .cke_menuitem a:active{\tbackground-color: $color !important;}';if(m.webkit){B=B.split('}').slice(0,-1);for(var C=0;C<B.length;C++)B[C]=B[C].split('{');}function D(G){var H=G.getById(x);if(!H){H=G.getHead().append('style');H.setAttribute('id',x);H.setAttribute('type','text/css');}return H;};function E(G,H,I){var J,K,L;for(var M=0;M<G.length;M++){if(m.webkit)for(K=0;K<H.length;K++){L=H[K][1];for(J=0;J<I.length;J++)L=L.replace(I[J][0],I[J][1]);G[M].$.sheet.addRule(H[K][0],L);}else{L=H;for(J=0;J<I.length;
J++)L=L.replace(I[J][0],I[J][1]);if(n)G[M].$.styleSheet.cssText+=L;else G[M].$.innerHTML+=L;}}};var F=/\$color/g;p.extend(y,{uiColor:null,getUiColor:function(){return this.uiColor;},setUiColor:function(G){var H,I=D(l.document),J='.'+y.id,K=[J+' .cke_wrapper',J+'_dialog .cke_dialog_contents',J+'_dialog a.cke_dialog_tab',J+'_dialog .cke_dialog_footer'].join(','),L='background-color: $color !important;';if(m.webkit)H=[[K,L]];else H=K+'{'+L+'}';return(this.setUiColor=function(M){var N=[[F,M]];y.uiColor=M;E([I],H,N);E(z,B,N);})(G);}});y.on('menuShow',function(G){var H=G.data[0],I=H.element.getElementsByTag('iframe').getItem(0).getFrameDocument();if(!I.getById('cke_ui_color')){var J=D(I);z.push(J);var K=y.getUiColor();if(K)E([J],B,[[F,K]]);}});if(y.config.uiColor)y.setUiColor(y.config.uiColor);}};})());(function(){l.dialog?x():l.on('dialogPluginReady',x);function x(){l.dialog.on('resize',function(y){var z=y.data,A=z.width,B=z.height,C=z.dialog,D=C.parts.contents;if(z.skin!='kama')return;D.setStyles({width:A+'px',height:B+'px'});});};})();l.lang.en={dir:'ltr',editorTitle:'Rich text editor, %1, press ALT 0 for help.',toolbar:'Toolbar',editor:'Rich Text Editor',source:'Wiki',newPage:'New Page',save:'Save',preview:'Preview',cut:'Cut',copy:'Copy',paste:'Paste',print:'Print',underline:'Underline',bold:'Bold',italic:'Italic',selectAll:'Select All',removeFormat:'Remove Format',strike:'Strike Through',subscript:'Subscript',superscript:'Superscript',horizontalrule:'Insert Horizontal Line',pagebreak:'Insert Page Break for Printing',pagebreakAlt:'Page Break',unlink:'Unlink',undo:'Undo',redo:'Redo',common:{browseServer:'Browse Server',url:'URL',protocol:'Protocol',upload:'Upload',uploadSubmit:'Send it to the Server',image:'Image',flash:'Flash',form:'Form',checkbox:'Checkbox',radio:'Radio Button',textField:'Text Field',textarea:'Textarea',hiddenField:'Hidden Field',button:'Button',select:'Selection Field',imageButton:'Image Button',notSet:'<not set>',id:'Id',name:'Name',langDir:'Language Direction',langDirLtr:'Left to Right (LTR)',langDirRtl:'Right to Left (RTL)',langCode:'Language Code',longDescr:'Long Description URL',cssClass:'Stylesheet Classes',advisoryTitle:'Advisory Title',cssStyle:'Style',ok:'OK',cancel:'Cancel',close:'Close',preview:'Preview',generalTab:'General',advancedTab:'Advanced',validateNumberFailed:'This value is not a number.',confirmNewPage:'Any unsaved changes to this content will be lost. Are you sure you want to load new page?',confirmCancel:'Some of the options have been changed. Are you sure to close the dialog?',options:'Options',target:'Target',targetNew:'New Window (_blank)',targetTop:'Topmost Window (_top)',targetSelf:'Same Window (_self)',targetParent:'Parent Window (_parent)',langDirLTR:'Left to Right (LTR)',langDirRTL:'Right to Left (RTL)',styles:'Style',cssClasses:'Stylesheet Classes',width:'Width',height:'Height',align:'Alignment',alignLeft:'Left',alignRight:'Right',alignCenter:'Center',alignTop:'Top',alignMiddle:'Middle',alignBottom:'Bottom',invalidHeight:'Height must be a number.',invalidWidth:'Width must be a number.',unavailable:'%1<span class="cke_accessibility">, unavailable</span>'},contextmenu:{options:'Context Menu Options'},specialChar:{toolbar:'Insert Special Character',title:'Select Special Character',options:'Special Character Options'},link:{toolbar:'Link',other:'<other>',menu:'Edit Link',title:'Link',info:'Link Info',target:'Target',upload:'Upload',advanced:'Advanced',type:'Link Type',toUrl:'URL',toAnchor:'Link to anchor in the text',toEmail:'E-mail',targetFrame:'<frame>',targetPopup:'<popup window>',targetFrameName:'Target Frame Name',targetPopupName:'Popup Window Name',popupFeatures:'Popup Window Features',popupResizable:'Resizable',popupStatusBar:'Status Bar',popupLocationBar:'Location Bar',popupToolbar:'Toolbar',popupMenuBar:'Menu Bar',popupFullScreen:'Full Screen (IE)',popupScrollBars:'Scroll Bars',popupDependent:'Dependent (Netscape)',popupLeft:'Left Position',popupTop:'Top Position',id:'Id',langDir:'Language Direction',langDirLTR:'Left to Right (LTR)',langDirRTL:'Right to Left (RTL)',acccessKey:'Access Key',name:'Name',langCode:'Language Code',tabIndex:'Tab Index',advisoryTitle:'Advisory Title',advisoryContentType:'Advisory Content Type',cssClasses:'Stylesheet Classes',charset:'Linked Resource Charset',styles:'Style',selectAnchor:'Select an Anchor',anchorName:'By Anchor Name',anchorId:'By Element Id',emailAddress:'E-Mail Address',emailSubject:'Message Subject',emailBody:'Message Body',noAnchors:'(No anchors available in the document)',noUrl:'Please type the link URL',noEmail:'Please type the e-mail address'},anchor:{toolbar:'Anchor',menu:'Edit Anchor',title:'Anchor Properties',name:'Anchor Name',errorName:'Please type the anchor name'},list:{numberedTitle:'Numbered List Properties',bulletedTitle:'Bulleted List Properties',type:'Type',start:'Start',validateStartNumber:'List start number must be a whole number.',circle:'Circle',disc:'Disc',square:'Square',none:'None',notset:'<not set>',armenian:'Armenian numbering',georgian:'Georgian numbering (an, ban, gan, etc.)',lowerRoman:'Lower Roman (i, ii, iii, iv, v, etc.)',upperRoman:'Upper Roman (I, II, III, IV, V, etc.)',lowerAlpha:'Lower Alpha (a, b, c, d, e, etc.)',upperAlpha:'Upper Alpha (A, B, C, D, E, etc.)',lowerGreek:'Lower Greek (alpha, beta, gamma, etc.)',decimal:'Decimal (1, 2, 3, etc.)',decimalLeadingZero:'Decimal leading zero (01, 02, 03, etc.)'},findAndReplace:{title:'Find and Replace',find:'Find',replace:'Replace',findWhat:'Find what:',replaceWith:'Replace with:',notFoundMsg:'The specified text was not found.',matchCase:'Match case',matchWord:'Match whole word',matchCyclic:'Match cyclic',replaceAll:'Replace All',replaceSuccessMsg:'%1 occurrence(s) replaced.'},table:{toolbar:'Table',title:'Table Properties',menu:'Table Properties',deleteTable:'Delete Table',rows:'Rows',columns:'Columns',border:'Border size',widthPx:'pixels',widthPc:'percent',widthUnit:'width unit',cellSpace:'Cell spacing',cellPad:'Cell padding',caption:'Caption',summary:'Summary',headers:'Headers',headersNone:'None',headersColumn:'First column',headersRow:'First Row',headersBoth:'Both',invalidRows:'Number of rows must be a number greater than 0.',invalidCols:'Number of columns must be a number greater than 0.',invalidBorder:'Border size must be a number.',invalidWidth:'Table width must be a number.',invalidHeight:'Table height must be a number.',invalidCellSpacing:'Cell spacing must be a number.',invalidCellPadding:'Cell padding must be a number.',cell:{menu:'Cell',insertBefore:'Insert Cell Before',insertAfter:'Insert Cell After',deleteCell:'Delete Cells',merge:'Merge Cells',mergeRight:'Merge Right',mergeDown:'Merge Down',splitHorizontal:'Split Cell Horizontally',splitVertical:'Split Cell Vertically',title:'Cell Properties',cellType:'Cell Type',rowSpan:'Rows Span',colSpan:'Columns Span',wordWrap:'Word Wrap',hAlign:'Horizontal Alignment',vAlign:'Vertical Alignment',alignBaseline:'Baseline',bgColor:'Background Color',borderColor:'Border Color',data:'Data',header:'Header',yes:'Yes',no:'No',invalidWidth:'Cell width must be a number.',invalidHeight:'Cell height must be a number.',invalidRowSpan:'Rows span must be a whole number.',invalidColSpan:'Columns span must be a whole number.',chooseColor:'Choose'},row:{menu:'Row',insertBefore:'Insert Row Before',insertAfter:'Insert Row After',deleteRow:'Delete Rows'},column:{menu:'Column',insertBefore:'Insert Column Before',insertAfter:'Insert Column After',deleteColumn:'Delete Columns'}},button:{title:'Button Properties',text:'Text (Value)',type:'Type',typeBtn:'Button',typeSbm:'Submit',typeRst:'Reset'},checkboxAndRadio:{checkboxTitle:'Checkbox Properties',radioTitle:'Radio Button Properties',value:'Value',selected:'Selected'},form:{title:'Form Properties',menu:'Form Properties',action:'Action',method:'Method',encoding:'Encoding'},select:{title:'Selection Field Properties',selectInfo:'Select Info',opAvail:'Available Options',value:'Value',size:'Size',lines:'lines',chkMulti:'Allow multiple selections',opText:'Text',opValue:'Value',btnAdd:'Add',btnModify:'Modify',btnUp:'Up',btnDown:'Down',btnSetValue:'Set as selected value',btnDelete:'Delete'},textarea:{title:'Textarea Properties',cols:'Columns',rows:'Rows'},textfield:{title:'Text Field Properties',name:'Name',value:'Value',charWidth:'Character Width',maxChars:'Maximum Characters',type:'Type',typeText:'Text',typePass:'Password'},hidden:{title:'Hidden Field Properties',name:'Name',value:'Value'},image:{title:'Image Properties',titleButton:'Image Button Properties',menu:'Image Properties',infoTab:'Image Info',btnUpload:'Send it to the Server',upload:'Upload',alt:'Alternative Text',lockRatio:'Lock Ratio',unlockRatio:'Unlock Ratio',resetSize:'Reset Size',border:'Border',hSpace:'HSpace',vSpace:'VSpace',alertUrl:'Please type the image URL',linkTab:'Link',button2Img:'Do you want to transform the selected image button on a simple image?',img2Button:'Do you want to transform the selected image on a image button?',urlMissing:'Image source URL is missing.',validateBorder:'Border must be a whole number.',validateHSpace:'HSpace must be a whole number.',validateVSpace:'VSpace must be a whole number.'},flash:{properties:'Flash Properties',propertiesTab:'Properties',title:'Flash Properties',chkPlay:'Auto Play',chkLoop:'Loop',chkMenu:'Enable Flash Menu',chkFull:'Allow Fullscreen',scale:'Scale',scaleAll:'Show all',scaleNoBorder:'No Border',scaleFit:'Exact Fit',access:'Script Access',accessAlways:'Always',accessSameDomain:'Same domain',accessNever:'Never',alignAbsBottom:'Abs Bottom',alignAbsMiddle:'Abs Middle',alignBaseline:'Baseline',alignTextTop:'Text Top',quality:'Quality',qualityBest:'Best',qualityHigh:'High',qualityAutoHigh:'Auto High',qualityMedium:'Medium',qualityAutoLow:'Auto Low',qualityLow:'Low',windowModeWindow:'Window',windowModeOpaque:'Opaque',windowModeTransparent:'Transparent',windowMode:'Window mode',flashvars:'Variables for Flash',bgcolor:'Background color',hSpace:'HSpace',vSpace:'VSpace',validateSrc:'URL must not be empty.',validateHSpace:'HSpace must be a number.',validateVSpace:'VSpace must be a number.'},spellCheck:{toolbar:'Check Spelling',title:'Spell Check',notAvailable:'Sorry, but service is unavailable now.',errorLoading:'Error loading application service host: %s.',notInDic:'Not in dictionary',changeTo:'Change to',btnIgnore:'Ignore',btnIgnoreAll:'Ignore All',btnReplace:'Replace',btnReplaceAll:'Replace All',btnUndo:'Undo',noSuggestions:'- No suggestions -',progress:'Spell check in progress...',noMispell:'Spell check complete: No misspellings found',noChanges:'Spell check complete: No words changed',oneChange:'Spell check complete: One word changed',manyChanges:'Spell check complete: %1 words changed',ieSpellDownload:'Spell checker not installed. Do you want to download it now?'},smiley:{toolbar:'Smiley',title:'Insert a Smiley',options:'Smiley Options'},elementsPath:{eleLabel:'Elements path',eleTitle:'%1 element'},numberedlist:'Insert/Remove Numbered List',bulletedlist:'Insert/Remove Bulleted List',indent:'Increase Indent',outdent:'Decrease Indent',justify:{left:'Align Left',center:'Center',right:'Align Right',block:'Justify'},blockquote:'Block Quote',clipboard:{title:'Paste',cutError:"Your browser security settings don't permit the editor to automatically execute cutting operations. Please use the keyboard for that (Ctrl/Cmd+X).",copyError:"Your browser security settings don't permit the editor to automatically execute copying operations. Please use the keyboard for that (Ctrl/Cmd+C).",pasteMsg:'Please paste inside the following box using the keyboard (<strong>Ctrl/Cmd+V</strong>) and hit OK',securityMsg:'Because of your browser security settings, the editor is not able to access your clipboard data directly. You are required to paste it again in this window.',pasteArea:'Paste Area'},pastefromword:{confirmCleanup:'The text you want to paste seems to be copied from Word. Do you want to clean it before pasting?',toolbar:'Paste from Word',title:'Paste from Word',error:'It was not possible to clean up the pasted data due to an internal error'},pasteText:{button:'Paste as plain text',title:'Paste as Plain Text'},templates:{button:'Templates',title:'Content Templates',options:'Template Options',insertOption:'Replace actual contents',selectPromptMsg:'Please select the template to open in the editor',emptyListMsg:'(No templates defined)'},showBlocks:'Show Blocks',stylesCombo:{label:'Styles',panelTitle:'Formatting Styles',panelTitle1:'Block Styles',panelTitle2:'Inline Styles',panelTitle3:'Object Styles'},format:{label:'Format',panelTitle:'Paragraph Format',tag_p:'Normal',tag_pre:'Formatted',tag_address:'Address',tag_h1:'Heading 1',tag_h2:'Heading 2',tag_h3:'Heading 3',tag_h4:'Heading 4',tag_h5:'Heading 5',tag_h6:'Heading 6',tag_div:'Normal (DIV)'},div:{title:'Create Div Container',toolbar:'Create Div Container',cssClassInputLabel:'Stylesheet Classes',styleSelectLabel:'Style',IdInputLabel:'Id',languageCodeInputLabel:' Language Code',inlineStyleInputLabel:'Inline Style',advisoryTitleInputLabel:'Advisory Title',langDirLabel:'Language Direction',langDirLTRLabel:'Left to Right (LTR)',langDirRTLLabel:'Right to Left (RTL)',edit:'Edit Div',remove:'Remove Div'},iframe:{title:'IFrame Properties',toolbar:'IFrame',noUrl:'Please type the iframe URL',scrolling:'Enable scrollbars',border:'Show frame border'},font:{label:'Font',voiceLabel:'Font',panelTitle:'Font Name'},fontSize:{label:'Size',voiceLabel:'Font Size',panelTitle:'Font Size'},colorButton:{textColorTitle:'Text Color',bgColorTitle:'Background Color',panelTitle:'Colors',auto:'Automatic',more:'More Colors...'},colors:{'000':'Black',800000:'Maroon','8B4513':'Saddle Brown','2F4F4F':'Dark Slate Gray','008080':'Teal','000080':'Navy','4B0082':'Indigo',696969:'Dark Gray',B22222:'Fire Brick',A52A2A:'Brown',DAA520:'Golden Rod','006400':'Dark Green','40E0D0':'Turquoise','0000CD':'Medium Blue',800080:'Purple',808080:'Gray',F00:'Red',FF8C00:'Dark Orange',FFD700:'Gold','008000':'Green','0FF':'Cyan','00F':'Blue',EE82EE:'Violet',A9A9A9:'Dim Gray',FFA07A:'Light Salmon',FFA500:'Orange',FFFF00:'Yellow','00FF00':'Lime',AFEEEE:'Pale Turquoise',ADD8E6:'Light Blue',DDA0DD:'Plum',D3D3D3:'Light Grey',FFF0F5:'Lavender Blush',FAEBD7:'Antique White',FFFFE0:'Light Yellow',F0FFF0:'Honeydew',F0FFFF:'Azure',F0F8FF:'Alice Blue',E6E6FA:'Lavender',FFF:'White'},scayt:{title:'Spell Check As You Type',opera_title:'Not supported by Opera',enable:'Enable SCAYT',disable:'Disable SCAYT',about:'About SCAYT',toggle:'Toggle SCAYT',options:'Options',langs:'Languages',moreSuggestions:'More suggestions',ignore:'Ignore',ignoreAll:'Ignore All',addWord:'Add Word',emptyDic:'Dictionary name should not be empty.',optionsTab:'Options',allCaps:'Ignore All-Caps Words',ignoreDomainNames:'Ignore Domain Names',mixedCase:'Ignore Words with Mixed Case',mixedWithDigits:'Ignore Words with Numbers',languagesTab:'Languages',dictionariesTab:'Dictionaries',dic_field_name:'Dictionary name',dic_create:'Create',dic_restore:'Restore',dic_delete:'Delete',dic_rename:'Rename',dic_info:'Initially the User Dictionary is stored in a Cookie. However, Cookies are limited in size. When the User Dictionary grows to a point where it cannot be stored in a Cookie, then the dictionary may be stored on our server. To store your personal dictionary on our server you should specify a name for your dictionary. If you already have a stored dictionary, please type its name and click the Restore button.',aboutTab:'About'},about:{title:'About CKEditor',dlgTitle:'About CKEditor',moreInfo:'For licensing information please visit our web site:',copy:'Copyright &copy; $1. All rights reserved.'},maximize:'Maximize',minimize:'Minimize',fakeobjects:{anchor:'Anchor',flash:'Flash Animation',iframe:'IFrame',hiddenfield:'Hidden Field',unknown:'Unknown Object'},resize:'Drag to resize',colordialog:{title:'Select color',options:'Color Options',highlight:'Highlight',selected:'Selected Color',clear:'Clear'},toolbarCollapse:'Collapse Toolbar',toolbarExpand:'Expand Toolbar',bidi:{ltr:'Text direction from left to right',rtl:'Text direction from right to left'}};
u.add('about',{requires:['dialog'],init:function(x){var y=x.addCommand('about',new l.dialogCommand('about'));y.modes={wysiwyg:1,source:1};y.canUndo=false;x.ui.addButton('About',{label:x.lang.about.title,command:'about'});l.dialog.add('about',this.path+'dialogs/about.js');}});(function(){var x='a11yhelp',y='a11yHelp';u.add(x,{availableLangs:{en:1,he:1},init:function(z){var A=this;z.addCommand(y,{exec:function(){var B=z.langCode;B=A.availableLangs[B]?B:'en';l.scriptLoader.load(l.getUrl(A.path+'lang/'+B+'.js'),function(){p.extend(z.lang,A.lang[B]);z.openDialog(y);});},modes:{wysiwyg:1,source:1},canUndo:false});l.dialog.add(y,this.path+'dialogs/a11yhelp.js');}});})();u.add('basicstyles',{requires:['styles','button'],init:function(x){var y=function(B,C,D,E){var F=new l.style(E);x.attachStyleStateChange(F,function(G){x.getCommand(D).setState(G);});x.addCommand(D,new l.styleCommand(F));x.ui.addButton(B,{label:C,command:D});},z=x.config,A=x.lang;y('Bold',A.bold,'bold',z.coreStyles_bold);y('Italic',A.italic,'italic',z.coreStyles_italic);y('Underline',A.underline,'underline',z.coreStyles_underline);y('Strike',A.strike,'strike',z.coreStyles_strike);y('Subscript',A.subscript,'subscript',z.coreStyles_subscript);y('Superscript',A.superscript,'superscript',z.coreStyles_superscript);}});t.coreStyles_bold={element:'strong',overrides:'b'};t.coreStyles_italic={element:'em',overrides:'i'};t.coreStyles_underline={element:'u'};t.coreStyles_strike={element:'strike'};t.coreStyles_subscript={element:'sub'};t.coreStyles_superscript={element:'sup'};(function(){var x={table:1,ul:1,ol:1,blockquote:1,div:1},y={},z={};p.extend(y,x,{tr:1,p:1,div:1,li:1});p.extend(z,y,{td:1});function A(H){B(H);C(H);};function B(H){var I=H.editor,J=H.data.path,K=I.config.useComputedState,L;K=K===undefined||K;if(!K)L=D(J.lastElement);L=L||J.block||J.blockLimit;L.is('body')&&(L=I.getSelection().getRanges()[0].getEnclosedNode());if(!L)return;var M=K?L.getComputedStyle('direction'):L.getStyle('direction')||L.getAttribute('dir');I.getCommand('bidirtl').setState(M=='rtl'?1:2);I.getCommand('bidiltr').setState(M=='ltr'?1:2);};function C(H){var I=H.editor,J=I.container.getChild(1),K=H.data.path.block||H.data.path.blockLimit;if(K&&I.lang.dir!=K.getComputedStyle('direction'))J.addClass('cke_mixed_dir_content');else J.removeClass('cke_mixed_dir_content');};function D(H){while(H&&!(H.getName() in z||H.is('body'))){var I=H.getParent();if(!I)break;H=I;}return H;};function E(H,I,J,K){s.setMarker(K,H,'bidi_processed',1);var L=H;
while((L=L.getParent())&&!L.is('body')){if(L.getCustomData('bidi_processed')){H.removeStyle('direction');H.removeAttribute('dir');return null;}}var M='useComputedState' in J.config?J.config.useComputedState:1,N=M?H.getComputedStyle('direction'):H.getStyle('direction')||H.hasAttribute('dir');if(N==I)return null;var O=M?N:H.getComputedStyle('direction');H.removeStyle('direction');if(M){H.removeAttribute('dir');if(I!=H.getComputedStyle('direction'))H.setAttribute('dir',I);}else H.setAttribute('dir',I);if(I!=O)J.fire('dirChanged',{node:H,dir:I});J.forceNextSelectionCheck();return null;};function F(H,I,J){var K=H.getCommonAncestor(false,true);H=H.clone();H.enlarge(J==2?3:2);if(H.checkBoundaryOfElement(K,1)&&H.checkBoundaryOfElement(K,2)){var L;while(K&&K.type==1&&(L=K.getParent())&&L.getChildCount()==1&&!(K.getName() in I))K=L;return K.type==1&&K.getName() in I&&K;}};function G(H){return function(I){var J=I.getSelection(),K=I.config.enterMode,L=J.getRanges();if(L&&L.length){var M={},N=J.createBookmarks(),O=L.createIterator(),P,Q=0;while(P=O.getNextRange(1)){var R=P.getEnclosedNode();if(!R||R&&!(R.type==1&&R.getName() in y))R=F(P,x,K);if(R&&!R.isReadOnly())E(R,H,I,M);var S,T,U=new o.walker(P),V=N[Q].startNode,W=N[Q++].endNode;U.evaluator=function(X){return!!(X.type==1&&X.getName() in x&&!(X.getName()==(K==1?'p':'div')&&X.getParent().type==1&&X.getParent().getName()=='blockquote')&&X.getPosition(V)&2&&(X.getPosition(W)&4+16)==4);};while(T=U.next())E(T,H,I,M);S=P.createIterator();S.enlargeBr=K!=2;while(T=S.getNextParagraph(K==1?'p':'div'))!T.isReadOnly()&&E(T,H,I,M);}s.clearAllMarkers(M);I.forceNextSelectionCheck();J.selectBookmarks(N);I.focus();}};};u.add('bidi',{requires:['styles','button'],init:function(H){var I=function(K,L,M,N){H.addCommand(M,new l.command(H,{exec:N}));H.ui.addButton(K,{label:L,command:M});},J=H.lang.bidi;I('BidiLtr',J.ltr,'bidiltr',G('ltr'));I('BidiRtl',J.rtl,'bidirtl',G('rtl'));H.on('selectionChange',A);}});})();(function(){function x(B,C){var D=C.block||C.blockLimit;if(!D||D.getName()=='body')return 2;if(D.getAscendant('blockquote',true))return 1;return 2;};function y(B){var C=B.editor,D=C.getCommand('blockquote');D.state=x(C,B.data.path);D.fire('state');};function z(B){for(var C=0,D=B.getChildCount(),E;C<D&&(E=B.getChild(C));C++){if(E.type==1&&E.isBlockBoundary())return false;}return true;};var A={exec:function(B){var C=B.getCommand('blockquote').state,D=B.getSelection(),E=D&&D.getRanges(true)[0];if(!E)return;var F=D.createBookmarks();if(n){var G=F[0].startNode,H=F[0].endNode,I;
if(G&&G.getParent().getName()=='blockquote'){I=G;while(I=I.getNext()){if(I.type==1&&I.isBlockBoundary()){G.move(I,true);break;}}}if(H&&H.getParent().getName()=='blockquote'){I=H;while(I=I.getPrevious()){if(I.type==1&&I.isBlockBoundary()){H.move(I);break;}}}}var J=E.createIterator(),K;J.enlargeBr=B.config.enterMode!=2;if(C==2){var L=[];while(K=J.getNextParagraph())L.push(K);if(L.length<1){var M=B.document.createElement(B.config.enterMode==1?'p':'div'),N=F.shift();E.insertNode(M);M.append(new o.text('\ufeff',B.document));E.moveToBookmark(N);E.selectNodeContents(M);E.collapse(true);N=E.createBookmark();L.push(M);F.unshift(N);}var O=L[0].getParent(),P=[];for(var Q=0;Q<L.length;Q++){K=L[Q];O=O.getCommonAncestor(K.getParent());}var R={table:1,tbody:1,tr:1,ol:1,ul:1};while(R[O.getName()])O=O.getParent();var S=null;while(L.length>0){K=L.shift();while(!K.getParent().equals(O))K=K.getParent();if(!K.equals(S))P.push(K);S=K;}while(P.length>0){K=P.shift();if(K.getName()=='blockquote'){var T=new o.documentFragment(B.document);while(K.getFirst()){T.append(K.getFirst().remove());L.push(T.getLast());}T.replace(K);}else L.push(K);}var U=B.document.createElement('blockquote');U.insertBefore(L[0]);while(L.length>0){K=L.shift();U.append(K);}}else if(C==1){var V=[],W={};while(K=J.getNextParagraph()){var X=null,Y=null;while(K.getParent()){if(K.getParent().getName()=='blockquote'){X=K.getParent();Y=K;break;}K=K.getParent();}if(X&&Y&&!Y.getCustomData('blockquote_moveout')){V.push(Y);s.setMarker(W,Y,'blockquote_moveout',true);}}s.clearAllMarkers(W);var Z=[],aa=[];W={};while(V.length>0){var ab=V.shift();U=ab.getParent();if(!ab.getPrevious())ab.remove().insertBefore(U);else if(!ab.getNext())ab.remove().insertAfter(U);else{ab.breakParent(ab.getParent());aa.push(ab.getNext());}if(!U.getCustomData('blockquote_processed')){aa.push(U);s.setMarker(W,U,'blockquote_processed',true);}Z.push(ab);}s.clearAllMarkers(W);for(Q=aa.length-1;Q>=0;Q--){U=aa[Q];if(z(U))U.remove();}if(B.config.enterMode==2){var ac=true;while(Z.length){ab=Z.shift();if(ab.getName()=='div'){T=new o.documentFragment(B.document);var ad=ac&&ab.getPrevious()&&!(ab.getPrevious().type==1&&ab.getPrevious().isBlockBoundary());if(ad)T.append(B.document.createElement('br'));var ae=ab.getNext()&&!(ab.getNext().type==1&&ab.getNext().isBlockBoundary());while(ab.getFirst())ab.getFirst().remove().appendTo(T);if(ae)T.append(B.document.createElement('br'));T.replace(ab);ac=false;}}}}D.selectBookmarks(F);B.focus();}};u.add('blockquote',{init:function(B){B.addCommand('blockquote',A);
B.ui.addButton('Blockquote',{label:B.lang.blockquote,command:'blockquote'});B.on('selectionChange',y);},requires:['domiterator']});})();u.add('button',{beforeInit:function(x){x.ui.addHandler(1,v.button.handler);}});l.UI_BUTTON=1;v.button=function(x){p.extend(this,x,{title:x.label,className:x.className||x.command&&'cke_button_'+x.command||'',click:x.click||(function(y){y.execCommand(x.command);})});this._={};};v.button.handler={create:function(x){return new v.button(x);}};v.button._={instances:[],keydown:function(x,y){var z=v.button._.instances[x];if(z.onkey){y=new o.event(y);return z.onkey(z,y.getKeystroke())!==false;}},focus:function(x,y){var z=v.button._.instances[x],A;if(z.onfocus)A=z.onfocus(z,new o.event(y))!==false;if(m.gecko&&m.version<10900)y.preventBubble();return A;}};(function(){var x=p.addFunction(v.button._.keydown,v.button._),y=p.addFunction(v.button._.focus,v.button._);v.button.prototype={canGroup:true,render:function(z,A){var B=m,C=this._.id=p.getNextId(),D='',E=this.command,F,G;this._.editor=z;var H={id:C,button:this,editor:z,focus:function(){var K=l.document.getById(C);K.focus();},execute:function(){this.button.click(z);}};H.clickFn=F=p.addFunction(H.execute,H);H.index=G=v.button._.instances.push(H)-1;if(this.modes){var I={};z.on('beforeModeUnload',function(){I[z.mode]=this._.state;},this);z.on('mode',function(){var K=z.mode;this.setState(this.modes[K]?I[K]!=undefined?I[K]:2:0);},this);}else if(E){E=z.getCommand(E);if(E){E.on('state',function(){this.setState(E.state);},this);D+='cke_'+(E.state==1?'on':E.state==0?'disabled':'off');}}if(!E)D+='cke_off';if(this.className)D+=' '+this.className;A.push('<span class="cke_button'+(this.icon&&this.icon.indexOf('.png')==-1?' cke_noalphafix':'')+'">','<a id="',C,'" class="',D,'"',B.gecko&&B.version>=10900&&!B.hc?'':'" href="javascript:void(\''+(this.title||'').replace("'",'')+"')\"",' title="',this.title,'" tabindex="-1" hidefocus="true" role="button" aria-labelledby="'+C+'_label"'+(this.hasArrow?' aria-haspopup="true"':''));if(B.opera||B.gecko&&B.mac)A.push(' onkeypress="return false;"');if(B.gecko)A.push(' onblur="this.style.cssText = this.style.cssText;"');A.push(' onkeydown="return CKEDITOR.tools.callFunction(',x,', ',G,', event);" onfocus="return CKEDITOR.tools.callFunction(',y,', ',G,', event);" onclick="CKEDITOR.tools.callFunction(',F,', this); return false;"><span class="cke_icon"');if(this.icon){var J=(this.iconOffset||0)*-16;A.push(' style="background-image:url(',l.getUrl(this.icon),');background-position:0 '+J+'px;"');
}A.push('>&nbsp;</span><span id="',C,'_label" class="cke_label">',this.label,'</span>');if(this.hasArrow)A.push('<span class="cke_buttonarrow">'+(m.hc?'&#9660;':'&nbsp;')+'</span>');A.push('</a>','</span>');if(this.onRender)this.onRender();return H;},setState:function(z){if(this._.state==z)return false;this._.state=z;var A=l.document.getById(this._.id);if(A){A.setState(z);z==0?A.setAttribute('aria-disabled',true):A.removeAttribute('aria-disabled');z==1?A.setAttribute('aria-pressed',true):A.removeAttribute('aria-pressed');return true;}else return false;}};})();v.prototype.addButton=function(x,y){this.add(x,1,y);};l.on('reset',function(){v.button._.instances=[];});function a(x,y,z,A){var B='',C=null;for(var D=0;D<x.length;D++){var E=x[D],F=D<x.length-1?x[D+1]:0;if(E==y){if(C==null){if(D==0||x[D-1]==' '||x[D-1]=='\t')C='';else B+=E;}else if(F==0||F=='\t'||F==' '){B+=z+C+A;C=null;}else C+=' ';}else if(C==null)B+=E;else C+=E;}if(C!=null)B+=C;return B;};function b(x){var y='',z='',A;while((A=(' '+x).search(/\s\^\S+/))>=0){y+=x.substr(0,A);arg=x.substr(A).match(/^\^\S+/)[0];x=x.substr(A+arg.length);y+=" <a href='"+arg+"'>"+arg.replace(/[_^]/g,' ')+'</a> ';}y+=x;return y;};function c(x){var y=x;y=a(y,'*','<strong>','</strong>');y=a(y,'_','<em>','</em>');y=b(y);return y;};var d={hr:true,br:true};function e(x,y){if(y.match(/^\s*@\S+/)){directive=y.replace(/^\s*@/,'');var z=directive;directive=directive.replace(/^(\S+).*/,'$1');var A=directive.indexOf('.'),B='';z=z.substr(directive.length);if(A>0){B=" class='"+directive.substr(A+1)+"' ";directive=directive.substr(0,A).toLowerCase();}var C=z.match(/^\s*(\w+=([\"\'][^\"\']*[\"\']|\S*)\s*)+/),D=C==null?'':C[0];z=z.substr(D.length);z=c(z);if(D.length)D=' '+D;if(d[directive])x.html+='<'+directive+B+D+'/>';else if(directive[0]=='/')x.html+='<'+directive+'>\n';else{x.html+='<'+directive+B+D+'>';if(z.length)x.html+=z+'</'+directive+'>';}}else x.html+=c(y)+'\n';};function f(x){var y=x,z={html:''},A=1,B=2,C=3,D=A,E=0;x=x.replace(/\r/g,'');while(x.length>0){var F=x.indexOf('\n'),G;if(F<0){G=x;x='';}else{G=x.substr(0,F);x=x.substr(F+1);}if(G.replace(/^\s*|\s*$/g,'').length==0){if(D==B){e(z,'@/p');e(z,'@p');}}else if(G[0]=='@'){if(D==B){e(z,'@/p');D==A;}if(G.match('^@[A-z0-9]+s*$')){D=C;E++;}if(G.match('^@/[A-z0-9]s*$')){E--;if(E==0)D=A;}e(z,G);}else if(D==A){e(z,'@p');e(z,G);D=B;}else e(z,G);}if(open)e(z,'@/p');return z.html;};var g={strike:'del'};function h(x){var y=document.createElement('DIV');y.innerHTML=x;if(y.innerText!==undefined)return y.innerText;
return y.textContent;};function i(x,y){x.bwiki+=h(y);};function j(x){var y=++x.cur,z=null;while(x.cur<x.html.length&&x.html[x.cur]!=' '&&x.html[x.cur]!='\t'&&x.html[x.cur]!='/'&&x.html[x.cur]!='>')x.cur++;var A=x.html.substr(y,x.cur-y),B=g[A]?g[A]:A;while(x.cur<x.html.length&&x.html.substr(x.cur,2)!='/>'&&x.html[x.cur]!='>')x.cur++;var C='',D='';if(x.cur<x.html.length){C=x.html.substr(y+A.length,x.cur-y-A.length);var E=C.match(/class=[\'\"][^\'\"]*[\'\"]/);if(E!=null){D='.'+E[0].substr(6).replace(/[\'\"]/g,'');C=C.replace(E[0],'');}}if(x.html[x.cur]=='/'){x.cur+=2;x.bwiki+='\n@'+A+D+C;}else{if(x.cur<x.html.length)x.cur++;var F='',G=0,H=false;while(x.cur<x.html.length){var I=' ';while(x.cur<x.html.length&&x.html[x.cur]!='<'){var J;if(x.html.substr(x.cur,6)=='&nbsp;'){x.cur+=6;J=' ';}else J=x.html[x.cur++];if(J=='\n'||J==' '||J=='\t'){F+=I;I='';}else{F+=J;I=' ';}}if(x.html[x.cur+1]!='/'){if(!H){x.bwiki+='\n@'+B+D+C;H=true;}if(!F.match(/^\s*$/))i(x,'\n'+F);F=j(x);if(F==null)F='';G++;}else{if(F.match(/^\s*$/)){if(G==0)x.bwiki+='\n@'+B+D+C+'\n@/'+B;}else if(G==0){if(B=='p'&&D.length==0&&C.length==0)i(x,'\n\n'+F);else if(B=='a'&&C.match(/href=/)&&C.indexOf('^'+F.replace(/^\s*|\s*$/g,'').replace(/\s/g,'_'))>=0)z='^'+F.replace(/^\s*|\s*$/g,'').replace(/\s/g,'_');else if(B=='strong')z='*'+F.replace(/^\s*|\s*$/g,'').replace(/\s/g,'*')+'*';else if(B=='em')z='_'+F.replace(/^\s*|\s*$/g,'').replace(/\s/g,'_')+'_';else{x.bwiki+='\n@'+B+D+C;i(x,' '+F);}}else i(x,'\n'+F);break;}}if(x.cur<x.html.length){x.cur+=2;while(x.cur<x.html.length&&x.html[x.cur]!='>')x.cur++;x.cur++;if(G>0)x.bwiki+='\n@/'+B;}}return z;};function k(x){var y={bwiki:'',html:x.replace(/<!--.*?-->/g,''),cur:0};while(y.cur<y.html.length){while(y.cur<y.html.length&&y.html[y.cur]!='<')y.cur++;if(y.cur<y.html.length)j(y);}y.bwiki=y.bwiki.replace(/^\s*|\s*$/g,'');return y.bwiki;};(function(){var x=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,y='{cke_protected}';function z(ac){var ad=ac.children.length,ae=ac.children[ad-1];while(ae&&ae.type==3&&!p.trim(ae.value))ae=ac.children[--ad];return ae;};function A(ac,ad){var ae=ac.children,af=z(ac);if(af){if((ad||!n)&&af.type==1&&af.name=='br')ae.pop();if(af.type==3&&x.test(af.value))ae.pop();}};function B(ac,ad,ae){if(!ad&&(!ae||typeof ae=='function'&&ae(ac)===false))return false;if(ad&&n&&(document.documentMode>7||ac.name in q.tr||ac.name in q.$listItem))return false;var af=z(ac);return!af||af&&(af.type==1&&af.name=='br'||ac.name=='form'&&af.name=='input');};function C(ac,ad){return function(ae){A(ae,!ac);
if(B(ae,!ac,ad))if(ac||n)ae.add(new l.htmlParser.text('\xa0'));else ae.add(new l.htmlParser.element('br',{}));};};var D=q,E=p.extend({},D.$block,D.$listItem,D.$tableContent);for(var F in E){if(!('br' in D[F]))delete E[F];}delete E.pre;var G={elements:{a:function(ac){var ad=ac.attributes;if(ad&&ad['data-cke-saved-name'])ad['class']=(ad['class']?ad['class']+' ':'')+'cke_anchor';}},attributeNames:[[/^on/,'data-cke-pa-on']]},H={elements:{}};for(F in E)H.elements[F]=C();var I={elementNames:[[/^cke:/,''],[/^\?xml:namespace$/,'']],attributeNames:[[/^data-cke-(saved|pa)-/,''],[/^data-cke-.*/,''],['hidefocus','']],elements:{$:function(ac){var ad=ac.attributes;if(ad){if(ad['data-cke-temp'])return false;var ae=['name','href','src'],af;for(var ag=0;ag<ae.length;ag++){af='data-cke-saved-'+ae[ag];af in ad&&delete ad[ae[ag]];}}return ac;},embed:function(ac){var ad=ac.parent;if(ad&&ad.name=='object'){var ae=ad.attributes.width,af=ad.attributes.height;ae&&(ac.attributes.width=ae);af&&(ac.attributes.height=af);}},param:function(ac){ac.children=[];ac.isEmpty=true;return ac;},a:function(ac){if(!(ac.children.length||ac.attributes.name||ac.attributes['data-cke-saved-name']))return false;},span:function(ac){if(ac.attributes['class']=='Apple-style-span')delete ac.name;},pre:function(ac){n&&A(ac);},html:function(ac){delete ac.attributes.contenteditable;delete ac.attributes['class'];},body:function(ac){delete ac.attributes.spellcheck;delete ac.attributes.contenteditable;},style:function(ac){var ad=ac.children[0];ad&&ad.value&&(ad.value=p.trim(ad.value));if(!ac.attributes.type)ac.attributes.type='text/css';},title:function(ac){var ad=ac.children[0];ad&&(ad.value=ac.attributes['data-cke-title']||'');}},attributes:{'class':function(ac,ad){return p.ltrim(ac.replace(/(?:^|\s+)cke_[^\s]*/g,''))||false;}},comment:function(ac){if(ac.substr(0,y.length)==y){if(ac.substr(y.length,3)=='{C}')ac=ac.substr(y.length+3);else ac=ac.substr(y.length);return new l.htmlParser.cdata(decodeURIComponent(ac));}return ac;}};if(n)I.attributes.style=function(ac,ad){return ac.replace(/(^|;)([^\:]+)/g,function(ae){return ae.toLowerCase();});};function J(ac){var ad=ac.attributes;if(ad.contenteditable!='false')ad['data-cke-editable']=ad.contenteditable?'true':1;ad.contenteditable='false';};function K(ac){var ad=ac.attributes;switch(ad['data-cke-editable']){case 'true':ad.contenteditable='true';break;case '1':delete ad.contenteditable;break;}};for(F in {input:1,textarea:1}){G.elements[F]=J;I.elements[F]=K;}var L=/<(a|area|img|input)\b([^>]*)>/gi,M=/\b(href|src|name)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,N=/(?:<style(?=[ >])[^>]*>[\s\S]*<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,O=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,P=/(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,Q=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,R=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi;
function S(ac){return ac.replace(L,function(ad,ae,af){return '<'+ae+af.replace(M,function(ag,ah){if(af.indexOf('data-cke-saved-'+ah)==-1)return ' data-cke-saved-'+ag+' '+ag;return ag;})+'>';});};function T(ac){return ac.replace(N,function(ad){return '<cke:encoded>'+encodeURIComponent(ad)+'</cke:encoded>';});};function U(ac){return ac.replace(O,function(ad,ae){return decodeURIComponent(ae);});};function V(ac){return ac.replace(P,'$1cke:$2');};function W(ac){return ac.replace(Q,'$1$2');};function X(ac){return ac.replace(R,'<cke:$1$2></cke:$1>');};function Y(ac){return ac.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,'$1$2$2');};function Z(ac){return ac.replace(/<!--(?!{cke_protected})[\s\S]+?-->/g,function(ad){return '<!--'+y+'{C}'+encodeURIComponent(ad).replace(/--/g,'%2D%2D')+'-->';});};function aa(ac){return ac.replace(/<!--\{cke_protected\}\{C\}([\s\S]+?)-->/g,function(ad,ae){return decodeURIComponent(ae);});};function ab(ac,ad){var ae=[],af=/<\!--\{cke_temp(comment)?\}(\d*?)-->/g,ag=[/<script[\s\S]*?<\/script>/gi,/<noscript[\s\S]*?<\/noscript>/gi].concat(ad);ac=ac.replace(/<!--[\s\S]*?-->/g,function(ai){return '<!--{cke_tempcomment}'+(ae.push(ai)-1)+'-->';});for(var ah=0;ah<ag.length;ah++)ac=ac.replace(ag[ah],function(ai){ai=ai.replace(af,function(aj,ak,al){return ae[al];});return '<!--{cke_temp}'+(ae.push(ai)-1)+'-->';});ac=ac.replace(af,function(ai,aj,ak){return '<!--'+y+(aj?'{C}':'')+encodeURIComponent(ae[ak]).replace(/--/g,'%2D%2D')+'-->';});return ac;};u.add('bwikidataprocessor',{requires:['htmlwriter'],init:function(ac){var ad=ac.dataProcessor=new l.htmlDataProcessor(ac);ad.writer.forceSimpleAmpersand=ac.config.forceSimpleAmpersand;ad.dataFilter.addRules(G);ad.dataFilter.addRules(H);ad.htmlFilter.addRules(I);var ae={elements:{}};for(F in E)ae.elements[F]=C(true,ac.config.fillEmptyBlocks);ad.htmlFilter.addRules(ae);},onLoad:function(){!('fillEmptyBlocks' in t)&&(t.fillEmptyBlocks=1);}});l.htmlDataProcessor=function(ac){var ad=this;ad.editor=ac;ad.writer=new l.htmlWriter();ad.dataFilter=new l.htmlParser.filter();ad.htmlFilter=new l.htmlParser.filter();};l.htmlDataProcessor.prototype={toHtml:function(ac,ad){ac=f(ac);ac=ab(ac,this.editor.config.protectedSource);ac=S(ac);ac=T(ac);ac=V(ac);ac=X(ac);ac=Y(ac);var ae=new s('div');ae.setHtml('a'+ac);ac=ae.getHtml().substr(1);ac=W(ac);ac=U(ac);ac=aa(ac);var af=l.htmlParser.fragment.fromHtml(ac,ad),ag=new l.htmlParser.basicWriter();af.writeHtml(ag,this.dataFilter);ac=ag.getHtml(true);ac=Z(ac);return ac;},toDataFormat:function(ac,ad){var ae=this.writer,af=l.htmlParser.fragment.fromHtml(ac,ad);
ae.reset();af.writeHtml(ae,this.htmlFilter);var ac=ae.getHtml(true),ag=k(ac);return ag;}};})();(function(){var x=function(I,J){var K=I.document,L=K.getBody(),M=0,N=function(){M=1;};L.on(J,N);(m.version>7?K.$:K.$.selection.createRange()).execCommand(J);L.removeListener(J,N);return M;},y=n?function(I,J){return x(I,J);}:function(I,J){try{return I.document.$.execCommand(J,false,null);}catch(K){return false;}},z=function(I){var J=this;J.type=I;J.canUndo=J.type=='cut';J.startDisabled=true;};z.prototype={exec:function(I,J){this.type=='cut'&&D(I);var K=y(I,this.type);if(!K)alert(I.lang.clipboard[this.type+'Error']);return K;}};var A={canUndo:false,exec:n?function(I){I.focus();if(!I.document.getBody().fire('beforepaste')&&!x(I,'paste')){I.fire('pasteDialog');return false;}}:function(I){try{if(!I.document.getBody().fire('beforepaste')&&!I.document.$.execCommand('Paste',false,null))throw 0;}catch(J){setTimeout(function(){I.fire('pasteDialog');},0);return false;}}},B=function(I){if(this.mode!='wysiwyg')return;switch(I.data.keyCode){case 1000+86:case 2000+45:var J=this.document.getBody();if(!n&&J.fire('beforepaste'))I.cancel();else if(m.opera||m.gecko&&m.version<10900)J.fire('paste');return;case 1000+88:case 2000+46:var K=this;this.fire('saveSnapshot');setTimeout(function(){K.fire('saveSnapshot');},0);}};function C(I,J,K){var L=this.document;if(L.getById('cke_pastebin'))return;if(J=='text'&&I.data&&I.data.$.clipboardData){var M=I.data.$.clipboardData.getData('text/plain');if(M){I.data.preventDefault();K(M);return;}}var N=this.getSelection(),O=new o.range(L),P=new s(J=='text'?'textarea':m.webkit?'body':'div',L);P.setAttribute('id','cke_pastebin');m.webkit&&P.append(L.createText('\xa0'));L.getBody().append(P);P.setStyles({position:'absolute',top:N.getStartElement().getDocumentPosition().y+'px',width:'1px',height:'1px',overflow:'hidden'});P.setStyle(this.config.contentsLangDirection=='ltr'?'left':'right','-1000px');var Q=N.createBookmarks();if(J=='text'){if(n){var R=L.getBody().$.createTextRange();R.moveToElementText(P.$);R.execCommand('Paste');I.data.preventDefault();}else P.$.focus();}else{O.setStartAt(P,1);O.setEndAt(P,2);O.select(true);}var S=this;window.setTimeout(function(){J=='text'&&m.gecko&&S.focusGrabber.focus();P.remove();var T;P=m.webkit&&(T=P.getFirst())&&T.is&&T.hasClass('Apple-style-span')?T:P;N.selectBookmarks(Q);K(P['get'+(J=='text'?'Value':'Html')]());},0);};function D(I){if(!n||m.quirks)return;var J=I.getSelection(),K;if(J.getType()==3&&(K=J.getSelectedElement())){var L=J.getRanges()[0],M=I.document.createText('');
M.insertBefore(K);L.setStartBefore(M);L.setEndAfter(K);J.selectRanges([L]);setTimeout(function(){if(K.getParent()){M.remove();J.selectElement(K);}},0);}};var E;function F(I,J){n&&(E=1);var K=J.document.$.queryCommandEnabled(I)?2:0;E=0;return K;};var G;function H(){var J=this;if(J.mode!='wysiwyg')return;J.getCommand('cut').setState(G?0:F('Cut',J));J.getCommand('copy').setState(F('Copy',J));var I=G?0:m.webkit?2:F('Paste',J);J.fire('pasteState',I);};u.add('clipboard',{requires:['dialog','bwikidataprocessor'],init:function(I){I.on('paste',function(L){var M=L.data;if(M.html)I.insertHtml(M.html);else if(M.text)I.insertText(M.text);},null,null,1000);I.on('pasteDialog',function(L){setTimeout(function(){I.openDialog('paste');},0);});I.on('pasteState',function(L){I.getCommand('paste').setState(L.data);});function J(L,M,N,O){var P=I.lang[M];I.addCommand(M,N);I.ui.addButton(L,{label:P,command:M});if(I.addMenuItems)I.addMenuItem(M,{label:P,command:M,group:'clipboard',order:O});};J('Cut','cut',new z('cut'),1);J('Copy','copy',new z('copy'),4);J('Paste','paste',A,8);l.dialog.add('paste',l.getUrl(this.path+'dialogs/paste.js'));I.on('key',B,I);var K=I.config.forcePasteAsPlainText?'text':'html';I.on('contentDom',function(){var L=I.document.getBody();L.on(K=='text'&&n||m.webkit?'paste':'beforepaste',function(M){if(E)return;C.call(I,M,K,function(N){if(!N)return;var O={};O[K]=N;I.fire('paste',O);});});L.on('beforecut',function(){!E&&D(I);});L.on('mouseup',function(){setTimeout(function(){H.call(I);},0);},I);L.on('keyup',H,I);});I.on('selectionChange',function(L){G=L.data.selection.getRanges()[0].checkReadOnly();H.call(I);});if(I.contextMenu)I.contextMenu.addListener(function(L,M){var N=M.getRanges()[0].checkReadOnly();return{cut:!N&&F('Cut',I),copy:F('Copy',I),paste:!N&&(m.webkit?2:F('Paste',I))};});}});})();u.add('colorbutton',{requires:['panelbutton','floatpanel','styles'],init:function(x){var y=x.config,z=x.lang.colorButton,A;if(!m.hc){B('TextColor','fore',z.textColorTitle);B('BGColor','back',z.bgColorTitle);}function B(E,F,G){var H=p.getNextId()+'_colorBox';x.ui.add(E,4,{label:G,title:G,className:'cke_button_'+E.toLowerCase(),modes:{wysiwyg:1},panel:{css:x.skin.editor.css,attributes:{role:'listbox','aria-label':z.panelTitle}},onBlock:function(I,J){J.autoSize=true;J.element.addClass('cke_colorblock');J.element.setHtml(C(I,F,H));J.element.getDocument().getBody().setStyle('overflow','hidden');v.fire('ready',this);var K=J.keys,L=x.lang.dir=='rtl';K[L?37:39]='next';K[40]='next';K[9]='next';
K[L?39:37]='prev';K[38]='prev';K[2000+9]='prev';K[32]='click';},onOpen:function(){var I=x.getSelection(),J=I&&I.getStartElement(),K=new o.elementPath(J),L;J=K.block||K.blockLimit;do L=J&&J.getComputedStyle(F=='back'?'background-color':'color')||'transparent';while(F=='back'&&L=='transparent'&&J&&(J=J.getParent()))if(!L||L=='transparent')L='#ffffff';this._.panel._.iframe.getFrameDocument().getById(H).setStyle('background-color',L);}});};function C(E,F,G){var H=[],I=y.colorButton_colors.split(','),J=I.length+(y.colorButton_enableMore?2:1),K=p.addFunction(function(Q,R){if(Q=='?'){var S=arguments.callee;function T(V){this.removeListener('ok',T);this.removeListener('cancel',T);V.name=='ok'&&S(this.getContentElement('picker','selectedColor').getValue(),R);};x.openDialog('colordialog',function(){this.on('ok',T);this.on('cancel',T);});return;}x.focus();E.hide();x.fire('saveSnapshot');new l.style(y['colorButton_'+R+'Style'],{color:'inherit'}).remove(x.document);if(Q){var U=y['colorButton_'+R+'Style'];U.childRule=R=='back'?function(V){return D(V);}:function(V){return V.getName()!='a'||D(V);};new l.style(U,{color:Q}).apply(x.document);}x.fire('saveSnapshot');});H.push('<a class="cke_colorauto" _cke_focus=1 hidefocus=true title="',z.auto,'" onclick="CKEDITOR.tools.callFunction(',K,",null,'",F,"');return false;\" href=\"javascript:void('",z.auto,'\')" role="option" aria-posinset="1" aria-setsize="',J,'"><table role="presentation" cellspacing=0 cellpadding=0 width="100%"><tr><td><span class="cke_colorbox" id="',G,'"></span></td><td colspan=7 align=center>',z.auto,'</td></tr></table></a><table role="presentation" cellspacing=0 cellpadding=0 width="100%">');for(var L=0;L<I.length;L++){if(L%8===0)H.push('</tr><tr>');var M=I[L].split('/'),N=M[0],O=M[1]||N;if(!M[1])N='#'+N.replace(/^(.)(.)(.)$/,'$1$1$2$2$3$3');var P=x.lang.colors[O]||O;H.push('<td><a class="cke_colorbox" _cke_focus=1 hidefocus=true title="',P,'" onclick="CKEDITOR.tools.callFunction(',K,",'",N,"','",F,"'); return false;\" href=\"javascript:void('",P,'\')" role="option" aria-posinset="',L+2,'" aria-setsize="',J,'"><span class="cke_colorbox" style="background-color:#',O,'"></span></a></td>');}if(y.colorButton_enableMore===undefined||y.colorButton_enableMore)H.push('</tr><tr><td colspan=8 align=center><a class="cke_colormore" _cke_focus=1 hidefocus=true title="',z.more,'" onclick="CKEDITOR.tools.callFunction(',K,",'?','",F,"');return false;\" href=\"javascript:void('",z.more,"')\"",' role="option" aria-posinset="',J,'" aria-setsize="',J,'">',z.more,'</a></td>');
H.push('</tr></table>');return H.join('');};function D(E){return E.getAttribute('contentEditable')=='false'||E.getAttribute('data-nostyle');};}});t.colorButton_colors='000,800000,8B4513,2F4F4F,008080,000080,4B0082,696969,B22222,A52A2A,DAA520,006400,40E0D0,0000CD,800080,808080,F00,FF8C00,FFD700,008000,0FF,00F,EE82EE,A9A9A9,FFA07A,FFA500,FFFF00,00FF00,AFEEEE,ADD8E6,DDA0DD,D3D3D3,FFF0F5,FAEBD7,FFFFE0,F0FFF0,F0FFFF,F0F8FF,E6E6FA,FFF';t.colorButton_foreStyle={element:'span',styles:{color:'#(color)'},overrides:[{element:'font',attributes:{color:null}}]};t.colorButton_backStyle={element:'span',styles:{'background-color':'#(color)'}};(function(){u.colordialog={init:function(x){x.addCommand('colordialog',new l.dialogCommand('colordialog'));l.dialog.add('colordialog',this.path+'dialogs/colordialog.js');}};u.add('colordialog',u.colordialog);})();u.add('contextmenu',{requires:['menu'],onLoad:function(){u.contextMenu=p.createClass({base:l.menu,$:function(x){this.base.call(this,x,{panel:{className:x.skinClass+' cke_contextmenu',attributes:{'aria-label':x.lang.contextmenu.options}}});},proto:{addTarget:function(x,y){if(m.opera&&!('oncontextmenu' in document.body)){var z;x.on('mousedown',function(D){D=D.data;if(D.$.button!=2){if(D.getKeystroke()==1000+1)x.fire('contextmenu',D);return;}if(y&&(m.mac?D.$.metaKey:D.$.ctrlKey))return;var E=D.getTarget();if(!z){var F=E.getDocument();z=F.createElement('input');z.$.type='button';F.getBody().append(z);}z.setAttribute('style','position:absolute;top:'+(D.$.clientY-2)+'px;left:'+(D.$.clientX-2)+'px;width:5px;height:5px;opacity:0.01');});x.on('mouseup',function(D){if(z){z.remove();z=undefined;x.fire('contextmenu',D.data);}});}x.on('contextmenu',function(D){var E=D.data;if(y&&(m.webkit?A:m.mac?E.$.metaKey:E.$.ctrlKey))return;E.preventDefault();var F=E.getTarget().getDocument().getDocumentElement(),G=E.$.clientX,H=E.$.clientY;p.setTimeout(function(){this.open(F,null,G,H);},0,this);},this);if(m.opera)x.on('keypress',function(D){var E=D.data;if(E.$.keyCode===0)E.preventDefault();});if(m.webkit){var A,B=function(D){A=m.mac?D.data.$.metaKey:D.data.$.ctrlKey;},C=function(){A=0;};x.on('keydown',B);x.on('keyup',C);x.on('contextmenu',C);}},open:function(x,y,z,A){this.editor.focus();x=x||l.document.getDocumentElement();this.show(x,y,z,A);}}});},beforeInit:function(x){x.contextMenu=new u.contextMenu(x);x.addCommand('contextMenu',{exec:function(){x.contextMenu.open(x.document.getBody());}});}});(function(){function x(z){var A=this.att,B=z&&z.hasAttribute(A)&&z.getAttribute(A)||'';
if(B!==undefined)this.setValue(B);};function y(){var z;for(var A=0;A<arguments.length;A++){if(arguments[A] instanceof s){z=arguments[A];break;}}if(z){var B=this.att,C=this.getValue();if(B=='dir'){var D=z.getAttribute(B);if(D!=C&&z.getParent())this._.dialog._.editor.fire('dirChanged',{node:z,dir:C||z.getDirection(1)});}if(C)z.setAttribute(B,C);else z.removeAttribute(B,C);}};u.add('dialogadvtab',{createAdvancedTab:function(z,A){if(!A)A={id:1,dir:1,classes:1,styles:1};var B=z.lang.common,C={id:'advanced',label:B.advancedTab,title:B.advancedTab,elements:[{type:'vbox',padding:1,children:[]}]},D=[];if(A.id||A.dir){if(A.id)D.push({id:'advId',att:'id',type:'text',label:B.id,setup:x,commit:y});if(A.dir)D.push({id:'advLangDir',att:'dir',type:'select',label:B.langDir,'default':'',style:'width:100%',items:[[B.notSet,''],[B.langDirLTR,'ltr'],[B.langDirRTL,'rtl']],setup:x,commit:y});C.elements[0].children.push({type:'hbox',widths:['50%','50%'],children:[].concat(D)});}if(A.styles||A.classes){D=[];if(A.styles)D.push({id:'advStyles',att:'style',type:'text',label:B.styles,'default':'',getStyle:function(E,F){var G=this.getValue().match(new RegExp(E+'\\s*:s*([^;]*)','i'));return G?G[1]:F;},updateStyle:function(E,F){var G=this.getValue();if(G)G=G.replace(new RegExp('\\s*'+E+'s*:[^;]*(?:$|;s*)','i'),'').replace(/^[;\s]+/,'').replace(/\s+$/,'');if(F){G&&!/;\s*$/.test(G)&&(G+='; ');G+=E+': '+F;}this.setValue(G,1);},setup:x,commit:y});if(A.classes)D.push({type:'hbox',widths:['45%','55%'],children:[{id:'advCSSClasses',att:'class',type:'text',label:B.cssClasses,'default':'',setup:x,commit:y}]});C.elements[0].children.push({type:'hbox',widths:['50%','50%'],children:[].concat(D)});}return C;}});})();(function(){u.add('div',{requires:['editingblock','domiterator','styles'],init:function(x){var y=x.lang.div;x.addCommand('creatediv',new l.dialogCommand('creatediv'));x.addCommand('editdiv',new l.dialogCommand('editdiv'));x.addCommand('removediv',{exec:function(z){var A=z.getSelection(),B=A&&A.getRanges(),C,D=A.createBookmarks(),E,F=[];function G(I){var J=new o.elementPath(I),K=J.blockLimit,L=K.is('div')&&K;if(L&&!L.data('cke-div-added')){F.push(L);L.data('cke-div-added');}};for(var H=0;H<B.length;H++){C=B[H];if(C.collapsed)G(A.getStartElement());else{E=new o.walker(C);E.evaluator=G;E.lastForward();}}for(H=0;H<F.length;H++)F[H].remove(true);A.selectBookmarks(D);}});x.ui.addButton('CreateDiv',{label:y.toolbar,command:'creatediv'});if(x.addMenuItems){x.addMenuItems({editdiv:{label:y.edit,command:'editdiv',group:'div',order:1},removediv:{label:y.remove,command:'removediv',group:'div',order:5}});
if(x.contextMenu)x.contextMenu.addListener(function(z,A){if(!z||z.isReadOnly())return null;var B=new o.elementPath(z),C=B.blockLimit;if(C&&C.getAscendant('div',true))return{editdiv:2,removediv:2};return null;});}l.dialog.add('creatediv',this.path+'dialogs/div.js');l.dialog.add('editdiv',this.path+'dialogs/div.js');}});})();(function(){var x={toolbarFocus:{exec:function(z){var A=z._.elementsPath.idBase,B=l.document.getById(A+'0');B&&B.focus(n||m.air);}}},y='<span class="cke_empty">&nbsp;</span>';u.add('elementspath',{requires:['selection'],init:function(z){var A='cke_path_'+z.name,B,C=function(){if(!B)B=l.document.getById(A);return B;},D='cke_elementspath_'+p.getNextNumber()+'_';z._.elementsPath={idBase:D,filters:[]};z.on('themeSpace',function(H){if(H.data.space=='bottom')H.data.html+='<span id="'+A+'_label" class="cke_voice_label">'+z.lang.elementsPath.eleLabel+'</span>'+'<div id="'+A+'" class="cke_path" role="group" aria-labelledby="'+A+'_label">'+y+'</div>';});function E(H){z.focus();var I=z._.elementsPath.list[H];if(I.is('body')){var J=new o.range(z.document);J.selectNodeContents(I);J.select();}else z.getSelection().selectElement(I);};var F=p.addFunction(E),G=p.addFunction(function(H,I){var J=z._.elementsPath.idBase,K;I=new o.event(I);var L=z.lang.dir=='rtl';switch(I.getKeystroke()){case L?39:37:case 9:K=l.document.getById(J+(H+1));if(!K)K=l.document.getById(J+'0');K.focus();return false;case L?37:39:case 2000+9:K=l.document.getById(J+(H-1));if(!K)K=l.document.getById(J+(z._.elementsPath.list.length-1));K.focus();return false;case 27:z.focus();return false;case 13:case 32:E(H);return false;}return true;});z.on('selectionChange',function(H){var I=m,J=H.data.selection,K=J.getStartElement(),L=[],M=H.editor,N=M._.elementsPath.list=[],O=M._.elementsPath.filters;while(K){var P=0;for(var Q=0;Q<O.length;Q++){if(O[Q](K)===false){P=1;break;}}if(!P){var R=N.push(K)-1,S;if(K.data('cke-real-element-type'))S=K.data('cke-real-element-type');else S=K.getName();var T='';if(I.opera||I.gecko&&I.mac)T+=' onkeypress="return false;"';if(I.gecko)T+=' onblur="this.style.cssText = this.style.cssText;"';var U=M.lang.elementsPath.eleTitle.replace(/%1/,S);L.unshift('<a id="',D,R,'" href="javascript:void(\'',S,'\')" tabindex="-1" title="',U,'"'+(m.gecko&&m.version<10900?' onfocus="event.preventBubble();"':'')+' hidefocus="true" '+' onkeydown="return CKEDITOR.tools.callFunction(',G,',',R,', event );"'+T,' onclick="CKEDITOR.tools.callFunction('+F,',',R,'); return false;"',' role="button" aria-labelledby="'+D+R+'_label">',S,'<span id="',D,R,'_label" class="cke_label">'+U+'</span>','</a>');
}if(S=='body')break;K=K.getParent();}var V=C();V.setHtml(L.join('')+y);M.fire('elementsPathUpdate',{space:V});});z.on('contentDomUnload',function(){B&&B.setHtml(y);});z.addCommand('elementsPathFocus',x.toolbarFocus);}});})();(function(){u.add('enterkey',{requires:['keystrokes','indent'],init:function(E){var F=E.specialKeys;F[13]=C;F[2000+13]=B;}});u.enterkey={enterBlock:function(E,F,G,H){G=G||D(E);if(!G)return;var I=G.document;if(G.checkStartOfBlock()&&G.checkEndOfBlock()){var J=new o.elementPath(G.startContainer),K=J.block;if(K&&(K.is('li')||K.getParent().is('li'))){E.execCommand('outdent');return;}}var L=F==3?'div':'p',M=G.splitBlock(L);if(!M)return;var N=M.previousBlock,O=M.nextBlock,P=M.wasStartOfBlock,Q=M.wasEndOfBlock,R;if(O){R=O.getParent();if(R.is('li')){O.breakParent(R);O.move(O.getNext(),1);}}else if(N&&(R=N.getParent())&&R.is('li')){N.breakParent(R);G.moveToElementEditStart(N.getNext());N.move(N.getPrevious());}if(!P&&!Q){if(O.is('li')&&(R=O.getFirst(o.walker.invisible(true)))&&R.is&&R.is('ul','ol'))(n?I.createText('\xa0'):I.createElement('br')).insertBefore(R);if(O)G.moveToElementEditStart(O);}else{var S,T;if(N){if(N.is('li')||!A.test(N.getName()))S=N.clone();}else if(O)S=O.clone();if(!S){S=I.createElement(L);if(N&&(T=N.getDirection()))S.setAttribute('dir',T);}else if(H&&!S.is('li'))S.renameNode(L);var U=M.elementPath;if(U)for(var V=0,W=U.elements.length;V<W;V++){var X=U.elements[V];if(X.equals(U.block)||X.equals(U.blockLimit))break;if(q.$removeEmpty[X.getName()]){X=X.clone();S.moveChildren(X);S.append(X);}}if(!n)S.appendBogus();G.insertNode(S);if(n&&P&&(!Q||!N.getChildCount())){G.moveToElementEditStart(Q?N:S);G.select();}G.moveToElementEditStart(P&&!Q?O:S);}if(!n)if(O){var Y=I.createElement('span');Y.setHtml('&nbsp;');G.insertNode(Y);Y.scrollIntoView();G.deleteContents();}else S.scrollIntoView();G.select();},enterBr:function(E,F,G,H){G=G||D(E);if(!G)return;var I=G.document,J=F==3?'div':'p',K=G.checkEndOfBlock(),L=new o.elementPath(E.getSelection().getStartElement()),M=L.block,N=M&&L.block.getName(),O=false;if(!H&&N=='li'){z(E,F,G,H);return;}if(!H&&K&&A.test(N)){var P,Q;if(Q=M.getDirection()){P=I.createElement('div');P.setAttribute('dir',Q);P.insertAfter(M);G.setStart(P,0);}else{I.createElement('br').insertAfter(M);if(m.gecko)I.createText('').insertAfter(M);G.setStartAt(M.getNext(),n?3:1);}}else{var R;O=N=='pre';if(O&&!m.gecko)R=I.createText(n?'\r':'\n');else R=I.createElement('br');G.deleteContents();G.insertNode(R);if(!n)I.createText('\ufeff').insertAfter(R);
if(K&&!n)R.getParent().appendBogus();if(!n)R.getNext().$.nodeValue='';if(n)G.setStartAt(R,4);else G.setStartAt(R.getNext(),1);if(!n){var S=null;if(!m.gecko){S=I.createElement('span');S.setHtml('&nbsp;');}else S=I.createElement('br');S.insertBefore(R.getNext());S.scrollIntoView();S.remove();}}G.collapse(true);G.select(O);}};var x=u.enterkey,y=x.enterBr,z=x.enterBlock,A=/^h[1-6]$/;function B(E){if(E.mode!='wysiwyg')return false;if(E.getSelection().getStartElement().hasAscendant('pre',true)){setTimeout(function(){z(E,E.config.enterMode,null,true);},0);return true;}else return C(E,E.config.shiftEnterMode,1);};function C(E,F,G){G=E.config.forceEnterMode||G;if(E.mode!='wysiwyg')return false;if(!F)F=E.config.enterMode;setTimeout(function(){E.fire('saveSnapshot');if(F==2||E.getSelection().getStartElement().hasAscendant('pre',1))y(E,F,null,G);else z(E,F,null,G);},0);return true;};function D(E){var F=E.getSelection().getRanges(true);for(var G=F.length-1;G>0;G--)F[G].deleteContents();return F[0];};})();(function(){var x='nbsp,gt,lt',y='quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro',z='Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml',A='Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv';function B(C,D){var E={},F=[],G={nbsp:'\xa0',shy:'­',gt:'>',lt:'<'};
C=C.replace(/\b(nbsp|shy|gt|lt|amp)(?:,|$)/g,function(L,M){var N=D?'&'+M+';':G[M],O=D?G[M]:'&'+M+';';E[N]=O;F.push(N);return '';});if(!D&&C){C=C.split(',');var H=document.createElement('div'),I;H.innerHTML='&'+C.join(';&')+';';I=H.innerHTML;H=null;for(var J=0;J<I.length;J++){var K=I.charAt(J);E[K]='&'+C[J]+';';F.push(K);}}E.regex=F.join(D?'|':'');return E;};u.add('entities',{afterInit:function(C){var D=C.config,E=C.dataProcessor,F=E&&E.htmlFilter;if(F){var G=x;if(D.entities){G+=','+y;if(D.entities_latin)G+=','+z;if(D.entities_greek)G+=','+A;if(D.entities_additional)G+=','+D.entities_additional;}var H=B(G),I='['+H.regex+']';delete H.regex;if(D.entities&&D.entities_processNumerical)I='[^ -~]|'+I;I=new RegExp(I,'g');function J(N){return D.entities_processNumerical=='force'||!H[N]?'&#'+N.charCodeAt(0)+';':H[N];};var K=B([x,'shy'].join(','),true),L=new RegExp(K.regex,'g');function M(N){return K[N];};F.addRules({text:function(N){return N.replace(L,M).replace(I,J);}});}}});})();t.entities=true;t.entities_latin=true;t.entities_greek=true;t.entities_additional='#39';(function(){function x(G,H){var I=[];if(!H)return G;else for(var J in H)I.push(J+'='+encodeURIComponent(H[J]));return G+(G.indexOf('?')!=-1?'&':'?')+I.join('&');};function y(G){G+='';var H=G.charAt(0).toUpperCase();return H+G.substr(1);};function z(G){var N=this;var H=N.getDialog(),I=H.getParentEditor();I._.filebrowserSe=N;var J=I.config['filebrowser'+y(H.getName())+'WindowWidth']||I.config.filebrowserWindowWidth||'80%',K=I.config['filebrowser'+y(H.getName())+'WindowHeight']||I.config.filebrowserWindowHeight||'70%',L=N.filebrowser.params||{};L.CKEditor=I.name;L.CKEditorFuncNum=I._.filebrowserFn;if(!L.langCode)L.langCode=I.langCode;var M=x(N.filebrowser.url,L);I.popup(M,J,K,I.config.fileBrowserWindowFeatures);};function A(G){var J=this;var H=J.getDialog(),I=H.getParentEditor();I._.filebrowserSe=J;if(!H.getContentElement(J['for'][0],J['for'][1]).getInputElement().$.value)return false;if(!H.getContentElement(J['for'][0],J['for'][1]).getAction())return false;return true;};function B(G,H,I){var J=I.params||{};J.CKEditor=G.name;J.CKEditorFuncNum=G._.filebrowserFn;if(!J.langCode)J.langCode=G.langCode;H.action=x(I.url,J);H.filebrowser=I;};function C(G,H,I,J){var K,L;for(var M in J){K=J[M];if(K.type=='hbox'||K.type=='vbox')C(G,H,I,K.children);if(!K.filebrowser)continue;if(typeof K.filebrowser=='string'){var N={action:K.type=='fileButton'?'QuickUpload':'Browse',target:K.filebrowser};K.filebrowser=N;}if(K.filebrowser.action=='Browse'){var O=K.filebrowser.url;
if(O===undefined){O=G.config['filebrowser'+y(H)+'BrowseUrl'];if(O===undefined)O=G.config.filebrowserBrowseUrl;}if(O){K.onClick=z;K.filebrowser.url=O;K.hidden=false;}}else if(K.filebrowser.action=='QuickUpload'&&K['for']){O=K.filebrowser.url;if(O===undefined){O=G.config['filebrowser'+y(H)+'UploadUrl'];if(O===undefined)O=G.config.filebrowserUploadUrl;}if(O){var P=K.onClick;K.onClick=function(Q){var R=Q.sender;if(P&&P.call(R,Q)===false)return false;return A.call(R,Q);};K.filebrowser.url=O;K.hidden=false;B(G,I.getContents(K['for'][0]).get(K['for'][1]),K.filebrowser);}}}};function D(G,H){var I=H.getDialog(),J=H.filebrowser.target||null;G=G.replace(/#/g,'%23');if(J){var K=J.split(':'),L=I.getContentElement(K[0],K[1]);if(L){L.setValue(G);I.selectPage(K[0]);}}};function E(G,H,I){if(I.indexOf(';')!==-1){var J=I.split(';');for(var K=0;K<J.length;K++){if(E(G,H,J[K]))return true;}return false;}var L=G.getContents(H).get(I).filebrowser;return L&&L.url;};function F(G,H){var L=this;var I=L._.filebrowserSe.getDialog(),J=L._.filebrowserSe['for'],K=L._.filebrowserSe.filebrowser.onSelect;if(J)I.getContentElement(J[0],J[1]).reset();if(typeof H=='function'&&H.call(L._.filebrowserSe)===false)return;if(K&&K.call(L._.filebrowserSe,G,H)===false)return;if(typeof H=='string'&&H)alert(H);if(G)D(G,L._.filebrowserSe);};u.add('filebrowser',{init:function(G,H){G._.filebrowserFn=p.addFunction(F,G);G.on('destroy',function(){p.removeFunction(this._.filebrowserFn);});}});l.on('dialogDefinition',function(G){var H=G.data.definition,I;for(var J in H.contents){if(I=H.contents[J]){C(G.editor,G.data.name,H,I.elements);if(I.hidden&&I.filebrowser)I.hidden=!E(H,I.id,I.filebrowser);}}});})();u.add('find',{init:function(x){var y=u.find;x.ui.addButton('Find',{label:x.lang.findAndReplace.find,command:'find'});var z=x.addCommand('find',new l.dialogCommand('find'));z.canUndo=false;x.ui.addButton('Replace',{label:x.lang.findAndReplace.replace,command:'replace'});var A=x.addCommand('replace',new l.dialogCommand('replace'));A.canUndo=false;l.dialog.add('find',this.path+'dialogs/find.js');l.dialog.add('replace',this.path+'dialogs/find.js');},requires:['styles']});t.find_highlight={element:'span',styles:{'background-color':'#004',color:'#fff'}};(function(){var x=/\.swf(?:$|\?)/i,y=p.cssLength;function z(B){var C=B.attributes;return C.type=='application/x-shockwave-flash'||x.test(C.src||'');};function A(B,C){var D=B.createFakeParserElement(C,'cke_flash','flash',true),E=D.attributes.style||'',F=C.attributes.width,G=C.attributes.height;
if(typeof F!='undefined')E=D.attributes.style=E+'width:'+y(F)+';';if(typeof G!='undefined')E=D.attributes.style=E+'height:'+y(G)+';';return D;};u.add('flash',{init:function(B){B.addCommand('flash',new l.dialogCommand('flash'));B.ui.addButton('Flash',{label:B.lang.common.flash,command:'flash'});l.dialog.add('flash',this.path+'dialogs/flash.js');B.addCss('img.cke_flash{background-image: url('+l.getUrl(this.path+'images/placeholder.png')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 80px;'+'height: 80px;'+'}');if(B.addMenuItems)B.addMenuItems({flash:{label:B.lang.flash.properties,command:'flash',group:'flash'}});B.on('doubleclick',function(C){var D=C.data.element;if(D.is('img')&&D.data('cke-real-element-type')=='flash')C.data.dialog='flash';});if(B.contextMenu)B.contextMenu.addListener(function(C,D){if(C&&C.is('img')&&!C.isReadOnly()&&C.data('cke-real-element-type')=='flash')return{flash:2};});},afterInit:function(B){var C=B.dataProcessor,D=C&&C.dataFilter;if(D)D.addRules({elements:{'cke:object':function(E){var F=E.attributes,G=F.classid&&String(F.classid).toLowerCase();if(!G){for(var H=0;H<E.children.length;H++){if(E.children[H].name=='cke:embed'){if(!z(E.children[H]))return null;return A(B,E);}}return null;}return A(B,E);},'cke:embed':function(E){if(!z(E))return null;return A(B,E);}}},5);},requires:['fakeobjects']});})();p.extend(t,{flashEmbedTagOnly:false,flashAddEmbedTag:true,flashConvertOnEdit:false});(function(){function x(y,z,A,B,C,D,E){var F=y.config,G=C.split(';'),H=[],I={};for(var J=0;J<G.length;J++){var K=G[J];if(K){K=K.split('/');var L={},M=G[J]=K[0];L[A]=H[J]=K[1]||M;I[M]=new l.style(E,L);I[M]._.definition.name=M;}else G.splice(J--,1);}y.ui.addRichCombo(z,{label:B.label,title:B.panelTitle,className:'cke_'+(A=='size'?'fontSize':'font'),panel:{css:y.skin.editor.css.concat(F.contentsCss),multiSelect:false,attributes:{'aria-label':B.panelTitle}},init:function(){this.startGroup(B.panelTitle);for(var N=0;N<G.length;N++){var O=G[N];this.add(O,I[O].buildPreview(),O);}},onClick:function(N){y.focus();y.fire('saveSnapshot');var O=I[N];if(this.getValue()==N)O.remove(y.document);else O.apply(y.document);y.fire('saveSnapshot');},onRender:function(){y.on('selectionChange',function(N){var O=this.getValue(),P=N.data.path,Q=P.elements;for(var R=0,S;R<Q.length;R++){S=Q[R];for(var T in I){if(I[T].checkElementRemovable(S,true)){if(T!=O)this.setValue(T);return;}}}this.setValue('',D);},this);}});};u.add('font',{requires:['richcombo','styles'],init:function(y){var z=y.config;
x(y,'Font','family',y.lang.font,z.font_names,z.font_defaultLabel,z.font_style);x(y,'FontSize','size',y.lang.fontSize,z.fontSize_sizes,z.fontSize_defaultLabel,z.fontSize_style);}});})();t.font_names='Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif';t.font_defaultLabel='';t.font_style={element:'span',styles:{'font-family':'#(family)'},overrides:[{element:'font',attributes:{face:null}}]};t.fontSize_sizes='8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px';t.fontSize_defaultLabel='';t.fontSize_style={element:'span',styles:{'font-size':'#(size)'},overrides:[{element:'font',attributes:{size:null}}]};u.add('format',{requires:['richcombo','styles'],init:function(x){var y=x.config,z=x.lang.format,A=y.format_tags.split(';'),B={};for(var C=0;C<A.length;C++){var D=A[C];B[D]=new l.style(y['format_'+D]);B[D]._.enterMode=x.config.enterMode;}x.ui.addRichCombo('Format',{label:z.label,title:z.panelTitle,className:'cke_format',panel:{css:x.skin.editor.css.concat(y.contentsCss),multiSelect:false,attributes:{'aria-label':z.panelTitle}},init:function(){this.startGroup(z.panelTitle);for(var E in B){var F=z['tag_'+E];this.add(E,'<'+E+'>'+F+'</'+E+'>',F);}},onClick:function(E){x.focus();x.fire('saveSnapshot');var F=B[E],G=new o.elementPath(x.getSelection().getStartElement());F[F.checkActive(G)?'remove':'apply'](x.document);setTimeout(function(){x.fire('saveSnapshot');},0);},onRender:function(){x.on('selectionChange',function(E){var F=this.getValue(),G=E.data.path;for(var H in B){if(B[H].checkActive(G)){if(H!=F)this.setValue(H,x.lang.format['tag_'+H]);return;}}this.setValue('');},this);}});}});t.format_tags='p;h1;h2;h3;h4;h5;h6;pre;address;div';t.format_p={element:'p'};t.format_div={element:'div'};t.format_pre={element:'pre'};t.format_address={element:'address'};t.format_h1={element:'h1'};t.format_h2={element:'h2'};t.format_h3={element:'h3'};t.format_h4={element:'h4'};t.format_h5={element:'h5'};t.format_h6={element:'h6'};u.add('forms',{init:function(x){var y=x.lang;x.addCss('form{border: 1px dotted #FF0000;padding: 2px;}\n');x.addCss('img.cke_hidden{background-image: url('+l.getUrl(this.path+'images/hiddenfield.gif')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 16px !important;'+'height: 16px !important;'+'}');
var z=function(B,C,D){x.addCommand(C,new l.dialogCommand(C));x.ui.addButton(B,{label:y.common[B.charAt(0).toLowerCase()+B.slice(1)],command:C});l.dialog.add(C,D);},A=this.path+'dialogs/';z('Form','form',A+'form.js');z('Checkbox','checkbox',A+'checkbox.js');z('Radio','radio',A+'radio.js');z('TextField','textfield',A+'textfield.js');z('Textarea','textarea',A+'textarea.js');z('Select','select',A+'select.js');z('Button','button',A+'button.js');z('ImageButton','imagebutton',u.getPath('image')+'dialogs/image.js');z('HiddenField','hiddenfield',A+'hiddenfield.js');if(x.addMenuItems)x.addMenuItems({form:{label:y.form.menu,command:'form',group:'form'},checkbox:{label:y.checkboxAndRadio.checkboxTitle,command:'checkbox',group:'checkbox'},radio:{label:y.checkboxAndRadio.radioTitle,command:'radio',group:'radio'},textfield:{label:y.textfield.title,command:'textfield',group:'textfield'},hiddenfield:{label:y.hidden.title,command:'hiddenfield',group:'hiddenfield'},imagebutton:{label:y.image.titleButton,command:'imagebutton',group:'imagebutton'},button:{label:y.button.title,command:'button',group:'button'},select:{label:y.select.title,command:'select',group:'select'},textarea:{label:y.textarea.title,command:'textarea',group:'textarea'}});if(x.contextMenu){x.contextMenu.addListener(function(B){if(B&&B.hasAscendant('form',true)&&!B.isReadOnly())return{form:2};});x.contextMenu.addListener(function(B){if(B&&!B.isReadOnly()){var C=B.getName();if(C=='select')return{select:2};if(C=='textarea')return{textarea:2};if(C=='input')switch(B.getAttribute('type')){case 'button':case 'submit':case 'reset':return{button:2};case 'checkbox':return{checkbox:2};case 'radio':return{radio:2};case 'image':return{imagebutton:2};default:return{textfield:2};}if(C=='img'&&B.data('cke-real-element-type')=='hiddenfield')return{hiddenfield:2};}});}x.on('doubleclick',function(B){var C=B.data.element;if(C.is('form'))B.data.dialog='form';else if(C.is('select'))B.data.dialog='select';else if(C.is('textarea'))B.data.dialog='textarea';else if(C.is('img')&&C.data('cke-real-element-type')=='hiddenfield')B.data.dialog='hiddenfield';else if(C.is('input'))switch(C.getAttribute('type')){case 'button':case 'submit':case 'reset':B.data.dialog='button';break;case 'checkbox':B.data.dialog='checkbox';break;case 'radio':B.data.dialog='radio';break;case 'image':B.data.dialog='imagebutton';break;default:B.data.dialog='textfield';break;}});},afterInit:function(x){var y=x.dataProcessor,z=y&&y.htmlFilter,A=y&&y.dataFilter;if(n)z&&z.addRules({elements:{input:function(B){var C=B.attributes,D=C.type;
if(!D)C.type='text';if(D=='checkbox'||D=='radio')C.value=='on'&&delete C.value;}}});if(A)A.addRules({elements:{input:function(B){if(B.attributes.type=='hidden')return x.createFakeParserElement(B,'cke_hidden','hiddenfield');}}});},requires:['image','fakeobjects']});if(n)s.prototype.hasAttribute=function(x){var A=this;var y=A.$.attributes.getNamedItem(x);if(A.getName()=='input')switch(x){case 'class':return A.$.className.length>0;case 'checked':return!!A.$.checked;case 'value':var z=A.getAttribute('type');return z=='checkbox'||z=='radio'?A.$.value!='on':A.$.value;}return!!(y&&y.specified);};(function(){var x={canUndo:false,exec:function(z){z.insertElement(z.document.createElement('hr'));}},y='horizontalrule';u.add(y,{init:function(z){z.addCommand(y,x);z.ui.addButton('HorizontalRule',{label:z.lang.horizontalrule,command:y});}});})();(function(){function x(y,z){var A=y.createFakeParserElement(z,'cke_iframe','iframe',true),B=A.attributes.style||'',C=z.attributes.width,D=z.attributes.height;if(typeof C!='undefined')B+='width:'+p.cssLength(C)+';';if(typeof D!='undefined')B+='height:'+p.cssLength(D)+';';A.attributes.style=B;return A;};u.add('iframe',{requires:['dialog','fakeobjects'],init:function(y){var z='iframe',A=y.lang.iframe;l.dialog.add(z,this.path+'dialogs/iframe.js');y.addCommand(z,new l.dialogCommand(z));y.addCss('img.cke_iframe{background-image: url('+l.getUrl(this.path+'images/placeholder.png')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 80px;'+'height: 80px;'+'}');y.ui.addButton('Iframe',{label:A.toolbar,command:z});y.on('doubleclick',function(B){var C=B.data.element;if(C.is('img')&&C.data('cke-real-element-type')=='iframe')B.data.dialog='iframe';});if(y.addMenuItems)y.addMenuItems({iframe:{label:A.title,command:'iframe',group:'image'}});if(y.contextMenu)y.contextMenu.addListener(function(B,C){if(B&&B.is('img')&&B.data('cke-real-element-type')=='iframe')return{iframe:2};});},afterInit:function(y){var z=y.dataProcessor,A=z&&z.dataFilter;if(A)A.addRules({elements:{iframe:function(B){return x(y,B);}}});}});})();u.add('image',{init:function(x){var y='image';l.dialog.add(y,this.path+'dialogs/image.js');x.addCommand(y,new l.dialogCommand(y));x.ui.addButton('Image',{label:x.lang.common.image,command:y});x.on('doubleclick',function(z){var A=z.data.element;if(A.is('img')&&!A.data('cke-realelement'))z.data.dialog='image';});if(x.addMenuItems)x.addMenuItems({image:{label:x.lang.image.menu,command:'image',group:'image'}});
if(x.contextMenu)x.contextMenu.addListener(function(z,A){if(!z||!z.is('img')||z.data('cke-realelement')||z.isReadOnly())return null;return{image:2};});}});t.image_removeLinkByEmptyURL=true;(function(){var x={ol:1,ul:1},y=o.walker.whitespaces(true),z=o.walker.bookmark(false,true);function A(E){var N=this;var F=E.editor,G=E.data.path,H=G&&G.contains(x);if(H)return N.setState(2);if(!N.useIndentClasses&&N.name=='indent')return N.setState(2);var I=E.data.path,J=I.block||I.blockLimit;if(!J)return N.setState(0);if(N.useIndentClasses){var K=J.$.className.match(N.classNameRegex),L=0;if(K){K=K[1];L=N.indentClassMap[K];}if(N.name=='outdent'&&!L||N.name=='indent'&&L==F.config.indentClasses.length)return N.setState(0);return N.setState(2);}else{var M=parseInt(J.getStyle(C(J)),10);if(isNaN(M))M=0;if(M<=0)return N.setState(0);return N.setState(2);}};function B(E,F){var H=this;H.name=F;H.useIndentClasses=E.config.indentClasses&&E.config.indentClasses.length>0;if(H.useIndentClasses){H.classNameRegex=new RegExp('(?:^|\\s+)('+E.config.indentClasses.join('|')+')(?=$|\\s)');H.indentClassMap={};for(var G=0;G<E.config.indentClasses.length;G++)H.indentClassMap[E.config.indentClasses[G]]=G+1;}H.startDisabled=F=='outdent';};function C(E,F){return(F||E.getComputedStyle('direction'))=='ltr'?'margin-left':'margin-right';};function D(E){return E.type=1&&E.is('li');};B.prototype={exec:function(E){var F=this,G={};function H(X){var Y=N.startContainer,Z=N.endContainer;while(Y&&!Y.getParent().equals(X))Y=Y.getParent();while(Z&&!Z.getParent().equals(X))Z=Z.getParent();if(!Y||!Z)return;var aa=Y,ab=[],ac=false;while(!ac){if(aa.equals(Z))ac=true;ab.push(aa);aa=aa.getNext();}if(ab.length<1)return;var ad=X.getParents(true);for(var ae=0;ae<ad.length;ae++){if(ad[ae].getName&&x[ad[ae].getName()]){X=ad[ae];break;}}var af=F.name=='indent'?1:-1,ag=ab[0],ah=ab[ab.length-1],ai=u.list.listToArray(X,G),aj=ai[ah.getCustomData('listarray_index')].indent;for(ae=ag.getCustomData('listarray_index');ae<=ah.getCustomData('listarray_index');ae++){ai[ae].indent+=af;var ak=ai[ae].parent;ai[ae].parent=new s(ak.getName(),ak.getDocument());}for(ae=ah.getCustomData('listarray_index')+1;ae<ai.length&&ai[ae].indent>aj;ae++)ai[ae].indent+=af;var al=u.list.arrayToList(ai,G,null,E.config.enterMode,X.getDirection());if(F.name=='outdent'){var am;if((am=X.getParent())&&am.is('li')){var an=al.listNode.getChildren(),ao=[],ap=an.count(),aq;for(ae=ap-1;ae>=0;ae--){if((aq=an.getItem(ae))&&aq.is&&aq.is('li'))ao.push(aq);}}}if(al)al.listNode.replace(X);
if(ao&&ao.length)for(ae=0;ae<ao.length;ae++){var ar=ao[ae],as=ar;while((as=as.getNext())&&as.is&&as.getName() in x){if(n&&!ar.getFirst(function(at){return y(at)&&z(at);}))ar.append(N.document.createText('\xa0'));ar.append(as);}ar.insertAfter(am);}};function I(){var X=N.createIterator(),Y=E.config.enterMode;X.enforceRealBlocks=true;X.enlargeBr=Y!=2;var Z;while(Z=X.getNextParagraph(Y==1?'p':'div'))J(Z);};function J(X,Y){if(X.getCustomData('indent_processed'))return false;if(F.useIndentClasses){var Z=X.$.className.match(F.classNameRegex),aa=0;if(Z){Z=Z[1];aa=F.indentClassMap[Z];}if(F.name=='outdent')aa--;else aa++;if(aa<0)return false;aa=Math.min(aa,E.config.indentClasses.length);aa=Math.max(aa,0);X.$.className=p.ltrim(X.$.className.replace(F.classNameRegex,''));if(aa>0)X.addClass(E.config.indentClasses[aa-1]);}else{var ab=C(X,Y),ac=parseInt(X.getStyle(ab),10);if(isNaN(ac))ac=0;var ad=E.config.indentOffset||40;ac+=(F.name=='indent'?1:-1)*ad;if(ac<0)return false;ac=Math.max(ac,0);ac=Math.ceil(ac/ad)*ad;X.setStyle(ab,ac?ac+(E.config.indentUnit||'px'):'');if(X.getAttribute('style')==='')X.removeAttribute('style');}s.setMarker(G,X,'indent_processed',1);return true;};var K=E.getSelection(),L=K.createBookmarks(1),M=K&&K.getRanges(1),N,O=M.createIterator();while(N=O.getNextRange()){var P=N.getCommonAncestor(),Q=P;while(Q&&!(Q.type==1&&x[Q.getName()]))Q=Q.getParent();if(!Q){var R=N.getEnclosedNode();if(R&&R.type==1&&R.getName() in x){N.setStartAt(R,1);N.setEndAt(R,2);Q=R;}}if(Q&&N.startContainer.type==1&&N.startContainer.getName() in x){var S=new o.walker(N);S.evaluator=D;N.startContainer=S.next();}if(Q&&N.endContainer.type==1&&N.endContainer.getName() in x){S=new o.walker(N);S.evaluator=D;N.endContainer=S.previous();}if(Q){var T=Q.getFirst(D),U=!!T.getNext(D),V=N.startContainer,W=T.equals(V)||T.contains(V);if(!(W&&(F.name=='indent'||F.useIndentClasses||parseInt(Q.getStyle(C(Q)),10))&&J(Q,!U&&T.getDirection())))H(Q);}else I();}s.clearAllMarkers(G);E.forceNextSelectionCheck();K.selectBookmarks(L);}};u.add('indent',{init:function(E){var F=E.addCommand('indent',new B(E,'indent')),G=E.addCommand('outdent',new B(E,'outdent'));E.ui.addButton('Indent',{label:E.lang.indent,command:'indent'});E.ui.addButton('Outdent',{label:E.lang.outdent,command:'outdent'});E.on('selectionChange',p.bind(A,F));E.on('selectionChange',p.bind(A,G));if(m.ie6Compat||m.ie7Compat)E.addCss('ul,ol{\tmargin-left: 0px;\tpadding-left: 40px;}');E.on('dirChanged',function(H){var I=new o.range(E.document);I.setStartBefore(H.data.node);
I.setEndAfter(H.data.node);var J=new o.walker(I),K;while(K=J.next()){if(K.type==1){if(!K.equals(H.data.node)&&K.getDirection()){I.setStartAfter(K);J=new o.walker(I);continue;}var L=E.config.indentClasses;if(L){var M=H.data.dir=='ltr'?['_rtl','']:['','_rtl'];for(var N=0;N<L.length;N++){if(K.hasClass(L[N]+M[0])){K.removeClass(L[N]+M[0]);K.addClass(L[N]+M[1]);}}}var O=K.getStyle('margin-right'),P=K.getStyle('margin-left');O?K.setStyle('margin-left',O):K.removeStyle('margin-left');P?K.setStyle('margin-right',P):K.removeStyle('margin-right');}}});},requires:['domiterator','list']});})();(function(){function x(C,D){var E=D.block||D.blockLimit;if(!E||E.getName()=='body')return 2;return y(E,C.config.useComputedState)==this.value?1:2;};function y(C,D){D=D===undefined||D;var E;if(D)E=C.getComputedStyle('text-align');else{while(!C.hasAttribute||!(C.hasAttribute('align')||C.getStyle('text-align'))){var F=C.getParent();if(!F)break;C=F;}E=C.getStyle('text-align')||C.getAttribute('align')||'';}E&&(E=E.replace(/-moz-|-webkit-|start|auto/i,''));!E&&D&&(E=C.getComputedStyle('direction')=='rtl'?'right':'left');return E;};function z(C){var D=C.editor.getCommand(this.name);D.state=x.call(this,C.editor,C.data.path);D.fire('state');};function A(C,D,E){var G=this;G.name=D;G.value=E;var F=C.config.justifyClasses;if(F){switch(E){case 'left':G.cssClassName=F[0];break;case 'center':G.cssClassName=F[1];break;case 'right':G.cssClassName=F[2];break;case 'justify':G.cssClassName=F[3];break;}G.cssClassRegex=new RegExp('(?:^|\\s+)(?:'+F.join('|')+')(?=$|\\s)');}};function B(C){var D=C.editor,E=new o.range(D.document);E.setStartBefore(C.data.node);E.setEndAfter(C.data.node);var F=new o.walker(E),G;while(G=F.next()){if(G.type==1){if(!G.equals(C.data.node)&&G.getDirection()){E.setStartAfter(G);F=new o.walker(E);continue;}var H=D.config.justifyClasses;if(H)if(G.hasClass(H[0])){G.removeClass(H[0]);G.addClass(H[2]);}else if(G.hasClass(H[2])){G.removeClass(H[2]);G.addClass(H[0]);}var I='text-align',J=G.getStyle(I);if(J=='left')G.setStyle(I,'right');else if(J=='right')G.setStyle(I,'left');}}};A.prototype={exec:function(C){var O=this;var D=C.getSelection(),E=C.config.enterMode;if(!D)return;var F=D.createBookmarks(),G=D.getRanges(true),H=O.cssClassName,I,J,K=C.config.useComputedState;K=K===undefined||K;for(var L=G.length-1;L>=0;L--){I=G[L].createIterator();I.enlargeBr=E!=2;while(J=I.getNextParagraph(E==1?'p':'div')){J.removeAttribute('align');J.removeStyle('text-align');var M=H&&(J.$.className=p.ltrim(J.$.className.replace(O.cssClassRegex,''))),N=O.state==2&&(!K||y(J,true)!=O.value);
if(H){if(N)J.addClass(H);else if(!M)J.removeAttribute('class');}else if(N)J.setStyle('text-align',O.value);}}C.focus();C.forceNextSelectionCheck();D.selectBookmarks(F);}};u.add('justify',{init:function(C){var D=new A(C,'justifyleft','left'),E=new A(C,'justifycenter','center'),F=new A(C,'justifyright','right'),G=new A(C,'justifyblock','justify');C.addCommand('justifyleft',D);C.addCommand('justifycenter',E);C.addCommand('justifyright',F);C.addCommand('justifyblock',G);C.ui.addButton('JustifyLeft',{label:C.lang.justify.left,command:'justifyleft'});C.ui.addButton('JustifyCenter',{label:C.lang.justify.center,command:'justifycenter'});C.ui.addButton('JustifyRight',{label:C.lang.justify.right,command:'justifyright'});C.ui.addButton('JustifyBlock',{label:C.lang.justify.block,command:'justifyblock'});C.on('selectionChange',p.bind(z,D));C.on('selectionChange',p.bind(z,F));C.on('selectionChange',p.bind(z,E));C.on('selectionChange',p.bind(z,G));C.on('dirChanged',B);},requires:['domiterator']});})();u.add('keystrokes',{beforeInit:function(x){x.keystrokeHandler=new l.keystrokeHandler(x);x.specialKeys={};},init:function(x){var y=x.config.keystrokes,z=x.config.blockedKeystrokes,A=x.keystrokeHandler.keystrokes,B=x.keystrokeHandler.blockedKeystrokes;for(var C=0;C<y.length;C++)A[y[C][0]]=y[C][1];for(C=0;C<z.length;C++)B[z[C]]=1;}});l.keystrokeHandler=function(x){var y=this;if(x.keystrokeHandler)return x.keystrokeHandler;y.keystrokes={};y.blockedKeystrokes={};y._={editor:x};return y;};(function(){var x,y=function(A){A=A.data;var B=A.getKeystroke(),C=this.keystrokes[B],D=this._.editor;x=D.fire('key',{keyCode:B})===true;if(!x){if(C){var E={from:'keystrokeHandler'};x=D.execCommand(C,E)!==false;}if(!x){var F=D.specialKeys[B];x=F&&F(D)===true;if(!x)x=!!this.blockedKeystrokes[B];}}if(x)A.preventDefault(true);return!x;},z=function(A){if(x){x=false;A.data.preventDefault(true);}};l.keystrokeHandler.prototype={attach:function(A){A.on('keydown',y,this);if(m.opera||m.gecko&&m.mac)A.on('keypress',z,this);}};})();t.blockedKeystrokes=[1000+66,1000+73,1000+85];t.keystrokes=[[4000+121,'toolbarFocus'],[4000+122,'elementsPathFocus'],[2000+121,'contextMenu'],[1000+2000+121,'contextMenu'],[1000+90,'undo'],[1000+89,'redo'],[1000+2000+90,'redo'],[1000+76,'link'],[1000+66,'bold'],[1000+73,'italic'],[1000+85,'underline'],[4000+109,'toolbarCollapse'],[4000+48,'a11yHelp']];u.add('link',{init:function(x){x.addCommand('link',new l.dialogCommand('link'));x.addCommand('anchor',new l.dialogCommand('anchor'));
x.addCommand('unlink',new l.unlinkCommand());x.ui.addButton('Link',{label:x.lang.link.toolbar,command:'link'});x.ui.addButton('Unlink',{label:x.lang.unlink,command:'unlink'});x.ui.addButton('Anchor',{label:x.lang.anchor.toolbar,command:'anchor'});l.dialog.add('link',this.path+'dialogs/link.js');l.dialog.add('anchor',this.path+'dialogs/anchor.js');var y=x.lang.dir=='rtl'?'right':'left';x.addCss('img.cke_anchor{background-image: url('+l.getUrl(this.path+'images/anchor.gif')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 18px !important;'+'height: 18px !important;'+'}\n'+'a.cke_anchor'+'{'+'background-image: url('+l.getUrl(this.path+'images/anchor.gif')+');'+'background-position: '+y+' center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'padding-'+y+': 18px;'+'}');x.on('selectionChange',function(z){var A=x.getCommand('unlink'),B=z.data.path.lastElement&&z.data.path.lastElement.getAscendant('a',true);if(B&&B.getName()=='a'&&B.getAttribute('href'))A.setState(2);else A.setState(0);});x.on('doubleclick',function(z){var A=u.link.getSelectedLink(x)||z.data.element;if(!A.isReadOnly())if(A.is('a'))z.data.dialog=A.getAttribute('name')&&!A.getAttribute('href')?'anchor':'link';else if(A.is('img')&&A.data('cke-real-element-type')=='anchor')z.data.dialog='anchor';});if(x.addMenuItems)x.addMenuItems({anchor:{label:x.lang.anchor.menu,command:'anchor',group:'anchor'},link:{label:x.lang.link.menu,command:'link',group:'link',order:1},unlink:{label:x.lang.unlink,command:'unlink',group:'link',order:5}});if(x.contextMenu)x.contextMenu.addListener(function(z,A){if(!z||z.isReadOnly())return null;var B=z.is('img')&&z.data('cke-real-element-type')=='anchor';if(!B){if(!(z=u.link.getSelectedLink(x)))return null;B=z.getAttribute('name')&&!z.getAttribute('href');}return B?{anchor:2}:{link:2,unlink:2};});},afterInit:function(x){var y=x.dataProcessor,z=y&&y.dataFilter;if(z)z.addRules({elements:{a:function(A){var B=A.attributes;if(B.name&&!B.href)return x.createFakeParserElement(A,'cke_anchor','anchor');}}});},requires:['fakeobjects']});u.link={getSelectedLink:function(x){try{var y=x.getSelection();if(y.getType()==3){var z=y.getSelectedElement();if(z.is('a'))return z;}var A=y.getRanges(true)[0];A.shrink(2);var B=A.getCommonAncestor();return B.getAscendant('a',true);}catch(C){return null;}}};l.unlinkCommand=function(){};l.unlinkCommand.prototype={exec:function(x){var y=x.getSelection(),z=y.createBookmarks(),A=y.getRanges(),B,C;
for(var D=0;D<A.length;D++){B=A[D].getCommonAncestor(true);C=B.getAscendant('a',true);if(!C)continue;A[D].selectNodeContents(C);}y.selectRanges(A);x.document.$.execCommand('unlink',false,null);y.selectBookmarks(z);},startDisabled:true};p.extend(t,{linkShowAdvancedTab:true,linkShowTargetTab:true});(function(){var x={ol:1,ul:1},y=/^[\n\r\t ]*$/,z=o.walker.whitespaces(),A=o.walker.bookmark(),B=function(P){return!(z(P)||A(P));};u.list={listToArray:function(P,Q,R,S,T){if(!x[P.getName()])return[];if(!S)S=0;if(!R)R=[];for(var U=0,V=P.getChildCount();U<V;U++){var W=P.getChild(U);if(W.$.nodeName.toLowerCase()!='li')continue;var X={parent:P,indent:S,element:W,contents:[]};if(!T){X.grandparent=P.getParent();if(X.grandparent&&X.grandparent.$.nodeName.toLowerCase()=='li')X.grandparent=X.grandparent.getParent();}else X.grandparent=T;if(Q)s.setMarker(Q,W,'listarray_index',R.length);R.push(X);for(var Y=0,Z=W.getChildCount(),aa;Y<Z;Y++){aa=W.getChild(Y);if(aa.type==1&&x[aa.getName()])u.list.listToArray(aa,Q,R,S+1,X.grandparent);else X.contents.push(aa);}}return R;},arrayToList:function(P,Q,R,S,T){if(!R)R=0;if(!P||P.length<R+1)return null;var U=P[R].parent.getDocument(),V=new o.documentFragment(U),W=null,X=R,Y=Math.max(P[R].indent,0),Z=null,aa=S==1?'p':'div';while(1){var ab=P[X];if(ab.indent==Y){if(!W||P[X].parent.getName()!=W.getName()){W=P[X].parent.clone(false,1);T&&W.setAttribute('dir',T);V.append(W);}Z=W.append(ab.element.clone(0,1));for(var ac=0;ac<ab.contents.length;ac++)Z.append(ab.contents[ac].clone(1,1));X++;}else if(ab.indent==Math.max(Y,0)+1){var ad=u.list.arrayToList(P,null,X,S);if(!Z.getChildCount()&&n&&!(U.$.documentMode>7))Z.append(U.createText('\xa0'));Z.append(ad.listNode);X=ad.nextIndex;}else if(ab.indent==-1&&!R&&ab.grandparent){Z;if(x[ab.grandparent.getName()])Z=ab.element.clone(false,true);else if(T||ab.element.hasAttributes()||S!=2){Z=U.createElement(aa);ab.element.copyAttributes(Z,{type:1,value:1});var ae=ab.element.getDirection()||T;ae&&Z.setAttribute('dir',ae);if(!T&&S==2&&!Z.hasAttributes())Z=new o.documentFragment(U);}else Z=new o.documentFragment(U);for(ac=0;ac<ab.contents.length;ac++)Z.append(ab.contents[ac].clone(1,1));if(Z.type==11&&X!=P.length-1){var af=Z.getLast();if(af&&af.type==1&&af.getAttribute('type')=='_moz')af.remove();if(!(af=Z.getLast(B)&&af.type==1&&af.getName() in q.$block))Z.append(U.createElement('br'));}if(Z.type==1&&Z.getName()==aa&&Z.$.firstChild){Z.trim();var ag=Z.getFirst();if(ag.type==1&&ag.isBlockBoundary()){var ah=new o.documentFragment(U);
Z.moveChildren(ah);Z=ah;}}var ai=Z.$.nodeName.toLowerCase();if(!n&&(ai=='div'||ai=='p'))Z.appendBogus();V.append(Z);W=null;X++;}else return null;if(P.length<=X||Math.max(P[X].indent,0)<Y)break;}if(Q){var aj=V.getFirst();while(aj){if(aj.type==1)s.clearMarkers(Q,aj);aj=aj.getNextSourceNode();}}return{listNode:V,nextIndex:X};}};function C(P){var Q=P.data.path,R=Q.blockLimit,S=Q.elements,T,U;for(U=0;U<S.length&&(T=S[U])&&!T.equals(R);U++){if(x[S[U].getName()])return this.setState(this.type==S[U].getName()?1:2);}return this.setState(2);};function D(P,Q,R,S){var T=u.list.listToArray(Q.root,R),U=[];for(var V=0;V<Q.contents.length;V++){var W=Q.contents[V];W=W.getAscendant('li',true);if(!W||W.getCustomData('list_item_processed'))continue;U.push(W);s.setMarker(R,W,'list_item_processed',true);}var X=Q.root,Y=X.getDocument().createElement(this.type);X.copyAttributes(Y,{start:1,type:1});Y.removeStyle('list-style-type');for(V=0;V<U.length;V++){var Z=U[V].getCustomData('listarray_index');T[Z].parent=Y;}var aa=u.list.arrayToList(T,R,null,P.config.enterMode),ab,ac=aa.listNode.getChildCount();for(V=0;V<ac&&(ab=aa.listNode.getChild(V));V++){if(ab.getName()==this.type)S.push(ab);}aa.listNode.replace(Q.root);};var E=/^h[1-6]$/;function F(P,Q,R){var S=Q.contents,T=Q.root.getDocument(),U=[];if(S.length==1&&S[0].equals(Q.root)){var V=T.createElement('div');S[0].moveChildren&&S[0].moveChildren(V);S[0].append(V);S[0]=V;}var W=Q.contents[0].getParent();for(var X=0;X<S.length;X++)W=W.getCommonAncestor(S[X].getParent());var Y=P.config.useComputedState,Z,aa;Y=Y===undefined||Y;for(X=0;X<S.length;X++){var ab=S[X],ac;while(ac=ab.getParent()){if(ac.equals(W)){U.push(ab);if(!aa&&ab.getDirection())aa=1;var ad=ab.getDirection(Y);if(Z!==null)if(Z&&Z!=ad)Z=null;else Z=ad;break;}ab=ac;}}if(U.length<1)return;var ae=U[U.length-1].getNext(),af=T.createElement(this.type);R.push(af);var ag,ah;while(U.length){ag=U.shift();ah=T.createElement('li');if(ag.is('pre')||E.test(ag.getName()))ag.appendTo(ah);else{if(Z&&ag.getDirection()){ag.removeStyle('direction');ag.removeAttribute('dir');}ag.copyAttributes(ah);ag.moveChildren(ah);ag.remove();}ah.appendTo(af);}if(Z&&aa)af.setAttribute('dir',Z);if(ae)af.insertBefore(ae);else af.appendTo(W);};function G(P,Q,R){var S=u.list.listToArray(Q.root,R),T=[];for(var U=0;U<Q.contents.length;U++){var V=Q.contents[U];V=V.getAscendant('li',true);if(!V||V.getCustomData('list_item_processed'))continue;T.push(V);s.setMarker(R,V,'list_item_processed',true);}var W=null;for(U=0;U<T.length;
U++){var X=T[U].getCustomData('listarray_index');S[X].indent=-1;W=X;}for(U=W+1;U<S.length;U++){if(S[U].indent>S[U-1].indent+1){var Y=S[U-1].indent+1-S[U].indent,Z=S[U].indent;while(S[U]&&S[U].indent>=Z){S[U].indent+=Y;U++;}U--;}}var aa=u.list.arrayToList(S,R,null,P.config.enterMode,Q.root.getAttribute('dir')),ab=aa.listNode,ac,ad;function ae(af){if((ac=ab[af?'getFirst':'getLast']())&&!(ac.is&&ac.isBlockBoundary())&&(ad=Q.root[af?'getPrevious':'getNext'](o.walker.whitespaces(true)))&&!(ad.is&&ad.isBlockBoundary({br:1})))P.document.createElement('br')[af?'insertBefore':'insertAfter'](ac);};ae(true);ae();ab.replace(Q.root);};function H(P,Q){this.name=P;this.type=Q;};H.prototype={exec:function(P){P.focus();var Q=P.document,R=P.getSelection(),S=R&&R.getRanges(true);if(!S||S.length<1)return;if(this.state==2){var T=Q.getBody();T.trim();if(!T.getFirst()){var U=Q.createElement(P.config.enterMode==1?'p':P.config.enterMode==3?'div':'br');U.appendTo(T);S=new o.rangeList([new o.range(Q)]);if(U.is('br')){S[0].setStartBefore(U);S[0].setEndAfter(U);}else S[0].selectNodeContents(U);R.selectRanges(S);}else{var V=S.length==1&&S[0],W=V&&V.getEnclosedNode();if(W&&W.is&&this.type==W.getName())this.setState(1);}}var X=R.createBookmarks(true),Y=[],Z={},aa=S.createIterator(),ab=0;while((V=aa.getNextRange())&&++ab){var ac=V.getBoundaryNodes(),ad=ac.startNode,ae=ac.endNode;if(ad.type==1&&ad.getName()=='td')V.setStartAt(ac.startNode,1);if(ae.type==1&&ae.getName()=='td')V.setEndAt(ac.endNode,2);var af=V.createIterator(),ag;af.forceBrBreak=this.state==2;while(ag=af.getNextParagraph()){if(ag.getCustomData('list_block'))continue;else s.setMarker(Z,ag,'list_block',1);var ah=new o.elementPath(ag),ai=ah.elements,aj=ai.length,ak=null,al=0,am=ah.blockLimit,an;for(var ao=aj-1;ao>=0&&(an=ai[ao]);ao--){if(x[an.getName()]&&am.contains(an)){am.removeCustomData('list_group_object_'+ab);var ap=an.getCustomData('list_group_object');if(ap)ap.contents.push(ag);else{ap={root:an,contents:[ag]};Y.push(ap);s.setMarker(Z,an,'list_group_object',ap);}al=1;break;}}if(al)continue;var aq=am;if(aq.getCustomData('list_group_object_'+ab))aq.getCustomData('list_group_object_'+ab).contents.push(ag);else{ap={root:aq,contents:[ag]};s.setMarker(Z,aq,'list_group_object_'+ab,ap);Y.push(ap);}}}var ar=[];while(Y.length>0){ap=Y.shift();if(this.state==2){if(x[ap.root.getName()])D.call(this,P,ap,Z,ar);else F.call(this,P,ap,ar);}else if(this.state==1&&x[ap.root.getName()])G.call(this,P,ap,Z);}for(ao=0;ao<ar.length;ao++){ak=ar[ao];
var as,at=this;(as=function(au){var av=ak[au?'getPrevious':'getNext'](o.walker.whitespaces(true));if(av&&av.getName&&av.getName()==at.type){av.remove();av.moveChildren(ak,au);}})();as(1);}s.clearAllMarkers(Z);R.selectBookmarks(X);P.focus();}};var I=q,J=/[\t\r\n ]*(?:&nbsp;|\xa0)$/;function K(P,Q){var R,S=P.children,T=S.length;for(var U=0;U<T;U++){R=S[U];if(R.name&&R.name in Q)return U;}return T;};function L(P){return function(Q){var R=Q.children,S=K(Q,I.$list),T=R[S],U=T&&T.previous,V;if(U&&(U.name&&U.name=='br'||U.value&&(V=U.value.match(J)))){var W=U;if(!(V&&V.index)&&W==R[0])R[0]=P||n?new l.htmlParser.text('\xa0'):new l.htmlParser.element('br',{});else if(W.name=='br')R.splice(S-1,1);else W.value=W.value.replace(J,'');}};};var M={elements:{}};for(var N in I.$listItem)M.elements[N]=L();var O={elements:{}};for(N in I.$listItem)O.elements[N]=L(true);u.add('list',{init:function(P){var Q=P.addCommand('numberedlist',new H('numberedlist','ol')),R=P.addCommand('bulletedlist',new H('bulletedlist','ul'));P.ui.addButton('NumberedList',{label:P.lang.numberedlist,command:'numberedlist'});P.ui.addButton('BulletedList',{label:P.lang.bulletedlist,command:'bulletedlist'});P.on('selectionChange',p.bind(C,Q));P.on('selectionChange',p.bind(C,R));},afterInit:function(P){var Q=P.dataProcessor;if(Q){Q.dataFilter.addRules(M);Q.htmlFilter.addRules(O);}},requires:['domiterator']});})();(function(){u.liststyle={requires:['dialog'],init:function(x){x.addCommand('numberedListStyle',new l.dialogCommand('numberedListStyle'));l.dialog.add('numberedListStyle',this.path+'dialogs/liststyle.js');x.addCommand('bulletedListStyle',new l.dialogCommand('bulletedListStyle'));l.dialog.add('bulletedListStyle',this.path+'dialogs/liststyle.js');if(x.addMenuItems){x.addMenuGroup('list',108);x.addMenuItems({numberedlist:{label:x.lang.list.numberedTitle,group:'list',command:'numberedListStyle'},bulletedlist:{label:x.lang.list.bulletedTitle,group:'list',command:'bulletedListStyle'}});}if(x.contextMenu)x.contextMenu.addListener(function(y,z){if(!y||y.isReadOnly())return null;while(y){var A=y.getName();if(A=='ol')return{numberedlist:2};else if(A=='ul')return{bulletedlist:2};y=y.getParent();}return null;});}};u.add('liststyle',u.liststyle);})();(function(){function x(D){if(!D||D.type!=1||D.getName()!='form')return[];var E=[],F=['style','className'];for(var G=0;G<F.length;G++){var H=F[G],I=D.$.elements.namedItem(H);if(I){var J=new s(I);E.push([J,J.nextSibling]);J.remove();}}return E;};function y(D,E){if(!D||D.type!=1||D.getName()!='form')return;
if(E.length>0)for(var F=E.length-1;F>=0;F--){var G=E[F][0],H=E[F][1];if(H)G.insertBefore(H);else G.appendTo(D);}};function z(D,E){var F=x(D),G={},H=D.$;if(!E){G['class']=H.className||'';H.className='';}G.inline=H.style.cssText||'';if(!E)H.style.cssText='position: static; overflow: visible';y(F);return G;};function A(D,E){var F=x(D),G=D.$;if('class' in E)G.className=E['class'];if('inline' in E)G.style.cssText=E.inline;y(F);};function B(D){var E=l.instances;for(var F in E){var G=E[F];if(G.mode=='wysiwyg'){var H=G.document.getBody();H.setAttribute('contentEditable',false);H.setAttribute('contentEditable',true);}}if(D.focusManager.hasFocus){D.toolbox.focus();D.focus();}};function C(D){if(!n||m.version>6)return null;var E=s.createFromHtml('<iframe frameborder="0" tabindex="-1" src="javascript:void((function(){document.open();'+(m.isCustomDomain()?"document.domain='"+this.getDocument().$.domain+"';":'')+'document.close();'+'})())"'+' style="display:block;position:absolute;z-index:-1;'+'progid:DXImageTransform.Microsoft.Alpha(opacity=0);'+'"></iframe>');return D.append(E,true);};u.add('maximize',{init:function(D){var E=D.lang,F=l.document,G=F.getWindow(),H,I,J,K;function L(){var N=G.getViewPaneSize();K&&K.setStyles({width:N.width+'px',height:N.height+'px'});D.resize(N.width,N.height,null,true);};var M=2;D.addCommand('maximize',{modes:{wysiwyg:1,source:1},editorFocus:false,exec:function(){var N=D.container.getChild(1),O=D.getThemeSpace('contents');if(D.mode=='wysiwyg'){var P=D.getSelection();H=P&&P.getRanges();I=G.getScrollPosition();}else{var Q=D.textarea.$;H=!n&&[Q.selectionStart,Q.selectionEnd];I=[Q.scrollLeft,Q.scrollTop];}if(this.state==2){G.on('resize',L);J=G.getScrollPosition();var R=D.container;while(R=R.getParent()){R.setCustomData('maximize_saved_styles',z(R));R.setStyle('z-index',D.config.baseFloatZIndex-1);}O.setCustomData('maximize_saved_styles',z(O,true));N.setCustomData('maximize_saved_styles',z(N,true));var S={overflow:m.webkit?'':'hidden',width:0,height:0};F.getDocumentElement().setStyles(S);!m.gecko&&F.getDocumentElement().setStyle('position','fixed');F.getBody().setStyles(S);n?setTimeout(function(){G.$.scrollTo(0,0);},0):G.$.scrollTo(0,0);N.setStyle('position','absolute');N.$.offsetLeft;N.setStyles({'z-index':D.config.baseFloatZIndex-1,left:'0px',top:'0px'});K=C(N);N.addClass('cke_maximized');L();var T=N.getDocumentPosition();N.setStyles({left:-1*T.x+'px',top:-1*T.y+'px'});m.gecko&&B(D);}else if(this.state==1){G.removeListener('resize',L);var U=[O,N];
for(var V=0;V<U.length;V++){A(U[V],U[V].getCustomData('maximize_saved_styles'));U[V].removeCustomData('maximize_saved_styles');}R=D.container;while(R=R.getParent()){A(R,R.getCustomData('maximize_saved_styles'));R.removeCustomData('maximize_saved_styles');}n?setTimeout(function(){G.$.scrollTo(J.x,J.y);},0):G.$.scrollTo(J.x,J.y);N.removeClass('cke_maximized');if(m.webkit){N.setStyle('display','inline');setTimeout(function(){N.setStyle('display','block');},0);}if(K){K.remove();K=null;}D.fire('resize');}this.toggleState();var W=this.uiItems[0];if(W){var X=this.state==2?E.maximize:E.minimize,Y=D.element.getDocument().getById(W._.id);Y.getChild(1).setHtml(X);Y.setAttribute('title',X);Y.setAttribute('href','javascript:void("'+X+'");');}if(D.mode=='wysiwyg'){if(H){m.gecko&&B(D);D.getSelection().selectRanges(H);var Z=D.getSelection().getStartElement();Z&&Z.scrollIntoView(true);}else G.$.scrollTo(I.x,I.y);}else{if(H){Q.selectionStart=H[0];Q.selectionEnd=H[1];}Q.scrollLeft=I[0];Q.scrollTop=I[1];}H=I=null;M=this.state;},canUndo:false});D.ui.addButton('Maximize',{label:E.maximize,command:'maximize'});D.on('mode',function(){var N=D.getCommand('maximize');N.setState(N.state==0?0:M);},null,null,100);}});})();u.add('newpage',{init:function(x){x.addCommand('newpage',{modes:{wysiwyg:1,source:1},exec:function(y){var z=this;y.setData(y.config.newpage_html||'',function(){setTimeout(function(){y.fire('afterCommandExec',{name:z.name,command:z});},200);});y.focus();},async:true});x.ui.addButton('NewPage',{label:x.lang.newPage,command:'newpage'});}});u.add('pagebreak',{init:function(x){x.addCommand('pagebreak',u.pagebreakCmd);x.ui.addButton('PageBreak',{label:x.lang.pagebreak,command:'pagebreak'});x.addCss('img.cke_pagebreak{background-image: url('+l.getUrl(this.path+'images/pagebreak.gif')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'clear: both;'+'display: block;'+'float: none;'+'width:100% !important; _width:99.9% !important;'+'border-top: #999999 1px dotted;'+'border-bottom: #999999 1px dotted;'+'height: 5px !important;'+'page-break-after: always;'+'}');},afterInit:function(x){var y=x.dataProcessor,z=y&&y.dataFilter;if(z)z.addRules({elements:{div:function(A){var B=A.attributes,C=B&&B.style,D=C&&A.children.length==1&&A.children[0],E=D&&D.name=='span'&&D.attributes.style;if(E&&/page-break-after\s*:\s*always/i.test(C)&&/display\s*:\s*none/i.test(E)){var F=x.createFakeParserElement(A,'cke_pagebreak','div'),G=x.lang.pagebreakAlt;F.attributes.alt=G;F.attributes['aria-label']=G;
return F;}}}});},requires:['fakeobjects']});u.pagebreakCmd={exec:function(x){var y=x.lang.pagebreakAlt,z=s.createFromHtml('<div style="page-break-after: always;"><span style="display: none;">&nbsp;</span></div>');z=x.createFakeElement(z,'cke_pagebreak','div');z.setAttributes({alt:y,'aria-label':y,title:y});var A=x.getSelection().getRanges(true);x.fire('saveSnapshot');for(var B,C=A.length-1;C>=0;C--){B=A[C];if(C<A.length-1)z=z.clone(true);B.splitBlock('p');B.insertNode(z);if(C==A.length-1){B.moveToPosition(z,4);B.select();}var D=z.getPrevious();if(D&&q[D.getName()].div)z.move(D);}x.fire('saveSnapshot');}};(function(){u.add('pastefromword',{init:function(x){var y=0,z=function(){setTimeout(function(){y=0;},0);};x.addCommand('pastefromword',{canUndo:false,exec:function(){y=1;if(x.execCommand('paste')===false)x.on('dialogHide',function(A){A.removeListener();z();});else z();}});x.ui.addButton('PasteFromWord',{label:x.lang.pastefromword.toolbar,command:'pastefromword'});x.on('pasteState',function(A){x.getCommand('pastefromword').setState(A.data);});x.on('paste',function(A){var B=A.data,C;if((C=B.html)&&(y||/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/.test(C))){var D=this.loadFilterRules(function(){if(D)x.fire('paste',B);else if(!x.config.pasteFromWordPromptCleanup||y||confirm(x.lang.pastefromword.confirmCleanup))B.html=l.cleanWord(C,x);});D&&A.cancel();}},this);},loadFilterRules:function(x){var y=l.cleanWord;if(y)x();else{var z=l.getUrl(t.pasteFromWordCleanupFile||this.path+'filter/default.js');l.scriptLoader.load(z,x,null,true);}return!y;},requires:['clipboard']});})();(function(){var x={exec:function(y){var z=p.tryThese(function(){var A=window.clipboardData.getData('Text');if(!A)throw 0;return A;});if(!z){y.openDialog('pastetext');return false;}else y.fire('paste',{text:z});return true;}};u.add('pastetext',{init:function(y){var z='pastetext',A=y.addCommand(z,x);y.ui.addButton('PasteText',{label:y.lang.pasteText.button,command:z});l.dialog.add(z,l.getUrl(this.path+'dialogs/pastetext.js'));if(y.config.forcePasteAsPlainText)y.on('beforeCommandExec',function(B){if(B.data.name=='paste'){y.execCommand('pastetext');B.cancel();}},null,null,0);y.on('pasteState',function(B){y.getCommand('pastetext').setState(B.data);});},requires:['clipboard']});})();u.add('popup');p.extend(l.editor.prototype,{popup:function(x,y,z,A){y=y||'80%';z=z||'70%';if(typeof y=='string'&&y.length>1&&y.substr(y.length-1,1)=='%')y=parseInt(window.screen.width*parseInt(y,10)/100,10);if(typeof z=='string'&&z.length>1&&z.substr(z.length-1,1)=='%')z=parseInt(window.screen.height*parseInt(z,10)/100,10);
if(y<640)y=640;if(z<420)z=420;var B=parseInt((window.screen.height-z)/2,10),C=parseInt((window.screen.width-y)/2,10);A=(A||'location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes')+',width='+y+',height='+z+',top='+B+',left='+C;var D=window.open('',null,A,true);if(!D)return false;try{D.moveTo(C,B);D.resizeTo(y,z);D.focus();D.location.href=x;}catch(E){D=window.open(x,null,A,true);}return true;}});(function(){var x={modes:{wysiwyg:1,source:1},canUndo:false,exec:function(z){var A,B=z.config,C=B.baseHref?'<base href="'+B.baseHref+'"/>':'',D=m.isCustomDomain();if(B.fullPage)A=z.getData().replace(/<head>/,'$&'+C).replace(/[^>]*(?=<\/title>)/,'$& &mdash; '+z.lang.preview);else{var E='<body ',F=z.document&&z.document.getBody();if(F){if(F.getAttribute('id'))E+='id="'+F.getAttribute('id')+'" ';if(F.getAttribute('class'))E+='class="'+F.getAttribute('class')+'" ';}E+='>';A=z.config.docType+'<html dir="'+z.config.contentsLangDirection+'">'+'<head>'+C+'<title>'+z.lang.preview+'</title>'+p.buildStyleHtml(z.config.contentsCss)+'</head>'+E+z.getData()+'</body></html>';}var G=640,H=420,I=80;try{var J=window.screen;G=Math.round(J.width*0.8);H=Math.round(J.height*0.7);I=Math.round(J.width*0.1);}catch(M){}var K='';if(D){window._cke_htmlToLoad=A;K='javascript:void( (function(){document.open();document.domain="'+document.domain+'";'+'document.write( window.opener._cke_htmlToLoad );'+'document.close();'+'window.opener._cke_htmlToLoad = null;'+'})() )';}var L=window.open(K,null,'toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width='+G+',height='+H+',left='+I);if(!D){L.document.open();L.document.write(A);L.document.close();}}},y='preview';u.add(y,{init:function(z){z.addCommand(y,x);z.ui.addButton('Preview',{label:z.lang.preview,command:y});}});})();u.add('print',{init:function(x){var y='print',z=x.addCommand(y,u.print);x.ui.addButton('Print',{label:x.lang.print,command:y});}});u.print={exec:function(x){if(m.opera)return;else if(m.gecko)x.window.$.print();else x.document.$.execCommand('Print');},canUndo:false,modes:{wysiwyg:!m.opera}};u.add('removeformat',{requires:['selection'],init:function(x){x.addCommand('removeFormat',u.removeformat.commands.removeformat);x.ui.addButton('RemoveFormat',{label:x.lang.removeFormat,command:'removeFormat'});x._.removeFormat={filters:[]};}});u.removeformat={commands:{removeformat:{exec:function(x){var y=x._.removeFormatRegex||(x._.removeFormatRegex=new RegExp('^(?:'+x.config.removeFormatTags.replace(/,/g,'|')+')$','i')),z=x._.removeAttributes||(x._.removeAttributes=x.config.removeFormatAttributes.split(',')),A=u.removeformat.filter,B=x.getSelection().getRanges(1),C=B.createIterator(),D;
while(D=C.getNextRange()){if(!D.collapsed)D.enlarge(1);var E=D.createBookmark(),F=E.startNode,G=E.endNode,H,I=function(K){var L=new o.elementPath(K),M=L.elements;for(var N=1,O;O=M[N];N++){if(O.equals(L.block)||O.equals(L.blockLimit))break;if(y.test(O.getName())&&A(x,O))K.breakParent(O);}};I(F);if(G){I(G);H=F.getNextSourceNode(true,1);while(H){if(H.equals(G))break;var J=H.getNextSourceNode(false,1);if(!(H.getName()=='img'&&H.data('cke-realelement'))&&A(x,H))if(y.test(H.getName()))H.remove(1);else{H.removeAttributes(z);x.fire('removeFormatCleanup',H);}H=J;}}D.moveToBookmark(E);}x.getSelection().selectRanges(B);}}},filter:function(x,y){var z=x._.removeFormat.filters;for(var A=0;A<z.length;A++){if(z[A](y)===false)return false;}return true;}};l.editor.prototype.addRemoveFormatFilter=function(x){this._.removeFormat.filters.push(x);};t.removeFormatTags='b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var';t.removeFormatAttributes='class,style,lang,width,height,align,hspace,valign';u.add('resize',{init:function(x){var y=x.config;!y.resize_dir&&(y.resize_dir='both');y.resize_maxWidth==undefined&&(y.resize_maxWidth=3000);y.resize_maxHeight==undefined&&(y.resize_maxHeight=3000);y.resize_minWidth==undefined&&(y.resize_minWidth=750);y.resize_minHeight==undefined&&(y.resize_minHeight=250);if(y.resize_enabled!==false){var z=null,A,B,C=(y.resize_dir=='both'||y.resize_dir=='horizontal')&&y.resize_minWidth!=y.resize_maxWidth,D=(y.resize_dir=='both'||y.resize_dir=='vertical')&&y.resize_minHeight!=y.resize_maxHeight;function E(H){var I=H.data.$.screenX-A.x,J=H.data.$.screenY-A.y,K=B.width,L=B.height,M=K+I*(x.lang.dir=='rtl'?-1:1),N=L+J;if(C)K=Math.max(y.resize_minWidth,Math.min(M,y.resize_maxWidth));if(D)L=Math.max(y.resize_minHeight,Math.min(N,y.resize_maxHeight));x.resize(K,L);};function F(H){l.document.removeListener('mousemove',E);l.document.removeListener('mouseup',F);if(x.document){x.document.removeListener('mousemove',E);x.document.removeListener('mouseup',F);}};var G=p.addFunction(function(H){if(!z)z=x.getResizable();B={width:z.$.offsetWidth||0,height:z.$.offsetHeight||0};A={x:H.screenX,y:H.screenY};y.resize_minWidth>B.width&&(y.resize_minWidth=B.width);y.resize_minHeight>B.height&&(y.resize_minHeight=B.height);l.document.on('mousemove',E);l.document.on('mouseup',F);if(x.document){x.document.on('mousemove',E);x.document.on('mouseup',F);}});x.on('destroy',function(){p.removeFunction(G);});x.on('themeSpace',function(H){if(H.data.space=='bottom'){var I='';
if(C&&!D)I=' cke_resizer_horizontal';if(!C&&D)I=' cke_resizer_vertical';H.data.html+='<div class="cke_resizer'+I+'"'+' title="'+p.htmlEncode(x.lang.resize)+'"'+' onmousedown="CKEDITOR.tools.callFunction('+G+', event)"'+'></div>';}},x,null,100);}}});(function(){var x={modes:{wysiwyg:1,source:1},exec:function(z){var A=z.element.$.form;if(A)try{A.submit();}catch(B){if(A.submit.click)A.submit.click();}}},y='save';u.add(y,{init:function(z){var A=z.addCommand(y,x);A.modes={wysiwyg:!!z.element.$.form};z.ui.addButton('Save',{label:z.lang.save,command:y});}});})();(function(){var x='scaytcheck',y='';function z(E,F){var G=0,H;for(H in F){if(F[H]==E){G=1;break;}}return G;};var A=function(){var E=this,F=function(){var J=E.config,K={};K.srcNodeRef=E.document.getWindow().$.frameElement;K.assocApp='CKEDITOR.'+l.version+'@'+l.revision;K.customerid=J.scayt_customerid||'1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2';K.customDictionaryIds=J.scayt_customDictionaryIds||'';K.userDictionaryName=J.scayt_userDictionaryName||'';K.sLang=J.scayt_sLang||'en_US';K.onLoad=function(){if(!(n&&m.version<8))this.addStyle(this.selectorCss(),'padding-bottom: 2px !important;');if(E.focusManager.hasFocus&&!B.isControlRestored(E))this.focus();};K.onBeforeChange=function(){if(B.getScayt(E)&&!E.checkDirty())setTimeout(function(){E.resetDirty();},0);};var L=window.scayt_custom_params;if(typeof L=='object')for(var M in L)K[M]=L[M];if(B.getControlId(E))K.id=B.getControlId(E);var N=new window.scayt(K);N.afterMarkupRemove.push(function(U){new s(U,N.document).mergeSiblings();});var O=B.instances[E.name];if(O){N.sLang=O.sLang;N.option(O.option());N.paused=O.paused;}B.instances[E.name]=N;var P='scaytButton',Q=window.scayt.uiTags,R=[];for(var S=0,T=4;S<T;S++)R.push(Q[S]&&B.uiTabs[S]);B.uiTabs=R;try{N.setDisabled(B.isPaused(E)===false);}catch(U){}E.fire('showScaytState');};E.on('contentDom',F);E.on('contentDomUnload',function(){var J=l.document.getElementsByTag('script'),K=/^dojoIoScript(\d+)$/i,L=/^https?:\/\/svc\.spellchecker\.net\/spellcheck\/script\/ssrv\.cgi/i;for(var M=0;M<J.count();M++){var N=J.getItem(M),O=N.getId(),P=N.getAttribute('src');if(O&&P&&O.match(K)&&P.match(L))N.remove();}});E.on('beforeCommandExec',function(J){if((J.data.name=='source'||J.data.name=='newpage')&&E.mode=='wysiwyg'){var K=B.getScayt(E);if(K){B.setPaused(E,!K.disabled);B.setControlId(E,K.id);K.destroy(true);delete B.instances[E.name];}}else if(J.data.name=='source'&&E.mode=='source')B.markControlRestore(E);
});E.on('afterCommandExec',function(J){if(!B.isScaytEnabled(E))return;if(E.mode=='wysiwyg'&&(J.data.name=='undo'||J.data.name=='redo'))window.setTimeout(function(){B.getScayt(E).refresh();},10);});E.on('destroy',function(J){var K=J.editor,L=B.getScayt(K);if(!L)return;delete B.instances[K.name];B.setControlId(K,L.id);L.destroy(true);});E.on('afterSetData',function(){if(B.isScaytEnabled(E))window.setTimeout(function(){var J=B.getScayt(E);J&&J.refresh();},10);});E.on('insertElement',function(){var J=B.getScayt(E);if(B.isScaytEnabled(E)){if(n)E.getSelection().unlock(true);window.setTimeout(function(){J.focus();J.refresh();},10);}},this,null,50);E.on('insertHtml',function(){var J=B.getScayt(E);if(B.isScaytEnabled(E)){if(n)E.getSelection().unlock(true);window.setTimeout(function(){J.focus();J.refresh();},10);}},this,null,50);E.on('scaytDialog',function(J){J.data.djConfig=window.djConfig;J.data.scayt_control=B.getScayt(E);J.data.tab=y;J.data.scayt=window.scayt;});var G=E.dataProcessor,H=G&&G.htmlFilter;if(H)H.addRules({elements:{span:function(J){if(J.attributes['data-scayt_word']&&J.attributes['data-scaytid']){delete J.name;return J;}}}});var I=u.undo.Image.prototype;I.equals=p.override(I.equals,function(J){return function(K){var P=this;var L=P.contents,M=K.contents,N=B.getScayt(P.editor);if(N&&B.isScaytReady(P.editor)){P.contents=N.reset(L)||'';K.contents=N.reset(M)||'';}var O=J.apply(P,arguments);P.contents=L;K.contents=M;return O;};});if(E.document)F();};u.scayt={engineLoaded:false,instances:{},controlInfo:{},setControlInfo:function(E,F){if(E&&E.name&&typeof this.controlInfo[E.name]!='object')this.controlInfo[E.name]={};for(var G in F)this.controlInfo[E.name][G]=F[G];},isControlRestored:function(E){if(E&&E.name&&this.controlInfo[E.name])return this.controlInfo[E.name].restored;return false;},markControlRestore:function(E){this.setControlInfo(E,{restored:true});},setControlId:function(E,F){this.setControlInfo(E,{id:F});},getControlId:function(E){if(E&&E.name&&this.controlInfo[E.name]&&this.controlInfo[E.name].id)return this.controlInfo[E.name].id;return null;},setPaused:function(E,F){this.setControlInfo(E,{paused:F});},isPaused:function(E){if(E&&E.name&&this.controlInfo[E.name])return this.controlInfo[E.name].paused;return undefined;},getScayt:function(E){return this.instances[E.name];},isScaytReady:function(E){return this.engineLoaded===true&&'undefined'!==typeof window.scayt&&this.getScayt(E);},isScaytEnabled:function(E){var F=this.getScayt(E);return F?F.disabled===false:false;
},loadEngine:function(E){if(m.gecko&&m.version<10900||m.opera||m.air)return E.fire('showScaytState');if(this.engineLoaded===true)return A.apply(E);else if(this.engineLoaded==-1)return l.on('scaytReady',function(){A.apply(E);});l.on('scaytReady',A,E);l.on('scaytReady',function(){this.engineLoaded=true;},this,null,0);this.engineLoaded=-1;var F=document.location.protocol;F=F.search(/https?:/)!=-1?F:'http:';var G='svc.spellchecker.net/scayt26/loader__base.js',H=E.config.scayt_srcUrl||F+'//'+G,I=B.parseUrl(H).path+'/';if(window.scayt==undefined){l._djScaytConfig={baseUrl:I,addOnLoad:[function(){l.fireOnce('scaytReady');}],isDebug:false};l.document.getHead().append(l.document.createElement('script',{attributes:{type:'text/javascript',async:'true',src:H}}));}else l.fireOnce('scaytReady');return null;},parseUrl:function(E){var F;if(E.match&&(F=E.match(/(.*)[\/\\](.*?\.\w+)$/)))return{path:F[1],file:F[2]};else return E;}};var B=u.scayt,C=function(E,F,G,H,I,J,K){E.addCommand(H,I);E.addMenuItem(H,{label:G,command:H,group:J,order:K});},D={preserveState:true,editorFocus:false,canUndo:false,exec:function(E){if(B.isScaytReady(E)){var F=B.isScaytEnabled(E);this.setState(F?2:1);var G=B.getScayt(E);G.focus();G.setDisabled(F);}else if(!E.config.scayt_autoStartup&&B.engineLoaded>=0){this.setState(0);B.loadEngine(E);}}};u.add('scayt',{requires:['menubutton'],beforeInit:function(E){var F=E.config.scayt_contextMenuItemsOrder||'suggest|moresuggest|control',G='';F=F.split('|');if(F&&F.length)for(var H=0;H<F.length;H++)G+='scayt_'+F[H]+(F.length!=parseInt(H,10)+1?',':'');E.config.menu_groups=G+','+E.config.menu_groups;},init:function(E){var F={},G={},H=E.addCommand(x,D);l.dialog.add(x,l.getUrl(this.path+'dialogs/options.js'));var I=E.config.scayt_uiTabs||'1,1,1',J=[];I=I.split(',');for(var K=0,L=3;K<L;K++){var M=parseInt(I[K]||'1',10);J.push(M);}var N='scaytButton';E.addMenuGroup(N);var O={},P=E.lang.scayt;O.scaytToggle={label:P.enable,command:x,group:N};if(J[0]==1)O.scaytOptions={label:P.options,group:N,onClick:function(){y='options';E.openDialog(x);}};if(J[1]==1)O.scaytLangs={label:P.langs,group:N,onClick:function(){y='langs';E.openDialog(x);}};if(J[2]==1)O.scaytDict={label:P.dictionariesTab,group:N,onClick:function(){y='dictionaries';E.openDialog(x);}};O.scaytAbout={label:E.lang.scayt.about,group:N,onClick:function(){y='about';E.openDialog(x);}};J[3]=1;B.uiTabs=J;E.addMenuItems(O);E.ui.add('Scayt',5,{label:P.title,title:m.opera?P.opera_title:P.title,className:'cke_button_scayt',modes:{wysiwyg:1},onRender:function(){H.on('state',function(){this.setState(H.state);
},this);},onMenu:function(){var R=B.isScaytEnabled(E);E.getMenuItem('scaytToggle').label=P[R?'disable':'enable'];return{scaytToggle:2,scaytOptions:R&&B.uiTabs[0]?2:0,scaytLangs:R&&B.uiTabs[1]?2:0,scaytDict:R&&B.uiTabs[2]?2:0,scaytAbout:R&&B.uiTabs[3]?2:0};}});if(E.contextMenu&&E.addMenuItems)E.contextMenu.addListener(function(R,S){if(!B.isScaytEnabled(E)||S.getRanges()[0].checkReadOnly())return null;var T=B.getScayt(E),U=T.getScaytNode();if(!U)return null;var V=T.getWord(U);if(!V)return null;var W=T.getLang(),X={},Y=window.scayt.getSuggestion(V,W);if(!Y||!Y.length)return null;for(K in F){delete E._.menuItems[K];delete E._.commands[K];}for(K in G){delete E._.menuItems[K];delete E._.commands[K];}F={};G={};var Z=E.config.scayt_moreSuggestions||'on',aa=false,ab=E.config.scayt_maxSuggestions;typeof ab!='number'&&(ab=5);!ab&&(ab=Y.length);var ac=E.config.scayt_contextCommands||'all';ac=ac.split('|');for(var ad=0,ae=Y.length;ad<ae;ad+=1){var af='scayt_suggestion_'+Y[ad].replace(' ','_'),ag=(function(ak,al){return{exec:function(){T.replace(ak,al);}};})(U,Y[ad]);if(ad<ab){C(E,'button_'+af,Y[ad],af,ag,'scayt_suggest',ad+1);X[af]=2;G[af]=2;}else if(Z=='on'){C(E,'button_'+af,Y[ad],af,ag,'scayt_moresuggest',ad+1);F[af]=2;aa=true;}}if(aa){E.addMenuItem('scayt_moresuggest',{label:P.moreSuggestions,group:'scayt_moresuggest',order:10,getItems:function(){return F;}});G.scayt_moresuggest=2;}if(z('all',ac)||z('ignore',ac)){var ah={exec:function(){T.ignore(U);}};C(E,'ignore',P.ignore,'scayt_ignore',ah,'scayt_control',1);G.scayt_ignore=2;}if(z('all',ac)||z('ignoreall',ac)){var ai={exec:function(){T.ignoreAll(U);}};C(E,'ignore_all',P.ignoreAll,'scayt_ignore_all',ai,'scayt_control',2);G.scayt_ignore_all=2;}if(z('all',ac)||z('add',ac)){var aj={exec:function(){window.scayt.addWordToUserDictionary(U);}};C(E,'add_word',P.addWord,'scayt_add_word',aj,'scayt_control',3);G.scayt_add_word=2;}if(T.fireOnContextMenu)T.fireOnContextMenu(E);return G;});var Q=function(){E.removeListener('showScaytState',Q);if(!m.opera&&!m.air)H.setState(B.isScaytEnabled(E)?1:2);else H.setState(0);};E.on('showScaytState',Q);if(m.opera||m.air)E.on('instanceReady',function(){Q();});if(E.config.scayt_autoStartup)E.on('instanceReady',function(){B.loadEngine(E);});},afterInit:function(E){var F,G=function(H){if(H.hasAttribute('data-scaytid'))return false;};if(E._.elementsPath&&(F=E._.elementsPath.filters))F.push(G);E.addRemoveFormatFilter&&E.addRemoveFormatFilter(G);}});})();u.add('smiley',{requires:['dialog'],init:function(x){x.config.smiley_path=x.config.smiley_path||this.path+'images/';
x.addCommand('smiley',new l.dialogCommand('smiley'));x.ui.addButton('Smiley',{label:x.lang.smiley.toolbar,command:'smiley'});l.dialog.add('smiley',this.path+'dialogs/smiley.js');}});t.smiley_images=['regular_smile.gif','sad_smile.gif','wink_smile.gif','teeth_smile.gif','confused_smile.gif','tounge_smile.gif','embaressed_smile.gif','omg_smile.gif','whatchutalkingabout_smile.gif','angry_smile.gif','angel_smile.gif','shades_smile.gif','devil_smile.gif','cry_smile.gif','lightbulb.gif','thumbs_down.gif','thumbs_up.gif','heart.gif','broken_heart.gif','kiss.gif','envelope.gif'];t.smiley_descriptions=['smiley','sad','wink','laugh','frown','cheeky','blush','surprise','indecision','angry','angel','cool','devil','crying','enlightened','no','yes','heart','broken heart','kiss','mail'];(function(){var x='.%2 p,.%2 div,.%2 pre,.%2 address,.%2 blockquote,.%2 h1,.%2 h2,.%2 h3,.%2 h4,.%2 h5,.%2 h6{background-repeat: no-repeat;background-position: top %3;border: 1px dotted gray;padding-top: 8px;padding-%3: 8px;}.%2 p{%1p.png);}.%2 div{%1div.png);}.%2 pre{%1pre.png);}.%2 address{%1address.png);}.%2 blockquote{%1blockquote.png);}.%2 h1{%1h1.png);}.%2 h2{%1h2.png);}.%2 h3{%1h3.png);}.%2 h4{%1h4.png);}.%2 h5{%1h5.png);}.%2 h6{%1h6.png);}',y=/%1/g,z=/%2/g,A=/%3/g,B={preserveState:true,editorFocus:false,exec:function(C){this.toggleState();this.refresh(C);},refresh:function(C){var D=this.state==1?'addClass':'removeClass';C.document.getBody()[D]('cke_show_blocks');}};u.add('showblocks',{requires:['wysiwygarea'],init:function(C){var D=C.addCommand('showblocks',B);D.canUndo=false;if(C.config.startupOutlineBlocks)D.setState(1);C.addCss(x.replace(y,'background-image: url('+l.getUrl(this.path)+'images/block_').replace(z,'cke_show_blocks ').replace(A,C.lang.dir=='rtl'?'right':'left'));C.ui.addButton('ShowBlocks',{label:C.lang.showBlocks,command:'showblocks'});C.on('mode',function(){if(D.state!=0)D.refresh(C);});C.on('contentDom',function(){if(D.state!=0)D.refresh(C);});}});})();(function(){var x='cke_show_border',y,z=(m.ie6Compat?['.%1 table.%2,','.%1 table.%2 td, .%1 table.%2 th,','{','border : #d3d3d3 1px dotted','}']:['.%1 table.%2,','.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,','.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,','.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,','.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th','{','border : #d3d3d3 1px dotted','}']).join('');y=z.replace(/%2/g,x).replace(/%1/g,'cke_show_borders ');var A={preserveState:true,editorFocus:false,exec:function(B){this.toggleState();
this.refresh(B);},refresh:function(B){var C=this.state==1?'addClass':'removeClass';B.document.getBody()[C]('cke_show_borders');}};u.add('showborders',{requires:['wysiwygarea'],modes:{wysiwyg:1},init:function(B){var C=B.addCommand('showborders',A);C.canUndo=false;if(B.config.startupShowBorders!==false)C.setState(1);B.addCss(y);B.on('mode',function(){if(C.state!=0)C.refresh(B);},null,null,100);B.on('contentDom',function(){if(C.state!=0)C.refresh(B);});B.on('removeFormatCleanup',function(D){var E=D.data;if(B.getCommand('showborders').state==1&&E.is('table')&&(!E.hasAttribute('border')||parseInt(E.getAttribute('border'),10)<=0))E.addClass(x);});},afterInit:function(B){var C=B.dataProcessor,D=C&&C.dataFilter,E=C&&C.htmlFilter;if(D)D.addRules({elements:{table:function(F){var G=F.attributes,H=G['class'],I=parseInt(G.border,10);if(!I||I<=0)G['class']=(H||'')+' '+x;}}});if(E)E.addRules({elements:{table:function(F){var G=F.attributes,H=G['class'];H&&(G['class']=H.replace(x,'').replace(/\s{2}/,' ').replace(/^\s+|\s+$/,''));}}});}});l.on('dialogDefinition',function(B){var C=B.data.name;if(C=='table'||C=='tableProperties'){var D=B.data.definition,E=D.getContents('info'),F=E.get('txtBorder'),G=F.commit;F.commit=p.override(G,function(J){return function(K,L){J.apply(this,arguments);var M=parseInt(this.getValue(),10);L[!M||M<=0?'addClass':'removeClass'](x);};});var H=D.getContents('advanced'),I=H&&H.get('advCSSClasses');if(I){I.setup=p.override(I.setup,function(J){return function(){J.apply(this,arguments);this.setValue(this.getValue().replace(/cke_show_border/,''));};});I.commit=p.override(I.commit,function(J){return function(K,L){J.apply(this,arguments);if(!parseInt(L.getAttribute('border'),10))L.addClass('cke_show_border');};});}}});})();u.add('sourcearea',{requires:['editingblock'],init:function(x){var y=u.sourcearea,z=l.document.getWindow();x.on('editingBlockReady',function(){var A,B;x.addMode('source',{load:function(C,D){if(n&&m.version<8)C.setStyle('position','relative');x.textarea=A=new s('textarea');A.setAttributes({dir:'ltr',tabIndex:m.webkit?-1:x.tabIndex,role:'textbox','aria-label':x.lang.editorTitle.replace('%1',x.name)});A.addClass('cke_source');A.addClass('cke_enable_context_menu');var E={width:m.ie7Compat?'99%':'100%',height:'100%',resize:'none',outline:'none','text-align':'left'};if(n){B=function(){A.hide();A.setStyle('height',C.$.clientHeight+'px');A.setStyle('width',C.$.clientWidth+'px');A.show();};x.on('resize',B);z.on('resize',B);setTimeout(B,0);}C.setHtml('');
C.append(A);A.setStyles(E);x.fire('ariaWidget',A);A.on('blur',function(){x.focusManager.blur();});A.on('focus',function(){x.focusManager.focus();});x.mayBeDirty=true;this.loadData(D);var F=x.keystrokeHandler;if(F)F.attach(A);setTimeout(function(){x.mode='source';x.fire('mode');},m.gecko||m.webkit?100:0);},loadData:function(C){A.setValue(C);x.fire('dataReady');},getData:function(){return A.getValue();},getSnapshotData:function(){return A.getValue();},unload:function(C){A.clearCustomData();x.textarea=A=null;if(B){x.removeListener('resize',B);z.removeListener('resize',B);}if(n&&m.version<8)C.removeStyle('position');},focus:function(){A.focus();}});});x.addCommand('source',y.commands.source);if(x.ui.addButton)x.ui.addButton('Source',{label:x.lang.source,command:'source'});x.on('mode',function(){x.getCommand('source').setState(x.mode=='source'?1:2);});}});u.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:false,exec:function(x){if(x.mode=='wysiwyg')x.fire('saveSnapshot');x.getCommand('source').setState(0);x.setMode(x.mode=='source'?'wysiwyg':'source');},canUndo:false}}};(function(){u.add('stylescombo',{requires:['richcombo','styles'],init:function(y){var z=y.config,A=y.lang.stylesCombo,B={},C=[];function D(E){y.getStylesSet(function(F){if(!C.length){var G,H;for(var I=0,J=F.length;I<J;I++){var K=F[I];H=K.name;G=B[H]=new l.style(K);G._name=H;G._.enterMode=z.enterMode;C.push(G);}C.sort(x);}E&&E();});};y.ui.addRichCombo('Styles',{label:A.label,title:A.panelTitle,className:'cke_styles',panel:{css:y.skin.editor.css.concat(z.contentsCss),multiSelect:true,attributes:{'aria-label':A.panelTitle}},init:function(){var E=this;D(function(){var F,G,H;for(var I=0,J=C.length;I<J;I++){F=C[I];G=F._name;var K=F.type;if(K!=H){E.startGroup(A['panelTitle'+String(K)]);H=K;}E.add(G,F.type==3?G:F.buildPreview(),G);}E.commit();E.onOpen();});},onClick:function(E){y.focus();y.fire('saveSnapshot');var F=B[E],G=y.getSelection(),H=new o.elementPath(G.getStartElement());F[F.checkActive(H)?'remove':'apply'](y.document);y.fire('saveSnapshot');},onRender:function(){y.on('selectionChange',function(E){var F=this.getValue(),G=E.data.path,H=G.elements;for(var I=0,J=H.length,K;I<J;I++){K=H[I];for(var L in B){if(B[L].checkElementRemovable(K,true)){if(L!=F)this.setValue(L);return;}}}this.setValue('');},this);},onOpen:function(){var L=this;if(n||m.webkit)y.focus();var E=y.getSelection(),F=E.getSelectedElement(),G=new o.elementPath(F||E.getStartElement()),H=[0,0,0,0];L.showAll();L.unmarkAll();
for(var I in B){var J=B[I],K=J.type;if(J.checkActive(G))L.mark(I);else if(K==3&&!J.checkApplicable(G)){L.hideItem(I);H[K]--;}H[K]++;}if(!H[1])L.hideGroup(A['panelTitle'+String(1)]);if(!H[2])L.hideGroup(A['panelTitle'+String(2)]);if(!H[3])L.hideGroup(A['panelTitle'+String(3)]);}});y.on('instanceReady',function(){D();});}});function x(y,z){var A=y.type,B=z.type;return A==B?0:A==3?-1:B==3?1:B==1?1:-1;};})();u.add('table',{init:function(x){var y=u.table,z=x.lang.table;x.addCommand('table',new l.dialogCommand('table'));x.addCommand('tableProperties',new l.dialogCommand('tableProperties'));x.ui.addButton('Table',{label:z.toolbar,command:'table'});l.dialog.add('table',this.path+'dialogs/table.js');l.dialog.add('tableProperties',this.path+'dialogs/table.js');if(x.addMenuItems)x.addMenuItems({table:{label:z.menu,command:'tableProperties',group:'table',order:5},tabledelete:{label:z.deleteTable,command:'tableDelete',group:'table',order:1}});x.on('doubleclick',function(A){var B=A.data.element;if(B.is('table'))A.data.dialog='tableProperties';});if(x.contextMenu)x.contextMenu.addListener(function(A,B){if(!A||A.isReadOnly())return null;var C=A.hasAscendant('table',1);if(C)return{tabledelete:2,table:2};return null;});}});(function(){var x=/^(?:td|th)$/;function y(R){var S=R.createBookmarks(),T=R.getRanges(),U=[],V={};function W(ae){if(U.length>0)return;if(ae.type==1&&x.test(ae.getName())&&!ae.getCustomData('selected_cell')){s.setMarker(V,ae,'selected_cell',true);U.push(ae);}};for(var X=0;X<T.length;X++){var Y=T[X];if(Y.collapsed){var Z=Y.getCommonAncestor(),aa=Z.getAscendant('td',true)||Z.getAscendant('th',true);if(aa)U.push(aa);}else{var ab=new o.walker(Y),ac;ab.guard=W;while(ac=ab.next()){var ad=ac.getParent();if(ad&&x.test(ad.getName())&&!ad.getCustomData('selected_cell')){s.setMarker(V,ad,'selected_cell',true);U.push(ad);}}}}s.clearAllMarkers(V);R.selectBookmarks(S);return U;};function z(R){var S=0,T=R.length-1,U={},V,W,X;while(V=R[S++])s.setMarker(U,V,'delete_cell',true);S=0;while(V=R[S++]){if((W=V.getPrevious())&&!W.getCustomData('delete_cell')||(W=V.getNext())&&!W.getCustomData('delete_cell')){s.clearAllMarkers(U);return W;}}s.clearAllMarkers(U);X=R[0].getParent();if(X=X.getPrevious())return X.getLast();X=R[T].getParent();if(X=X.getNext())return X.getChild(0);return null;};function A(R,S){var T=y(R),U=T[0],V=U.getAscendant('table'),W=U.getDocument(),X=T[0].getParent(),Y=X.$.rowIndex,Z=T[T.length-1],aa=Z.getParent().$.rowIndex+Z.$.rowSpan-1,ab=new s(V.$.rows[aa]),ac=S?Y:aa,ad=S?X:ab,ae=p.buildTableMap(V),af=ae[ac],ag=S?ae[ac-1]:ae[ac+1],ah=ae[0].length,ai=W.createElement('tr');
for(var aj=0;aj<ah;aj++){var ak;if(af[aj].rowSpan>1&&ag&&af[aj]==ag[aj]){ak=af[aj];ak.rowSpan+=1;}else{ak=new s(af[aj]).clone();ak.removeAttribute('rowSpan');!n&&ak.appendBogus();ai.append(ak);ak=ak.$;}aj+=ak.colSpan-1;}S?ai.insertBefore(ad):ai.insertAfter(ad);};function B(R){if(R instanceof o.selection){var S=y(R),T=S[0],U=T.getAscendant('table'),V=p.buildTableMap(U),W=S[0].getParent(),X=W.$.rowIndex,Y=S[S.length-1],Z=Y.getParent().$.rowIndex+Y.$.rowSpan-1,aa=[];for(var ab=X;ab<=Z;ab++){var ac=V[ab],ad=new s(U.$.rows[ab]);for(var ae=0;ae<ac.length;ae++){var af=new s(ac[ae]),ag=af.getParent().$.rowIndex;if(af.$.rowSpan==1)af.remove();else{af.$.rowSpan-=1;if(ag==ab){var ah=V[ab+1];ah[ae-1]?af.insertAfter(new s(ah[ae-1])):new s(U.$.rows[ab+1]).append(af,1);}}ae+=af.$.colSpan-1;}aa.push(ad);}var ai=U.$.rows,aj=new s(ai[X]||ai[X-1]||U.$.parentNode);for(ab=aa.length;ab>=0;ab--)B(aa[ab]);return aj;}else if(R instanceof s){U=R.getAscendant('table');if(U.$.rows.length==1)U.remove();else R.remove();}return null;};function C(R,S){var T=R.getParent(),U=T.$.cells,V=0;for(var W=0;W<U.length;W++){var X=U[W];V+=S?1:X.colSpan;if(X==R.$)break;}return V-1;};function D(R,S){var T=S?Infinity:0;for(var U=0;U<R.length;U++){var V=C(R[U],S);if(S?V<T:V>T)T=V;}return T;};function E(R,S){var T=y(R),U=T[0],V=U.getAscendant('table'),W=D(T,1),X=D(T),Y=S?W:X,Z=p.buildTableMap(V),aa=[],ab=[],ac=Z.length;for(var ad=0;ad<ac;ad++){aa.push(Z[ad][Y]);var ae=S?Z[ad][Y-1]:Z[ad][Y+1];ae&&ab.push(ae);}for(ad=0;ad<ac;ad++){var af;if(aa[ad].colSpan>1&&ab.length&&ab[ad]==aa[ad]){af=aa[ad];af.colSpan+=1;}else{af=new s(aa[ad]).clone();af.removeAttribute('colSpan');!n&&af.appendBogus();af[S?'insertBefore':'insertAfter'].call(af,new s(aa[ad]));af=af.$;}ad+=af.rowSpan-1;}};function F(R){var S=y(R),T=S[0],U=S[S.length-1],V=T.getAscendant('table'),W=p.buildTableMap(V),X,Y,Z=[];for(var aa=0,ab=W.length;aa<ab;aa++)for(var ac=0,ad=W[aa].length;ac<ad;ac++){if(W[aa][ac]==T.$)X=ac;if(W[aa][ac]==U.$)Y=ac;}for(aa=X;aa<=Y;aa++)for(ac=0;ac<W.length;ac++){var ae=W[ac],af=new s(V.$.rows[ac]),ag=new s(ae[aa]);if(ag.$.colSpan==1)ag.remove();else ag.$.colSpan-=1;ac+=ag.$.rowSpan-1;if(!af.$.cells.length)Z.push(af);}var ah=V.$.rows[0]&&V.$.rows[0].cells,ai=new s(ah[X]||(X?ah[X-1]:V.$.parentNode));if(Z.length==ab)V.remove();return ai;};function G(R){var S=[],T=R[0]&&R[0].getAscendant('table'),U,V,W,X;for(U=0,V=R.length;U<V;U++)S.push(R[U].$.cellIndex);S.sort();for(U=1,V=S.length;U<V;U++){if(S[U]-S[U-1]>1){W=S[U-1]+1;break;}}if(!W)W=S[0]>0?S[0]-1:S[S.length-1]+1;
var Y=T.$.rows;for(U=0,V=Y.length;U<V;U++){X=Y[U].cells[W];if(X)break;}return X?new s(X):T.getPrevious();};function H(R,S){var T=R.getStartElement(),U=T.getAscendant('td',1)||T.getAscendant('th',1);if(!U)return;var V=U.clone();if(!n)V.appendBogus();if(S)V.insertBefore(U);else V.insertAfter(U);};function I(R){if(R instanceof o.selection){var S=y(R),T=S[0]&&S[0].getAscendant('table'),U=z(S);for(var V=S.length-1;V>=0;V--)I(S[V]);if(U)K(U,true);else if(T)T.remove();}else if(R instanceof s){var W=R.getParent();if(W.getChildCount()==1)W.remove();else R.remove();}};function J(R){var S=R.getBogus();S&&S.remove();R.trim();};function K(R,S){var T=new o.range(R.getDocument());if(!T['moveToElementEdit'+(S?'End':'Start')](R)){T.selectNodeContents(R);T.collapse(S?false:true);}T.select(true);};function L(R,S,T){var U=R[S];if(typeof T=='undefined')return U;for(var V=0;U&&V<U.length;V++){if(T.is&&U[V]==T.$)return V;else if(V==T)return new s(U[V]);}return T.is?-1:null;};function M(R,S,T){var U=[];for(var V=0;V<R.length;V++){var W=R[V];if(typeof T=='undefined')U.push(W[S]);else if(T.is&&W[S]==T.$)return V;else if(V==T)return new s(W[S]);}return typeof T=='undefined'?U:T.is?-1:null;};function N(R,S,T){var U=y(R),V;if((S?U.length!=1:U.length<2)||(V=R.getCommonAncestor())&&V.type==1&&V.is('table'))return false;var W,X=U[0],Y=X.getAscendant('table'),Z=p.buildTableMap(Y),aa=Z.length,ab=Z[0].length,ac=X.getParent().$.rowIndex,ad=L(Z,ac,X);if(S){var ae;try{var af=parseInt(X.getAttribute('rowspan'),10)||1,ag=parseInt(X.getAttribute('colspan'),10)||1;ae=Z[S=='up'?ac-af:S=='down'?ac+af:ac][S=='left'?ad-ag:S=='right'?ad+ag:ad];}catch(ay){return false;}if(!ae||X.$==ae)return false;U[S=='up'||S=='left'?'unshift':'push'](new s(ae));}var ah=X.getDocument(),ai=ac,aj=0,ak=0,al=!T&&new o.documentFragment(ah),am=0;for(var an=0;an<U.length;an++){W=U[an];var ao=W.getParent(),ap=W.getFirst(),aq=W.$.colSpan,ar=W.$.rowSpan,as=ao.$.rowIndex,at=L(Z,as,W);am+=aq*ar;ak=Math.max(ak,at-ad+aq);aj=Math.max(aj,as-ac+ar);if(!T){if(J(W),W.getChildren().count()){if(as!=ai&&ap&&!(ap.isBlockBoundary&&ap.isBlockBoundary({br:1}))){var au=al.getLast(o.walker.whitespaces(true));if(au&&!(au.is&&au.is('br')))al.append('br');}W.moveChildren(al);}an?W.remove():W.setHtml('');}ai=as;}if(!T){al.moveChildren(X);if(!n)X.appendBogus();if(ak>=ab)X.removeAttribute('rowSpan');else X.$.rowSpan=aj;if(aj>=aa)X.removeAttribute('colSpan');else X.$.colSpan=ak;var av=new o.nodeList(Y.$.rows),aw=av.count();for(an=aw-1;an>=0;an--){var ax=av.getItem(an);
if(!ax.$.cells.length){ax.remove();aw++;continue;}}return X;}else return aj*ak==am;};function O(R,S){var T=y(R);if(T.length>1)return false;else if(S)return true;var U=T[0],V=U.getParent(),W=V.getAscendant('table'),X=p.buildTableMap(W),Y=V.$.rowIndex,Z=L(X,Y,U),aa=U.$.rowSpan,ab,ac,ad,ae;if(aa>1){ac=Math.ceil(aa/2);ad=Math.floor(aa/2);ae=Y+ac;var af=new s(W.$.rows[ae]),ag=L(X,ae),ah;ab=U.clone();for(var ai=0;ai<ag.length;ai++){ah=ag[ai];if(ah.parentNode==af.$&&ai>Z){ab.insertBefore(new s(ah));break;}else ah=null;}if(!ah)af.append(ab,true);}else{ad=ac=1;af=V.clone();af.insertAfter(V);af.append(ab=U.clone());var aj=L(X,Y);for(var ak=0;ak<aj.length;ak++)aj[ak].rowSpan++;}if(!n)ab.appendBogus();U.$.rowSpan=ac;ab.$.rowSpan=ad;if(ac==1)U.removeAttribute('rowSpan');if(ad==1)ab.removeAttribute('rowSpan');return ab;};function P(R,S){var T=y(R);if(T.length>1)return false;else if(S)return true;var U=T[0],V=U.getParent(),W=V.getAscendant('table'),X=p.buildTableMap(W),Y=V.$.rowIndex,Z=L(X,Y,U),aa=U.$.colSpan,ab,ac,ad;if(aa>1){ac=Math.ceil(aa/2);ad=Math.floor(aa/2);}else{ad=ac=1;var ae=M(X,Z);for(var af=0;af<ae.length;af++)ae[af].colSpan++;}ab=U.clone();ab.insertAfter(U);if(!n)ab.appendBogus();U.$.colSpan=ac;ab.$.colSpan=ad;if(ac==1)U.removeAttribute('colSpan');if(ad==1)ab.removeAttribute('colSpan');return ab;};var Q={thead:1,tbody:1,tfoot:1,td:1,tr:1,th:1};u.tabletools={init:function(R){var S=R.lang.table;R.addCommand('cellProperties',new l.dialogCommand('cellProperties'));l.dialog.add('cellProperties',this.path+'dialogs/tableCell.js');R.addCommand('tableDelete',{exec:function(T){var U=T.getSelection(),V=U&&U.getStartElement(),W=V&&V.getAscendant('table',1);if(!W)return;U.selectElement(W);var X=U.getRanges()[0];X.collapse();U.selectRanges([X]);var Y=W.getParent();if(Y.getChildCount()==1&&!Y.is('body','td','th'))Y.remove();else W.remove();}});R.addCommand('rowDelete',{exec:function(T){var U=T.getSelection();K(B(U));}});R.addCommand('rowInsertBefore',{exec:function(T){var U=T.getSelection();A(U,true);}});R.addCommand('rowInsertAfter',{exec:function(T){var U=T.getSelection();A(U);}});R.addCommand('columnDelete',{exec:function(T){var U=T.getSelection(),V=F(U);V&&K(V,true);}});R.addCommand('columnInsertBefore',{exec:function(T){var U=T.getSelection();E(U,true);}});R.addCommand('columnInsertAfter',{exec:function(T){var U=T.getSelection();E(U);}});R.addCommand('cellDelete',{exec:function(T){var U=T.getSelection();I(U);}});R.addCommand('cellMerge',{exec:function(T){K(N(T.getSelection()),true);
}});R.addCommand('cellMergeRight',{exec:function(T){K(N(T.getSelection(),'right'),true);}});R.addCommand('cellMergeDown',{exec:function(T){K(N(T.getSelection(),'down'),true);}});R.addCommand('cellVerticalSplit',{exec:function(T){K(O(T.getSelection()));}});R.addCommand('cellHorizontalSplit',{exec:function(T){K(P(T.getSelection()));}});R.addCommand('cellInsertBefore',{exec:function(T){var U=T.getSelection();H(U,true);}});R.addCommand('cellInsertAfter',{exec:function(T){var U=T.getSelection();H(U);}});if(R.addMenuItems)R.addMenuItems({tablecell:{label:S.cell.menu,group:'tablecell',order:1,getItems:function(){var T=R.getSelection(),U=y(T);return{tablecell_insertBefore:2,tablecell_insertAfter:2,tablecell_delete:2,tablecell_merge:N(T,null,true)?2:0,tablecell_merge_right:N(T,'right',true)?2:0,tablecell_merge_down:N(T,'down',true)?2:0,tablecell_split_vertical:O(T,true)?2:0,tablecell_split_horizontal:P(T,true)?2:0,tablecell_properties:U.length>0?2:0};}},tablecell_insertBefore:{label:S.cell.insertBefore,group:'tablecell',command:'cellInsertBefore',order:5},tablecell_insertAfter:{label:S.cell.insertAfter,group:'tablecell',command:'cellInsertAfter',order:10},tablecell_delete:{label:S.cell.deleteCell,group:'tablecell',command:'cellDelete',order:15},tablecell_merge:{label:S.cell.merge,group:'tablecell',command:'cellMerge',order:16},tablecell_merge_right:{label:S.cell.mergeRight,group:'tablecell',command:'cellMergeRight',order:17},tablecell_merge_down:{label:S.cell.mergeDown,group:'tablecell',command:'cellMergeDown',order:18},tablecell_split_horizontal:{label:S.cell.splitHorizontal,group:'tablecell',command:'cellHorizontalSplit',order:19},tablecell_split_vertical:{label:S.cell.splitVertical,group:'tablecell',command:'cellVerticalSplit',order:20},tablecell_properties:{label:S.cell.title,group:'tablecellproperties',command:'cellProperties',order:21},tablerow:{label:S.row.menu,group:'tablerow',order:1,getItems:function(){return{tablerow_insertBefore:2,tablerow_insertAfter:2,tablerow_delete:2};}},tablerow_insertBefore:{label:S.row.insertBefore,group:'tablerow',command:'rowInsertBefore',order:5},tablerow_insertAfter:{label:S.row.insertAfter,group:'tablerow',command:'rowInsertAfter',order:10},tablerow_delete:{label:S.row.deleteRow,group:'tablerow',command:'rowDelete',order:15},tablecolumn:{label:S.column.menu,group:'tablecolumn',order:1,getItems:function(){return{tablecolumn_insertBefore:2,tablecolumn_insertAfter:2,tablecolumn_delete:2};}},tablecolumn_insertBefore:{label:S.column.insertBefore,group:'tablecolumn',command:'columnInsertBefore',order:5},tablecolumn_insertAfter:{label:S.column.insertAfter,group:'tablecolumn',command:'columnInsertAfter',order:10},tablecolumn_delete:{label:S.column.deleteColumn,group:'tablecolumn',command:'columnDelete',order:15}});
if(R.contextMenu)R.contextMenu.addListener(function(T,U){if(!T||T.isReadOnly())return null;while(T){if(T.getName() in Q)return{tablecell:2,tablerow:2,tablecolumn:2};T=T.getParent();}return null;});},getSelectedCells:y};u.add('tabletools',u.tabletools);})();p.buildTableMap=function(x){var y=x.$.rows,z=-1,A=[];for(var B=0;B<y.length;B++){z++;!A[z]&&(A[z]=[]);var C=-1;for(var D=0;D<y[B].cells.length;D++){var E=y[B].cells[D];C++;while(A[z][C])C++;var F=isNaN(E.colSpan)?1:E.colSpan,G=isNaN(E.rowSpan)?1:E.rowSpan;for(var H=0;H<G;H++){if(!A[z+H])A[z+H]=[];for(var I=0;I<F;I++)A[z+H][C+I]=y[B].cells[D];}C+=F-1;}}return A;};u.add('specialchar',{availableLangs:{en:1},init:function(x){var y='specialchar',z=this;l.dialog.add(y,this.path+'dialogs/specialchar.js');x.addCommand(y,{exec:function(){var A=x.langCode;A=z.availableLangs[A]?A:'en';l.scriptLoader.load(l.getUrl(z.path+'lang/'+A+'.js'),function(){p.extend(x.lang.specialChar,z.lang[A]);x.openDialog(y);});},modes:{wysiwyg:1},canUndo:false});x.ui.addButton('SpecialChar',{label:x.lang.specialChar.toolbar,command:y});}});t.specialChars=['!','&quot;','#','$','%','&amp;',"'",'(',')','*','+','-','.','/','0','1','2','3','4','5','6','7','8','9',':',';','&lt;','=','&gt;','?','@','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','[',']','^','_','`','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','{','|','}','~','&euro;','&lsquo;','&rsquo;','&ldquo;','&rdquo;','&ndash;','&mdash;','&iexcl;','&cent;','&pound;','&curren;','&yen;','&brvbar;','&sect;','&uml;','&copy;','&ordf;','&laquo;','&not;','&reg;','&macr;','&deg;','&','&sup2;','&sup3;','&acute;','&micro;','&para;','&middot;','&cedil;','&sup1;','&ordm;','&','&frac14;','&frac12;','&frac34;','&iquest;','&Agrave;','&Aacute;','&Acirc;','&Atilde;','&Auml;','&Aring;','&AElig;','&Ccedil;','&Egrave;','&Eacute;','&Ecirc;','&Euml;','&Igrave;','&Iacute;','&Icirc;','&Iuml;','&ETH;','&Ntilde;','&Ograve;','&Oacute;','&Ocirc;','&Otilde;','&Ouml;','&times;','&Oslash;','&Ugrave;','&Uacute;','&Ucirc;','&Uuml;','&Yacute;','&THORN;','&szlig;','&agrave;','&aacute;','&acirc;','&atilde;','&auml;','&aring;','&aelig;','&ccedil;','&egrave;','&eacute;','&ecirc;','&euml;','&igrave;','&iacute;','&icirc;','&iuml;','&eth;','&ntilde;','&ograve;','&oacute;','&ocirc;','&otilde;','&ouml;','&divide;','&oslash;','&ugrave;','&uacute;','&ucirc;','&uuml;','&uuml;','&yacute;','&thorn;','&yuml;','&OElig;','&oelig;','&#372;','&#374','&#373','&#375;','&sbquo;','&#8219;','&bdquo;','&hellip;','&trade;','&#9658;','&bull;','&rarr;','&rArr;','&hArr;','&diams;','&asymp;'];
(function(){var x={editorFocus:false,modes:{wysiwyg:1,source:1}},y={exec:function(B){B.container.focusNext(true,B.tabIndex);}},z={exec:function(B){B.container.focusPrevious(true,B.tabIndex);}};function A(B){return{editorFocus:false,canUndo:false,modes:{wysiwyg:1},exec:function(C){if(C.focusManager.hasFocus){var D=C.getSelection(),E=D.getCommonAncestor(),F;if(F=E.getAscendant('td',true)||E.getAscendant('th',true)){var G=new o.range(C.document),H=p.tryThese(function(){var O=F.getParent(),P=O.$.cells[F.$.cellIndex+(B?-1:1)];P.parentNode.parentNode;return P;},function(){var O=F.getParent(),P=O.getAscendant('table'),Q=P.$.rows[O.$.rowIndex+(B?-1:1)];return Q.cells[B?Q.cells.length-1:0];});if(!(H||B)){var I=F.getAscendant('table').$,J=F.getParent().$.cells,K=new s(I.insertRow(-1),C.document);for(var L=0,M=J.length;L<M;L++){var N=K.append(new s(J[L],C.document).clone(false,false));!n&&N.appendBogus();}G.moveToElementEditStart(K);}else if(H){H=new s(H);G.moveToElementEditStart(H);if(!(G.checkStartOfBlock()&&G.checkEndOfBlock()))G.selectNodeContents(H);}else return true;G.select(true);return true;}}return false;}};};u.add('tab',{requires:['keystrokes'],init:function(B){var C=B.config.enableTabKeyTools!==false,D=B.config.tabSpaces||0,E='';while(D--)E+='\xa0';if(E)B.on('key',function(F){if(F.data.keyCode==9){B.insertHtml(E);F.cancel();}});if(C)B.on('key',function(F){if(F.data.keyCode==9&&B.execCommand('selectNextCell')||F.data.keyCode==2000+9&&B.execCommand('selectPreviousCell'))F.cancel();});if(m.webkit||m.gecko)B.on('key',function(F){var G=F.data.keyCode;if(G==9&&!E){F.cancel();B.execCommand('blur');}if(G==2000+9){B.execCommand('blurBack');F.cancel();}});B.addCommand('blur',p.extend(y,x));B.addCommand('blurBack',p.extend(z,x));B.addCommand('selectNextCell',A());B.addCommand('selectPreviousCell',A(true));}});})();s.prototype.focusNext=function(x,y){var H=this;var z=H.$,A=y===undefined?H.getTabIndex():y,B,C,D,E,F,G;if(A<=0){F=H.getNextSourceNode(x,1);while(F){if(F.isVisible()&&F.getTabIndex()===0){D=F;break;}F=F.getNextSourceNode(false,1);}}else{F=H.getDocument().getBody().getFirst();while(F=F.getNextSourceNode(false,1)){if(!B)if(!C&&F.equals(H)){C=true;if(x){if(!(F=F.getNextSourceNode(true,1)))break;B=1;}}else if(C&&!H.contains(F))B=1;if(!F.isVisible()||(G=F.getTabIndex())<0)continue;if(B&&G==A){D=F;break;}if(G>A&&(!D||!E||G<E)){D=F;E=G;}else if(!D&&G===0){D=F;E=G;}}}if(D)D.focus();};s.prototype.focusPrevious=function(x,y){var H=this;var z=H.$,A=y===undefined?H.getTabIndex():y,B,C,D,E=0,F,G=H.getDocument().getBody().getLast();
while(G=G.getPreviousSourceNode(false,1)){if(!B)if(!C&&G.equals(H)){C=true;if(x){if(!(G=G.getPreviousSourceNode(true,1)))break;B=1;}}else if(C&&!H.contains(G))B=1;if(!G.isVisible()||(F=G.getTabIndex())<0)continue;if(A<=0){if(B&&F===0){D=G;break;}if(F>E){D=G;E=F;}}else{if(B&&F==A){D=G;break;}if(F<A&&(!D||F>E)){D=G;E=F;}}}if(D)D.focus();};(function(){u.add('templates',{requires:['dialog'],init:function(z){l.dialog.add('templates',l.getUrl(this.path+'dialogs/templates.js'));z.addCommand('templates',new l.dialogCommand('templates'));z.ui.addButton('Templates',{label:z.lang.templates.button,command:'templates'});}});var x={},y={};l.addTemplates=function(z,A){x[z]=A;};l.getTemplates=function(z){return x[z];};l.loadTemplates=function(z,A){var B=[];for(var C=0,D=z.length;C<D;C++){if(!y[z[C]]){B.push(z[C]);y[z[C]]=1;}}if(B.length)l.scriptLoader.load(B,A);else setTimeout(A,0);};})();t.templates_files=[l.getUrl('plugins/templates/templates/default.js')];t.templates_replaceContent=true;(function(){var x=function(){this.toolbars=[];this.focusCommandExecuted=false;};x.prototype.focus=function(){for(var z=0,A;A=this.toolbars[z++];)for(var B=0,C;C=A.items[B++];){if(C.focus){C.focus();return;}}};var y={toolbarFocus:{modes:{wysiwyg:1,source:1},exec:function(z){if(z.toolbox){z.toolbox.focusCommandExecuted=true;if(n||m.air)setTimeout(function(){z.toolbox.focus();},100);else z.toolbox.focus();}}}};u.add('toolbar',{init:function(z){var A=function(B,C){var D,E,F,G=z.lang.dir=='rtl';switch(C){case G?37:39:case 9:do{D=B.next;if(!D){E=B.toolbar.next;F=E&&E.items.length;while(F===0){E=E.next;F=E&&E.items.length;}if(E)D=E.items[0];}B=D;}while(B&&!B.focus)if(B)B.focus();else z.toolbox.focus();return false;case G?39:37:case 2000+9:do{D=B.previous;if(!D){E=B.toolbar.previous;F=E&&E.items.length;while(F===0){E=E.previous;F=E&&E.items.length;}if(E)D=E.items[F-1];}B=D;}while(B&&!B.focus)if(B)B.focus();else{var H=z.toolbox.toolbars[z.toolbox.toolbars.length-1].items;H[H.length-1].focus();}return false;case 27:z.focus();return false;case 13:case 32:B.execute();return false;}return true;};z.on('themeSpace',function(B){if(B.data.space==z.config.toolbarLocation){z.toolbox=new x();var C=p.getNextId(),D=['<div class="cke_toolbox" role="toolbar" aria-labelledby="',C,'" onmousedown="return false;"'],E=z.config.toolbarStartupExpanded!==false,F;D.push(E?'>':' style="display:none">');D.push('<span id="',C,'" class="cke_voice_label">',z.lang.toolbar,'</span>');var G=z.toolbox.toolbars,H=z.config.toolbar instanceof Array?z.config.toolbar:z.config['toolbar_'+z.config.toolbar];
for(var I=0;I<H.length;I++){var J=H[I];if(!J)continue;var K=p.getNextId(),L={id:K,items:[]};if(F){D.push('</div>');F=0;}if(J==='/'){D.push('<div class="cke_break"></div>');continue;}D.push('<span id="',K,'" class="cke_toolbar" role="presentation"><span class="cke_toolbar_start"></span>');var M=G.push(L)-1;if(M>0){L.previous=G[M-1];L.previous.next=L;}for(var N=0;N<J.length;N++){var O,P=J[N];if(P=='-')O=v.separator;else O=z.ui.create(P);if(O){if(O.canGroup){if(!F){D.push('<span class="cke_toolgroup" role="presentation">');F=1;}}else if(F){D.push('</span>');F=0;}var Q=O.render(z,D);M=L.items.push(Q)-1;if(M>0){Q.previous=L.items[M-1];Q.previous.next=Q;}Q.toolbar=L;Q.onkey=A;Q.onfocus=function(){if(!z.toolbox.focusCommandExecuted)z.focus();};}}if(F){D.push('</span>');F=0;}D.push('<span class="cke_toolbar_end"></span></span>');}D.push('</div>');if(z.config.toolbarCanCollapse){var R=p.addFunction(function(){z.execCommand('toolbarCollapse');});z.on('destroy',function(){p.removeFunction(R);});var S=p.getNextId();z.addCommand('toolbarCollapse',{exec:function(T){var U=l.document.getById(S),V=U.getPrevious(),W=T.getThemeSpace('contents'),X=V.getParent(),Y=parseInt(W.$.style.height,10),Z=X.$.offsetHeight,aa=!V.isVisible();if(!aa){V.hide();U.addClass('cke_toolbox_collapser_min');U.setAttribute('title',T.lang.toolbarExpand);}else{V.show();U.removeClass('cke_toolbox_collapser_min');U.setAttribute('title',T.lang.toolbarCollapse);}U.getFirst().setText(aa?'▲':'◀');var ab=X.$.offsetHeight-Z;W.setStyle('height',Y-ab+'px');T.fire('resize');},modes:{wysiwyg:1,source:1}});D.push('<a title="'+(E?z.lang.toolbarCollapse:z.lang.toolbarExpand)+'" id="'+S+'" tabIndex="-1" class="cke_toolbox_collapser');if(!E)D.push(' cke_toolbox_collapser_min');D.push('" onclick="CKEDITOR.tools.callFunction('+R+')">','<span>&#9650;</span>','</a>');}B.data.html+=D.join('');}});z.on('destroy',function(){var B,C=0,D,E,F;B=this.toolbox.toolbars;for(;C<B.length;C++){E=B[C].items;for(D=0;D<E.length;D++){F=E[D];if(F.clickFn)p.removeFunction(F.clickFn);if(F.keyDownFn)p.removeFunction(F.keyDownFn);if(F.index)v.button._.instances[F.index]=null;}}});z.addCommand('toolbarFocus',y.toolbarFocus);}});})();v.separator={render:function(x,y){y.push('<span class="cke_separator" role="separator"></span>');return{};}};t.toolbarLocation='top';t.toolbar_Basic=[['Bold','Italic','-','NumberedList','BulletedList','-','Link','Unlink','-','About']];t.toolbar_Full=[['Source','-','Save','NewPage','Preview','-','Templates'],['Cut','Copy','Paste','PasteText','PasteFromWord','-','Print','SpellChecker','Scayt'],['Undo','Redo','-','Find','Replace','-','SelectAll','RemoveFormat'],['Form','Checkbox','Radio','TextField','Textarea','Select','Button','ImageButton','HiddenField'],'/',['Bold','Italic','Underline','Strike','-','Subscript','Superscript'],['NumberedList','BulletedList','-','Outdent','Indent','Blockquote','CreateDiv'],['JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock'],['BidiLtr','BidiRtl'],['Link','Unlink','Anchor'],['Image','Flash','Table','HorizontalRule','Smiley','SpecialChar','PageBreak','Iframe'],'/',['Styles','Format','Font','FontSize'],['TextColor','BGColor'],['Maximize','ShowBlocks','-','About']];
t.toolbar='Full';t.toolbarCanCollapse=true;(function(){u.add('undo',{requires:['selection','wysiwygarea'],init:function(D){var E=new z(D),F=D.addCommand('undo',{exec:function(){if(E.undo()){D.selectionChange();this.fire('afterUndo');}},state:0,canUndo:false}),G=D.addCommand('redo',{exec:function(){if(E.redo()){D.selectionChange();this.fire('afterRedo');}},state:0,canUndo:false});E.onChange=function(){F.setState(E.undoable()?2:0);G.setState(E.redoable()?2:0);};function H(I){if(E.enabled&&I.data.command.canUndo!==false)E.save();};D.on('beforeCommandExec',H);D.on('afterCommandExec',H);D.on('saveSnapshot',function(){E.save();});D.on('contentDom',function(){D.document.on('keydown',function(I){if(!I.data.$.ctrlKey&&!I.data.$.metaKey)E.type(I);});});D.on('beforeModeUnload',function(){D.mode=='wysiwyg'&&E.save(true);});D.on('mode',function(){E.enabled=D.mode=='wysiwyg';E.onChange();});D.ui.addButton('Undo',{label:D.lang.undo,command:'undo'});D.ui.addButton('Redo',{label:D.lang.redo,command:'redo'});D.resetUndo=function(){E.reset();D.fire('saveSnapshot');};D.on('updateSnapshot',function(){if(E.currentImage&&new x(D).equals(E.currentImage))setTimeout(function(){E.update();},0);});}});u.undo={};var x=u.undo.Image=function(D){this.editor=D;var E=D.getSnapshot(),F=E&&D.getSelection();n&&E&&(E=E.replace(/\s+data-cke-expando=".*?"/g,''));this.contents=E;this.bookmarks=F&&F.createBookmarks2(true);},y=/\b(?:href|src|name)="[^"]*?"/gi;x.prototype={equals:function(D,E){var F=this.contents,G=D.contents;if(n&&(m.ie7Compat||m.ie6Compat)){F=F.replace(y,'');G=G.replace(y,'');}if(F!=G)return false;if(E)return true;var H=this.bookmarks,I=D.bookmarks;if(H||I){if(!H||!I||H.length!=I.length)return false;for(var J=0;J<H.length;J++){var K=H[J],L=I[J];if(K.startOffset!=L.startOffset||K.endOffset!=L.endOffset||!p.arrayCompare(K.start,L.start)||!p.arrayCompare(K.end,L.end))return false;}}return true;}};function z(D){this.editor=D;this.reset();};var A={8:1,46:1},B={16:1,17:1,18:1},C={37:1,38:1,39:1,40:1};z.prototype={type:function(D){var E=D&&D.data.getKey(),F=E in B,G=E in A,H=this.lastKeystroke in A,I=G&&E==this.lastKeystroke,J=E in C,K=this.lastKeystroke in C,L=!G&&!J,M=G&&!I,N=!(F||this.typing)||L&&(H||K);if(N||M){var O=new x(this.editor);p.setTimeout(function(){var Q=this;var P=Q.editor.getSnapshot();if(n)P=P.replace(/\s+data-cke-expando=".*?"/g,'');if(O.contents!=P){Q.typing=true;if(!Q.save(false,O,false))Q.snapshots.splice(Q.index+1,Q.snapshots.length-Q.index-1);Q.hasUndo=true;Q.hasRedo=false;
Q.typesCount=1;Q.modifiersCount=1;Q.onChange();}},0,this);}this.lastKeystroke=E;if(G){this.typesCount=0;this.modifiersCount++;if(this.modifiersCount>25){this.save(false,null,false);this.modifiersCount=1;}}else if(!J){this.modifiersCount=0;this.typesCount++;if(this.typesCount>25){this.save(false,null,false);this.typesCount=1;}}},reset:function(){var D=this;D.lastKeystroke=0;D.snapshots=[];D.index=-1;D.limit=D.editor.config.undoStackSize||20;D.currentImage=null;D.hasUndo=false;D.hasRedo=false;D.resetType();},resetType:function(){var D=this;D.typing=false;delete D.lastKeystroke;D.typesCount=0;D.modifiersCount=0;},fireChange:function(){var D=this;D.hasUndo=!!D.getNextImage(true);D.hasRedo=!!D.getNextImage(false);D.resetType();D.onChange();},save:function(D,E,F){var H=this;var G=H.snapshots;if(!E)E=new x(H.editor);if(E.contents===false)return false;if(H.currentImage&&E.equals(H.currentImage,D))return false;G.splice(H.index+1,G.length-H.index-1);if(G.length==H.limit)G.shift();H.index=G.push(E)-1;H.currentImage=E;if(F!==false)H.fireChange();return true;},restoreImage:function(D){var F=this;F.editor.loadSnapshot(D.contents);if(D.bookmarks)F.editor.getSelection().selectBookmarks(D.bookmarks);else if(n){var E=F.editor.document.getBody().$.createTextRange();E.collapse(true);E.select();}F.index=D.index;F.update();F.fireChange();},getNextImage:function(D){var I=this;var E=I.snapshots,F=I.currentImage,G,H;if(F)if(D)for(H=I.index-1;H>=0;H--){G=E[H];if(!F.equals(G,true)){G.index=H;return G;}}else for(H=I.index+1;H<E.length;H++){G=E[H];if(!F.equals(G,true)){G.index=H;return G;}}return null;},redoable:function(){return this.enabled&&this.hasRedo;},undoable:function(){return this.enabled&&this.hasUndo;},undo:function(){var E=this;if(E.undoable()){E.save(true);var D=E.getNextImage(true);if(D)return E.restoreImage(D),true;}return false;},redo:function(){var E=this;if(E.redoable()){E.save(true);if(E.redoable()){var D=E.getNextImage(false);if(D)return E.restoreImage(D),true;}}return false;},update:function(){var D=this;D.snapshots.splice(D.index,1,D.currentImage=new x(D.editor));}};})();(function(){var x={table:1,pre:1},y=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,z=o.walker.whitespaces(true);function A(O){return O.getName() in x||O.isBlockBoundary()&&q.$empty[O.getName()];};function B(O){return function(P){if(this.mode=='wysiwyg'){this.focus();this.fire('saveSnapshot');O.call(this,P.data);p.setTimeout(function(){this.fire('saveSnapshot');
},0,this);}};};function C(O){var U=this;if(U.dataProcessor)O=U.dataProcessor.toHtml(O);var P=U.getSelection(),Q=P.getRanges()[0];if(Q.checkReadOnly())return;if(n){var R=P.isLocked;if(R)P.unlock();var S=P.getNative();if(S.type=='Control')S.clear();else if(P.getType()==2){Q=P.getRanges()[0];var T=Q&&Q.endContainer;if(T&&T.type==1&&T.getAttribute('contenteditable')=='false'&&Q.checkBoundaryOfElement(T,2)){Q.setEndAfter(Q.endContainer);Q.deleteContents();}}try{S.createRange().pasteHTML(O);}catch(V){}if(R)U.getSelection().lock();}else U.document.$.execCommand('inserthtml',false,O);if(m.webkit){P=U.getSelection();P.scrollIntoView();}};function D(O){var P=this.getSelection(),Q=P.getStartElement().hasAscendant('pre',true)?2:this.config.enterMode,R=Q==2,S=p.htmlEncode(O.replace(/\r\n|\r/g,'\n'));S=S.replace(/^[ \t]+|[ \t]+$/g,function(Y,Z,aa){if(Y.length==1)return '&nbsp;';else if(!Z)return p.repeat('&nbsp;',Y.length-1)+' ';else return ' '+p.repeat('&nbsp;',Y.length-1);});S=S.replace(/[ \t]{2,}/g,function(Y){return p.repeat('&nbsp;',Y.length-1)+' ';});var T=Q==1?'p':'div';if(!R)S=S.replace(/(\n{2})([\s\S]*?)(?:$|\1)/g,function(Y,Z,aa){return '<'+T+'>'+aa+'</'+T+'>';});S=S.replace(/\n/g,'<br>');if(!(R||n))S=S.replace(new RegExp('<br>(?=</'+T+'>)'),function(Y){return p.repeat(Y,2);});if(m.gecko||m.webkit){var U=new o.elementPath(P.getStartElement()),V=[];for(var W=0;W<U.elements.length;W++){var X=U.elements[W].getName();if(X in q.$inline)V.unshift(U.elements[W].getOuterHtml().match(/^<.*?>/));else if(X in q.$block)break;}S=V.join('')+S;}C.call(this,S);};function E(O){var P=this.getSelection(),Q=P.getRanges(),R=O.getName(),S=q.$block[R],T=P.isLocked;if(T)P.unlock();var U,V,W,X;for(var Y=Q.length-1;Y>=0;Y--){U=Q[Y];if(!U.checkReadOnly()){U.deleteContents(1);V=!Y&&O||O.clone(1);var Z,aa;if(S)while((Z=U.getCommonAncestor(0,1))&&(aa=q[Z.getName()])&&!(aa&&aa[R])){if(Z.getName() in q.span)U.splitElement(Z);else if(U.checkStartOfBlock()&&U.checkEndOfBlock()){U.setStartBefore(Z);U.collapse(true);Z.remove();}else U.splitBlock();}U.insertNode(V);if(!W)W=V;}}if(W){U.moveToPosition(W,4);if(S){var ab=W.getNext(z),ac=ab&&ab.type==1&&ab.getName();if(ac&&q.$block[ac]&&q[ac]['#'])U.moveToElementEditStart(ab);}}P.selectRanges([U]);if(T)this.getSelection().lock();};function F(O){if(!O.checkDirty())setTimeout(function(){O.resetDirty();},0);};var G=o.walker.whitespaces(true),H=o.walker.bookmark(false,true);function I(O){return G(O)&&H(O);};function J(O){return O.type==3&&p.trim(O.getText()).match(/^(?:&nbsp;|\xa0)$/);
};function K(O){if(O.isLocked){O.unlock();setTimeout(function(){O.lock();},0);}};function L(O){return O.getOuterHtml().match(y);};G=o.walker.whitespaces(true);function M(O){var P=O.window,Q=O.document,R=O.document.getBody(),S=R.getChildren().count();if(!S||S==1&&R.getFirst().hasAttribute('_moz_editor_bogus_node')){F(O);var T=O.element.getDocument(),U=T.getDocumentElement(),V=U.$.scrollTop,W=U.$.scrollLeft,X=Q.$.createEvent('KeyEvents');X.initKeyEvent('keypress',true,true,P.$,false,false,false,false,0,32);Q.$.dispatchEvent(X);if(V!=U.$.scrollTop||W!=U.$.scrollLeft)T.getWindow().$.scrollTo(W,V);S&&R.getFirst().remove();Q.getBody().appendBogus();var Y=new o.range(Q);Y.setStartAt(R,1);Y.select();}};function N(O){var P=O.editor,Q=O.data.path,R=Q.blockLimit,S=O.data.selection,T=S.getRanges()[0],U=P.document.getBody(),V=P.config.enterMode;if(m.gecko){M(P);var W=Q.block||Q.blockLimit;if(W&&!W.getBogus()){P.fire('updateSnapshot');F(P);W.appendBogus();}}if(V!=2&&T.collapsed&&R.getName()=='body'&&!Q.block){P.fire('updateSnapshot');F(P);n&&K(S);var X=T.fixBlock(true,P.config.enterMode==3?'div':'p');if(n){var Y=X.getFirst(I);Y&&J(Y)&&Y.remove();}if(L(X)){var Z=X.getNext(G);if(Z&&Z.type==1&&!A(Z)){T.moveToElementEditStart(Z);X.remove();}else{Z=X.getPrevious(G);if(Z&&Z.type==1&&!A(Z)){T.moveToElementEditEnd(Z);X.remove();}}}T.select();if(!n){P.forceNextSelectionCheck();P.selectionChange();}}var aa=new o.range(P.document),ab=new o.walker(aa);aa.selectNodeContents(U);ab.evaluator=function(ad){return ad.type==1&&ad.getName() in x;};ab.guard=function(ad,ae){return!(ad.type==3&&G(ad)||ae);};if(ab.previous()){P.fire('updateSnapshot');F(P);n&&K(S);var ac;if(V!=2)ac=U.append(new s(V==1?'p':'div'));else ac=U;if(!n)ac.appendBogus();}};u.add('wysiwygarea',{requires:['editingblock'],init:function(O){var P=O.config.enterMode!=2?O.config.enterMode==3?'div':'p':false,Q=O.lang.editorTitle.replace('%1',O.name),R;O.on('editingBlockReady',function(){var X,Y,Z,aa,ab,ac,ad=m.isCustomDomain(),ae=function(ah){if(Y)Y.remove();var ai='document.open();'+(ad?'document.domain="'+document.domain+'";':'')+'document.close();';ai=m.air?'javascript:void(0)':n?'javascript:void(function(){'+encodeURIComponent(ai)+'}())':'';Y=s.createFromHtml('<iframe style="width:100%;height:100%" frameBorder="0" title="'+Q+'"'+' src="'+ai+'"'+' tabIndex="'+(m.webkit?-1:O.tabIndex)+'"'+' allowTransparency="true"'+'></iframe>');if(document.location.protocol=='chrome:')l.event.useCapture=true;Y.on('load',function(am){ab=1;am.removeListener();
var an=Y.getFrameDocument();an.write(ah);m.air&&ag(an.getWindow().$);});if(document.location.protocol=='chrome:')l.event.useCapture=false;var aj=O.element,ak=m.gecko&&!aj.isVisible(),al={};if(ak){aj.show();al={position:aj.getStyle('position'),top:aj.getStyle('top')};aj.setStyles({position:'absolute',top:'-3000px'});}X.append(Y);if(ak)setTimeout(function(){aj.hide();aj.setStyles(al);},1000);};R=p.addFunction(ag);var af='<script id="cke_actscrpt" type="text/javascript" data-cke-temp="1">'+(ad?'document.domain="'+document.domain+'";':'')+'window.parent.CKEDITOR.tools.callFunction( '+R+', window );'+'</script>';function ag(ah){if(!ab)return;ab=0;O.fire('ariaWidget',Y);var ai=ah.document,aj=ai.body,ak=ai.getElementById('cke_actscrpt');ak&&ak.parentNode.removeChild(ak);aj.spellcheck=!O.config.disableNativeSpellChecker;if(n){aj.hideFocus=true;aj.disabled=true;aj.contentEditable=true;aj.removeAttribute('disabled');}else setTimeout(function(){if(m.gecko&&m.version>=10900||m.opera)ai.$.body.contentEditable=true;else if(m.webkit)ai.$.body.parentNode.contentEditable=true;else ai.$.designMode='on';},0);m.gecko&&p.setTimeout(M,0,null,O);ah=O.window=new o.window(ah);ai=O.document=new r(ai);ai.on('dblclick',function(aq){var ar=aq.data.getTarget(),as={element:ar,dialog:''};O.fire('doubleclick',as);as.dialog&&O.openDialog(as.dialog);});n&&ai.on('click',function(aq){var ar=aq.data.getTarget();if(ar.is('input')){var as=ar.getAttribute('type');if(as=='submit'||as=='reset')aq.data.preventDefault();}});if(!(n||m.opera))ai.on('mousedown',function(aq){var ar=aq.data.getTarget();if(ar.is('img','hr','input','textarea','select'))O.getSelection().selectElement(ar);});if(m.gecko)ai.on('mouseup',function(aq){if(aq.data.$.button==2){var ar=aq.data.getTarget();if(!ar.getOuterHtml().replace(y,'')){var as=new o.range(ai);as.moveToElementEditStart(ar);as.select(true);}}});ai.on('click',function(aq){aq=aq.data;if(aq.getTarget().is('a')&&aq.$.button!=2)aq.preventDefault();});if(m.webkit){ai.on('click',function(aq){if(aq.data.getTarget().is('input','select'))aq.data.preventDefault();});ai.on('mouseup',function(aq){if(aq.data.getTarget().is('input','textarea'))aq.data.preventDefault();});}if(n&&ai.$.compatMode=='CSS1Compat'||m.gecko||m.opera){var al=ai.getDocumentElement();al.on('mousedown',function(aq){if(aq.data.getTarget().equals(al)){if(m.gecko&&m.version>=10900)V();W.focus();}});}var am=n?Y:ah;am.on('blur',function(){O.focusManager.blur();});var an;am.on('focus',function(){var aq=O.document;
if(m.gecko&&m.version>=10900)V();else if(m.opera)aq.getBody().focus();else if(m.webkit)if(!an){O.document.getDocumentElement().focus();an=1;}O.focusManager.focus();});var ao=O.keystrokeHandler;if(ao)ao.attach(ai);if(n){ai.getDocumentElement().addClass(ai.$.compatMode);ai.on('keydown',function(aq){var ar=aq.data.getKeystroke();if(ar in {8:1,46:1}){var as=O.getSelection(),at=as.getSelectedElement();if(at){O.fire('saveSnapshot');var au=as.getRanges()[0].createBookmark();at.remove();as.selectBookmarks([au]);O.fire('saveSnapshot');aq.data.preventDefault();}}});if(ai.$.compatMode=='CSS1Compat'){var ap={33:1,34:1};ai.on('keydown',function(aq){if(aq.data.getKeystroke() in ap)setTimeout(function(){O.getSelection().scrollIntoView();},0);});}}if(O.contextMenu)O.contextMenu.addTarget(ai,O.config.browserContextMenuOnCtrl!==false);setTimeout(function(){O.fire('contentDom');if(ac){O.mode='wysiwyg';O.fire('mode');ac=false;}Z=false;if(aa){O.focus();aa=false;}setTimeout(function(){O.fire('dataReady');},0);try{O.document.$.execCommand('enableInlineTableEditing',false,!O.config.disableNativeTableHandles);}catch(aq){}if(O.config.disableObjectResizing)try{O.document.$.execCommand('enableObjectResizing',false,false);}catch(ar){O.document.getBody().on(n?'resizestart':'resize',function(as){as.data.preventDefault();});}if(n)setTimeout(function(){if(O.document){var as=O.document.$.body;as.runtimeStyle.marginBottom='0px';as.runtimeStyle.marginBottom='';}},1000);},0);};O.addMode('wysiwyg',{load:function(ah,ai,aj){X=ah;if(n&&m.quirks)ah.setStyle('position','relative');O.mayBeDirty=true;ac=true;if(aj)this.loadSnapshotData(ai);else this.loadData(ai);},loadData:function(ah){Z=true;var ai=O.config,aj=ai.fullPage,ak=ai.docType,al='<style type="text/css" data-cke-temp="1">'+O._.styles.join('\n')+'</style>';!aj&&(al=p.buildStyleHtml(O.config.contentsCss)+al);var am=ai.baseHref?'<base href="'+ai.baseHref+'" data-cke-temp="1" />':'';if(aj)ah=ah.replace(/<!DOCTYPE[^>]*>/i,function(an){O.docType=ak=an;return '';});if(O.dataProcessor)ah=O.dataProcessor.toHtml(ah,P);if(aj){if(!/<body[\s|>]/.test(ah))ah='<body>'+ah;if(!/<html[\s|>]/.test(ah))ah='<html>'+ah+'</html>';if(!/<head[\s|>]/.test(ah))ah=ah.replace(/<html[^>]*>/,'$&<head><title></title></head>');else if(!/<title[\s|>]/.test(ah))ah=ah.replace(/<head[^>]*>/,'$&<title></title>');am&&(ah=ah.replace(/<head>/,'$&'+am));ah=ah.replace(/<\/head\s*>/,al+'$&');ah=ak+ah;}else ah=ai.docType+'<html dir="'+ai.contentsLangDirection+'"'+' lang="'+(ai.contentsLanguage||O.langCode)+'">'+'<head>'+'<title>'+Q+'</title>'+am+al+'</head>'+'<body'+(ai.bodyId?' id="'+ai.bodyId+'"':'')+(ai.bodyClass?' class="'+ai.bodyClass+'"':'')+'>'+ah+'</html>';
ah+=af;this.onDispose();ae(ah);},getData:function(){var ah=O.config,ai=ah.fullPage,aj=ai&&O.docType,ak=Y.getFrameDocument(),al=ai?ak.getDocumentElement().getOuterHtml():ak.getBody().getHtml();if(O.dataProcessor)al=O.dataProcessor.toDataFormat(al,P);if(ah.ignoreEmptyParagraph)al=al.replace(y,function(am,an){return an;});if(aj)al=aj+'\n'+al;return al;},getSnapshotData:function(){return Y.getFrameDocument().getBody().getHtml();},loadSnapshotData:function(ah){Y.getFrameDocument().getBody().setHtml(ah);},onDispose:function(){if(!O.document)return;O.document.getDocumentElement().clearCustomData();O.document.getBody().clearCustomData();O.window.clearCustomData();O.document.clearCustomData();Y.clearCustomData();Y.remove();},unload:function(ah){this.onDispose();O.window=O.document=Y=X=aa=null;O.fire('contentDomUnload');},focus:function(){var ah=O.window;if(Z)aa=true;else if(m.opera&&O.document){var ai=O.window.$.frameElement;ai.blur(),ai.focus();O.document.getBody().focus();O.selectionChange();}else if(!m.opera&&ah){m.air?setTimeout(function(){ah.focus();},0):ah.focus();O.selectionChange();}}});O.on('insertHtml',B(C),null,null,20);O.on('insertElement',B(E),null,null,20);O.on('insertText',B(D),null,null,20);O.on('selectionChange',N,null,null,1);});var S;O.on('contentDom',function(){var X=O.document.getElementsByTag('title').getItem(0);X.data('cke-title',O.document.$.title);O.document.$.title=Q;});if(m.ie8Compat){O.addCss('html.CSS1Compat [contenteditable=false]{ min-height:0 !important;}');var T=[];for(var U in q.$removeEmpty)T.push('html.CSS1Compat '+U+'[contenteditable=false]');O.addCss(T.join(',')+'{ display:inline-block;}');}else if(m.gecko)O.addCss('html { height: 100% !important; }');function V(X){p.tryThese(function(){O.document.$.designMode='on';setTimeout(function(){O.document.$.designMode='off';if(l.currentInstance==O)O.document.getBody().focus();},50);},function(){O.document.$.designMode='off';var Y=O.document.getBody();Y.setAttribute('contentEditable',false);Y.setAttribute('contentEditable',true);!X&&V(1);});};if(m.gecko||n||m.opera){var W;O.on('uiReady',function(){W=O.container.append(s.createFromHtml('<span tabindex="-1" style="position:absolute;" role="presentation"></span>'));W.on('focus',function(){O.focus();});O.focusGrabber=W;});O.on('destroy',function(){p.removeFunction(R);W.clearCustomData();delete O.focusGrabber;});}O.on('insertElement',function(X){var Y=X.data;if(Y.type==1&&(Y.is('input')||Y.is('textarea'))){if(!Y.isReadOnly())Y.data('cke-editable',Y.hasAttribute('contenteditable')?'true':'1');
Y.setAttribute('contentEditable',false);}});}});if(m.gecko)(function(){var O=document.body;if(!O)window.addEventListener('load',arguments.callee,false);else{var P=O.getAttribute('onpageshow');O.setAttribute('onpageshow',(P?P+';':'')+'event.persisted && (function(){'+'var allInstances = CKEDITOR.instances, editor, doc;'+'for ( var i in allInstances )'+'{'+'\teditor = allInstances[ i ];'+'\tdoc = editor.document;'+'\tif ( doc )'+'\t{'+'\t\tdoc.$.designMode = "off";'+'\t\tdoc.$.designMode = "on";'+'\t}'+'}'+'})();');}})();})();t.disableObjectResizing=false;t.disableNativeTableHandles=true;t.disableNativeSpellChecker=true;t.ignoreEmptyParagraph=true;u.add('wsc',{requires:['dialog'],init:function(x){var y='checkspell',z=x.addCommand(y,new l.dialogCommand(y));z.modes={wysiwyg:!m.opera&&!m.air&&document.domain==window.location.hostname};x.ui.addButton('SpellChecker',{label:x.lang.spellCheck.toolbar,command:y});l.dialog.add(y,this.path+'dialogs/wsc.js');}});t.wsc_customerId=t.wsc_customerId||'1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk';t.wsc_customLoaderScript=t.wsc_customLoaderScript||null;l.DIALOG_RESIZE_NONE=0;l.DIALOG_RESIZE_WIDTH=1;l.DIALOG_RESIZE_HEIGHT=2;l.DIALOG_RESIZE_BOTH=3;(function(){var x=p.cssLength;function y(aa){return!!this._.tabs[aa][0].$.offsetHeight;};function z(){var ae=this;var aa=ae._.currentTabId,ab=ae._.tabIdList.length,ac=p.indexOf(ae._.tabIdList,aa)+ab;for(var ad=ac-1;ad>ac-ab;ad--){if(y.call(ae,ae._.tabIdList[ad%ab]))return ae._.tabIdList[ad%ab];}return null;};function A(){var ae=this;var aa=ae._.currentTabId,ab=ae._.tabIdList.length,ac=p.indexOf(ae._.tabIdList,aa);for(var ad=ac+1;ad<ac+ab;ad++){if(y.call(ae,ae._.tabIdList[ad%ab]))return ae._.tabIdList[ad%ab];}return null;};function B(aa,ab){var ac=aa.$.getElementsByTagName('input');for(var ad=0,ae=ac.length;ad<ae;ad++){var af=new s(ac[ad]);if(af.getAttribute('type').toLowerCase()=='text')if(ab){af.setAttribute('value',af.getCustomData('fake_value')||'');af.removeCustomData('fake_value');}else{af.setCustomData('fake_value',af.getAttribute('value'));af.setAttribute('value','');}}};l.dialog=function(aa,ab){var ac=l.dialog._.dialogDefinitions[ab],ad=p.clone(D),ae=aa.config.dialog_buttonsOrder||'OS',af=aa.lang.dir;if(ae=='OS'&&m.mac||ae=='rtl'&&af=='ltr'||ae=='ltr'&&af=='rtl')ad.buttons.reverse();ac=p.extend(ac(aa),ad);ac=p.clone(ac);ac=new H(this,ac);var ag=l.document,ah=aa.theme.buildDialog(aa);this._={editor:aa,element:ah.element,name:ab,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:false,focusList:[],currentFocusIndex:0,hasFocus:false};
this.parts=ah.parts;p.setTimeout(function(){aa.fire('ariaWidget',this.parts.contents);},0,this);this.parts.dialog.setStyles({position:m.ie6Compat?'absolute':'fixed',top:0,left:0,visibility:'hidden'});l.event.call(this);this.definition=ac=l.fire('dialogDefinition',{name:ab,definition:ac},aa).definition;var ai={};if(!('removeDialogTabs' in aa._)&&aa.config.removeDialogTabs){var aj=aa.config.removeDialogTabs.split(';');for(i=0;i<aj.length;i++){var ak=aj[i].split(':');if(ak.length==2){var al=ak[0];if(!ai[al])ai[al]=[];ai[al].push(ak[1]);}}aa._.removeDialogTabs=ai;}if(aa._.removeDialogTabs&&(ai=aa._.removeDialogTabs[ab]))for(i=0;i<ai.length;i++)ac.removeContents(ai[i]);if(ac.onLoad)this.on('load',ac.onLoad);if(ac.onShow)this.on('show',ac.onShow);if(ac.onHide)this.on('hide',ac.onHide);if(ac.onOk)this.on('ok',function(ay){aa.fire('saveSnapshot');setTimeout(function(){aa.fire('saveSnapshot');},0);if(ac.onOk.call(this,ay)===false)ay.data.hide=false;});if(ac.onCancel)this.on('cancel',function(ay){if(ac.onCancel.call(this,ay)===false)ay.data.hide=false;});var am=this,an=function(ay){var az=am._.contents,aA=false;for(var aB in az)for(var aC in az[aB]){aA=ay.call(this,az[aB][aC]);if(aA)return;}};this.on('ok',function(ay){an(function(az){if(az.validate){var aA=az.validate(this);if(typeof aA=='string'){alert(aA);aA=false;}if(aA===false){if(az.select)az.select();else az.focus();ay.data.hide=false;ay.stop();return true;}}});},this,null,0);this.on('cancel',function(ay){an(function(az){if(az.isChanged()){if(!confirm(aa.lang.common.confirmCancel))ay.data.hide=false;return true;}});},this,null,0);this.parts.close.on('click',function(ay){if(this.fire('cancel',{hide:true}).hide!==false)this.hide();ay.data.preventDefault();},this);function ao(){var ay=am._.focusList;ay.sort(function(aB,aC){if(aB.tabIndex!=aC.tabIndex)return aC.tabIndex-aB.tabIndex;else return aB.focusIndex-aC.focusIndex;});var az=ay.length;for(var aA=0;aA<az;aA++)ay[aA].focusIndex=aA;};function ap(ay){var az=am._.focusList,aA=ay?1:-1;if(az.length<1)return;var aB=am._.currentFocusIndex;try{az[aB].getInputElement().$.blur();}catch(aE){}var aC=(aB+aA+az.length)%az.length,aD=aC;while(!az[aD].isFocusable()){aD=(aD+aA+az.length)%az.length;if(aD==aC)break;}az[aD].focus();if(az[aD].type=='text')az[aD].select();};this.changeFocus=ap;var aq;function ar(ay){var aD=this;if(am!=l.dialog._.currentTop)return;var az=ay.data.getKeystroke(),aA=aa.lang.dir=='rtl';aq=0;if(az==9||az==2000+9){var aB=az==2000+9;if(am._.tabBarMode){var aC=aB?z.call(am):A.call(am);
am.selectPage(aC);am._.tabs[aC][0].focus();}else ap(!aB);aq=1;}else if(az==4000+121&&!am._.tabBarMode&&am.getPageCount()>1){am._.tabBarMode=true;am._.tabs[am._.currentTabId][0].focus();aq=1;}else if((az==37||az==39)&&am._.tabBarMode){aC=az==(aA?39:37)?z.call(am):A.call(am);am.selectPage(aC);am._.tabs[aC][0].focus();aq=1;}else if((az==13||az==32)&&am._.tabBarMode){aD.selectPage(aD._.currentTabId);aD._.tabBarMode=false;aD._.currentFocusIndex=-1;ap(true);aq=1;}if(aq){ay.stop();ay.data.preventDefault();}};function as(ay){aq&&ay.data.preventDefault();};var at=this._.element;this.on('show',function(){at.on('keydown',ar,this,null,0);if(m.opera||m.gecko&&m.mac)at.on('keypress',as,this);});this.on('hide',function(){at.removeListener('keydown',ar);if(m.opera||m.gecko&&m.mac)at.removeListener('keypress',as);});this.on('iframeAdded',function(ay){var az=new r(ay.data.iframe.$.contentWindow.document);az.on('keydown',ar,this,null,0);});this.on('show',function(){var aC=this;ao();if(aa.config.dialog_startupFocusTab&&am._.pageCount>1){am._.tabBarMode=true;am._.tabs[am._.currentTabId][0].focus();}else if(!aC._.hasFocus){aC._.currentFocusIndex=-1;if(ac.onFocus){var ay=ac.onFocus.call(aC);ay&&ay.focus();}else ap(true);if(aC._.editor.mode=='wysiwyg'&&n){var az=aa.document.$.selection,aA=az.createRange();if(aA)if(aA.parentElement&&aA.parentElement().ownerDocument==aa.document.$||aA.item&&aA.item(0).ownerDocument==aa.document.$){var aB=document.body.createTextRange();aB.moveToElementText(aC.getElement().getFirst().$);aB.collapse(true);aB.select();}}}},this,null,4294967295);if(m.ie6Compat)this.on('load',function(ay){var az=this.getElement(),aA=az.getFirst();aA.remove();aA.appendTo(az);},this);J(this);K(this);new o.text(ac.title,l.document).appendTo(this.parts.title);for(var au=0;au<ac.contents.length;au++){var av=ac.contents[au];av&&this.addPage(av);}this.parts.tabs.on('click',function(ay){var aB=this;var az=ay.data.getTarget();if(az.hasClass('cke_dialog_tab')){var aA=az.$.id;aB.selectPage(aA.substring(4,aA.lastIndexOf('_')));if(aB._.tabBarMode){aB._.tabBarMode=false;aB._.currentFocusIndex=-1;ap(true);}ay.data.preventDefault();}},this);var aw=[],ax=l.dialog._.uiElementBuilders.hbox.build(this,{type:'hbox',className:'cke_dialog_footer_buttons',widths:[],children:ac.buttons},aw).getChild();this.parts.footer.setHtml(aw.join(''));for(au=0;au<ax.length;au++)this._.buttons[ax[au].id]=ax[au];};function C(aa,ab,ac){this.element=ab;this.focusIndex=ac;this.tabIndex=0;this.isFocusable=function(){return!ab.getAttribute('disabled')&&ab.isVisible();
};this.focus=function(){aa._.currentFocusIndex=this.focusIndex;this.element.focus();};ab.on('keydown',function(ad){if(ad.data.getKeystroke() in {32:1,13:1})this.fire('click');});ab.on('focus',function(){this.fire('mouseover');});ab.on('blur',function(){this.fire('mouseout');});};l.dialog.prototype={destroy:function(){this.hide();this._.element.remove();},resize:(function(){return function(aa,ab){var ac=this;if(ac._.contentSize&&ac._.contentSize.width==aa&&ac._.contentSize.height==ab)return;l.dialog.fire('resize',{dialog:ac,skin:ac._.editor.skinName,width:aa,height:ab},ac._.editor);ac._.contentSize={width:aa,height:ab};};})(),getSize:function(){var aa=this._.element.getFirst();return{width:aa.$.offsetWidth||0,height:aa.$.offsetHeight||0};},move:(function(){var aa;return function(ab,ac,ad){var ag=this;var ae=ag._.element.getFirst();if(aa===undefined)aa=ae.getComputedStyle('position')=='fixed';if(aa&&ag._.position&&ag._.position.x==ab&&ag._.position.y==ac)return;ag._.position={x:ab,y:ac};if(!aa){var af=l.document.getWindow().getScrollPosition();ab+=af.x;ac+=af.y;}ae.setStyles({left:(ab>0?ab:0)+'px',top:(ac>0?ac:0)+'px'});ad&&(ag._.moved=1);};})(),getPosition:function(){return p.extend({},this._.position);},show:function(){var aa=this._.element,ab=this.definition;if(!(aa.getParent()&&aa.getParent().equals(l.document.getBody())))aa.appendTo(l.document.getBody());else aa.setStyle('display','block');if(m.gecko&&m.version<10900){var ac=this.parts.dialog;ac.setStyle('position','absolute');setTimeout(function(){ac.setStyle('position','fixed');},0);}this.resize(this._.contentSize&&this._.contentSize.width||ab.minWidth,this._.contentSize&&this._.contentSize.height||ab.minHeight);this.reset();this.selectPage(this.definition.contents[0].id);if(l.dialog._.currentZIndex===null)l.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex;this._.element.getFirst().setStyle('z-index',l.dialog._.currentZIndex+=10);if(l.dialog._.currentTop===null){l.dialog._.currentTop=this;this._.parentDialog=null;O(this._.editor);aa.on('keydown',S);aa.on(m.opera?'keypress':'keyup',T);for(var ad in {keyup:1,keydown:1,keypress:1})aa.on(ad,Z);}else{this._.parentDialog=l.dialog._.currentTop;var ae=this._.parentDialog.getElement().getFirst();ae.$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2);l.dialog._.currentTop=this;}U(this,this,'\x1b',null,function(){this.getButton('cancel')&&this.getButton('cancel').click();});this._.hasFocus=false;p.setTimeout(function(){this.layout();this.parts.dialog.setStyle('visibility','');
this.fireOnce('load',{});v.fire('ready',this);this.fire('show',{});this._.editor.fire('dialogShow',this);this.foreach(function(af){af.setInitValue&&af.setInitValue();});},100,this);},layout:function(){var ac=this;var aa=l.document.getWindow().getViewPaneSize(),ab=ac.getSize();ac.move(ac._.moved?ac._.position.x:(aa.width-ab.width)/2,ac._.moved?ac._.position.y:(aa.height-ab.height)/2);},foreach:function(aa){var ad=this;for(var ab in ad._.contents)for(var ac in ad._.contents[ab])aa(ad._.contents[ab][ac]);return ad;},reset:(function(){var aa=function(ab){if(ab.reset)ab.reset(1);};return function(){this.foreach(aa);return this;};})(),setupContent:function(){var aa=arguments;this.foreach(function(ab){if(ab.setup)ab.setup.apply(ab,aa);});},commitContent:function(){var aa=arguments;this.foreach(function(ab){if(ab.commit)ab.commit.apply(ab,aa);});},hide:function(){if(!this.parts.dialog.isVisible())return;this.fire('hide',{});this._.editor.fire('dialogHide',this);var aa=this._.element;aa.setStyle('display','none');this.parts.dialog.setStyle('visibility','hidden');V(this);while(l.dialog._.currentTop!=this)l.dialog._.currentTop.hide();if(!this._.parentDialog)P();else{var ab=this._.parentDialog.getElement().getFirst();ab.setStyle('z-index',parseInt(ab.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2));}l.dialog._.currentTop=this._.parentDialog;if(!this._.parentDialog){l.dialog._.currentZIndex=null;aa.removeListener('keydown',S);aa.removeListener(m.opera?'keypress':'keyup',T);for(var ac in {keyup:1,keydown:1,keypress:1})aa.removeListener(ac,Z);var ad=this._.editor;ad.focus();if(ad.mode=='wysiwyg'&&n){var ae=ad.getSelection();ae&&ae.unlock(true);}}else l.dialog._.currentZIndex-=10;delete this._.parentDialog;this.foreach(function(af){af.resetInitValue&&af.resetInitValue();});},addPage:function(aa){var am=this;var ab=[],ac=aa.label?' title="'+p.htmlEncode(aa.label)+'"':'',ad=aa.elements,ae=l.dialog._.uiElementBuilders.vbox.build(am,{type:'vbox',className:'cke_dialog_page_contents',children:aa.elements,expand:!!aa.expand,padding:aa.padding,style:aa.style||'width: 100%;'},ab),af=s.createFromHtml(ab.join(''));af.setAttribute('role','tabpanel');var ag=m,ah='cke_'+aa.id+'_'+p.getNextNumber(),ai=s.createFromHtml(['<a class="cke_dialog_tab"',am._.pageCount>0?' cke_last':'cke_first',ac,!!aa.hidden?' style="display:none"':'',' id="',ah,'"',ag.gecko&&ag.version>=10900&&!ag.hc?'':' href="javascript:void(0)"',' tabIndex="-1"',' hidefocus="true"',' role="tab">',aa.label,'</a>'].join(''));
af.setAttribute('aria-labelledby',ah);am._.tabs[aa.id]=[ai,af];am._.tabIdList.push(aa.id);!aa.hidden&&am._.pageCount++;am._.lastTab=ai;am.updateStyle();var aj=am._.contents[aa.id]={},ak,al=ae.getChild();while(ak=al.shift()){aj[ak.id]=ak;if(typeof ak.getChild=='function')al.push.apply(al,ak.getChild());}af.setAttribute('name',aa.id);af.appendTo(am.parts.contents);ai.unselectable();am.parts.tabs.append(ai);if(aa.accessKey){U(am,am,'CTRL+'+aa.accessKey,X,W);am._.accessKeyMap['CTRL+'+aa.accessKey]=aa.id;}},selectPage:function(aa){if(this._.currentTabId==aa)return;if(this.fire('selectPage',{page:aa,currentPage:this._.currentTabId})===true)return;for(var ab in this._.tabs){var ac=this._.tabs[ab][0],ad=this._.tabs[ab][1];if(ab!=aa){ac.removeClass('cke_dialog_tab_selected');ad.hide();}ad.setAttribute('aria-hidden',ab!=aa);}var ae=this._.tabs[aa];ae[0].addClass('cke_dialog_tab_selected');if(m.ie6Compat||m.ie7Compat){B(ae[1]);ae[1].show();setTimeout(function(){B(ae[1],1);},0);}else ae[1].show();this._.currentTabId=aa;this._.currentTabIndex=p.indexOf(this._.tabIdList,aa);},updateStyle:function(){this.parts.dialog[(this._.pageCount===1?'add':'remove')+'Class']('cke_single_page');},hidePage:function(aa){var ac=this;var ab=ac._.tabs[aa]&&ac._.tabs[aa][0];if(!ab||ac._.pageCount==1||!ab.isVisible())return;else if(aa==ac._.currentTabId)ac.selectPage(z.call(ac));ab.hide();ac._.pageCount--;ac.updateStyle();},showPage:function(aa){var ac=this;var ab=ac._.tabs[aa]&&ac._.tabs[aa][0];if(!ab)return;ab.show();ac._.pageCount++;ac.updateStyle();},getElement:function(){return this._.element;},getName:function(){return this._.name;},getContentElement:function(aa,ab){var ac=this._.contents[aa];return ac&&ac[ab];},getValueOf:function(aa,ab){return this.getContentElement(aa,ab).getValue();},setValueOf:function(aa,ab,ac){return this.getContentElement(aa,ab).setValue(ac);},getButton:function(aa){return this._.buttons[aa];},click:function(aa){return this._.buttons[aa].click();},disableButton:function(aa){return this._.buttons[aa].disable();},enableButton:function(aa){return this._.buttons[aa].enable();},getPageCount:function(){return this._.pageCount;},getParentEditor:function(){return this._.editor;},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement();},addFocusable:function(aa,ab){var ad=this;if(typeof ab=='undefined'){ab=ad._.focusList.length;ad._.focusList.push(new C(ad,aa,ab));}else{ad._.focusList.splice(ab,0,new C(ad,aa,ab));for(var ac=ab+1;ac<ad._.focusList.length;
ac++)ad._.focusList[ac].focusIndex++;}}};p.extend(l.dialog,{add:function(aa,ab){if(!this._.dialogDefinitions[aa]||typeof ab=='function')this._.dialogDefinitions[aa]=ab;},exists:function(aa){return!!this._.dialogDefinitions[aa];},getCurrent:function(){return l.dialog._.currentTop;},okButton:(function(){var aa=function(ab,ac){ac=ac||{};return p.extend({id:'ok',type:'button',label:ab.lang.common.ok,'class':'cke_dialog_ui_button_ok',onClick:function(ad){var ae=ad.data.dialog;if(ae.fire('ok',{hide:true}).hide!==false)ae.hide();}},ac,true);};aa.type='button';aa.override=function(ab){return p.extend(function(ac){return aa(ac,ab);},{type:'button'},true);};return aa;})(),cancelButton:(function(){var aa=function(ab,ac){ac=ac||{};return p.extend({id:'cancel',type:'button',label:ab.lang.common.cancel,'class':'cke_dialog_ui_button_cancel',onClick:function(ad){var ae=ad.data.dialog;if(ae.fire('cancel',{hide:true}).hide!==false)ae.hide();}},ac,true);};aa.type='button';aa.override=function(ab){return p.extend(function(ac){return aa(ac,ab);},{type:'button'},true);};return aa;})(),addUIElement:function(aa,ab){this._.uiElementBuilders[aa]=ab;}});l.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null};l.event.implementOn(l.dialog);l.event.implementOn(l.dialog.prototype,true);var D={resizable:3,minWidth:600,minHeight:400,buttons:[l.dialog.okButton,l.dialog.cancelButton]},E=function(aa,ab,ac){for(var ad=0,ae;ae=aa[ad];ad++){if(ae.id==ab)return ae;if(ac&&ae[ac]){var af=E(ae[ac],ab,ac);if(af)return af;}}return null;},F=function(aa,ab,ac,ad,ae){if(ac){for(var af=0,ag;ag=aa[af];af++){if(ag.id==ac){aa.splice(af,0,ab);return ab;}if(ad&&ag[ad]){var ah=F(ag[ad],ab,ac,ad,true);if(ah)return ah;}}if(ae)return null;}aa.push(ab);return ab;},G=function(aa,ab,ac){for(var ad=0,ae;ae=aa[ad];ad++){if(ae.id==ab)return aa.splice(ad,1);if(ac&&ae[ac]){var af=G(ae[ac],ab,ac);if(af)return af;}}return null;},H=function(aa,ab){this.dialog=aa;var ac=ab.contents;for(var ad=0,ae;ae=ac[ad];ad++)ac[ad]=ae&&new I(aa,ae);p.extend(this,ab);};H.prototype={getContents:function(aa){return E(this.contents,aa);},getButton:function(aa){return E(this.buttons,aa);},addContents:function(aa,ab){return F(this.contents,aa,ab);},addButton:function(aa,ab){return F(this.buttons,aa,ab);},removeContents:function(aa){G(this.contents,aa);},removeButton:function(aa){G(this.buttons,aa);}};function I(aa,ab){this._={dialog:aa};p.extend(this,ab);};I.prototype={get:function(aa){return E(this.elements,aa,'children');
},add:function(aa,ab){return F(this.elements,aa,ab,'children');},remove:function(aa){G(this.elements,aa,'children');}};function J(aa){var ab=null,ac=null,ad=aa.getElement().getFirst(),ae=aa.getParentEditor(),af=ae.config.dialog_magnetDistance,ag=ae.skin.margins||[0,0,0,0];if(typeof af=='undefined')af=20;function ah(aj){var ak=aa.getSize(),al=l.document.getWindow().getViewPaneSize(),am=aj.data.$.screenX,an=aj.data.$.screenY,ao=am-ab.x,ap=an-ab.y,aq,ar;ab={x:am,y:an};ac.x+=ao;ac.y+=ap;if(ac.x+ag[3]<af)aq=-ag[3];else if(ac.x-ag[1]>al.width-ak.width-af)aq=al.width-ak.width+(ae.lang.dir=='rtl'?0:ag[1]);else aq=ac.x;if(ac.y+ag[0]<af)ar=-ag[0];else if(ac.y-ag[2]>al.height-ak.height-af)ar=al.height-ak.height+ag[2];else ar=ac.y;aa.move(aq,ar,1);aj.data.preventDefault();};function ai(aj){l.document.removeListener('mousemove',ah);l.document.removeListener('mouseup',ai);if(m.ie6Compat){var ak=N.getChild(0).getFrameDocument();ak.removeListener('mousemove',ah);ak.removeListener('mouseup',ai);}};aa.parts.title.on('mousedown',function(aj){ab={x:aj.data.$.screenX,y:aj.data.$.screenY};l.document.on('mousemove',ah);l.document.on('mouseup',ai);ac=aa.getPosition();if(m.ie6Compat){var ak=N.getChild(0).getFrameDocument();ak.on('mousemove',ah);ak.on('mouseup',ai);}aj.data.preventDefault();},aa);};function K(aa){var ab=aa.definition,ac=ab.resizable;if(ac==0)return;var ad=aa.getParentEditor(),ae,af,ag,ah,ai,aj;function ak(ao){if(aa._.moved&&ad.lang.dir=='rtl'){var ap=aa._.element.getFirst();ap.setStyle('right',ao+'px');ap.removeStyle('left');}else if(!aa._.moved)aa.layout();};var al=p.addFunction(function(ao){ai=aa.getSize();var ap=aa.parts.contents,aq=ap.$.getElementsByTagName('iframe').length;if(aq){aj=s.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>');ap.append(aj);}af=ai.height-aa.parts.contents.getSize('height',!(m.gecko||m.opera||n&&m.quirks));ae=ai.width-aa.parts.contents.getSize('width',1);ah={x:ao.screenX,y:ao.screenY};ag=l.document.getWindow().getViewPaneSize();l.document.on('mousemove',am);l.document.on('mouseup',an);if(m.ie6Compat){var ar=N.getChild(0).getFrameDocument();ar.on('mousemove',am);ar.on('mouseup',an);}ao.preventDefault&&ao.preventDefault();});aa.on('load',function(){var ao='';if(ac==1)ao=' cke_resizer_horizontal';else if(ac==2)ao=' cke_resizer_vertical';var ap=s.createFromHtml('<div class="cke_resizer'+ao+'"'+' title="'+p.htmlEncode(ad.lang.resize)+'"'+' onmousedown="CKEDITOR.tools.callFunction('+al+', event )"></div>');
aa.parts.footer.append(ap,1);});ad.on('destroy',function(){p.removeFunction(al);});function am(ao){var ap=ad.lang.dir=='rtl',aq=(ao.data.$.screenX-ah.x)*(ap?-1:1),ar=ao.data.$.screenY-ah.y,as=ai.width,at=ai.height,au=as+aq*(aa._.moved?1:2),av=at+ar*(aa._.moved?1:2),aw=aa._.element.getFirst(),ax=ap&&aw.getComputedStyle('right'),ay=aa.getPosition();if(ax)ax=ax=='auto'?ag.width-(ay.x||0)-aw.getSize('width'):parseInt(ax,10);if(ay.y+av>ag.height)av=ag.height-ay.y;if((ap?ax:ay.x)+au>ag.width)au=ag.width-(ap?ax:ay.x);if((ac==1||ac==3)&&!(ap&&aq>0&&!ay.x))as=Math.max(ab.minWidth||0,au-ae);if(ac==2||ac==3)at=Math.max(ab.minHeight||0,av-af);aa.resize(as,at);ak(ax);ao.data.preventDefault();};function an(){l.document.removeListener('mouseup',an);l.document.removeListener('mousemove',am);if(aj){aj.remove();aj=null;}if(m.ie6Compat){var ao=N.getChild(0).getFrameDocument();ao.removeListener('mouseup',an);ao.removeListener('mousemove',am);}if(ad.lang.dir=='rtl'){var ap=aa._.element.getFirst(),aq=ap.getComputedStyle('left');if(aq=='auto')aq=ag.width-parseInt(ap.getStyle('right'),10)-aa.getSize().width;else aq=parseInt(aq,10);ap.removeStyle('right');aa._.position.x+=1;aa.move(aq,aa._.position.y);}};};var L,M={},N;function O(aa){var ab=l.document.getWindow(),ac=aa.config,ad=ac.dialog_backgroundCoverColor||'white',ae=ac.dialog_backgroundCoverOpacity,af=ac.baseFloatZIndex,ag=p.genKey(ad,ae,af),ah=M[ag];if(!ah){var ai=['<div tabIndex="-1" style="position: ',m.ie6Compat?'absolute':'fixed','; z-index: ',af,'; top: 0px; left: 0px; ',!m.ie6Compat?'background-color: '+ad:'','" class="cke_dialog_background_cover">'];if(m.ie6Compat){var aj=m.isCustomDomain(),ak="<html><body style=\\'background-color:"+ad+";\\'></body></html>";ai.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:');ai.push('void((function(){document.open();'+(aj?"document.domain='"+document.domain+"';":'')+"document.write( '"+ak+"' );"+'document.close();'+'})())');ai.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>');}ai.push('</div>');ah=s.createFromHtml(ai.join(''));ah.setOpacity(ae!=undefined?ae:0.5);ah.appendTo(l.document.getBody());M[ag]=ah;}else ah.show();N=ah;var al=function(){var ao=ab.getViewPaneSize();ah.setStyles({width:ao.width+'px',height:ao.height+'px'});},am=function(){var ao=ab.getScrollPosition(),ap=l.dialog._.currentTop;ah.setStyles({left:ao.x+'px',top:ao.y+'px'});if(ap)do{var aq=ap.getPosition();
ap.move(aq.x,aq.y);}while(ap=ap._.parentDialog)};L=al;ab.on('resize',al);al();if(!(m.mac&&m.webkit))ah.focus();if(m.ie6Compat){var an=function(){am();arguments.callee.prevScrollHandler.apply(this,arguments);};ab.$.setTimeout(function(){an.prevScrollHandler=window.onscroll||(function(){});window.onscroll=an;},0);am();}};function P(){if(!N)return;var aa=l.document.getWindow();N.hide();aa.removeListener('resize',L);if(m.ie6Compat)aa.$.setTimeout(function(){var ab=window.onscroll&&window.onscroll.prevScrollHandler;window.onscroll=ab||null;},0);L=null;};function Q(){for(var aa in M)M[aa].remove();M={};};var R={},S=function(aa){var ab=aa.data.$.ctrlKey||aa.data.$.metaKey,ac=aa.data.$.altKey,ad=aa.data.$.shiftKey,ae=String.fromCharCode(aa.data.$.keyCode),af=R[(ab?'CTRL+':'')+(ac?'ALT+':'')+(ad?'SHIFT+':'')+ae];if(!af||!af.length)return;af=af[af.length-1];af.keydown&&af.keydown.call(af.uiElement,af.dialog,af.key);aa.data.preventDefault();},T=function(aa){var ab=aa.data.$.ctrlKey||aa.data.$.metaKey,ac=aa.data.$.altKey,ad=aa.data.$.shiftKey,ae=String.fromCharCode(aa.data.$.keyCode),af=R[(ab?'CTRL+':'')+(ac?'ALT+':'')+(ad?'SHIFT+':'')+ae];if(!af||!af.length)return;af=af[af.length-1];if(af.keyup){af.keyup.call(af.uiElement,af.dialog,af.key);aa.data.preventDefault();}},U=function(aa,ab,ac,ad,ae){var af=R[ac]||(R[ac]=[]);af.push({uiElement:aa,dialog:ab,key:ac,keyup:ae||aa.accessKeyUp,keydown:ad||aa.accessKeyDown});},V=function(aa){for(var ab in R){var ac=R[ab];for(var ad=ac.length-1;ad>=0;ad--){if(ac[ad].dialog==aa||ac[ad].uiElement==aa)ac.splice(ad,1);}if(ac.length===0)delete R[ab];}},W=function(aa,ab){if(aa._.accessKeyMap[ab])aa.selectPage(aa._.accessKeyMap[ab]);},X=function(aa,ab){},Y={27:1,13:1},Z=function(aa){if(aa.data.getKeystroke() in Y)aa.data.stopPropagation();};(function(){v.dialog={uiElement:function(aa,ab,ac,ad,ae,af,ag){if(arguments.length<4)return;var ah=(ad.call?ad(ab):ad)||'div',ai=['<',ah,' '],aj=(ae&&ae.call?ae(ab):ae)||{},ak=(af&&af.call?af(ab):af)||{},al=(ag&&ag.call?ag.call(this,aa,ab):ag)||'',am=this.domId=ak.id||p.getNextId()+'_uiElement',an=this.id=ab.id,ao;ak.id=am;var ap={};if(ab.type)ap['cke_dialog_ui_'+ab.type]=1;if(ab.className)ap[ab.className]=1;var aq=ak['class']&&ak['class'].split?ak['class'].split(' '):[];for(ao=0;ao<aq.length;ao++){if(aq[ao])ap[aq[ao]]=1;}var ar=[];for(ao in ap)ar.push(ao);ak['class']=ar.join(' ');if(ab.title)ak.title=ab.title;var as=(ab.style||'').split(';');for(ao in aj)as.push(ao+':'+aj[ao]);if(ab.hidden)as.push('display:none');
for(ao=as.length-1;ao>=0;ao--){if(as[ao]==='')as.splice(ao,1);}if(as.length>0)ak.style=(ak.style?ak.style+'; ':'')+as.join('; ');for(ao in ak)ai.push(ao+'="'+p.htmlEncode(ak[ao])+'" ');ai.push('>',al,'</',ah,'>');ac.push(ai.join(''));(this._||(this._={})).dialog=aa;if(typeof ab.isChanged=='boolean')this.isChanged=function(){return ab.isChanged;};if(typeof ab.isChanged=='function')this.isChanged=ab.isChanged;l.event.implementOn(this);this.registerEvents(ab);if(this.accessKeyUp&&this.accessKeyDown&&ab.accessKey)U(this,aa,'CTRL+'+ab.accessKey);var at=this;aa.on('load',function(){if(at.getInputElement())at.getInputElement().on('focus',function(){aa._.tabBarMode=false;aa._.hasFocus=true;at.fire('focus');},at);});if(this.keyboardFocusable){this.tabIndex=ab.tabIndex||0;this.focusIndex=aa._.focusList.push(this)-1;this.on('focus',function(){aa._.currentFocusIndex=at.focusIndex;});}p.extend(this,ab);},hbox:function(aa,ab,ac,ad,ae){if(arguments.length<4)return;this._||(this._={});var af=this._.children=ab,ag=ae&&ae.widths||null,ah=ae&&ae.height||null,ai={},aj,ak=function(){var am=['<tbody><tr class="cke_dialog_ui_hbox">'];for(aj=0;aj<ac.length;aj++){var an='cke_dialog_ui_hbox_child',ao=[];if(aj===0)an='cke_dialog_ui_hbox_first';if(aj==ac.length-1)an='cke_dialog_ui_hbox_last';am.push('<td class="',an,'" role="presentation" ');if(ag){if(ag[aj])ao.push('width:'+x(ag[aj]));}else ao.push('width:'+Math.floor(100/ac.length)+'%');if(ah)ao.push('height:'+x(ah));if(ae&&ae.padding!=undefined)ao.push('padding:'+x(ae.padding));if(ao.length>0)am.push('style="'+ao.join('; ')+'" ');am.push('>',ac[aj],'</td>');}am.push('</tr></tbody>');return am.join('');},al={role:'presentation'};ae&&ae.align&&(al.align=ae.align);v.dialog.uiElement.call(this,aa,ae||{type:'hbox'},ad,'table',ai,al,ak);},vbox:function(aa,ab,ac,ad,ae){if(arguments.length<3)return;this._||(this._={});var af=this._.children=ab,ag=ae&&ae.width||null,ah=ae&&ae.heights||null,ai=function(){var aj=['<table role="presentation" cellspacing="0" border="0" '];aj.push('style="');if(ae&&ae.expand)aj.push('height:100%;');aj.push('width:'+x(ag||'100%'),';');aj.push('"');aj.push('align="',p.htmlEncode(ae&&ae.align||(aa.getParentEditor().lang.dir=='ltr'?'left':'right')),'" ');aj.push('><tbody>');for(var ak=0;ak<ac.length;ak++){var al=[];aj.push('<tr><td role="presentation" ');if(ag)al.push('width:'+x(ag||'100%'));if(ah)al.push('height:'+x(ah[ak]));else if(ae&&ae.expand)al.push('height:'+Math.floor(100/ac.length)+'%');if(ae&&ae.padding!=undefined)al.push('padding:'+x(ae.padding));
if(al.length>0)aj.push('style="',al.join('; '),'" ');aj.push(' class="cke_dialog_ui_vbox_child">',ac[ak],'</td></tr>');}aj.push('</tbody></table>');return aj.join('');};v.dialog.uiElement.call(this,aa,ae||{type:'vbox'},ad,'div',null,{role:'presentation'},ai);}};})();v.dialog.uiElement.prototype={getElement:function(){return l.document.getById(this.domId);},getInputElement:function(){return this.getElement();},getDialog:function(){return this._.dialog;},setValue:function(aa,ab){this.getInputElement().setValue(aa);!ab&&this.fire('change',{value:aa});return this;},getValue:function(){return this.getInputElement().getValue();},isChanged:function(){return false;},selectParentTab:function(){var ad=this;var aa=ad.getInputElement(),ab=aa,ac;while((ab=ab.getParent())&&ab.$.className.search('cke_dialog_page_contents')==-1){}if(!ab)return ad;ac=ab.getAttribute('name');if(ad._.dialog._.currentTabId!=ac)ad._.dialog.selectPage(ac);return ad;},focus:function(){this.selectParentTab().getInputElement().focus();return this;},registerEvents:function(aa){var ab=/^on([A-Z]\w+)/,ac,ad=function(af,ag,ah,ai){ag.on('load',function(){af.getInputElement().on(ah,ai,af);});};for(var ae in aa){if(!(ac=ae.match(ab)))continue;if(this.eventProcessors[ae])this.eventProcessors[ae].call(this,this._.dialog,aa[ae]);else ad(this,this._.dialog,ac[1].toLowerCase(),aa[ae]);}return this;},eventProcessors:{onLoad:function(aa,ab){aa.on('load',ab,this);},onShow:function(aa,ab){aa.on('show',ab,this);},onHide:function(aa,ab){aa.on('hide',ab,this);}},accessKeyDown:function(aa,ab){this.focus();},accessKeyUp:function(aa,ab){},disable:function(){var aa=this.getInputElement();aa.setAttribute('disabled','true');aa.addClass('cke_disabled');},enable:function(){var aa=this.getInputElement();aa.removeAttribute('disabled');aa.removeClass('cke_disabled');},isEnabled:function(){return!this.getInputElement().getAttribute('disabled');},isVisible:function(){return this.getInputElement().isVisible();},isFocusable:function(){if(!this.isEnabled()||!this.isVisible())return false;return true;}};v.dialog.hbox.prototype=p.extend(new v.dialog.uiElement(),{getChild:function(aa){var ab=this;if(arguments.length<1)return ab._.children.concat();if(!aa.splice)aa=[aa];if(aa.length<2)return ab._.children[aa[0]];else return ab._.children[aa[0]]&&ab._.children[aa[0]].getChild?ab._.children[aa[0]].getChild(aa.slice(1,aa.length)):null;}},true);v.dialog.vbox.prototype=new v.dialog.hbox();(function(){var aa={build:function(ab,ac,ad){var ae=ac.children,af,ag=[],ah=[];
for(var ai=0;ai<ae.length&&(af=ae[ai]);ai++){var aj=[];ag.push(aj);ah.push(l.dialog._.uiElementBuilders[af.type].build(ab,af,aj));}return new v.dialog[ac.type](ab,ah,ag,ad,ac);}};l.dialog.addUIElement('hbox',aa);l.dialog.addUIElement('vbox',aa);})();l.dialogCommand=function(aa){this.dialogName=aa;};l.dialogCommand.prototype={exec:function(aa){aa.openDialog(this.dialogName);},canUndo:false,editorFocus:n||m.webkit};(function(){var aa=/^([a]|[^a])+$/,ab=/^\d*$/,ac=/^\d*(?:\.\d+)?$/;l.VALIDATE_OR=1;l.VALIDATE_AND=2;l.dialog.validate={functions:function(){return function(){var aj=this;var ad=aj&&aj.getValue?aj.getValue():arguments[0],ae=undefined,af=2,ag=[],ah;for(ah=0;ah<arguments.length;ah++){if(typeof arguments[ah]=='function')ag.push(arguments[ah]);else break;}if(ah<arguments.length&&typeof arguments[ah]=='string'){ae=arguments[ah];ah++;}if(ah<arguments.length&&typeof arguments[ah]=='number')af=arguments[ah];var ai=af==2?true:false;for(ah=0;ah<ag.length;ah++){if(af==2)ai=ai&&ag[ah](ad);else ai=ai||ag[ah](ad);}if(!ai){if(ae!==undefined)alert(ae);if(aj&&(aj.select||aj.focus))aj.select||aj.focus();return false;}return true;};},regex:function(ad,ae){return function(){var ag=this;var af=ag&&ag.getValue?ag.getValue():arguments[0];if(!ad.test(af)){if(ae!==undefined)alert(ae);if(ag&&(ag.select||ag.focus))if(ag.select)ag.select();else ag.focus();return false;}return true;};},notEmpty:function(ad){return this.regex(aa,ad);},integer:function(ad){return this.regex(ab,ad);},number:function(ad){return this.regex(ac,ad);},equals:function(ad,ae){return this.functions(function(af){return af==ad;},ae);},notEqual:function(ad,ae){return this.functions(function(af){return af!=ad;},ae);}};l.on('instanceDestroyed',function(ad){if(p.isEmpty(l.instances)){var ae;while(ae=l.dialog._.currentTop)ae.hide();Q();}var af=ad.editor._.storedDialogs;for(var ag in af)af[ag].destroy();});})();p.extend(l.editor.prototype,{openDialog:function(aa,ab){if(this.mode=='wysiwyg'&&n){var ac=this.getSelection();ac&&ac.lock();}var ad=l.dialog._.dialogDefinitions[aa],ae=this.skin.dialog;if(l.dialog._.currentTop===null)O(this);if(typeof ad=='function'&&ae._isLoaded){var af=this._.storedDialogs||(this._.storedDialogs={}),ag=af[aa]||(af[aa]=new l.dialog(this,aa));ab&&ab.call(ag,ag);ag.show();return ag;}else if(ad=='failed')throw new Error('[CKEDITOR.dialog.openDialog] Dialog "'+aa+'" failed when loading definition.');var ah=this;function ai(ak){var al=l.dialog._.dialogDefinitions[aa],am=ah.skin.dialog;if(!am._isLoaded||aj&&typeof ak=='undefined')return;
if(typeof al!='function')l.dialog._.dialogDefinitions[aa]='failed';ah.openDialog(aa,ab);};if(typeof ad=='string'){var aj=1;l.scriptLoader.load(l.getUrl(ad),ai,null,0,1);}l.skins.load(this,'dialog',ai);return null;}});})();u.add('dialog',{requires:['dialogui']});u.add('styles',{requires:['selection'],init:function(x){x.on('contentDom',function(){x.document.setCustomData('cke_includeReadonly',!x.config.disableReadonlyStyling);});}});l.editor.prototype.attachStyleStateChange=function(x,y){var z=this._.styleStateChangeCallbacks;if(!z){z=this._.styleStateChangeCallbacks=[];this.on('selectionChange',function(A){for(var B=0;B<z.length;B++){var C=z[B],D=C.style.checkActive(A.data.path)?1:2;if(C.state!==D){C.fn.call(this,D);C.state=D;}}});}z.push({style:x,fn:y});};l.STYLE_BLOCK=1;l.STYLE_INLINE=2;l.STYLE_OBJECT=3;(function(){var x={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1},y={a:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1},z=/\s*(?:;\s*|$)/,A=o.walker.bookmark(0,1);l.style=function(ae,af){if(af){ae=p.clone(ae);W(ae.attributes,af);W(ae.styles,af);}var ag=this.element=(ae.element||'*').toLowerCase();this.type=ag=='#'||x[ag]?1:y[ag]?3:2;this._={definition:ae};};l.style.prototype={apply:function(ae){ad.call(this,ae,false);},remove:function(ae){ad.call(this,ae,true);},applyToRange:function(ae){var af=this;return(af.applyToRange=af.type==2?C:af.type==1?G:af.type==3?E:null).call(af,ae);},removeFromRange:function(ae){var af=this;return(af.removeFromRange=af.type==2?D:af.type==1?H:af.type==3?F:null).call(af,ae);},applyToObject:function(ae){U(ae,this);},checkActive:function(ae){var ai=this;switch(ai.type){case 1:return ai.checkElementRemovable(ae.block||ae.blockLimit,true);case 3:case 2:var af=ae.elements;for(var ag=0,ah;ag<af.length;ag++){ah=af[ag];if(ai.type==2&&(ah==ae.block||ah==ae.blockLimit))continue;if(ai.type==3&&!(ah.getName() in y))continue;if(ai.checkElementRemovable(ah,true))return true;}}return false;},checkApplicable:function(ae){switch(this.type){case 2:case 1:break;case 3:return ae.lastElement.getAscendant(this.element,true);}return true;},checkElementRemovable:function(ae,af){if(!ae)return false;var ag=this._.definition,ah;if(ae.getName()==this.element){if(!af&&!ae.hasAttributes())return true;ah=X(ag);if(ah._length){for(var ai in ah){if(ai=='_length')continue;var aj=ae.getAttribute(ai)||'';if(ai=='style'?ac(ah[ai],aa(aj,false)):ah[ai]==aj){if(!af)return true;}else if(af)return false;}if(af)return true;
}else return true;}var ak=Y(this)[ae.getName()];if(ak){if(!(ah=ak.attributes))return true;for(var al=0;al<ah.length;al++){ai=ah[al][0];var am=ae.getAttribute(ai);if(am){var an=ah[al][1];if(an===null||typeof an=='string'&&am==an||an.test(am))return true;}}}return false;},buildPreview:function(){var ae=this._.definition,af=[],ag=ae.element;if(ag=='bdo')ag='span';af=['<',ag];var ah=ae.attributes;if(ah)for(var ai in ah)af.push(' ',ai,'="',ah[ai],'"');var aj=l.style.getStyleText(ae);if(aj)af.push(' style="',aj,'"');af.push('>',ae.name,'</',ag,'>');return af.join('');}};l.style.getStyleText=function(ae){var af=ae._ST;if(af)return af;af=ae.styles;var ag=ae.attributes&&ae.attributes.style||'',ah='';if(ag.length)ag=ag.replace(z,';');for(var ai in af){var aj=af[ai],ak=(ai+':'+aj).replace(z,';');if(aj=='inherit')ah+=ak;else ag+=ak;}if(ag.length)ag=aa(ag);ag+=ah;return ae._ST=ag;};function B(ae){var af,ag;while(ae=ae.getParent()){if(ae.getName()=='body')break;if(ae.getAttribute('data-nostyle'))af=ae;else if(!ag){var ah=ae.getAttribute('contentEditable');if(ah=='false')af=ae;else if(ah=='true')ag=1;}}return af;};function C(ae){var aI=this;var af=ae.document;if(ae.collapsed){var ag=T(aI,af);ae.insertNode(ag);ae.moveToPosition(ag,2);return;}var ah=aI.element,ai=aI._.definition,aj,ak=ai.includeReadonly;if(ak==undefined)ak=af.getCustomData('cke_includeReadonly');var al=q[ah]||(aj=true,q.span);ae.enlarge(1,1);ae.trim();var am=ae.createBookmark(),an=am.startNode,ao=am.endNode,ap=an,aq,ar=B(an),as=B(ao);if(ar)ap=ar.getNextSourceNode(true);if(as)ao=as;if(ap.getPosition(ao)==2)ap=0;while(ap){var at=false;if(ap.equals(ao)){ap=null;at=true;}else{var au=ap.type,av=au==1?ap.getName():null,aw=av&&ap.getAttribute('contentEditable')=='false',ax=av&&ap.getAttribute('data-nostyle');if(av&&ap.data('cke-bookmark')){ap=ap.getNextSourceNode(true);continue;}if(!av||al[av]&&!ax&&(!aw||ak)&&(ap.getPosition(ao)|4|0|8)==4+0+8&&(!ai.childRule||ai.childRule(ap))){var ay=ap.getParent();if(ay&&((ay.getDtd()||q.span)[ah]||aj)&&(!ai.parentRule||ai.parentRule(ay))){if(!aq&&(!av||!q.$removeEmpty[av]||(ap.getPosition(ao)|4|0|8)==4+0+8)){aq=new o.range(af);aq.setStartBefore(ap);}if(au==3||aw||au==1&&!ap.getChildCount()){var az=ap,aA;while((at=!az.getNext(A))&&(aA=az.getParent(),al[aA.getName()])&&(aA.getPosition(an)|2|0|8)==2+0+8&&(!ai.childRule||ai.childRule(aA)))az=aA;aq.setEndAfter(az);}}else at=true;}else at=true;ap=ap.getNextSourceNode(ax||aw);}if(at&&aq&&!aq.collapsed){var aB=T(aI,af),aC=aB.hasAttributes(),aD=aq.getCommonAncestor(),aE={styles:{},attrs:{},blockedStyles:{},blockedAttrs:{}},aF,aG,aH;
while(aB&&aD){if(aD.getName()==ah){for(aF in ai.attributes){if(aE.blockedAttrs[aF]||!(aH=aD.getAttribute(aG)))continue;if(aB.getAttribute(aF)==aH)aE.attrs[aF]=1;else aE.blockedAttrs[aF]=1;}for(aG in ai.styles){if(aE.blockedStyles[aG]||!(aH=aD.getStyle(aG)))continue;if(aB.getStyle(aG)==aH)aE.styles[aG]=1;else aE.blockedStyles[aG]=1;}}aD=aD.getParent();}for(aF in aE.attrs)aB.removeAttribute(aF);for(aG in aE.styles)aB.removeStyle(aG);if(aC&&!aB.hasAttributes())aB=null;if(aB){aq.extractContents().appendTo(aB);Q(aI,aB);aq.insertNode(aB);aB.mergeSiblings();if(!n)aB.$.normalize();}else{aB=new s('span');aq.extractContents().appendTo(aB);aq.insertNode(aB);Q(aI,aB);aB.remove(true);}aq=null;}}ae.moveToBookmark(am);ae.shrink(2);};function D(ae){ae.enlarge(1,1);var af=ae.createBookmark(),ag=af.startNode;if(ae.collapsed){var ah=new o.elementPath(ag.getParent()),ai;for(var aj=0,ak;aj<ah.elements.length&&(ak=ah.elements[aj]);aj++){if(ak==ah.block||ak==ah.blockLimit)break;if(this.checkElementRemovable(ak)){var al;if(ae.collapsed&&(ae.checkBoundaryOfElement(ak,2)||(al=ae.checkBoundaryOfElement(ak,1)))){ai=ak;ai.match=al?'start':'end';}else{ak.mergeSiblings();P(this,ak);}}}if(ai){var am=ag;for(aj=0;true;aj++){var an=ah.elements[aj];if(an.equals(ai))break;else if(an.match)continue;else an=an.clone();an.append(am);am=an;}am[ai.match=='start'?'insertBefore':'insertAfter'](ai);}}else{var ao=af.endNode,ap=this;function aq(){var at=new o.elementPath(ag.getParent()),au=new o.elementPath(ao.getParent()),av=null,aw=null;for(var ax=0;ax<at.elements.length;ax++){var ay=at.elements[ax];if(ay==at.block||ay==at.blockLimit)break;if(ap.checkElementRemovable(ay))av=ay;}for(ax=0;ax<au.elements.length;ax++){ay=au.elements[ax];if(ay==au.block||ay==au.blockLimit)break;if(ap.checkElementRemovable(ay))aw=ay;}if(aw)ao.breakParent(aw);if(av)ag.breakParent(av);};aq();var ar=ag.getNext();while(!ar.equals(ao)){var as=ar.getNextSourceNode();if(ar.type==1&&this.checkElementRemovable(ar)){if(ar.getName()==this.element)P(this,ar);else R(ar,Y(this)[ar.getName()]);if(as.type==1&&as.contains(ag)){aq();as=ag.getNext();}}ar=as;}}ae.moveToBookmark(af);};function E(ae){var af=ae.getCommonAncestor(true,true),ag=af.getAscendant(this.element,true);ag&&U(ag,this);};function F(ae){var af=ae.getCommonAncestor(true,true),ag=af.getAscendant(this.element,true);if(!ag)return;var ah=this,ai=ah._.definition,aj=ai.attributes,ak=l.style.getStyleText(ai);if(aj)for(var al in aj)ag.removeAttribute(al,aj[al]);if(ai.styles)for(var am in ai.styles){if(!ai.styles.hasOwnProperty(am))continue;
ag.removeStyle(am);}};function G(ae){var af=ae.createBookmark(true),ag=ae.createIterator();ag.enforceRealBlocks=true;if(this._.enterMode)ag.enlargeBr=this._.enterMode!=2;var ah,ai=ae.document,aj;while(ah=ag.getNextParagraph()){var ak=T(this,ai,ah);I(ah,ak);}ae.moveToBookmark(af);};function H(ae){var aj=this;var af=ae.createBookmark(1),ag=ae.createIterator();ag.enforceRealBlocks=true;ag.enlargeBr=aj._.enterMode!=2;var ah;while(ah=ag.getNextParagraph()){if(aj.checkElementRemovable(ah))if(ah.is('pre')){var ai=aj._.enterMode==2?null:ae.document.createElement(aj._.enterMode==1?'p':'div');ai&&ah.copyAttributes(ai);I(ah,ai);}else P(aj,ah,1);}ae.moveToBookmark(af);};function I(ae,af){var ag=!af;if(ag){af=ae.getDocument().createElement('div');ae.copyAttributes(af);}var ah=af&&af.is('pre'),ai=ae.is('pre'),aj=ah&&!ai,ak=!ah&&ai;if(aj)af=O(ae,af);else if(ak)af=N(ag?[ae.getHtml()]:L(ae),af);else ae.moveChildren(af);af.replace(ae);if(ah)K(af);else if(ag)S(af);};var J=o.walker.whitespaces(1);function K(ae){var af;if(!((af=ae.getPrevious(J))&&af.is&&af.is('pre')))return;var ag=M(af.getHtml(),/\n$/,'')+'\n\n'+M(ae.getHtml(),/^\n/,'');if(n)ae.$.outerHTML='<pre>'+ag+'</pre>';else ae.setHtml(ag);af.remove();};function L(ae){var af=/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,ag=ae.getName(),ah=M(ae.getOuterHtml(),af,function(aj,ak,al){return ak+'</pre>'+al+'<pre>';}),ai=[];ah.replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(aj,ak){ai.push(ak);});return ai;};function M(ae,af,ag){var ah='',ai='';ae=ae.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(aj,ak,al){ak&&(ah=ak);al&&(ai=al);return '';});return ah+ae.replace(af,ag)+ai;};function N(ae,af){var ag;if(ae.length>1)ag=new o.documentFragment(af.getDocument());for(var ah=0;ah<ae.length;ah++){var ai=ae[ah];ai=ai.replace(/(\r\n|\r)/g,'\n');ai=M(ai,/^[ \t]*\n/,'');ai=M(ai,/\n$/,'');ai=M(ai,/^[ \t]+|[ \t]+$/g,function(ak,al,am){if(ak.length==1)return '&nbsp;';else if(!al)return p.repeat('&nbsp;',ak.length-1)+' ';else return ' '+p.repeat('&nbsp;',ak.length-1);});ai=ai.replace(/\n/g,'<br>');ai=ai.replace(/[ \t]{2,}/g,function(ak){return p.repeat('&nbsp;',ak.length-1)+' ';});if(ag){var aj=af.clone();aj.setHtml(ai);ag.append(aj);}else af.setHtml(ai);}return ag||af;};function O(ae,af){var ag=ae.getBogus();ag&&ag.remove();var ah=ae.getHtml();ah=M(ah,/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,'');ah=ah.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,'$1');ah=ah.replace(/([ \t\n\r]+|&nbsp;)/g,' ');
ah=ah.replace(/<br\b[^>]*>/gi,'\n');if(n){var ai=ae.getDocument().createElement('div');ai.append(af);af.$.outerHTML='<pre>'+ah+'</pre>';af.copyAttributes(ai.getFirst());af=ai.getFirst().remove();}else af.setHtml(ah);return af;};function P(ae,af){var ag=ae._.definition,ah=p.extend({},ag.attributes,Y(ae)[af.getName()]),ai=ag.styles,aj=p.isEmpty(ah)&&p.isEmpty(ai);for(var ak in ah){if((ak=='class'||ae._.definition.fullMatch)&&af.getAttribute(ak)!=Z(ak,ah[ak]))continue;aj=af.hasAttribute(ak);af.removeAttribute(ak);}for(var al in ai){if(ae._.definition.fullMatch&&af.getStyle(al)!=Z(al,ai[al],true))continue;aj=aj||!!af.getStyle(al);af.removeStyle(al);}if(aj)!q.$block[af.getName()]||ae._.enterMode==2&&!af.hasAttributes()?S(af):af.renameNode(ae._.enterMode==1?'p':'div');};function Q(ae,af){var ag=ae._.definition,ah=ag.attributes,ai=ag.styles,aj=Y(ae),ak=af.getElementsByTag(ae.element);for(var al=ak.count();--al>=0;)P(ae,ak.getItem(al));for(var am in aj){if(am!=ae.element){ak=af.getElementsByTag(am);for(al=ak.count()-1;al>=0;al--){var an=ak.getItem(al);R(an,aj[am]);}}}};function R(ae,af){var ag=af&&af.attributes;if(ag)for(var ah=0;ah<ag.length;ah++){var ai=ag[ah][0],aj;if(aj=ae.getAttribute(ai)){var ak=ag[ah][1];if(ak===null||ak.test&&ak.test(aj)||typeof ak=='string'&&aj==ak)ae.removeAttribute(ai);}}S(ae);};function S(ae){if(!ae.hasAttributes())if(q.$block[ae.getName()]){var af=ae.getPrevious(J),ag=ae.getNext(J);if(af&&(af.type==3||!af.isBlockBoundary({br:1})))ae.append('br',1);if(ag&&(ag.type==3||!ag.isBlockBoundary({br:1})))ae.append('br');ae.remove(true);}else{var ah=ae.getFirst(),ai=ae.getLast();ae.remove(true);if(ah){ah.type==1&&ah.mergeSiblings();if(ai&&!ah.equals(ai)&&ai.type==1)ai.mergeSiblings();}}};function T(ae,af,ag){var ah,ai=ae._.definition,aj=ae.element;if(aj=='*')aj='span';ah=new s(aj,af);if(ag)ag.copyAttributes(ah);ah=U(ah,ae);if(af.getCustomData('doc_processing_style')&&ah.hasAttribute('id'))ah.removeAttribute('id');else af.setCustomData('doc_processing_style',1);return ah;};function U(ae,af){var ag=af._.definition,ah=ag.attributes,ai=l.style.getStyleText(ag);if(ah)for(var aj in ah)ae.setAttribute(aj,ah[aj]);if(ai)ae.setAttribute('style',ai);return ae;};var V=/#\((.+?)\)/g;function W(ae,af){for(var ag in ae)ae[ag]=ae[ag].replace(V,function(ah,ai){return af[ai];});};function X(ae){var af=ae._AC;if(af)return af;af={};var ag=0,ah=ae.attributes;if(ah)for(var ai in ah){ag++;af[ai]=ah[ai];}var aj=l.style.getStyleText(ae);if(aj){if(!af.style)ag++;af.style=aj;
}af._length=ag;return ae._AC=af;};function Y(ae){if(ae._.overrides)return ae._.overrides;var af=ae._.overrides={},ag=ae._.definition.overrides;if(ag){if(!p.isArray(ag))ag=[ag];for(var ah=0;ah<ag.length;ah++){var ai=ag[ah],aj,ak,al;if(typeof ai=='string')aj=ai.toLowerCase();else{aj=ai.element?ai.element.toLowerCase():ae.element;al=ai.attributes;}ak=af[aj]||(af[aj]={});if(al){var am=ak.attributes=ak.attributes||[];for(var an in al)am.push([an.toLowerCase(),al[an]]);}}}return af;};function Z(ae,af,ag){var ah=new s('span');ah[ag?'setStyle':'setAttribute'](ae,af);return ah[ag?'getStyle':'getAttribute'](ae);};function aa(ae,af){var ag;if(af!==false){var ah=new s('span');ah.setAttribute('style',ae);ag=ah.getAttribute('style')||'';}else ag=ae;return ag.replace(/\s*([;:])\s*/,'$1').replace(/([^\s;])$/,'$1;').replace(/,\s+/g,',').replace(/\"/g,'').toLowerCase();};function ab(ae){var af={};ae.replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(ag,ah,ai){af[ah]=ai;});return af;};function ac(ae,af){typeof ae=='string'&&(ae=ab(ae));typeof af=='string'&&(af=ab(af));for(var ag in ae){if(!(ag in af&&(af[ag]==ae[ag]||ae[ag]=='inherit'||af[ag]=='inherit')))return false;}return true;};function ad(ae,af){var ag=ae.getSelection(),ah=ag.getRanges(),ai=af?this.removeFromRange:this.applyToRange,aj,ak=ah.createIterator();while(aj=ak.getNextRange())ai.call(this,aj);ag.selectRanges(ah);ae.removeCustomData('doc_processing_style');};})();l.styleCommand=function(x){this.style=x;};l.styleCommand.prototype.exec=function(x){var z=this;x.focus();var y=x.document;if(y)if(z.state==2)z.style.apply(y);else if(z.state==1)z.style.remove(y);return!!y;};l.stylesSet=new l.resourceManager('','stylesSet');l.addStylesSet=p.bind(l.stylesSet.add,l.stylesSet);l.loadStylesSet=function(x,y,z){l.stylesSet.addExternal(x,y,'');l.stylesSet.load(x,z);};l.editor.prototype.getStylesSet=function(x){if(!this._.stylesDefinitions){var y=this,z=y.config.stylesCombo_stylesSet||y.config.stylesSet||'default';if(z instanceof Array){y._.stylesDefinitions=z;x(z);return;}var A=z.split(':'),B=A[0],C=A[1],D=u.registered.styles.path;l.stylesSet.addExternal(B,C?A.slice(1).join(':'):D+'styles/'+B+'.js','');l.stylesSet.load(B,function(E){y._.stylesDefinitions=E[B];x(y._.stylesDefinitions);});}else x(this._.stylesDefinitions);};u.add('domiterator');(function(){function x(B){var C=this;if(arguments.length<1)return;C.range=B;C.forceBrBreak=0;C.enlargeBr=1;C.enforceRealBlocks=0;C._||(C._={});};var y=/^[\r\n\t ]+$/,z=o.walker.bookmark(false,true);
function A(B,C,D){var E=B.getNextSourceNode(C,null,D);while(!z(E))E=E.getNextSourceNode(C,null,D);return E;};x.prototype={getNextParagraph:function(B){var ab=this;var C,D,E,F,G,H;if(!ab._.lastNode){D=ab.range.clone();D.shrink(1,true);F=D.endContainer.hasAscendant('pre',true)||D.startContainer.hasAscendant('pre',true);D.enlarge(ab.forceBrBreak&&!F||!ab.enlargeBr?3:2);var I=new o.walker(D),J=o.walker.bookmark(true,true);I.evaluator=J;ab._.nextNode=I.next();I=new o.walker(D);I.evaluator=J;var K=I.previous();ab._.lastNode=K.getNextSourceNode(true);if(ab._.lastNode&&ab._.lastNode.type==3&&!p.trim(ab._.lastNode.getText())&&ab._.lastNode.getParent().isBlockBoundary()){var L=new o.range(D.document);L.moveToPosition(ab._.lastNode,4);if(L.checkEndOfBlock()){var M=new o.elementPath(L.endContainer),N=M.block||M.blockLimit;ab._.lastNode=N.getNextSourceNode(true);}}if(!ab._.lastNode){ab._.lastNode=ab._.docEndMarker=D.document.createText('');ab._.lastNode.insertAfter(K);}D=null;}var O=ab._.nextNode;K=ab._.lastNode;ab._.nextNode=null;while(O){var P=0,Q=O.hasAscendant('pre'),R=O.type!=1,S=0;if(!R){var T=O.getName();if(O.isBlockBoundary(ab.forceBrBreak&&!Q&&{br:1})){if(T=='br')R=1;else if(!D&&!O.getChildCount()&&T!='hr'){C=O;E=O.equals(K);break;}if(D){D.setEndAt(O,3);if(T!='br')ab._.nextNode=O;}P=1;}else{if(O.getFirst()){if(!D){D=new o.range(ab.range.document);D.setStartAt(O,3);}O=O.getFirst();continue;}R=1;}}else if(O.type==3)if(y.test(O.getText()))R=0;if(R&&!D){D=new o.range(ab.range.document);D.setStartAt(O,3);}E=(!P||R)&&O.equals(K);if(D&&!P)while(!O.getNext(z)&&!E){var U=O.getParent();if(U.isBlockBoundary(ab.forceBrBreak&&!Q&&{br:1})){P=1;E=E||U.equals(K);break;}O=U;R=1;E=O.equals(K);S=1;}if(R)D.setEndAt(O,4);O=A(O,S,K);E=!O;if(E||P&&D)break;}if(!C){if(!D){ab._.docEndMarker&&ab._.docEndMarker.remove();ab._.nextNode=null;return null;}var V=new o.elementPath(D.startContainer),W=V.blockLimit,X={div:1,th:1,td:1};C=V.block;if(!C&&!ab.enforceRealBlocks&&X[W.getName()]&&D.checkStartOfBlock()&&D.checkEndOfBlock())C=W;else if(!C||ab.enforceRealBlocks&&C.getName()=='li'){C=ab.range.document.createElement(B||'p');D.extractContents().appendTo(C);C.trim();D.insertNode(C);G=H=true;}else if(C.getName()!='li'){if(!D.checkStartOfBlock()||!D.checkEndOfBlock()){C=C.clone(false);D.extractContents().appendTo(C);C.trim();var Y=D.splitBlock();G=!Y.wasStartOfBlock;H=!Y.wasEndOfBlock;D.insertNode(C);}}else if(!E)ab._.nextNode=C.equals(K)?null:A(D.getBoundaryNodes().endNode,1,K);}if(G){var Z=C.getPrevious();
if(Z&&Z.type==1)if(Z.getName()=='br')Z.remove();else if(Z.getLast()&&Z.getLast().$.nodeName.toLowerCase()=='br')Z.getLast().remove();}if(H){var aa=C.getLast();if(aa&&aa.type==1&&aa.getName()=='br')if(n||aa.getPrevious(z)||aa.getNext(z))aa.remove();}if(!ab._.nextNode)ab._.nextNode=E||C.equals(K)?null:A(C,1,K);return C;}};o.range.prototype.createIterator=function(){return new x(this);};})();u.add('panelbutton',{requires:['button'],beforeInit:function(x){x.ui.addHandler(4,v.panelButton.handler);}});l.UI_PANELBUTTON=4;(function(){var x=function(y){var A=this;var z=A._;if(z.state==0)return;A.createPanel(y);if(z.on){z.panel.hide();return;}z.panel.showBlock(A._.id,A.document.getById(A._.id),4);};v.panelButton=p.createClass({base:v.button,$:function(y){var A=this;var z=y.panel;delete y.panel;A.base(y);A.document=z&&z.parent&&z.parent.getDocument()||l.document;z.block={attributes:z.attributes};A.hasArrow=true;A.click=x;A._={panelDefinition:z};},statics:{handler:{create:function(y){return new v.panelButton(y);}}},proto:{createPanel:function(y){var z=this._;if(z.panel)return;var A=this._.panelDefinition||{},B=this._.panelDefinition.block,C=A.parent||l.document.getBody(),D=this._.panel=new v.floatPanel(y,C,A),E=D.addBlock(z.id,B),F=this;D.onShow=function(){if(F.className)this.element.getFirst().addClass(F.className+'_panel');F.setState(1);z.on=1;if(F.onOpen)F.onOpen();};D.onHide=function(G){if(F.className)this.element.getFirst().removeClass(F.className+'_panel');F.setState(F.modes&&F.modes[y.mode]?2:0);z.on=0;if(!G&&F.onClose)F.onClose();};D.onEscape=function(){D.hide();F.document.getById(z.id).focus();};if(this.onBlock)this.onBlock(D,E);E.onHide=function(){z.on=0;F.setState(2);};}}});})();u.add('floatpanel',{requires:['panel']});(function(){var x={},y=false;function z(A,B,C,D,E){var F=p.genKey(B.getUniqueId(),C.getUniqueId(),A.skinName,A.lang.dir,A.uiColor||'',D.css||'',E||''),G=x[F];if(!G){G=x[F]=new v.panel(B,D);G.element=C.append(s.createFromHtml(G.renderHtml(A),B));G.element.setStyles({display:'none',position:'absolute'});}return G;};v.floatPanel=p.createClass({$:function(A,B,C,D){C.forceIFrame=1;var E=B.getDocument(),F=z(A,E,B,C,D||0),G=F.element,H=G.getFirst().getFirst();this.element=G;this._={panel:F,parentElement:B,definition:C,document:E,iframe:H,children:[],dir:A.lang.dir};A.on('mode',function(){this.hide();},this);},proto:{addBlock:function(A,B){return this._.panel.addBlock(A,B);},addListBlock:function(A,B){return this._.panel.addListBlock(A,B);},getBlock:function(A){return this._.panel.getBlock(A);
},showBlock:function(A,B,C,D,E){var F=this._.panel,G=F.showBlock(A);this.allowBlur(false);y=1;var H=this.element,I=this._.iframe,J=this._.definition,K=B.getDocumentPosition(H.getDocument()),L=this._.dir=='rtl',M=K.x+(D||0),N=K.y+(E||0);if(L&&(C==1||C==4))M+=B.$.offsetWidth;else if(!L&&(C==2||C==3))M+=B.$.offsetWidth-1;if(C==3||C==4)N+=B.$.offsetHeight-1;this._.panel._.offsetParentId=B.getId();H.setStyles({top:N+'px',left:0,display:''});H.setOpacity(0);H.getFirst().removeStyle('width');if(!this._.blurSet){var O=n?I:new o.window(I.$.contentWindow);l.event.useCapture=true;O.on('blur',function(P){var R=this;if(!R.allowBlur())return;var Q;if(n&&!R.allowBlur()||(Q=P.data.getTarget())&&Q.getName&&Q.getName()!='iframe')return;if(R.visible&&!R._.activeChild&&!y)R.hide();},this);O.on('focus',function(){this._.focused=true;this.hideChild();this.allowBlur(true);},this);l.event.useCapture=false;this._.blurSet=1;}F.onEscape=p.bind(function(P){if(this.onEscape&&this.onEscape(P)===false)return false;},this);p.setTimeout(function(){if(L)M-=H.$.offsetWidth;var P=p.bind(function(){var Q=H.getFirst();if(G.autoSize){var R=G.element.$;if(m.gecko||m.opera)R=R.parentNode;if(n)R=R.document.body;var S=R.scrollWidth;if(n&&m.quirks&&S>0)S+=(Q.$.offsetWidth||0)-(Q.$.clientWidth||0);S+=4;Q.setStyle('width',S+'px');G.element.addClass('cke_frameLoaded');var T=G.element.$.scrollHeight;if(n&&m.quirks&&T>0)T+=(Q.$.offsetHeight||0)-(Q.$.clientHeight||0);Q.setStyle('height',T+'px');F._.currentBlock.element.setStyle('display','none').removeStyle('display');}else Q.removeStyle('height');var U=F.element,V=U.getWindow(),W=V.getScrollPosition(),X=V.getViewPaneSize(),Y={height:U.$.offsetHeight,width:U.$.offsetWidth};if(L?M<0:M+Y.width>X.width+W.x)M+=Y.width*(L?1:-1);if(N+Y.height>X.height+W.y)N-=Y.height;if(n){var Z=new s(H.$.offsetParent),aa=Z;if(aa.getName()=='html')aa=aa.getDocument().getBody();if(aa.getComputedStyle('direction')=='rtl')if(m.ie8Compat)M-=H.getDocument().getDocumentElement().$.scrollLeft*2;else M-=Z.$.scrollWidth-Z.$.clientWidth;}var ab=H.getFirst(),ac;if(ac=ab.getCustomData('activePanel'))ac.onHide&&ac.onHide.call(this,1);ab.setCustomData('activePanel',this);H.setStyles({top:N+'px',left:M+'px'});H.setOpacity(1);},this);F.isLoaded?P():F.onLoad=P;p.setTimeout(function(){I.$.contentWindow.focus();this.allowBlur(true);},0,this);},m.air?200:0,this);this.visible=1;if(this.onShow)this.onShow.call(this);y=0;},hide:function(){var A=this;if(A.visible&&(!A.onHide||A.onHide.call(A)!==true)){A.hideChild();
A.element.setStyle('display','none');A.visible=0;A.element.getFirst().removeCustomData('activePanel');}},allowBlur:function(A){var B=this._.panel;if(A!=undefined)B.allowBlur=A;return B.allowBlur;},showAsChild:function(A,B,C,D,E,F){if(this._.activeChild==A&&A._.panel._.offsetParentId==C.getId())return;this.hideChild();A.onHide=p.bind(function(){p.setTimeout(function(){if(!this._.focused)this.hide();},0,this);},this);this._.activeChild=A;this._.focused=false;A.showBlock(B,C,D,E,F);if(m.ie7Compat||m.ie8&&m.ie6Compat)setTimeout(function(){A.element.getChild(0).$.style.cssText+='';},100);},hideChild:function(){var A=this._.activeChild;if(A){delete A.onHide;delete this._.activeChild;A.hide();}}}});l.on('instanceDestroyed',function(){var A=p.isEmpty(l.instances);for(var B in x){var C=x[B];if(A)C.destroy();else C.element.hide();}A&&(x={});});})();u.add('menu',{beforeInit:function(x){var y=x.config.menu_groups.split(','),z=x._.menuGroups={},A=x._.menuItems={};for(var B=0;B<y.length;B++)z[y[B]]=B+1;x.addMenuGroup=function(C,D){z[C]=D||100;};x.addMenuItem=function(C,D){if(z[D.group])A[C]=new l.menuItem(this,C,D);};x.addMenuItems=function(C){for(var D in C)this.addMenuItem(D,C[D]);};x.getMenuItem=function(C){return A[C];};},requires:['floatpanel']});(function(){l.menu=p.createClass({$:function(y,z){var C=this;z=C._.definition=z||{};C.id=p.getNextId();C.editor=y;C.items=[];C._.listeners=[];C._.level=z.level||1;var A=p.extend({},z.panel,{css:y.skin.editor.css,level:C._.level-1,block:{}}),B=A.block.attributes=A.attributes||{};!B.role&&(B.role='menu');C._.panelDefinition=A;},_:{onShow:function(){var G=this;var y=G.editor.getSelection();if(n)y&&y.lock();var z=y&&y.getStartElement(),A=G._.listeners,B=[];G.removeAll();for(var C=0;C<A.length;C++){var D=A[C](z,y);if(D)for(var E in D){var F=G.editor.getMenuItem(E);if(F){F.state=D[E];G.add(F);}}}},onClick:function(y){this.hide();if(y.onClick)y.onClick();else if(y.command)this.editor.execCommand(y.command);},onEscape:function(y){var z=this.parent;if(z){z._.panel.hideChild();var A=z._.panel._.panel._.currentBlock,B=A._.focusIndex;A._.markItem(B);}else if(y==27){this.hide();this.editor.focus();}return false;},onHide:function(){if(n){var y=this.editor.getSelection();y&&y.unlock();}this.onHide&&this.onHide();},showSubMenu:function(y){var G=this;var z=G._.subMenu,A=G.items[y],B=A.getItems&&A.getItems();if(!B){G._.panel.hideChild();return;}var C=G._.panel.getBlock(G.id);C._.focusIndex=y;if(z)z.removeAll();else{z=G._.subMenu=new l.menu(G.editor,p.extend({},G._.definition,{level:G._.level+1},true));
z.parent=G;z._.onClick=p.bind(G._.onClick,G);}for(var D in B){var E=G.editor.getMenuItem(D);if(E){E.state=B[D];z.add(E);}}var F=G._.panel.getBlock(G.id).element.getDocument().getById(G.id+String(y));z.show(F,2);}},proto:{add:function(y){if(!y.order)y.order=this.items.length;this.items.push(y);},removeAll:function(){this.items=[];},show:function(y,z,A,B){if(!this.parent){this._.onShow();if(!this.items.length)return;}z=z||(this.editor.lang.dir=='rtl'?2:1);var C=this.items,D=this.editor,E=this._.panel,F=this._.element;if(!E){E=this._.panel=new v.floatPanel(this.editor,l.document.getBody(),this._.panelDefinition,this._.level);E.onEscape=p.bind(function(Q){if(this._.onEscape(Q)===false)return false;},this);E.onHide=p.bind(function(){this._.onHide&&this._.onHide();},this);var G=E.addBlock(this.id,this._.panelDefinition.block);G.autoSize=true;var H=G.keys;H[40]='next';H[9]='next';H[38]='prev';H[2000+9]='prev';H[32]='click';H[D.lang.dir=='rtl'?37:39]='click';F=this._.element=G.element;F.addClass(D.skinClass);var I=F.getDocument();I.getBody().setStyle('overflow','hidden');I.getElementsByTag('html').getItem(0).setStyle('overflow','hidden');this._.itemOverFn=p.addFunction(function(Q){var R=this;clearTimeout(R._.showSubTimeout);R._.showSubTimeout=p.setTimeout(R._.showSubMenu,D.config.menu_subMenuDelay||400,R,[Q]);},this);this._.itemOutFn=p.addFunction(function(Q){clearTimeout(this._.showSubTimeout);},this);this._.itemClickFn=p.addFunction(function(Q){var S=this;var R=S.items[Q];if(R.state==0){S.hide();return;}if(R.getItems)S._.showSubMenu(Q);else S._.onClick(R);},this);}x(C);var J=D.container.getChild(1),K=J.hasClass('cke_mixed_dir_content')?' cke_mixed_dir_content':'',L=['<div class="cke_menu'+K+'" role="presentation">'],M=C.length,N=M&&C[0].group;for(var O=0;O<M;O++){var P=C[O];if(N!=P.group){L.push('<div class="cke_menuseparator" role="separator"></div>');N=P.group;}P.render(this,O,L);}L.push('</div>');F.setHtml(L.join(''));v.fire('ready',this);if(this.parent)this.parent._.panel.showAsChild(E,this.id,y,z,A,B);else E.showBlock(this.id,y,z,A,B);D.fire('menuShow',[E]);},addListener:function(y){this._.listeners.push(y);},hide:function(){var y=this;y._.onHide&&y._.onHide();y._.panel&&y._.panel.hide();}}});function x(y){y.sort(function(z,A){if(z.group<A.group)return-1;else if(z.group>A.group)return 1;return z.order<A.order?-1:z.order>A.order?1:0;});};l.menuItem=p.createClass({$:function(y,z,A){var B=this;p.extend(B,A,{order:0,className:'cke_button_'+z});B.group=y._.menuGroups[B.group];
B.editor=y;B.name=z;},proto:{render:function(y,z,A){var H=this;var B=y.id+String(z),C=typeof H.state=='undefined'?2:H.state,D=' cke_'+(C==1?'on':C==0?'disabled':'off'),E=H.label;if(H.className)D+=' '+H.className;var F=H.getItems;A.push('<span class="cke_menuitem'+(H.icon&&H.icon.indexOf('.png')==-1?' cke_noalphafix':'')+'">'+'<a id="',B,'" class="',D,'" href="javascript:void(\'',(H.label||'').replace("'",''),'\')" title="',H.label,'" tabindex="-1"_cke_focus=1 hidefocus="true" role="menuitem"'+(F?'aria-haspopup="true"':'')+(C==0?'aria-disabled="true"':'')+(C==1?'aria-pressed="true"':''));if(m.opera||m.gecko&&m.mac)A.push(' onkeypress="return false;"');if(m.gecko)A.push(' onblur="this.style.cssText = this.style.cssText;"');var G=(H.iconOffset||0)*-16;A.push(' onmouseover="CKEDITOR.tools.callFunction(',y._.itemOverFn,',',z,');" onmouseout="CKEDITOR.tools.callFunction(',y._.itemOutFn,',',z,');" onclick="CKEDITOR.tools.callFunction(',y._.itemClickFn,',',z,'); return false;"><span class="cke_icon_wrapper"><span class="cke_icon"'+(H.icon?' style="background-image:url('+l.getUrl(H.icon)+');background-position:0 '+G+'px;"':'')+'></span></span>'+'<span class="cke_label">');if(F)A.push('<span class="cke_menuarrow">','<span>&#',H.editor.lang.dir=='rtl'?'9668':'9658',';</span>','</span>');A.push(E,'</span></a></span>');}}});})();t.menu_groups='clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div';(function(){var x=function(z,A){return z._.modes&&z._.modes[A||z.mode];},y;u.add('editingblock',{init:function(z){if(!z.config.editingBlock)return;z.on('themeSpace',function(A){if(A.data.space=='contents')A.data.html+='<br>';});z.on('themeLoaded',function(){z.fireOnce('editingBlockReady');});z.on('uiReady',function(){z.setMode(z.config.startupMode);});z.on('afterSetData',function(){if(!y){function A(){y=true;x(z).loadData(z.getData());y=false;};if(z.mode)A();else z.on('mode',function(){A();z.removeListener('mode',arguments.callee);});}});z.on('beforeGetData',function(){if(!y&&z.mode){y=true;z.setData(x(z).getData());y=false;}});z.on('getSnapshot',function(A){if(z.mode)A.data=x(z).getSnapshotData();});z.on('loadSnapshot',function(A){if(z.mode)x(z).loadSnapshotData(A.data);});z.on('mode',function(A){A.removeListener();m.webkit&&z.container.on('focus',function(){z.focus();});if(z.config.startupFocus)z.focus();setTimeout(function(){z.fireOnce('instanceReady');l.fire('instanceReady',null,z);
},0);});z.on('destroy',function(){var A=this;if(A.mode)A._.modes[A.mode].unload(A.getThemeSpace('contents'));});}});l.editor.prototype.mode='';l.editor.prototype.addMode=function(z,A){A.name=z;(this._.modes||(this._.modes={}))[z]=A;};l.editor.prototype.setMode=function(z){var A,B=this.getThemeSpace('contents'),C=this.checkDirty();if(this.mode){if(z==this.mode)return;this.fire('beforeModeUnload');var D=x(this);A=D.getData();D.unload(B);this.mode='';}B.setHtml('');var E=x(this,z);if(!E)throw '[CKEDITOR.editor.setMode] Unknown mode "'+z+'".';if(!C)this.on('mode',function(){this.resetDirty();this.removeListener('mode',arguments.callee);});E.load(B,typeof A!='string'?this.getData():A);};l.editor.prototype.focus=function(){var z=x(this);if(z)z.focus();};})();t.startupMode='wysiwyg';t.editingBlock=true;(function(){function x(){var H=this;try{var E=H.getSelection();if(!E||!E.document.getWindow().$)return;var F=E.getStartElement(),G=new o.elementPath(F);if(!G.compare(H._.selectionPreviousPath)){H._.selectionPreviousPath=G;H.fire('selectionChange',{selection:E,path:G,element:F});}}catch(I){}};var y,z;function A(){z=true;if(y)return;B.call(this);y=p.setTimeout(B,200,this);};function B(){y=null;if(z){p.setTimeout(x,0,this);z=false;}};var C={modes:{wysiwyg:1,source:1},exec:function(E){switch(E.mode){case 'wysiwyg':E.document.$.execCommand('SelectAll',false,null);E.forceNextSelectionCheck();E.selectionChange();break;case 'source':var F=E.textarea.$;if(n)F.createTextRange().execCommand('SelectAll');else{F.selectionStart=0;F.selectionEnd=F.value.length;}F.focus();}},canUndo:false};u.add('selection',{init:function(E){E.on('contentDom',function(){var F=E.document,G=F.getBody(),H=F.getDocumentElement();if(n){var I,J,K=1;G.on('focusin',function(O){if(O.data.$.srcElement.nodeName!='BODY')return;if(I){var P=F.getCustomData('cke_locked_selection');if(K&&!P)try{I.select();}catch(Q){}I=null;}});G.on('focus',function(){J=1;N();});G.on('beforedeactivate',function(O){if(O.data.$.toElement)return;J=0;K=1;});if(n&&m.version<8)E.on('blur',function(O){try{E.document&&E.document.$.selection.empty();}catch(P){}});H.on('mousedown',function(){K=0;});H.on('mouseup',function(){K=1;});if(n&&(m.ie7Compat||m.version<8||m.quirks))H.on('click',function(O){if(O.data.getTarget().getName()=='html')E.getSelection().getRanges()[0].select();});var L;G.on('mousedown',function(O){if(O.data.$.button==2){var P=E.document.$.selection;if(P.type=='None')L=E.window.getScrollPosition();}M();});G.on('mouseup',function(O){if(O.data.$.button==2&&L){E.document.$.documentElement.scrollLeft=L.x;
E.document.$.documentElement.scrollTop=L.y;}L=null;J=1;setTimeout(function(){N(true);},0);});G.on('keydown',M);G.on('keyup',function(){J=1;N();});F.on('selectionchange',N);function M(){J=0;};function N(O){if(J){var P=E.document,Q=E.getSelection(),R=Q&&Q.getNative();if(O&&R&&R.type=='None')if(!P.$.queryCommandEnabled('InsertImage')){p.setTimeout(N,50,this,true);return;}var S;if(R&&R.type&&R.type!='Control'&&(S=R.createRange())&&(S=S.parentElement())&&(S=S.nodeName)&&S.toLowerCase() in {input:1,textarea:1})return;I=R&&Q.getRanges()[0];A.call(E);}};}else{F.on('mouseup',A,E);F.on('keyup',A,E);}});E.addCommand('selectAll',C);E.ui.addButton('SelectAll',{label:E.lang.selectAll,command:'selectAll'});E.selectionChange=A;}});l.editor.prototype.getSelection=function(){return this.document&&this.document.getSelection();};l.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath;};r.prototype.getSelection=function(){var E=new o.selection(this);return!E||E.isInvalid?null:E;};l.SELECTION_NONE=1;l.SELECTION_TEXT=2;l.SELECTION_ELEMENT=3;o.selection=function(E){var H=this;var F=E.getCustomData('cke_locked_selection');if(F)return F;H.document=E;H.isLocked=0;H._={cache:{}};if(n){var G=H.getNative().createRange();if(!G||G.item&&G.item(0).ownerDocument!=H.document.$||G.parentElement&&G.parentElement().ownerDocument!=H.document.$)H.isInvalid=true;}return H;};var D={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,th:1,thead:1,tfoot:1};o.selection.prototype={getNative:n?function(){return this._.cache.nativeSel||(this._.cache.nativeSel=this.document.$.selection);}:function(){return this._.cache.nativeSel||(this._.cache.nativeSel=this.document.getWindow().$.getSelection());},getType:n?function(){var E=this._.cache;if(E.type)return E.type;var F=1;try{var G=this.getNative(),H=G.type;if(H=='Text')F=2;if(H=='Control')F=3;if(G.createRange().parentElement)F=2;}catch(I){}return E.type=F;}:function(){var E=this._.cache;if(E.type)return E.type;var F=2,G=this.getNative();if(!G)F=1;else if(G.rangeCount==1){var H=G.getRangeAt(0),I=H.startContainer;if(I==H.endContainer&&I.nodeType==1&&H.endOffset-H.startOffset==1&&D[I.childNodes[H.startOffset].nodeName.toLowerCase()])F=3;}return E.type=F;},getRanges:(function(){var E=n?(function(){function F(H){return new o.node(H).getIndex();};var G=function(H,I){H=H.duplicate();H.collapse(I);var J=H.parentElement();if(!J.hasChildNodes())return{container:J,offset:0};
var K=J.children,L,M=H.duplicate(),N=0,O=K.length-1,P=-1,Q,R;while(N<=O){P=Math.floor((N+O)/2);L=K[P];M.moveToElementText(L);Q=M.compareEndPoints('StartToStart',H);if(Q>0)O=P-1;else if(Q<0)N=P+1;else return{container:J,offset:F(L)};}if(P==-1||P==K.length-1&&Q<0){M.moveToElementText(J);M.setEndPoint('StartToStart',H);R=M.text.replace(/(\r\n|\r)/g,'\n').length;K=J.childNodes;if(!R){L=K[K.length-1];if(L.nodeType==1)return{container:J,offset:K.length};else return{container:L,offset:L.nodeValue.length};}var S=K.length;while(R>0)R-=K[--S].nodeValue.length;return{container:K[S],offset:-R};}else{M.collapse(Q>0?true:false);M.setEndPoint(Q>0?'StartToStart':'EndToStart',H);R=M.text.replace(/(\r\n|\r)/g,'\n').length;if(!R)return{container:J,offset:F(L)+(Q>0?0:1)};while(R>0){L=L[Q>0?'previousSibling':'nextSibling'];try{R-=L.nodeValue.length;}catch(T){return{container:J,offset:F(L)};}}return{container:L,offset:Q>0?-R:L.nodeValue.length+R};}};return function(){var R=this;var H=R.getNative(),I=H&&H.createRange(),J=R.getType(),K;if(!H)return[];if(J==2){K=new o.range(R.document);var L=G(I,true);K.setStart(new o.node(L.container),L.offset);L=G(I);K.setEnd(new o.node(L.container),L.offset);if(K.endContainer.getPosition(K.startContainer)&4&&K.endOffset<=K.startContainer.getIndex())K.collapse();return[K];}else if(J==3){var M=[];for(var N=0;N<I.length;N++){var O=I.item(N),P=O.parentNode,Q=0;K=new o.range(R.document);for(;Q<P.childNodes.length&&P.childNodes[Q]!=O;Q++){}K.setStart(new o.node(P),Q);K.setEnd(new o.node(P),Q+1);M.push(K);}return M;}return[];};})():function(){var F=[],G,H=this.document,I=this.getNative();if(!I)return F;if(!I.rangeCount){G=new o.range(H);G.moveToElementEditStart(H.getBody());F.push(G);}for(var J=0;J<I.rangeCount;J++){var K=I.getRangeAt(J);G=new o.range(H);G.setStart(new o.node(K.startContainer),K.startOffset);G.setEnd(new o.node(K.endContainer),K.endOffset);F.push(G);}return F;};return function(F){var G=this._.cache;if(G.ranges&&!F)return G.ranges;else if(!G.ranges)G.ranges=new o.rangeList(E.call(this));if(F){var H=G.ranges;for(var I=0;I<H.length;I++){var J=H[I],K=J.getCommonAncestor();if(K.isReadOnly())H.splice(I,1);if(J.collapsed)continue;var L=J.startContainer,M=J.endContainer,N=J.startOffset,O=J.endOffset,P=J.clone(),Q;if(Q=L.isReadOnly())J.setStartAfter(Q);if(L&&L.type==3)if(N>=L.getLength())P.setStartAfter(L);else P.setStartBefore(L);if(M&&M.type==3)if(!O)P.setEndBefore(M);else P.setEndAfter(M);var R=new o.walker(P);R.evaluator=function(S){if(S.type==1&&S.isReadOnly()){var T=J.clone();
J.setEndBefore(S);if(J.collapsed)H.splice(I--,1);if(!(S.getPosition(P.endContainer)&16)){T.setStartAfter(S);if(!T.collapsed)H.splice(I+1,0,T);}return true;}return false;};R.next();}}return G.ranges;};})(),getStartElement:function(){var L=this;var E=L._.cache;if(E.startElement!==undefined)return E.startElement;var F,G=L.getNative();switch(L.getType()){case 3:return L.getSelectedElement();case 2:var H=L.getRanges()[0];if(H){if(!H.collapsed){H.optimize();while(1){var I=H.startContainer,J=H.startOffset;if(J==(I.getChildCount?I.getChildCount():I.getLength())&&!I.isBlockBoundary())H.setStartAfter(I);else break;}F=H.startContainer;if(F.type!=1)return F.getParent();F=F.getChild(H.startOffset);if(!F||F.type!=1)F=H.startContainer;else{var K=F.getFirst();while(K&&K.type==1){F=K;K=K.getFirst();}}}else{F=H.startContainer;if(F.type!=1)F=F.getParent();}F=F.$;}}return E.startElement=F?new s(F):null;},getSelectedElement:function(){var E=this._.cache;if(E.selectedElement!==undefined)return E.selectedElement;var F=this,G=p.tryThese(function(){return F.getNative().createRange().item(0);},function(){var H=F.getRanges()[0],I,J;for(var K=2;K&&!((I=H.getEnclosedNode())&&I.type==1&&D[I.getName()]&&(J=I));K--)H.shrink(1);return J.$;});return E.selectedElement=G?new s(G):null;},lock:function(){var E=this;E.getRanges();E.getStartElement();E.getSelectedElement();E._.cache.nativeSel={};E.isLocked=1;E.document.setCustomData('cke_locked_selection',E);},unlock:function(E){var J=this;var F=J.document,G=F.getCustomData('cke_locked_selection');if(G){F.setCustomData('cke_locked_selection',null);if(E){var H=G.getSelectedElement(),I=!H&&G.getRanges();J.isLocked=0;J.reset();F.getBody().focus();if(H)J.selectElement(H);else J.selectRanges(I);}}if(!G||!E){J.isLocked=0;J.reset();}},reset:function(){this._.cache={};},selectElement:function(E){var H=this;if(H.isLocked){var F=new o.range(H.document);F.setStartBefore(E);F.setEndAfter(E);H._.cache.selectedElement=E;H._.cache.startElement=E;H._.cache.ranges=new o.rangeList(F);H._.cache.type=3;return;}if(n){H.getNative().empty();try{F=H.document.$.body.createControlRange();F.addElement(E.$);F.select();}catch(I){F=H.document.$.body.createTextRange();F.moveToElementText(E.$);F.select();}finally{H.document.fire('selectionchange');}H.reset();}else{F=H.document.$.createRange();F.selectNode(E.$);var G=H.getNative();G.removeAllRanges();G.addRange(F);H.reset();}},selectRanges:function(E){var Q=this;if(Q.isLocked){Q._.cache.selectedElement=null;Q._.cache.startElement=E[0]&&E[0].getTouchedStartNode();
Q._.cache.ranges=new o.rangeList(E);Q._.cache.type=2;return;}if(n){if(E.length>1){var F=E[E.length-1];E[0].setEnd(F.endContainer,F.endOffset);E.length=1;}if(E[0])E[0].select();Q.reset();}else{var G=Q.getNative();if(E.length)G.removeAllRanges();for(var H=0;H<E.length;H++){if(H<E.length-1){var I=E[H],J=E[H+1],K=I.clone();K.setStart(I.endContainer,I.endOffset);K.setEnd(J.startContainer,J.startOffset);if(!K.collapsed){K.shrink(1,true);var L=K.getCommonAncestor(),M=K.getEnclosedNode();if(L.isReadOnly()||M&&M.isReadOnly()){J.setStart(I.startContainer,I.startOffset);E.splice(H--,1);continue;}}}var N=E[H],O=Q.document.$.createRange(),P=N.startContainer;if(N.collapsed&&(m.opera||m.gecko&&m.version<10900)&&P.type==1&&!P.getChildCount())P.appendText('');O.setStart(P.$,N.startOffset);O.setEnd(N.endContainer.$,N.endOffset);G.addRange(O);}Q.reset();}},createBookmarks:function(E){return this.getRanges().createBookmarks(E);},createBookmarks2:function(E){return this.getRanges().createBookmarks2(E);},selectBookmarks:function(E){var F=[];for(var G=0;G<E.length;G++){var H=new o.range(this.document);H.moveToBookmark(E[G]);F.push(H);}this.selectRanges(F);return this;},getCommonAncestor:function(){var E=this.getRanges(),F=E[0].startContainer,G=E[E.length-1].endContainer;return F.getCommonAncestor(G);},scrollIntoView:function(){var E=this.getStartElement();E.scrollIntoView();}};})();(function(){var x=o.walker.whitespaces(true),y=/\ufeff|\u00a0/,z={table:1,tbody:1,tr:1};o.range.prototype.select=n?function(A){var K=this;var B=K.collapsed,C,D;if(K.startContainer.type==1&&K.startContainer.getName() in z||K.endContainer.type==1&&K.endContainer.getName() in z)K.shrink(1,true);var E=K.createBookmark(),F=E.startNode,G;if(!B)G=E.endNode;var H=K.document.$.body.createTextRange();H.moveToElementText(F.$);H.moveStart('character',1);if(G){var I=K.document.$.body.createTextRange();I.moveToElementText(G.$);H.setEndPoint('EndToEnd',I);H.moveEnd('character',-1);}else{var J=F.getNext(x);C=!(J&&J.getText&&J.getText().match(y))&&(A||!F.hasPrevious()||F.getPrevious().is&&F.getPrevious().is('br'));D=K.document.createElement('span');D.setHtml('&#65279;');D.insertBefore(F);if(C)K.document.createText('\ufeff').insertBefore(F);}K.setStartBefore(F);F.remove();if(B){if(C){H.moveStart('character',-1);H.select();K.document.$.selection.clear();}else H.select();K.moveToPosition(D,3);D.remove();}else{K.setEndBefore(G);G.remove();H.select();}K.document.fire('selectionchange');}:function(){var D=this;var A=D.startContainer;
if(D.collapsed&&A.type==1&&!A.getChildCount())A.append(new o.text(''));var B=D.document.$.createRange();B.setStart(A.$,D.startOffset);try{B.setEnd(D.endContainer.$,D.endOffset);}catch(E){if(E.toString().indexOf('NS_ERROR_ILLEGAL_VALUE')>=0){D.collapse(true);B.setEnd(D.endContainer.$,D.endOffset);}else throw E;}var C=D.document.getSelection().getNative();if(C){C.removeAllRanges();C.addRange(B);}};})();(function(){var x={elements:{$:function(y){var z=y.attributes,A=z&&z['data-cke-realelement'],B=A&&new l.htmlParser.fragment.fromHtml(decodeURIComponent(A)),C=B&&B.children[0];if(C&&y.attributes['data-cke-resizable']){var D=y.attributes.style;if(D){var E=/(?:^|\s)width\s*:\s*(\d+)/i.exec(D),F=E&&E[1];E=/(?:^|\s)height\s*:\s*(\d+)/i.exec(D);var G=E&&E[1];if(F)C.attributes.width=F;if(G)C.attributes.height=G;}}return C;}}};u.add('fakeobjects',{requires:['htmlwriter'],afterInit:function(y){var z=y.dataProcessor,A=z&&z.htmlFilter;if(A)A.addRules(x);}});})();l.editor.prototype.createFakeElement=function(x,y,z,A){var B=this.lang.fakeobjects,C=B[z]||B.unknown,D={'class':y,src:l.getUrl('images/spacer.gif'),'data-cke-realelement':encodeURIComponent(x.getOuterHtml()),'data-cke-real-node-type':x.type,alt:C,title:C,align:x.getAttribute('align')||''};if(z)D['data-cke-real-element-type']=z;if(A)D['data-cke-resizable']=A;return this.document.createElement('img',{attributes:D});};l.editor.prototype.createFakeParserElement=function(x,y,z,A){var B=this.lang.fakeobjects,C=B[z]||B.unknown,D,E=new l.htmlParser.basicWriter();x.writeHtml(E);D=E.getHtml();var F={'class':y,src:l.getUrl('images/spacer.gif'),'data-cke-realelement':encodeURIComponent(D),'data-cke-real-node-type':x.type,alt:C,title:C,align:x.attributes.align||''};if(z)F['data-cke-real-element-type']=z;if(A)F['data-cke-resizable']=A;return new l.htmlParser.element('img',F);};l.editor.prototype.restoreRealElement=function(x){if(x.data('cke-real-node-type')!=1)return null;return s.createFromHtml(decodeURIComponent(x.data('cke-realelement')),this.document);};u.add('richcombo',{requires:['floatpanel','listblock','button'],beforeInit:function(x){x.ui.addHandler(3,v.richCombo.handler);}});l.UI_RICHCOMBO=3;v.richCombo=p.createClass({$:function(x){var z=this;p.extend(z,x,{title:x.label,modes:{wysiwyg:1}});var y=z.panel||{};delete z.panel;z.id=p.getNextNumber();z.document=y&&y.parent&&y.parent.getDocument()||l.document;y.className=(y.className||'')+' cke_rcombopanel';y.block={multiSelect:y.multiSelect,attributes:y.attributes};z._={panelDefinition:y,items:{},state:2};
},statics:{handler:{create:function(x){return new v.richCombo(x);}}},proto:{renderHtml:function(x){var y=[];this.render(x,y);return y.join('');},render:function(x,y){var z=m,A='cke_'+this.id,B=p.addFunction(function(E){var H=this;var F=H._;if(F.state==0)return;H.createPanel(x);if(F.on){F.panel.hide();return;}H.commit();var G=H.getValue();if(G)F.list.mark(G);else F.list.unmarkAll();F.panel.showBlock(H.id,new s(E),4);},this),C={id:A,combo:this,focus:function(){var E=l.document.getById(A).getChild(1);E.focus();},clickFn:B};x.on('mode',function(){this.setState(this.modes[x.mode]?2:0);this.setValue('');},this);var D=p.addFunction(function(E,F){E=new o.event(E);var G=E.getKeystroke();switch(G){case 13:case 32:case 40:p.callFunction(B,F);break;default:C.onkey(C,G);}E.preventDefault();});C.keyDownFn=D;y.push('<span class="cke_rcombo">','<span id=',A);if(this.className)y.push(' class="',this.className,' cke_off"');y.push('>','<span id="'+A+'_label" class=cke_label>',this.label,'</span>','<a hidefocus=true title="',this.title,'" tabindex="-1"',z.gecko&&z.version>=10900&&!z.hc?'':" href=\"javascript:void('"+this.label+"')\"",' role="button" aria-labelledby="',A,'_label" aria-describedby="',A,'_text" aria-haspopup="true"');if(m.opera||m.gecko&&m.mac)y.push(' onkeypress="return false;"');if(m.gecko)y.push(' onblur="this.style.cssText = this.style.cssText;"');y.push(' onkeydown="CKEDITOR.tools.callFunction( ',D,', event, this );" onclick="CKEDITOR.tools.callFunction(',B,', this); return false;"><span><span id="'+A+'_text" class="cke_text cke_inline_label">'+this.label+'</span>'+'</span>'+'<span class=cke_openbutton>'+(m.hc?'<span>&#9660;</span>':m.air?'&nbsp;':'')+'</span>'+'</a>'+'</span>'+'</span>');if(this.onRender)this.onRender();return C;},createPanel:function(x){if(this._.panel)return;var y=this._.panelDefinition,z=this._.panelDefinition.block,A=y.parent||l.document.getBody(),B=new v.floatPanel(x,A,y),C=B.addListBlock(this.id,z),D=this;B.onShow=function(){if(D.className)this.element.getFirst().addClass(D.className+'_panel');D.setState(1);C.focus(!D.multiSelect&&D.getValue());D._.on=1;if(D.onOpen)D.onOpen();};B.onHide=function(E){if(D.className)this.element.getFirst().removeClass(D.className+'_panel');D.setState(D.modes&&D.modes[x.mode]?2:0);D._.on=0;if(!E&&D.onClose)D.onClose();};B.onEscape=function(){B.hide();D.document.getById('cke_'+D.id).getFirst().getNext().focus();};C.onClick=function(E,F){D.document.getWindow().focus();if(D.onClick)D.onClick.call(D,E,F);if(F)D.setValue(E,D._.items[E]);
else D.setValue('');B.hide();};this._.panel=B;this._.list=C;B.getBlock(this.id).onHide=function(){D._.on=0;D.setState(2);};if(this.init)this.init();},setValue:function(x,y){var A=this;A._.value=x;var z=A.document.getById('cke_'+A.id+'_text');if(z){if(!(x||y)){y=A.label;z.addClass('cke_inline_label');}else z.removeClass('cke_inline_label');z.setHtml(typeof y!='undefined'?y:x);}},getValue:function(){return this._.value||'';},unmarkAll:function(){this._.list.unmarkAll();},mark:function(x){this._.list.mark(x);},hideItem:function(x){this._.list.hideItem(x);},hideGroup:function(x){this._.list.hideGroup(x);},showAll:function(){this._.list.showAll();},add:function(x,y,z){this._.items[x]=z||x;this._.list.add(x,y,z);},startGroup:function(x){this._.list.startGroup(x);},commit:function(){var x=this;if(!x._.committed){x._.list.commit();x._.committed=1;v.fire('ready',x);}x._.committed=1;},setState:function(x){var y=this;if(y._.state==x)return;y.document.getById('cke_'+y.id).setState(x);y._.state=x;}}});v.prototype.addRichCombo=function(x,y){this.add(x,3,y);};u.add('htmlwriter');l.htmlWriter=p.createClass({base:l.htmlParser.basicWriter,$:function(){var z=this;z.base();z.indentationChars='\t';z.selfClosingEnd=' />';z.lineBreakChars='\n';z.forceSimpleAmpersand=0;z.sortAttributes=1;z._.indent=0;z._.indentation='';z._.inPre=0;z._.rules={};var x=q;for(var y in p.extend({},x.$nonBodyContent,x.$block,x.$listItem,x.$tableContent))z.setRules(y,{indent:1,breakBeforeOpen:1,breakAfterOpen:1,breakBeforeClose:!x[y]['#'],breakAfterClose:1});z.setRules('br',{breakAfterOpen:1});z.setRules('title',{indent:0,breakAfterOpen:0});z.setRules('style',{indent:0,breakBeforeClose:1});z.setRules('pre',{indent:0});},proto:{openTag:function(x,y){var A=this;var z=A._.rules[x];if(A._.indent)A.indentation();else if(z&&z.breakBeforeOpen){A.lineBreak();A.indentation();}A._.output.push('<',x);},openTagClose:function(x,y){var A=this;var z=A._.rules[x];if(y)A._.output.push(A.selfClosingEnd);else{A._.output.push('>');if(z&&z.indent)A._.indentation+=A.indentationChars;}if(z&&z.breakAfterOpen)A.lineBreak();x=='pre'&&(A._.inPre=1);},attribute:function(x,y){if(typeof y=='string'){this.forceSimpleAmpersand&&(y=y.replace(/&amp;/g,'&'));y=p.htmlEncodeAttr(y);}this._.output.push(' ',x,'="',y,'"');},closeTag:function(x){var z=this;var y=z._.rules[x];if(y&&y.indent)z._.indentation=z._.indentation.substr(z.indentationChars.length);if(z._.indent)z.indentation();else if(y&&y.breakBeforeClose){z.lineBreak();z.indentation();
}z._.output.push('</',x,'>');x=='pre'&&(z._.inPre=0);if(y&&y.breakAfterClose)z.lineBreak();},text:function(x){var y=this;if(y._.indent){y.indentation();!y._.inPre&&(x=p.ltrim(x));}y._.output.push(x);},comment:function(x){if(this._.indent)this.indentation();this._.output.push('<!--',x,'-->');},lineBreak:function(){var x=this;if(!x._.inPre&&x._.output.length>0)x._.output.push(x.lineBreakChars);x._.indent=1;},indentation:function(){var x=this;if(!x._.inPre)x._.output.push(x._.indentation);x._.indent=0;},setRules:function(x,y){var z=this._.rules[x];if(z)p.extend(z,y,true);else this._.rules[x]=y;}}});u.add('menubutton',{requires:['button','menu'],beforeInit:function(x){x.ui.addHandler(5,v.menuButton.handler);}});l.UI_MENUBUTTON=5;(function(){var x=function(y){var z=this._;if(z.state===0)return;z.previousState=z.state;var A=z.menu;if(!A){A=z.menu=new l.menu(y,{panel:{className:y.skinClass+' cke_contextmenu',attributes:{'aria-label':y.lang.common.options}}});A.onHide=p.bind(function(){this.setState(this.modes&&this.modes[y.mode]?z.previousState:0);},this);if(this.onMenu)A.addListener(this.onMenu);}if(z.on){A.hide();return;}this.setState(1);A.show(l.document.getById(this._.id),4);};v.menuButton=p.createClass({base:v.button,$:function(y){var z=y.panel;delete y.panel;this.base(y);this.hasArrow=true;this.click=x;},statics:{handler:{create:function(y){return new v.menuButton(y);}}}});})();u.add('dialogui');(function(){var x=function(F){var I=this;I._||(I._={});I._['default']=I._.initValue=F['default']||'';I._.required=F.required||false;var G=[I._];for(var H=1;H<arguments.length;H++)G.push(arguments[H]);G.push(true);p.extend.apply(p,G);return I._;},y={build:function(F,G,H){return new v.dialog.textInput(F,G,H);}},z={build:function(F,G,H){return new v.dialog[G.type](F,G,H);}},A={build:function(F,G,H){var I=G.children,J,K=[],L=[];for(var M=0;M<I.length&&(J=I[M]);M++){var N=[];K.push(N);L.push(l.dialog._.uiElementBuilders[J.type].build(F,J,N));}return new v.dialog[G.type](F,L,K,H,G);}},B={isChanged:function(){return this.getValue()!=this.getInitValue();},reset:function(F){this.setValue(this.getInitValue(),F);},setInitValue:function(){this._.initValue=this.getValue();},resetInitValue:function(){this._.initValue=this._['default'];},getInitValue:function(){return this._.initValue;}},C=p.extend({},v.dialog.uiElement.prototype.eventProcessors,{onChange:function(F,G){if(!this._.domOnChangeRegistered){F.on('load',function(){this.getInputElement().on('change',function(){if(!F.parts.dialog.isVisible())return;
this.fire('change',{value:this.getValue()});},this);},this);this._.domOnChangeRegistered=true;}this.on('change',G);}},true),D=/^on([A-Z]\w+)/,E=function(F){for(var G in F){if(D.test(G)||G=='title'||G=='type')delete F[G];}return F;};p.extend(v.dialog,{labeledElement:function(F,G,H,I){if(arguments.length<4)return;var J=x.call(this,G);J.labelId=p.getNextId()+'_label';var K=this._.children=[],L=function(){var M=[],N=G.required?' cke_required':'';if(G.labelLayout!='horizontal')M.push('<label class="cke_dialog_ui_labeled_label'+N+'" ',' id="'+J.labelId+'"',' for="'+J.inputId+'"',' style="'+G.labelStyle+'">',G.label,'</label>','<div class="cke_dialog_ui_labeled_content" role="presentation">',I.call(this,F,G),'</div>');else{var O={type:'hbox',widths:G.widths,padding:0,children:[{type:'html',html:'<label class="cke_dialog_ui_labeled_label'+N+'"'+' id="'+J.labelId+'"'+' for="'+J.inputId+'"'+' style="'+G.labelStyle+'">'+p.htmlEncode(G.label)+'</span>'},{type:'html',html:'<span class="cke_dialog_ui_labeled_content">'+I.call(this,F,G)+'</span>'}]};l.dialog._.uiElementBuilders.hbox.build(F,O,M);}return M.join('');};v.dialog.uiElement.call(this,F,G,H,'div',null,{role:'presentation'},L);},textInput:function(F,G,H){if(arguments.length<3)return;x.call(this,G);var I=this._.inputId=p.getNextId()+'_textInput',J={'class':'cke_dialog_ui_input_'+G.type,id:I,type:'text'},K;if(G.validate)this.validate=G.validate;if(G.maxLength)J.maxlength=G.maxLength;if(G.size)J.size=G.size;if(G.controlStyle)J.style=G.controlStyle;var L=this,M=false;F.on('load',function(){L.getInputElement().on('keydown',function(O){if(O.data.getKeystroke()==13)M=true;});L.getInputElement().on('keyup',function(O){if(O.data.getKeystroke()==13&&M){F.getButton('ok')&&setTimeout(function(){F.getButton('ok').click();},0);M=false;}},null,null,1000);});var N=function(){var O=['<div class="cke_dialog_ui_input_',G.type,'" role="presentation"'];if(G.width)O.push('style="width:'+G.width+'" ');O.push('><input ');J['aria-labelledby']=this._.labelId;this._.required&&(J['aria-required']=this._.required);for(var P in J)O.push(P+'="'+J[P]+'" ');O.push(' /></div>');return O.join('');};v.dialog.labeledElement.call(this,F,G,H,N);},textarea:function(F,G,H){if(arguments.length<3)return;x.call(this,G);var I=this,J=this._.inputId=p.getNextId()+'_textarea',K={};if(G.validate)this.validate=G.validate;K.rows=G.rows||5;K.cols=G.cols||20;var L=function(){K['aria-labelledby']=this._.labelId;this._.required&&(K['aria-required']=this._.required);var M=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea class="cke_dialog_ui_input_textarea" id="',J,'" '];
for(var N in K)M.push(N+'="'+p.htmlEncode(K[N])+'" ');M.push('>',p.htmlEncode(I._['default']),'</textarea></div>');return M.join('');};v.dialog.labeledElement.call(this,F,G,H,L);},checkbox:function(F,G,H){if(arguments.length<3)return;var I=x.call(this,G,{'default':!!G['default']});if(G.validate)this.validate=G.validate;var J=function(){var K=p.extend({},G,{id:G.id?G.id+'_checkbox':p.getNextId()+'_checkbox'},true),L=[],M=p.getNextId()+'_label',N={'class':'cke_dialog_ui_checkbox_input',type:'checkbox','aria-labelledby':M};E(K);if(G['default'])N.checked='checked';if(typeof K.controlStyle!='undefined')K.style=K.controlStyle;I.checkbox=new v.dialog.uiElement(F,K,L,'input',null,N);L.push(' <label id="',M,'" for="',N.id,'">',p.htmlEncode(G.label),'</label>');return L.join('');};v.dialog.uiElement.call(this,F,G,H,'span',null,null,J);},radio:function(F,G,H){if(arguments.length<3)return;x.call(this,G);if(!this._['default'])this._['default']=this._.initValue=G.items[0][1];if(G.validate)this.validate=G.valdiate;var I=[],J=this,K=function(){var L=[],M=[],N={'class':'cke_dialog_ui_radio_item','aria-labelledby':this._.labelId},O=G.id?G.id+'_radio':p.getNextId()+'_radio';for(var P=0;P<G.items.length;P++){var Q=G.items[P],R=Q[2]!==undefined?Q[2]:Q[0],S=Q[1]!==undefined?Q[1]:Q[0],T=p.getNextId()+'_radio_input',U=T+'_label',V=p.extend({},G,{id:T,title:null,type:null},true),W=p.extend({},V,{title:R},true),X={type:'radio','class':'cke_dialog_ui_radio_input',name:O,value:S,'aria-labelledby':U},Y=[];if(J._['default']==S)X.checked='checked';E(V);E(W);if(typeof V.controlStyle!='undefined')V.style=V.controlStyle;I.push(new v.dialog.uiElement(F,V,Y,'input',null,X));Y.push(' ');new v.dialog.uiElement(F,W,Y,'label',null,{id:U,'for':X.id},Q[0]);L.push(Y.join(''));}new v.dialog.hbox(F,[],L,M);return M.join('');};v.dialog.labeledElement.call(this,F,G,H,K);this._.children=I;},button:function(F,G,H){if(!arguments.length)return;if(typeof G=='function')G=G(F.getParentEditor());x.call(this,G,{disabled:G.disabled||false});l.event.implementOn(this);var I=this;F.on('load',function(L){var M=this.getElement();(function(){M.on('click',function(N){I.fire('click',{dialog:I.getDialog()});N.data.preventDefault();});M.on('keydown',function(N){if(N.data.getKeystroke() in {32:1}){I.click();N.data.preventDefault();}});})();M.unselectable();},this);var J=p.extend({},G);delete J.style;var K=p.getNextId()+'_label';v.dialog.uiElement.call(this,F,J,H,'a',null,{style:G.style,href:'javascript:void(0)',title:G.label,hidefocus:'true','class':G['class'],role:'button','aria-labelledby':K},'<span id="'+K+'" class="cke_dialog_ui_button">'+p.htmlEncode(G.label)+'</span>');
},select:function(F,G,H){if(arguments.length<3)return;var I=x.call(this,G);if(G.validate)this.validate=G.validate;I.inputId=p.getNextId()+'_select';var J=function(){var K=p.extend({},G,{id:G.id?G.id+'_select':p.getNextId()+'_select'},true),L=[],M=[],N={id:I.inputId,'class':'cke_dialog_ui_input_select','aria-labelledby':this._.labelId};if(G.size!=undefined)N.size=G.size;if(G.multiple!=undefined)N.multiple=G.multiple;E(K);for(var O=0,P;O<G.items.length&&(P=G.items[O]);O++)M.push('<option value="',p.htmlEncode(P[1]!==undefined?P[1]:P[0]),'" /> ',p.htmlEncode(P[0]));if(typeof K.controlStyle!='undefined')K.style=K.controlStyle;I.select=new v.dialog.uiElement(F,K,L,'select',null,N,M.join(''));return L.join('');};v.dialog.labeledElement.call(this,F,G,H,J);},file:function(F,G,H){if(arguments.length<3)return;if(G['default']===undefined)G['default']='';var I=p.extend(x.call(this,G),{definition:G,buttons:[]});if(G.validate)this.validate=G.validate;var J=function(){I.frameId=p.getNextId()+'_fileInput';var K=m.isCustomDomain(),L=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" id="',I.frameId,'" title="',G.label,'" src="javascript:void('];L.push(K?"(function(){document.open();document.domain='"+document.domain+"';"+'document.close();'+'})()':'0');L.push(')"></iframe>');return L.join('');};F.on('load',function(){var K=l.document.getById(I.frameId),L=K.getParent();L.addClass('cke_dialog_ui_input_file');});v.dialog.labeledElement.call(this,F,G,H,J);},fileButton:function(F,G,H){if(arguments.length<3)return;var I=x.call(this,G),J=this;if(G.validate)this.validate=G.validate;var K=p.extend({},G),L=K.onClick;K.className=(K.className?K.className+' ':'')+'cke_dialog_ui_button';K.onClick=function(M){var N=G['for'];if(!L||L.call(this,M)!==false){F.getContentElement(N[0],N[1]).submit();this.disable();}};F.on('load',function(){F.getContentElement(G['for'][0],G['for'][1])._.buttons.push(J);});v.dialog.button.call(this,F,K,H);},html:(function(){var F=/^\s*<[\w:]+\s+([^>]*)?>/,G=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,H=/\/$/;return function(I,J,K){if(arguments.length<3)return;var L=[],M,N=J.html,O,P;if(N.charAt(0)!='<')N='<span>'+N+'</span>';var Q=J.focus;if(Q){var R=this.focus;this.focus=function(){R.call(this);typeof Q=='function'&&Q.call(this);this.fire('focus');};if(J.isFocusable){var S=this.isFocusable;this.isFocusable=S;}this.keyboardFocusable=true;}v.dialog.uiElement.call(this,I,J,L,'span',null,null,'');M=L.join('');O=M.match(F);P=N.match(G)||['','',''];
if(H.test(P[1])){P[1]=P[1].slice(0,-1);P[2]='/'+P[2];}K.push([P[1],' ',O[1]||'',P[2]].join(''));};})(),fieldset:function(F,G,H,I,J){var K=J.label,L=function(){var M=[];K&&M.push('<legend>'+K+'</legend>');for(var N=0;N<H.length;N++)M.push(H[N]);return M.join('');};this._={children:G};v.dialog.uiElement.call(this,F,J,I,'fieldset',null,null,L);}},true);v.dialog.html.prototype=new v.dialog.uiElement();v.dialog.labeledElement.prototype=p.extend(new v.dialog.uiElement(),{setLabel:function(F){var G=l.document.getById(this._.labelId);if(G.getChildCount()<1)new o.text(F,l.document).appendTo(G);else G.getChild(0).$.nodeValue=F;return this;},getLabel:function(){var F=l.document.getById(this._.labelId);if(!F||F.getChildCount()<1)return '';else return F.getChild(0).getText();},eventProcessors:C},true);v.dialog.button.prototype=p.extend(new v.dialog.uiElement(),{click:function(){var F=this;if(!F._.disabled)return F.fire('click',{dialog:F._.dialog});F.getElement().$.blur();return false;},enable:function(){this._.disabled=false;var F=this.getElement();F&&F.removeClass('cke_disabled');},disable:function(){this._.disabled=true;this.getElement().addClass('cke_disabled');},isVisible:function(){return this.getElement().getFirst().isVisible();},isEnabled:function(){return!this._.disabled;},eventProcessors:p.extend({},v.dialog.uiElement.prototype.eventProcessors,{onClick:function(F,G){this.on('click',G);}},true),accessKeyUp:function(){this.click();},accessKeyDown:function(){this.focus();},keyboardFocusable:true},true);v.dialog.textInput.prototype=p.extend(new v.dialog.labeledElement(),{getInputElement:function(){return l.document.getById(this._.inputId);},focus:function(){var F=this.selectParentTab();setTimeout(function(){var G=F.getInputElement();G&&G.$.focus();},0);},select:function(){var F=this.selectParentTab();setTimeout(function(){var G=F.getInputElement();if(G){G.$.focus();G.$.select();}},0);},accessKeyUp:function(){this.select();},setValue:function(F){!F&&(F='');return v.dialog.uiElement.prototype.setValue.apply(this,arguments);},keyboardFocusable:true},B,true);v.dialog.textarea.prototype=new v.dialog.textInput();v.dialog.select.prototype=p.extend(new v.dialog.labeledElement(),{getInputElement:function(){return this._.select.getElement();},add:function(F,G,H){var I=new s('option',this.getDialog().getParentEditor().document),J=this.getInputElement().$;I.$.text=F;I.$.value=G===undefined||G===null?F:G;if(H===undefined||H===null){if(n)J.add(I.$);else J.add(I.$,null);}else J.add(I.$,H);
return this;},remove:function(F){var G=this.getInputElement().$;G.remove(F);return this;},clear:function(){var F=this.getInputElement().$;while(F.length>0)F.remove(0);return this;},keyboardFocusable:true},B,true);v.dialog.checkbox.prototype=p.extend(new v.dialog.uiElement(),{getInputElement:function(){return this._.checkbox.getElement();},setValue:function(F,G){this.getInputElement().$.checked=F;!G&&this.fire('change',{value:F});},getValue:function(){return this.getInputElement().$.checked;},accessKeyUp:function(){this.setValue(!this.getValue());},eventProcessors:{onChange:function(F,G){if(!n)return C.onChange.apply(this,arguments);else{F.on('load',function(){var H=this._.checkbox.getElement();H.on('propertychange',function(I){I=I.data.$;if(I.propertyName=='checked')this.fire('change',{value:H.$.checked});},this);},this);this.on('change',G);}return null;}},keyboardFocusable:true},B,true);v.dialog.radio.prototype=p.extend(new v.dialog.uiElement(),{setValue:function(F,G){var H=this._.children,I;for(var J=0;J<H.length&&(I=H[J]);J++)I.getElement().$.checked=I.getValue()==F;!G&&this.fire('change',{value:F});},getValue:function(){var F=this._.children;for(var G=0;G<F.length;G++){if(F[G].getElement().$.checked)return F[G].getValue();}return null;},accessKeyUp:function(){var F=this._.children,G;for(G=0;G<F.length;G++){if(F[G].getElement().$.checked){F[G].getElement().focus();return;}}F[0].getElement().focus();},eventProcessors:{onChange:function(F,G){if(!n)return C.onChange.apply(this,arguments);else{F.on('load',function(){var H=this._.children,I=this;for(var J=0;J<H.length;J++){var K=H[J].getElement();K.on('propertychange',function(L){L=L.data.$;if(L.propertyName=='checked'&&this.$.checked)I.fire('change',{value:this.getAttribute('value')});});}},this);this.on('change',G);}return null;}},keyboardFocusable:true},B,true);v.dialog.file.prototype=p.extend(new v.dialog.labeledElement(),B,{getInputElement:function(){var F=l.document.getById(this._.frameId).getFrameDocument();return F.$.forms.length>0?new s(F.$.forms[0].elements[0]):this.getElement();},submit:function(){this.getInputElement().getParent().$.submit();return this;},getAction:function(){return this.getInputElement().getParent().$.action;},registerEvents:function(F){var G=/^on([A-Z]\w+)/,H,I=function(K,L,M,N){K.on('formLoaded',function(){K.getInputElement().on(M,N,K);});};for(var J in F){if(!(H=J.match(G)))continue;if(this.eventProcessors[J])this.eventProcessors[J].call(this,this._.dialog,F[J]);else I(this,this._.dialog,H[1].toLowerCase(),F[J]);
}return this;},reset:function(){var F=this._,G=l.document.getById(F.frameId),H=G.getFrameDocument(),I=F.definition,J=F.buttons,K=this.formLoadedNumber,L=this.formUnloadNumber,M=F.dialog._.editor.lang.dir,N=F.dialog._.editor.langCode;if(!K){K=this.formLoadedNumber=p.addFunction(function(){this.fire('formLoaded');},this);L=this.formUnloadNumber=p.addFunction(function(){this.getInputElement().clearCustomData();},this);this.getDialog()._.editor.on('destroy',function(){p.removeFunction(K);p.removeFunction(L);});}function O(){H.$.open();if(m.isCustomDomain())H.$.domain=document.domain;var P='';if(I.size)P=I.size-(n?7:0);H.$.write(['<html dir="'+M+'" lang="'+N+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+M+'" lang="'+N+'" action="',p.htmlEncode(I.action),'">','<input type="file" name="',p.htmlEncode(I.id||'cke_upload'),'" size="',p.htmlEncode(P>0?P:''),'" />','</form>','</body></html>','<script>window.parent.CKEDITOR.tools.callFunction('+K+');','window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction('+L+')}</script>'].join(''));H.$.close();for(var Q=0;Q<J.length;Q++)J[Q].enable();};if(m.gecko)setTimeout(O,500);else O();},getValue:function(){return this.getInputElement().$.value||'';},setInitValue:function(){this._.initValue='';},eventProcessors:{onChange:function(F,G){if(!this._.domOnChangeRegistered){this.on('formLoaded',function(){this.getInputElement().on('change',function(){this.fire('change',{value:this.getValue()});},this);},this);this._.domOnChangeRegistered=true;}this.on('change',G);}},keyboardFocusable:true},true);v.dialog.fileButton.prototype=new v.dialog.button();v.dialog.fieldset.prototype=p.clone(v.dialog.hbox.prototype);l.dialog.addUIElement('text',y);l.dialog.addUIElement('password',y);l.dialog.addUIElement('textarea',z);l.dialog.addUIElement('checkbox',z);l.dialog.addUIElement('radio',z);l.dialog.addUIElement('button',z);l.dialog.addUIElement('select',z);l.dialog.addUIElement('file',z);l.dialog.addUIElement('fileButton',z);l.dialog.addUIElement('html',z);l.dialog.addUIElement('fieldset',A);})();u.add('panel',{beforeInit:function(x){x.ui.addHandler(2,v.panel.handler);}});l.UI_PANEL=2;v.panel=function(x,y){var z=this;if(y)p.extend(z,y);p.extend(z,{className:'',css:[]});z.id=p.getNextId();z.document=x;z._={blocks:{}};};v.panel.handler={create:function(x){return new v.panel(x);}};v.panel.prototype={renderHtml:function(x){var y=[];
this.render(x,y);return y.join('');},render:function(x,y){var A=this;var z=A.id;y.push('<div class="',x.skinClass,'" lang="',x.langCode,'" role="presentation" style="display:none;z-index:'+(x.config.baseFloatZIndex+1)+'">'+'<div'+' id=',z,' dir=',x.lang.dir,' role="presentation" class="cke_panel cke_',x.lang.dir);if(A.className)y.push(' ',A.className);y.push('">');if(A.forceIFrame||A.css.length){y.push('<iframe id="',z,'_frame" frameborder="0" role="application" src="javascript:void(');y.push(m.isCustomDomain()?"(function(){document.open();document.domain='"+document.domain+"';"+'document.close();'+'})()':'0');y.push(')"></iframe>');}y.push('</div></div>');return z;},getHolderElement:function(){var x=this._.holder;if(!x){if(this.forceIFrame||this.css.length){var y=this.document.getById(this.id+'_frame'),z=y.getParent(),A=z.getAttribute('dir'),B=z.getParent().getAttribute('class'),C=z.getParent().getAttribute('lang'),D=y.getFrameDocument(),E=p.addFunction(p.bind(function(H){this.isLoaded=true;if(this.onLoad)this.onLoad();},this)),F='<!DOCTYPE html><html dir="'+A+'" class="'+B+'_container" lang="'+C+'">'+'<head>'+'<style>.'+B+'_container{visibility:hidden}</style>'+'</head>'+'<body class="cke_'+A+' cke_panel_frame '+m.cssClass+'" style="margin:0;padding:0"'+' onload="( window.CKEDITOR || window.parent.CKEDITOR ).tools.callFunction('+E+');"></body>'+p.buildStyleHtml(this.css)+'</html>';D.write(F);var G=D.getWindow();G.$.CKEDITOR=l;D.on('key'+(m.opera?'press':'down'),function(H){var K=this;var I=H.data.getKeystroke(),J=K.document.getById(K.id).getAttribute('dir');if(K._.onKeyDown&&K._.onKeyDown(I)===false){H.data.preventDefault();return;}if(I==27||I==(J=='rtl'?39:37))if(K.onEscape&&K.onEscape(I)===false)H.data.preventDefault();},this);x=D.getBody();x.unselectable();m.air&&p.callFunction(E);}else x=this.document.getById(this.id);this._.holder=x;}return x;},addBlock:function(x,y){var z=this;y=z._.blocks[x]=y instanceof v.panel.block?y:new v.panel.block(z.getHolderElement(),y);if(!z._.currentBlock)z.showBlock(x);return y;},getBlock:function(x){return this._.blocks[x];},showBlock:function(x){var y=this._.blocks,z=y[x],A=this._.currentBlock,B=this.forceIFrame?this.document.getById(this.id+'_frame'):this._.holder;B.getParent().getParent().disableContextMenu();if(A){B.removeAttributes(A.attributes);A.hide();}this._.currentBlock=z;B.setAttributes(z.attributes);l.fire('ariaWidget',B);z._.focusIndex=-1;this._.onKeyDown=z.onKeyDown&&p.bind(z.onKeyDown,z);z.onMark=function(C){B.setAttribute('aria-activedescendant',C.getId()+'_option');
};z.onUnmark=function(){B.removeAttribute('aria-activedescendant');};z.show();return z;},destroy:function(){this.element&&this.element.remove();}};v.panel.block=p.createClass({$:function(x,y){var z=this;z.element=x.append(x.getDocument().createElement('div',{attributes:{tabIndex:-1,'class':'cke_panel_block',role:'presentation'},styles:{display:'none'}}));if(y)p.extend(z,y);if(!z.attributes.title)z.attributes.title=z.attributes['aria-label'];z.keys={};z._.focusIndex=-1;z.element.disableContextMenu();},_:{markItem:function(x){var A=this;if(x==-1)return;var y=A.element.getElementsByTag('a'),z=y.getItem(A._.focusIndex=x);if(m.webkit||m.opera)z.getDocument().getWindow().focus();z.focus();A.onMark&&A.onMark(z);}},proto:{show:function(){this.element.setStyle('display','');},hide:function(){var x=this;if(!x.onHide||x.onHide.call(x)!==true)x.element.setStyle('display','none');},onKeyDown:function(x){var C=this;var y=C.keys[x];switch(y){case 'next':var z=C._.focusIndex,A=C.element.getElementsByTag('a'),B;while(B=A.getItem(++z)){if(B.getAttribute('_cke_focus')&&B.$.offsetWidth){C._.focusIndex=z;B.focus();break;}}return false;case 'prev':z=C._.focusIndex;A=C.element.getElementsByTag('a');while(z>0&&(B=A.getItem(--z))){if(B.getAttribute('_cke_focus')&&B.$.offsetWidth){C._.focusIndex=z;B.focus();break;}}return false;case 'click':z=C._.focusIndex;B=z>=0&&C.element.getElementsByTag('a').getItem(z);if(B)B.$.click?B.$.click():B.$.onclick();return false;}return true;}}});u.add('listblock',{requires:['panel'],onLoad:function(){v.panel.prototype.addListBlock=function(x,y){return this.addBlock(x,new v.listBlock(this.getHolderElement(),y));};v.listBlock=p.createClass({base:v.panel.block,$:function(x,y){var B=this;y=y||{};var z=y.attributes||(y.attributes={});(B.multiSelect=!!y.multiSelect)&&(z['aria-multiselectable']=true);!z.role&&(z.role='listbox');B.base.apply(B,arguments);var A=B.keys;A[40]='next';A[9]='next';A[38]='prev';A[2000+9]='prev';A[32]='click';B._.pendingHtml=[];B._.items={};B._.groups={};},_:{close:function(){if(this._.started){this._.pendingHtml.push('</ul>');delete this._.started;}},getClick:function(){if(!this._.click)this._.click=p.addFunction(function(x){var z=this;var y=true;if(z.multiSelect)y=z.toggle(x);else z.mark(x);if(z.onClick)z.onClick(x,y);},this);return this._.click;}},proto:{add:function(x,y,z){var C=this;var A=C._.pendingHtml,B=p.getNextId();if(!C._.started){A.push('<ul role="presentation" class=cke_panel_list>');C._.started=1;C._.size=C._.size||0;}C._.items[x]=B;
A.push('<li id=',B,' class=cke_panel_listItem role=presentation><a id="',B,'_option" _cke_focus=1 hidefocus=true title="',z||x,'" href="javascript:void(\'',x,'\')" onclick="CKEDITOR.tools.callFunction(',C._.getClick(),",'",x,"'); return false;\"",' role="option" aria-posinset="'+ ++C._.size+'">',y||x,'</a></li>');},startGroup:function(x){this._.close();var y=p.getNextId();this._.groups[x]=y;this._.pendingHtml.push('<h1 role="presentation" id=',y,' class=cke_panel_grouptitle>',x,'</h1>');},commit:function(){var A=this;A._.close();A.element.appendHtml(A._.pendingHtml.join(''));var x=A._.items,y=A.element.getDocument();for(var z in x)y.getById(x[z]+'_option').setAttribute('aria-setsize',A._.size);delete A._.size;A._.pendingHtml=[];},toggle:function(x){var y=this.isMarked(x);if(y)this.unmark(x);else this.mark(x);return!y;},hideGroup:function(x){var y=this.element.getDocument().getById(this._.groups[x]),z=y&&y.getNext();if(y){y.setStyle('display','none');if(z&&z.getName()=='ul')z.setStyle('display','none');}},hideItem:function(x){this.element.getDocument().getById(this._.items[x]).setStyle('display','none');},showAll:function(){var x=this._.items,y=this._.groups,z=this.element.getDocument();for(var A in x)z.getById(x[A]).setStyle('display','');for(var B in y){var C=z.getById(y[B]),D=C.getNext();C.setStyle('display','');if(D&&D.getName()=='ul')D.setStyle('display','');}},mark:function(x){var A=this;if(!A.multiSelect)A.unmarkAll();var y=A._.items[x],z=A.element.getDocument().getById(y);z.addClass('cke_selected');A.element.getDocument().getById(y+'_option').setAttribute('aria-selected',true);A.element.setAttribute('aria-activedescendant',y+'_option');A.onMark&&A.onMark(z);},unmark:function(x){var y=this;y.element.getDocument().getById(y._.items[x]).removeClass('cke_selected');y.onUnmark&&y.onUnmark(y._.items[x]);},unmarkAll:function(){var A=this;var x=A._.items,y=A.element.getDocument();for(var z in x)y.getById(x[z]).removeClass('cke_selected');A.onUnmark&&A.onUnmark();},isMarked:function(x){return this.element.getDocument().getById(this._.items[x]).hasClass('cke_selected');},focus:function(x){this._.focusIndex=-1;if(x){var y=this.element.getDocument().getById(this._.items[x]).getFirst(),z=this.element.getElementsByTag('a'),A,B=-1;while(A=z.getItem(++B)){if(A.equals(y)){this._.focusIndex=B;break;}}setTimeout(function(){y.focus();},0);}}}});}});l.themes.add('default',(function(){function x(y,z){var A,B;B=y.config.sharedSpaces;B=B&&B[z];B=B&&l.document.getById(B);if(B){var C='<span class="cke_shared " dir="'+y.lang.dir+'"'+'>'+'<span class="'+y.skinClass+' '+y.id+' cke_editor_'+y.name+'">'+'<span class="'+m.cssClass+'">'+'<span class="cke_wrapper cke_'+y.lang.dir+'">'+'<span class="cke_editor">'+'<div class="cke_'+z+'">'+'</div></span></span></span></span></span>',D=B.append(s.createFromHtml(C,B.getDocument()));
if(B.getCustomData('cke_hasshared'))D.hide();else B.setCustomData('cke_hasshared',1);A=D.getChild([0,0,0,0]);!y.sharedSpaces&&(y.sharedSpaces={});y.sharedSpaces[z]=A;y.on('focus',function(){for(var E=0,F,G=B.getChildren();F=G.getItem(E);E++){if(F.type==1&&!F.equals(D)&&F.hasClass('cke_shared'))F.hide();}D.show();});y.on('destroy',function(){D.remove();});}return A;};return{build:function(y,z){var A=y.name,B=y.element,C=y.elementMode;if(!B||C==0)return;if(C==1)B.hide();var D=y.fire('themeSpace',{space:'top',html:''}).html,E=y.fire('themeSpace',{space:'contents',html:''}).html,F=y.fireOnce('themeSpace',{space:'bottom',html:''}).html,G=E&&y.config.height,H=y.config.tabIndex||y.element.getAttribute('tabindex')||0;if(!E)G='auto';else if(!isNaN(G))G+='px';var I='',J=y.config.width;if(J){if(!isNaN(J))J+='px';I+='width: '+J+';';}var K=D&&x(y,'top'),L=x(y,'bottom');K&&(K.setHtml(D),D='');L&&(L.setHtml(F),F='');var M=s.createFromHtml(['<span id="cke_',A,'" class="',y.skinClass,' ',y.id,' cke_editor_',A,'" dir="',y.lang.dir,'" title="',m.gecko?' ':'','" lang="',y.langCode,'"'+(m.webkit?' tabindex="'+H+'"':'')+' role="application"'+' aria-labelledby="cke_',A,'_arialbl"'+(I?' style="'+I+'"':'')+'>'+'<span id="cke_',A,'_arialbl" class="cke_voice_label">'+y.lang.editor+'</span>'+'<span class="',m.cssClass,'" role="presentation"><span class="cke_wrapper cke_',y.lang.dir,'" role="presentation"><table class="cke_editor" border="0" cellspacing="0" cellpadding="0" role="presentation"><tbody><tr',D?'':' style="display:none"',' role="presentation"><td id="cke_top_',A,'" class="cke_top" role="presentation">',D,'</td></tr><tr',E?'':' style="display:none"',' role="presentation"><td id="cke_contents_',A,'" class="cke_contents" style="height:',G,'" role="presentation">',E,'</td></tr><tr',F?'':' style="display:none"',' role="presentation"><td id="cke_bottom_',A,'" class="cke_bottom" role="presentation">',F,'</td></tr></tbody></table><style>.',y.skinClass,'{visibility:hidden;}</style></span></span></span>'].join(''));M.getChild([1,0,0,0,0]).unselectable();M.getChild([1,0,0,0,2]).unselectable();if(C==1)M.insertAfter(B);else B.append(M);y.container=M;M.disableContextMenu();y.fireOnce('themeLoaded');y.fireOnce('uiReady');},buildDialog:function(y){var z=p.getNextNumber(),A=s.createFromHtml(['<div class="',y.id,'_dialog cke_editor_',y.name.replace('.','\\.'),'_dialog cke_skin_',y.skinName,'" dir="',y.lang.dir,'" lang="',y.langCode,'" role="dialog" aria-labelledby="%title#"><table class="cke_dialog',' '+m.cssClass,' cke_',y.lang.dir,'" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="%body" role="presentation"><div id="%title#" class="%title" role="presentation"></div><a id="%close_button#" class="%close_button" href="javascript:void(0)" title="'+y.lang.common.close+'" role="button"><span class="cke_label">X</span></a>'+'<div id="%tabs#" class="%tabs" role="tablist"></div>'+'<table class="%contents" role="presentation">'+'<tr>'+'<td id="%contents#" class="%contents" role="presentation"></td>'+'</tr>'+'<tr>'+'<td id="%footer#" class="%footer" role="presentation"></td>'+'</tr>'+'</table>'+'</div>'+'<div id="%tl#" class="%tl"></div>'+'<div id="%tc#" class="%tc"></div>'+'<div id="%tr#" class="%tr"></div>'+'<div id="%ml#" class="%ml"></div>'+'<div id="%mr#" class="%mr"></div>'+'<div id="%bl#" class="%bl"></div>'+'<div id="%bc#" class="%bc"></div>'+'<div id="%br#" class="%br"></div>'+'</td></tr>'+'</table>',n?'':'<style>.cke_dialog{visibility:hidden;}</style>','</div>'].join('').replace(/#/g,'_'+z).replace(/%/g,'cke_dialog_')),B=A.getChild([0,0,0,0,0]),C=B.getChild(0),D=B.getChild(1);
C.unselectable();D.unselectable();return{element:A,parts:{dialog:A.getChild(0),title:C,close:D,tabs:B.getChild(2),contents:B.getChild([3,0,0,0]),footer:B.getChild([3,0,1,0])}};},destroy:function(y){var z=y.container,A=y.element;if(z){z.clearCustomData();z.remove();}if(A){A.clearCustomData();y.elementMode==1&&A.show();delete y.element;}}};})());l.editor.prototype.getThemeSpace=function(x){var y='cke_'+x,z=this._[y]||(this._[y]=l.document.getById(y+'_'+this.name));return z;};l.editor.prototype.resize=function(x,y,z,A){var B=this.container,C=l.document.getById('cke_contents_'+this.name),D=A?B.getChild(1):B;m.webkit&&D.setStyle('display','none');D.setSize('width',x,true);if(m.webkit){D.$.offsetWidth;D.setStyle('display','');}var E=z?0:(D.$.offsetHeight||0)-(C.$.clientHeight||0);C.setStyle('height',Math.max(y-E,0)+'px');this.fire('resize');};l.editor.prototype.getResizable=function(){return this.container;};})();
